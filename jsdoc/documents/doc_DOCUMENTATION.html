<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>doc/DOCUMENTATION | geopf-extensions-openlayers</title><meta name="description" content="Documentation for geopf-extensions-openlayers"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">geopf-extensions-openlayers</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">geopf-extensions-openlayers</a></li><li><a href="doc_DOCUMENTATION.html">doc/DOCUMENTATION</a></li></ul></div><div class="tsd-panel tsd-typography"><p><strong>version provisoire</strong></p>
<a id="extension-géoplateforme-pour-openlayers" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Extension Géoplateforme pour OpenLayers<a href="#extension-géoplateforme-pour-openlayers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p><img src="https://img.shields.io/github/package-json/v/IGNF/geopf-extensions-openlayers?filename=package.json" alt="GitHub package.json version"></p>
<!-- toc -->
<ul>
<li><a href="#extension-g%C3%A9oplateforme-pour-openlayers">Extension Géoplateforme pour OpenLayers</a>
<ul>
<li><a href="#mise-en-oeuvre">Mise en oeuvre</a>
<ul>
<li><a href="#t%C3%A9l%C3%A9chargement">Téléchargement</a>
<ul>
<li><a href="#t%C3%A9l%C3%A9chargement-direct">Téléchargement direct</a></li>
<li><a href="#r%C3%A9cup%C3%A9ration-avec-npm">Récupération avec NPM</a></li>
<li><a href="#acc%C3%A8s-direct">Accès direct</a></li>
</ul>
</li>
<li><a href="#int%C3%A9gration-dans-une-page-web">Intégration dans une page web</a></li>
<li><a href="#configuration-de-lacc%C3%A8s-%C3%A0-la-g%C3%A9oplateforme">Configuration de l'accès à la Géoplateforme</a>
<ul>
<li><a href="#optimisation-du-chargement--configuration-locale">Optimisation du chargement : configuration locale</a></li>
</ul>
</li>
<li><a href="#appel-de-lextension-dans-un-module-es6">Appel de l'extension dans un module ES6</a></li>
</ul>
</li>
<li><a href="#compatibilit%C3%A9s">Compatibilités</a>
<ul>
<li><a href="#versions-de-openlayers-support%C3%A9es">Versions de OpenLayers supportées</a></li>
<li><a href="#navigateurs-support%C3%A9s">Navigateurs supportés</a></li>
</ul>
</li>
<li><a href="#fonctionnalit%C3%A9s">Fonctionnalités</a>
<ul>
<li><a href="#syst%C3%A8mes-de-coordonn%C3%A9es">Systèmes de coordonnées</a></li>
<li><a href="#WMTS">Affichage des couches WMTS Géoplateforme</a></li>
<li><a href="#WMS">Affichage des couches WMS Géoplateforme</a></li>
<li><a href="#VT">Affichage d'une couche Vecteur Tuilé Géoplateforme</a></li>
<li><a href="#attributions">Affichage dynamique des attributions</a></li>
<li><a href="#layerswitcher">Widget de gestion d'empilement des couches</a></li>
<li><a href="#geocode">Barre de recherche utilisant le service de géocodage IGN</a></li>
<li><a href="#reverse">Obtention d'une adresse, d'un nom de lieu, ... au clic sur la carte</a></li>
<li><a href="#route">Calculs d'itinéraires à partir du service de la Géoplateforme</a></li>
<li><a href="#isocurve">Calculs d'isochrones / isodistances à partir du service de la Géoplateforme</a></li>
<li><a href="#mp">Coordonnées et altitude en un point de la carte à l'aide du service d'altimétrie de la Géoplateforme</a></li>
<li><a href="#drawing">Outils de croquis</a></li>
<li><a href="#layerimport">Import de couches</a></li>
<li><a href="#ep">Profil altimétrique d'un traçé à l'aide du service d'altimétrie de la Géoplateforme</a></li>
<li><a href="#measure">Outils de mesures</a></li>
<li><a href="#getfeatureinfo">Accès aux informations attributaires des couches</a></li>
<li><a href="#export">Widget d'export</a></li>
<li><a href="#catalog">Widget de catalogue de couche</a></li>
<li><a href="#legends">Widget de legendes</a></li>
<li><a href="#territories">Widget de centrage sur territoire</a></li>
<li><a href="#overviewMap">Widget de mini carte</a></li>
<li><a href="#zoom">Widget de zoom</a></li>
<li><a href="#fullscreen">Widget de plein écran</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Les fonctionnalités proposées par l'extension Géoplateforme pour OpenLayers sont à utiliser en complément de la bibliothèque <a href="https://openlayers.org/">OpenLayers dans ses versions 8 et
supérieures</a></p>
<p><a name="readme-top"></a></p>
<p><a id="mise-en-oeuvre"></a></p>
<a id="mise-en-oeuvre" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Mise en oeuvre<a href="#mise-en-oeuvre" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>L'utilisation de l'extension Géoplateforme pour OpenLayers se fait
via les étapes suivantes :</p>
<ul>
<li><a href="#download">Téléchargement de l'extension Géoplateforme</a></li>
<li><a href="#integration">Intégration de l'extension dans une page web</a></li>
<li><a href="#config">Configuration de l'accès à la Géoplateforme</a></li>
</ul>
<p>Une documentation technique (<strong>jsdoc</strong>), une <strong>demo</strong>
et un <strong>generateur de carte</strong> sont disponibles <a href="https://ignf.github.io/geoportal-extensions-openlayers/">ici</a>.</p>
<p><a id="téléchargement"></a></p>
<a id="téléchargement" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Téléchargement<a href="#téléchargement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Vous pouvez récupérer les extensions Géoplateforme pour OpenLayers
soit par <a href="#download-direct">téléchargement direct</a>,
soit en utilisant le <a href="#download-npm">gestionnaire de dépendances javascript NPM</a>.</p>
<p>Les extensions Géoplateforme pour OpenLayers peuvent être
récupérées sous 2 formats :</p>
<ul>
<li>toutes les extensions dans un seul fichier :</li>
</ul>
<pre><code class="text">    .
    ├── Dsfr.css
    ├── Classic.css
    ├── GpfExtOL.css
    ├── GpfExtOL.js
    └── GpfExtOL.js.map
</code><button type="button">Copy</button></pre>

<ul>
<li>ou une extension par fichier JS avec la CSS associée (liste non ehaustive) :</li>
</ul>
<pre><code class="text">    .
    ├── GpfExtOl-CRS.js
    ├── GpfExtOl-CRS.js.map
    ├── GpfExtOl-Drawing.css
    ├── GpfExtOl-Drawing.js
    ├── GpfExtOl-Drawing.js.map
    ├── Dsfr.css
    ├── GpfExtOl-Editor.css
    ├── GpfExtOl-Editor.js
    ├── GpfExtOl-Editor.js.map
    ├── GpfExtOl-ElevationPath.css
    ├── GpfExtOl-ElevationPath.js
    ├── GpfExtOl-ElevationPath.js.map
    ├── GpfExtOl-Export.css
    ├── GpfExtOl-Export.js
    ├── GpfExtOl-Export.js.map
    ├── GpfExtOl-Formats.js
    ├── GpfExtOl-Formats.js.map
    ├── GpfExtOl-GeoportalAttribution.css
    ├── GpfExtOl-GeoportalAttribution.js
    ├── GpfExtOl-GeoportalAttribution.js.map
    ├── GpfExtOl-GeoportalMousePosition.css
    ├── GpfExtOl-GeoportalMousePosition.js
    ├── GpfExtOl-GeoportalMousePosition.js.map
    ├── GpfExtOl-GetFeatureInfo.css
    ├── GpfExtOl-GetFeatureInfo.js
    ├── GpfExtOl-GetFeatureInfo.js.map
    ├── GpfExtOl-Isocurve.css
    ├── GpfExtOl-Isocurve.js
    ├── GpfExtOl-Isocurve.js.map
    ├── GpfExtOl-LayerImport.css
    ├── GpfExtOl-LayerImport.js
    ├── GpfExtOl-LayerImport.js.map
    ├── GpfExtOl-Layers.js
    ├── GpfExtOl-Layers.js.map
    ├── GpfExtOl-LayerSwitcher.css
    ├── GpfExtOl-LayerSwitcher.js
    ├── GpfExtOl-LayerSwitcher.js.map
    ├── GpfExtOl-LocationSelector.css
    ├── GpfExtOl-LocationSelector.js
    ├── GpfExtOl-LocationSelector.js.map
    ├── GpfExtOl-MeasureArea.css
    ├── GpfExtOl-MeasureArea.js
    ├── GpfExtOl-MeasureArea.js.map
    ├── GpfExtOl-MeasureAzimuth.css
    ├── GpfExtOl-MeasureAzimuth.js
    ├── GpfExtOl-MeasureAzimuth.js.map
    ├── GpfExtOl-MeasureLength.css
    ├── GpfExtOl-MeasureLength.js
    ├── GpfExtOl-MeasureLength.js.map
    ├── Classic.css
    ├── GpfExtOl-ReverseGeocode.css
    ├── GpfExtOl-ReverseGeocode.js
    ├── GpfExtOl-ReverseGeocode.js.map
    ├── GpfExtOl-Route.css
    ├── GpfExtOl-Route.js
    ├── GpfExtOl-Route.js.map
    ├── GpfExtOl-SearchEngine.css
    ├── GpfExtOl-SearchEngine.js
    └── GpfExtOl-SearchEngine.js.map

</code><button type="button">Copy</button></pre>

<p>Il existe 2 thèmes pour les extensions :</p>
<ul>
<li>DSFR</li>
<li>Classic</li>
</ul>
<p>Les scripts d'OpenLayers s'obtiennent sur <a href="https://openlayers.org/download/">la page de téléchargement d'OpenLayers</a>.</p>
<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="téléchargement-direct"></a></p>
<a id="téléchargement-direct" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Téléchargement direct<a href="#téléchargement-direct" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><blockquote>
<p><strong>TODO</strong>
bundle ou bundles par modules + thèmes</p>
</blockquote>
<p>Vous pouvez télécharger la dernière version de l'extension Géoplateforme
pour OpenLayers directement sur <a href="https://github.com/IGNF/geopf-extensions-openlayers/releases">la page des releases des extensions Géoplateforme</a>.</p>
<p>L'archive téléchargée (.zip) comprend l'arborescence décrite ci-dessus.</p>
<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="récupération-avec-npm"></a></p>
<a id="récupération-avec-npm" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Récupération avec NPM<a href="#récupération-avec-npm" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><blockquote>
<p><strong>TODO</strong>
sources ou modules ES6 uniquement</p>
</blockquote>
<p>L'extension Géoplateforme pour OpenLayers est aussi disponible dans les dépôts <a href="https://www.npmjs.com/package/geopf-extensions-openlayers">NPM</a>.</p>
<p>Prérequis : <a href="https://nodejs.org/en/">NodeJS</a> et <a href="https://www.npmjs.com/">npm</a> installés.</p>
<pre><code class="sh"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">i</span><span class="hl-1"> </span><span class="hl-2">geopf-extensions-openlayers</span>
</code><button type="button">Copy</button></pre>

<p><a id="accès-direct"></a></p>
<a id="accès-direct" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Accès direct<a href="#accès-direct" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Vous pouvez aussi choisir d'utiliser des fichiers hébergés en ligne,
pour y accéder directement, lors de vos tests par exemple.
Cependant, pour une utilisation en production, nous vous conseillons
de télécharger ces fichiers et de les héberger vous-même, sur le même serveur
qui héberge votre application.</p>
<p>Par exemple sur Github Pages :</p>
<pre><code class="text">todo : liste des bundles !
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="intégration-dans-une-page-web"></a></p>
<a id="intégration-dans-une-page-web" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Intégration dans une page web<a href="#intégration-dans-une-page-web" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Dézippez l'extension géoplateforme dans l'arborescence votre de serveur web.
Vous pouvez positionner à votre guise les fichiers css et javascript.</p>
<p>Intégrez l'extension géoplateforme pour OpenLayers dans votre page web classiquement
à l'aide d'une balise <strong>script</strong> pour charger le fichier javascript
et d'une balise <strong>link</strong> pour charger le fichier css en plus des balises
correspondantes utilisées pour charger la bibliothèque OpenLayers.</p>
<p>Exemple en mode &quot;Classic&quot; :</p>
<pre><code class="html"><br/><span class="hl-9">&lt;!-- Library OpenLayers --&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;../../resources/vendor/ol/v8.2.0/ol.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;../../resources/vendor/ol/v8.2.0/ol.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><br/><span class="hl-9">&lt;!-- Library Access Geoportal Service --&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;../../../node_modules/geoportal-access-lib/dist/GpServices.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><br/><span class="hl-9">&lt;!-- Classic IGN theme --&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;../../../dist/bundle/Classic.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><span class="hl-1">    </span><br/><br/><span class="hl-9">&lt;!-- Extension Géoplateforme pour OpenLayers --&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;../../../dist/bundle/GpfExtOL.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;../../../dist/bundle/GpfExtOL.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>Exemple en mode &quot;DSFR&quot; :</p>
<pre><code class="html"><br/><span class="hl-9">&lt;!-- Library OpenLayers --&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;ol/v8.2.0/ol.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;ol/v8.2.0/ol.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><br/><span class="hl-9">&lt;!-- Library Access Geoportal Service --&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;GpServices.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><br/><span class="hl-9">&lt;!-- DSFR theme --&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;@gouvfr/dsfr/dist/dsfr.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;@gouvfr/dsfr/dist/utility/icons/icons.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;Dsfr.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><span class="hl-1"> </span><br/><br/><span class="hl-9">&lt;!-- Extension Géoplateforme pour OpenLayers --&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;GpfExtOL.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;GpfExtOL.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="configuration-de-laccès-à-la-géoplateforme"></a></p>
<a id="configuration-de-laccès-à-la-géoplateforme" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Configuration de l'accès à la Géoplateforme<a href="#configuration-de-laccès-à-la-géoplateforme" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><blockquote>
<p><strong>TODO</strong>
valider le mécanisme des clefs !</p>
</blockquote>
<p>L'extension Géoplateforme pour OpenLayers exploite les services web exposés
par la Géoplateforme. Ceux-ci sont en libre accès.</p>
<p>Vous pouvez cependant paramétrer l'utilisation de l'extension avec une ou
plusieurs thématiques Géoplateforme qui correspondent à vos besoins en générant
un fichier de configuration local à partir de
<a href="https://geoplateforme-configuration.onrender.com/">cette interface</a>
ou en passant par le paramètre apiKey.</p>
<p>Si ni apiKey, ni fichier de configuration local n'est spécifié, l'utilisateur
récupérera une configuration complète avec toutes les ressources
de la Géoplateforme (qui pourra donc être très volumineuse).</p>
<p>Vous pouvez configurer les extensions des manières suivantes :</p>
<p><strong>Méthode 1</strong> : Au chargement de l'extension en utilisant l'attribut &quot;data-key&quot;
de la balise <strong>script</strong> de chargement de l'extension :</p>
<pre><code class="html"><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">data-key</span><span class="hl-14">=</span><span class="hl-13">&quot;THEME&quot;</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;chemin/vers/bundle.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>Thèmes multiples : Si vous devez utiliser plusieurs thématiques, il est possible
de mettre une liste de thèmes dans l'attribut data-key :</p>
<pre><code class="html"><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">data-key</span><span class="hl-14">=</span><span class="hl-13">&quot;THEME-1,THEME-2,THEME-3&quot;</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;chemin/vers/bundle.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>Votre utilisation des fonctionnalités de l'extension Géoplateforme sera alors
simplement conditionnée par la réception de l'événement onload de la page web,
comme sur l'exemple suivant :</p>
<pre><code class="html"><span class="hl-10">&lt;</span><span class="hl-11">html</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">head</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-9">&lt;!-- Library OpenLayers --&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;ol.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;ol.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-9">&lt;!-- Classic IGN theme --&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;Classic.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-1">        </span><span class="hl-9">&lt;!-- Extension Géoplateforme pour OpenLayers --&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;GpfExtOL.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;GpfExtOL.js&quot;</span><span class="hl-14"> </span><span class="hl-12">data-key</span><span class="hl-14">=</span><span class="hl-13">&quot;THEME&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">head</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">body</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-14">            </span><span class="hl-4">window</span><span class="hl-14">.</span><span class="hl-0">onload</span><span class="hl-14"> </span><span class="hl-1">=</span><span class="hl-14"> </span><span class="hl-3">function</span><span class="hl-14"> () {</span><br/><span class="hl-14">                </span><span class="hl-9">// votre utilisation de l&#39;extension Géoplateforme pour OpenLayers</span><br/><span class="hl-14">            }</span><br/><span class="hl-14">        </span><span class="hl-10">&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">body</span><span class="hl-10">&gt;</span><br/><span class="hl-10">&lt;/</span><span class="hl-11">html</span><span class="hl-10">&gt;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Méthode 2</strong> : A la fin du chargement de la page en utilisant
la fonction <a href="https://github.com/IGNF/geoportal-access-lib#getConfig">Gp.Services.GetConfig()</a>
et en conditionnant alors l'utilisation de l'extension à l'exécution de la fonction
de rappel onSuccess passée en paramètres de Gp.Services.getConfig()
comme sur l'exemple suivant :</p>
<pre><code class="html"><span class="hl-10">&lt;</span><span class="hl-11">html</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">head</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-9">&lt;!-- Library OpenLayers --&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;ol.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;ol.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-9">&lt;!-- Classic IGN theme --&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;Classic.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-1">        </span><span class="hl-9">&lt;!-- Extension Géoplateforme pour OpenLayers --&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;GpfExtOL.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;GpfExtOL.js&quot;</span><span class="hl-14"> </span><span class="hl-12">data-key</span><span class="hl-14">=</span><span class="hl-13">&quot;THEME&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">head</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">body</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-14">            </span><span class="hl-4">window</span><span class="hl-14">.</span><span class="hl-0">onload</span><span class="hl-14"> </span><span class="hl-1">=</span><span class="hl-14"> </span><span class="hl-3">function</span><span class="hl-14"> () {</span><br/><span class="hl-14">                </span><span class="hl-4">Gp</span><span class="hl-14">.</span><span class="hl-4">Services</span><span class="hl-14">.</span><span class="hl-0">getConfig</span><span class="hl-14">({</span><br/><span class="hl-14">                    </span><span class="hl-4">apiKey:</span><span class="hl-14"> </span><span class="hl-2">&#39;THEME&#39;</span><span class="hl-14">,</span><br/><span class="hl-14">                    </span><span class="hl-0">onSuccess</span><span class="hl-4">:</span><span class="hl-14"> </span><span class="hl-3">function</span><span class="hl-14"> (</span><span class="hl-4">response</span><span class="hl-14">) {</span><br/><span class="hl-14">                        </span><span class="hl-9">// votre utilisation de l&#39;extension Géoplateforme pour OpenLayers</span><br/><span class="hl-14">                    }</span><br/><span class="hl-14">                });</span><br/><span class="hl-14">            }</span><br/><span class="hl-14">        </span><span class="hl-10">&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">body</span><span class="hl-10">&gt;</span><br/><span class="hl-10">&lt;/</span><span class="hl-11">html</span><span class="hl-10">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>Thèmes multiples : Si vous devez utiliser plusieurs thématiques, il est possible
de mettre une liste de clés dans l'attribut apiKey de la fonction getConfig :</p>
<pre><code class="html"><span class="hl-10">&lt;</span><span class="hl-11">html</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">head</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-9">&lt;!-- Library OpenLayers --&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;ol.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;ol.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-9">&lt;!-- Classic IGN theme --&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;Classic.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-1">        </span><span class="hl-9">&lt;!-- Extension Géoplateforme pour OpenLayers --&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">link</span><span class="hl-1"> </span><span class="hl-12">rel</span><span class="hl-1">=</span><span class="hl-13">&quot;stylesheet&quot;</span><span class="hl-1"> </span><span class="hl-12">href</span><span class="hl-1">=</span><span class="hl-13">&quot;GpfExtOL.css&quot;</span><span class="hl-1"> </span><span class="hl-10">/&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;GpfExtOL.js&quot;</span><span class="hl-14"> </span><span class="hl-12">data-key</span><span class="hl-14">=</span><span class="hl-13">&quot;THEME&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">head</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">body</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-14">            </span><span class="hl-4">window</span><span class="hl-14">.</span><span class="hl-0">onload</span><span class="hl-14"> </span><span class="hl-1">=</span><span class="hl-14"> </span><span class="hl-3">function</span><span class="hl-14"> () {</span><br/><span class="hl-14">                </span><span class="hl-4">Gp</span><span class="hl-14">.</span><span class="hl-4">Services</span><span class="hl-14">.</span><span class="hl-0">getConfig</span><span class="hl-14">({</span><br/><span class="hl-14">                    </span><span class="hl-4">apiKey:</span><span class="hl-14"> </span><span class="hl-2">&#39;THEME-1,THEME-2,THEME-3&#39;</span><span class="hl-14">,</span><br/><span class="hl-14">                    </span><span class="hl-0">onSuccess</span><span class="hl-4">:</span><span class="hl-14"> </span><span class="hl-3">function</span><span class="hl-14"> (</span><span class="hl-4">response</span><span class="hl-14">) {</span><br/><span class="hl-14">                        </span><span class="hl-9">// votre utilisation de l&#39;extension Géoplateforme pour OpenLayers</span><br/><span class="hl-14">                    }</span><br/><span class="hl-14">                });</span><br/><span class="hl-14">            }</span><br/><span class="hl-14">        </span><span class="hl-10">&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">body</span><span class="hl-10">&gt;</span><br/><span class="hl-10">&lt;/</span><span class="hl-11">html</span><span class="hl-10">&gt;</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="optimisation-du-chargement--configuration-locale"></a></p>
<a id="optimisation-du-chargement--configuration-locale" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Optimisation du chargement : configuration locale<a href="#optimisation-du-chargement--configuration-locale" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Vous pouvez améliorer le temps de chargement de votre page en mettant en cache
sur votre plateforme un fichier de configuration Géoplateforme,
qui contient les information nécéssaires des ressources
que vous souhaitez utiliser uniquement.
Il vous suffit pour cela de récupérer le fichier de configuration
(customConfig.json) obtenu à l'aide <a href="https://geoplateforme-configuration.onrender.com/">de cet utilitaire en ligne</a>.</p>
<p>Enregistrez ce fichier sur votre plateforme et paramétrez l'extension
Géoplateforme de la manière suivante (selon les méthodes citées précédemment) :</p>
<p><strong>Méthode 1</strong> : Utilisez l'attribut &quot;data-url&quot; de la balise <strong>script</strong> chargeant
l'extension pour pointer vers votre fichier :</p>
<pre><code class="html"><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">data-url</span><span class="hl-14">=</span><span class="hl-13">&quot;chemin/vers/customConfig.json&quot;</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;chemin/vers/bundle.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>Votre utilisation des fonctionnalités de l'extension Géoplateforme sera alors
simplement conditionnée par la réception de l'événement onload de la page web,
comme sur l'exemple suivant :</p>
<pre><code class="html"><span class="hl-10">&lt;</span><span class="hl-11">html</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">head</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-9">&lt;!-- Library OpenLayers --&gt;</span><br/><span class="hl-1">        ...</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">data-url</span><span class="hl-14">=</span><span class="hl-13">&quot;chemin/vers/customConfig.json&quot;</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;chemin/vers/bundle.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">head</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">body</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-14">            </span><span class="hl-4">window</span><span class="hl-14">.</span><span class="hl-0">onload</span><span class="hl-14"> </span><span class="hl-1">=</span><span class="hl-14"> </span><span class="hl-3">function</span><span class="hl-14"> () {</span><br/><span class="hl-14">                </span><span class="hl-9">// votre utilisation de l&#39;extension Géoplateforme pour OpenLayers</span><br/><span class="hl-14">            }</span><br/><span class="hl-14">        </span><span class="hl-10">&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">body</span><span class="hl-10">&gt;</span><br/><span class="hl-10">&lt;/</span><span class="hl-11">html</span><span class="hl-10">&gt;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Méthode 2</strong> : Utilisez le paramètre <em>customConfigFile</em>
de la fonction Gp.Services.getConfig() pour pointer vers votre fichier,
ainsi que le paramètre <em>callbackSuffix</em>, de la manière suivante :</p>
<pre><code class="html"><span class="hl-10">&lt;</span><span class="hl-11">html</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    ...</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">body</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-14">            </span><span class="hl-4">window</span><span class="hl-14">.</span><span class="hl-0">onload</span><span class="hl-14"> </span><span class="hl-1">=</span><span class="hl-14"> </span><span class="hl-3">function</span><span class="hl-14"> () {</span><br/><span class="hl-14">                </span><span class="hl-4">Gp</span><span class="hl-14">.</span><span class="hl-4">Services</span><span class="hl-14">.</span><span class="hl-0">getConfig</span><span class="hl-14">({</span><br/><span class="hl-14">                    </span><span class="hl-4">customConfigFile:</span><span class="hl-14"> </span><span class="hl-2">&#39;chemin/vers/customConfig.json&#39;</span><span class="hl-14">,</span><br/><span class="hl-14">                    </span><span class="hl-4">callbackSuffix :</span><span class="hl-14"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-14">,</span><br/><span class="hl-14">                    </span><span class="hl-0">onSuccess</span><span class="hl-4">:</span><span class="hl-14"> </span><span class="hl-3">function</span><span class="hl-14"> (</span><span class="hl-4">response</span><span class="hl-14">) {</span><br/><span class="hl-14">                        </span><span class="hl-9">// votre utilisation de l&#39;extension Géoplateforme pour OpenLayers</span><br/><span class="hl-14">                    }</span><br/><span class="hl-14">                });</span><br/><span class="hl-14">            }</span><br/><span class="hl-14">        </span><span class="hl-10">&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">body</span><span class="hl-10">&gt;</span><br/><span class="hl-10">&lt;/</span><span class="hl-11">html</span><span class="hl-10">&gt;</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="appel-de-lextension-dans-un-module-es6"></a></p>
<a id="appel-de-lextension-dans-un-module-es6" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Appel de l'extension dans un module ES6<a href="#appel-de-lextension-dans-un-module-es6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><blockquote>
<p><strong>TODO</strong>
decrire les imports !</p>
</blockquote>
<p>Le module de l'extension expose de multiples exports nommés
(dont le module openlayers étendu).</p>
<p>L'utilisateur a le choix entre plusieurs méthodes d'import.</p>
<p><strong>Méthode 1</strong> : import des exports nommés du module</p>
<pre><code class="javascript">
</code><button type="button">Copy</button></pre>

<p><strong>Méthode 2</strong> : import d'un objet d’espace de noms pour le module</p>
<pre><code class="javascript">
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="compatibilités"></a></p>
<a id="compatibilités" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Compatibilités<a href="#compatibilités" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="versions-de-openlayers-supportées" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Versions de OpenLayers supportées<a href="#versions-de-openlayers-supportées" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Les <strong>releases de l'extension Géoplateforme pour OpenLayers</strong> peuvent s'utiliser
avec les <strong>version 8.2.0 et supérieures</strong> d'OpenLayers.</p>
<a id="navigateurs-supportés" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Navigateurs supportés<a href="#navigateurs-supportés" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Navigateur</th>
<th>version</th>
</tr>
</thead>
<tbody>
<tr>
<td>Chrome</td>
<td>Versions récentes (119+)</td>
</tr>
<tr>
<td>Firefox</td>
<td>Versions récentes (119+)</td>
</tr>
<tr>
<td>Edge</td>
<td>Versions récentes (119+)</td>
</tr>
<tr>
<td>Safari</td>
<td>Versions récentes (17.1+)</td>
</tr>
</tbody>
</table>
<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="fonctionnalités"></a></p>
<a id="fonctionnalités" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Fonctionnalités<a href="#fonctionnalités" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a id="crs"></a></p>
<p><a id="systèmes-de-coordonnées"></a></p>
<a id="systèmes-de-coordonnées" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Systèmes de coordonnées<a href="#systèmes-de-coordonnées" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>OpenLayers utilise par défaut les systèmes de coordonnées mondiaux &quot;standards&quot; :
EPSG:4326 (coordonnées géographiques) et EPSG:3857
(Projection Web Mercator utilisée par Google, Bings, OSM ... et le Géoplateforme)
comme expliqué <a href="https://openlayers.org/en/latest/apidoc/module-ol_proj.html">ici</a>.</p>
<p>L'extension Géoplateforme pour OpenLayers embarque de nombreuses projections
en <em>EPSG</em>, <em>CRS</em> ainsi que sous le registre <em>IGNF</em>.</p>
<p>Il est possible d'utiliser ces projections :</p>
<p>Exemple :</p>
<pre><code class="javascript"><br/><span class="hl-9">// création d&#39;une vue OpenLayers avec la projection définie</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">view</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">48</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">projection:</span><span class="hl-1"> </span><span class="hl-2">&quot;IGNF:RGF93G&quot;</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<p>La définition d'autres systèmes de coordonnées est cependant possible
par l'adjonction de la bibliothèque <a href="https://github.com/proj4js/proj4js">Proj4js</a>
permettant de définir des systèmes de coordonnées et d'effectuer des transformations
de coordonnées entre systèmes. Cette bibliothèque est directement compatible
avec OpenLayers.</p>
<p>L'extension Géoplateforme pour OpenLayers <strong>intègre nativement cette bibliothèque</strong>.
Si vous l'utilisez vous pouvez donc directement définir les systèmes de coordonnées
que vous souhaitez selon la syntaxe proj4 et utiliser les alias ainsi définis en
paramètres des fonctions d'OpenLayers.</p>
<p>Exemple :</p>
<pre><code class="javascript"><span class="hl-9">// Définition de la Projection UTM 20N</span><br/><span class="hl-4">proj4</span><span class="hl-1">.</span><span class="hl-0">defs</span><span class="hl-1">(</span><span class="hl-2">&quot;EPSG:4559&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;+proj=utm +zone=20 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs&quot;</span><span class="hl-1">) ;</span><br/><br/><span class="hl-9">// création d&#39;une vue OpenLayers avec la projection définie</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">view</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">656481</span><span class="hl-1">, </span><span class="hl-8">1796270</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">projection:</span><span class="hl-1"> </span><span class="hl-2">&quot;EPSG:4559&quot;</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<p>NB :</p>
<ul>
<li>Le site <a href="http://epsg.io/">epsg.io</a> recense un grand nombre de registres de
systèmes de coordonnées avec leurs définitions.</li>
<li>Les définitions des systèmes de coordonnées du registre IGN-F peuvent être
trouvées <a href="https://geodesie.ign.fr/contenu/fichiers/IGNF.xml">ici</a>.</li>
</ul>
<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="WMTS"></a></p>
<a id="affichage-des-couches-wmts-géoplateforme" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Affichage des couches WMTS Géoplateforme<a href="#affichage-des-couches-wmts-géoplateforme" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Le modèle de données OpenLayers fait la distinction entre la notion de couche
(ol.layer) et la notion de source de données (ol.source).
Ainsi, une carte OpenLayers est constituée d'un empilement de &quot;ol.layer&quot;,
avec des propriétés relatives à leurs visibilité sur la carte,
dont le contenu est alimenté par des &quot;ol.source&quot;, avec des propriétés relatives
à la manière d'obtenir ces données.</p>
<p>L'extension Géoplateforme pour OpenLayers propose deux manières d'accéder
aux couches Géoplateforme selon ce modèle :</p>
<ol>
<li>
<p>On souhaite une mise en oeuvre simple, où on saisit uniquement le nom de sa
couche, et d'éventuels paramètres d'affichage (visibilité ou opacité).
Définition d'un <a href="#layerWMTS">layer WMTS Géoplateforme</a>.</p>
</li>
<li>
<p>On souhaite pouvoir paramétrer plus finement l'affichage de sa couche
dans la carte, ainsi que d'éventuels paramètres du service (format, style, ...).
Définition d'une <a href="#sourceWMTS">source WMTS Géoplateforme</a>.</p>
</li>
</ol>
<p><a id="layerWMTS"></a></p>
<a id="utilisation-dun-layer-wmts-géoplateforme" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Utilisation d'un layer WMTS Géoplateforme<a href="#utilisation-dun-layer-wmts-géoplateforme" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>L'affichage se fait par la création d'une nouvelle instance de la classe
<a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.layer.GeoportalWMTS.html">ol.layer.GeoportalWMTS</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">(</span><span class="hl-4">options</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Cette fonction retourne un objet <strong>ol.layer.GeoportalWMTS</strong>,
qui hérite de l'objet OpenLayers <em>ol.layer.Tile</em>,
qui peut ainsi être interprété par la librairie OpenLayers pour l'ajout dans la carte.</p>
<a id="exemple-dutilisation" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Exemple d'utilisation<a href="#exemple-dutilisation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Affichage simple des ortho-images du Géoplateforme :
création d'une <em>layer</em> Géoplateforme, et ajout à la <em>map</em> OpenLayers.</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">            </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">                </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;ORTHOIMAGERY.ORTHOPHOTOS&quot;</span><br/><span class="hl-1">            })</span><br/><span class="hl-1">        ],</span><br/><span class="hl-1">        </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">288074.8449901076</span><span class="hl-1">, </span><span class="hl-8">6247982.515792289</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    });</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<a id="affichage-en-lambert-93-epsg2154" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Affichage en Lambert 93 (EPSG:2154)<a href="#affichage-en-lambert-93-epsg2154" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>La Géoplateforme diffuse aussi des ressources WMTS en projection Lambert 93.
Pour permettre de les afficher, l'extension Géoplateforme pour OpenLayers
pré-définit l'alias &quot;EPSG:2154&quot; correspondant à cette projection.</p>
<p>Il suffit alors de paramétrer la carte OpenLayers avec cette projection
et d'y rajouter la ressource WMTS de la même manière que précédemment.</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;ORTHOIMAGERY.ORTHOPHOTOS.BDORTHO.L93&quot;</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">600000</span><span class="hl-1">, </span><span class="hl-8">6750000</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">projection :</span><span class="hl-1"> </span><span class="hl-2">&quot;EPSG:2154&quot;</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>NB : D'autres systèmes de coordonnées peuvent être définis et utilisés : <a href="#crs">plus d'informations...</a></p>
<p align="right">(<a href="#readme-top">back to top</a>)</p>
<a id="sourceWMTS"/>
<a id="utilisation-dune-source-wmts-géoplateforme" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Utilisation d'une source WMTS Géoplateforme<a href="#utilisation-dune-source-wmts-géoplateforme" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Cette méthode permet plus de paramétrages :
on crée une nouvelle instance de la classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.source.GeoportalWMTS.html">ol.source.GeoportalWMTS</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">gpsource</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">source</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">(</span><span class="hl-4">options</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Cette fonction retourne un objet <strong>ol.source.GeoportalWMTS</strong>,
qui hérite de l'objet OpenLayers <em>ol.source.WMTS</em>.
Cette source sert ensuite à la création d'un <em>layer</em> OpenLayers
qui pourra ensuite être ajouté à la carte.</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">layer</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">Tile</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">source :</span><span class="hl-1"> </span><span class="hl-4">gpsource</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="exemple-dutilisation-1" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Exemple d'utilisation<a href="#exemple-dutilisation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Affichage simple des ortho-images du Géoplateforme :
création d'un <em>layer</em> OpenLayers associé à une <em>source</em> Géoplateforme,
et ajout à la <em>map</em> OpenLayers.</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">Tile</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">source:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">source</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">                </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;ORTHOIMAGERY.ORTHOPHOTOS&quot;</span><br/><span class="hl-1">            }),</span><br/><span class="hl-1">            </span><span class="hl-4">opacity:</span><span class="hl-1"> </span><span class="hl-8">0.7</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">288074.8449901076</span><span class="hl-1">, </span><span class="hl-8">6247982.515792289</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<a id="affichage-en-lambert-93-epsg2154-1" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Affichage en Lambert 93 (EPSG:2154)<a href="#affichage-en-lambert-93-epsg2154-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>La Géoplateforme diffuse aussi des ressources WMTS en projection Lambert 93.
Pour permettre de les afficher, l'extension Géoplateforme pour OpenLayers
pré-définit l'alias &quot;EPSG:2154&quot; correspondant à cette projection.</p>
<p>Il suffit alors de paramétrer la carte OpenLayers avec cette projection
et d'y rajouter la ressource WMTS de la même manière que précédemment.</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">Tile</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">source:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">source</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">                </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;ORTHOIMAGERY.ORTHOPHOTOS.BDORTHO.L93&quot;</span><br/><span class="hl-1">            }),</span><br/><span class="hl-1">            </span><span class="hl-4">opacity:</span><span class="hl-1"> </span><span class="hl-8">0.7</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">600000</span><span class="hl-1">, </span><span class="hl-8">6750000</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">projection :</span><span class="hl-1"> </span><span class="hl-2">&quot;EPSG:2154&quot;</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>NB : D'autres systèmes de coordonnées peuvent être définis et utilisés : <a href="#crs">plus d'informations...</a></p>
<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="WMS"></a></p>
<a id="affichage-des-couches-wms-géoplateforme" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Affichage des couches WMS Géoplateforme<a href="#affichage-des-couches-wms-géoplateforme" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Le modèle de données OpenLayers fait la distinction entre la notion de couche (ol.layer)
et la notion de source de données (ol.source).
Ainsi, une carte OpenLayers est constituée d'un empilement de &quot;ol.layer&quot;,
avec des propriétés relatives à leurs visibilité sur la carte,
dont le contenu est alimenté par des &quot;ol.source&quot;,
avec des propriétés relatives à la manière d'obtenir ces données.</p>
<p>L'extension Géoplateforme pour OpenLayers propose deux manières d'accéder
aux couches Géoplateforme selon ce modèle :</p>
<ol>
<li>
<p>on souhaite une mise en oeuvre simple, où on saisit uniquement le nom de sa
couche, et d'éventuels paramètres d'affichage (visibilité ou opacité).
Définition d'un <a href="#layerWMS">layer WMS Géoplateforme</a>.</p>
</li>
<li>
<p>On souhaite pouvoir paramétrer plus finement l'affichage de sa couche dans la carte,
ainsi que d'éventuels paramètres du service (format, style, ...).
Définitions d'une <a href="#sourceWMS">source WMS Géoplateforme</a>.</p>
</li>
</ol>
<p><a id="layerWMS"></a></p>
<a id="utilisation-dun-layer-wms-géoplateforme" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Utilisation d'un layer WMS Géoplateforme<a href="#utilisation-dun-layer-wms-géoplateforme" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>L'affichage se fait par la création d'une nouvelle
instance de la classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.layer.GeoportalWMS.html">ol.layer.GeoportalWMS</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">(</span><span class="hl-4">options</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Cette fonction retourne un objet <strong>ol.layer.GeoportalWMS</strong>,
qui hérite de l'objet OpenLayers <em>ol.layer.Tile</em>,
qui peut ainsi être interprété par la librairie OpenLayers pour l'ajout dans la carte.</p>
<a id="exemple-dutilisation-2" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Exemple d'utilisation<a href="#exemple-dutilisation-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Affichage d'une couche du serveur WMS INSPIRE raster
du Géoplateforme (OI.OrthoimageCoverage) sur une carte en EPSG:4326.</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMS</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;OI.OrthoimageCoverage&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-8">46</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">projection:</span><span class="hl-1"> </span><span class="hl-2">&quot;EPSG:4326&quot;</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="sourceWMS"></a></p>
<a id="utilisation-dune-source-wms-géoplateforme" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Utilisation d'une source WMS Géoplateforme<a href="#utilisation-dune-source-wms-géoplateforme" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Cette méthode permet plus de paramétrages :
on crée une nouvelle instance de la classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.source.GeoportalWMS.html">ol.source.GeoportalWMS</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">gpsource</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">source</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMS</span><span class="hl-1">(</span><span class="hl-4">options</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Cette fonction retourne un objet <strong>ol.source.GeoportalWMS</strong>,
qui hérite de l'objet OpenLayers <em>ol.source.TileWMS</em>.
Cette source sert ensuite à la création d'un <em>layer</em> OpenLayers qui pourra ensuite
être ajouté à la carte.</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">layer</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">Tile</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">source :</span><span class="hl-1"> </span><span class="hl-4">gpsource</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="exemple-dutilisation-3" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Exemple d'utilisation<a href="#exemple-dutilisation-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Utilisation des service WMS INSPIRE raster (OI.OrthoimageCoverage) du Géoplateforme :
création d'un <em>layer</em> OpenLayers associés à un <em>source</em> Géoplateforme,
et ajout à la <em>map</em> OpenLayers.</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">Tile</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">source:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">source</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMS</span><span class="hl-1">({</span><br/><span class="hl-1">                </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;OI.OrthoimageCoverage&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            })</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [-</span><span class="hl-8">61.55</span><span class="hl-1">, </span><span class="hl-8">16.25</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">projection :</span><span class="hl-1"> </span><span class="hl-2">&quot;EPSG:4326&quot;</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="VT"></a></p>
<a id="affichage-dune-couche-vecteur-tuilé-géoplateforme" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Affichage d'une couche Vecteur Tuilé Géoplateforme<a href="#affichage-dune-couche-vecteur-tuilé-géoplateforme" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>L'affichage se fait par la création d'une nouvelle instance
de la classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.layer.GeoportalMapBox.html">ol.layer.GeoportalMapBox</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalMapBox</span><span class="hl-1">(</span><span class="hl-4">options</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Cette fonction retourne un objet <strong>ol.layer.GeoportalMapBox</strong>,
qui hérite de l'objet OpenLayers <em>ol.layer.VectorTile</em>,
qui peut ainsi être interprété par la librairie OpenLayers pour l'ajout dans la carte.</p>
<p><strong>Exemple d'utilisation:</strong></p>
<p>Affichage de la couche <em>PLAN.IGN</em> du Géoplateforme avec le style <em>classique</em>
sur une carte en EPSG:4326.</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalMapBox</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">layer  :</span><span class="hl-1"> </span><span class="hl-2">&quot;PLAN.IGN&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">style  :</span><span class="hl-1"> </span><span class="hl-2">&quot;classique&quot;</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-8">46</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">projection:</span><span class="hl-1"> </span><span class="hl-2">&quot;EPSG:4326&quot;</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Il est possible d'y ajouter des options :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">LayerMapBox</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalMapBox</span><span class="hl-1">({</span><br/><span class="hl-1">     </span><span class="hl-4">layer  :</span><span class="hl-1"> </span><span class="hl-2">&quot;PLAN.IGN&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">     </span><span class="hl-4">style  :</span><span class="hl-1"> </span><span class="hl-2">&quot;classique&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">     </span><span class="hl-4">source :</span><span class="hl-1"> </span><span class="hl-2">&quot;plan_ign&quot;</span><span class="hl-1">, </span><span class="hl-9">// cas de plusieurs sources</span><br/><span class="hl-1">     </span><span class="hl-4">ssl:</span><span class="hl-1"> </span><span class="hl-3">true</span><br/><span class="hl-1">}, {</span><br/><span class="hl-1">     </span><span class="hl-4">opacity:</span><span class="hl-1"> </span><span class="hl-8">0.7</span><span class="hl-1">,</span><br/><span class="hl-1">     </span><span class="hl-4">visible:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">     </span><span class="hl-4">declutter:</span><span class="hl-1"> </span><span class="hl-3">true</span><br/><span class="hl-1">     ...</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="layerswitcher"></a></p>
<a id="widget-de-gestion-dempilement-des-couches" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Widget de gestion d'empilement des couches<a href="#widget-de-gestion-dempilement-des-couches" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ce widget permet à l'utilisateur de gérer l'empilement des couches composant
la carte ol.Map et, pour chacune d'elles, d'agir sur la visibilité, l'opacité et
d'afficher des informations qui lui sont associées
(titre, description, métadonnées, légende).</p>
<p>Son utilisation se fait par la création d'un nouveau contrôle, instance de la
classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.LayerSwitcher.html">ol.control.LayerSwitcher</a>,
que l'on peut ensuite ajouter à la carte comme <a href="https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#addControl">les autres contrôles OpenLayers</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">LayerSwitcher</span><span class="hl-1">(</span><span class="hl-4">opts</span><span class="hl-1">) ;</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">layerSwitcher</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Le widget affiche l'ensemble des couches composant la carte ol.Map.</p>
<p>Pour chaque couche de la carte ol.Map, le widget affiche son titre et sa description
(par défaut : l'identifiant OpenLayers de la couche),
et, si elles sont spécifiées, des informations plus détaillées :
légendes, métadonnées, aperçu rapide.</p>
<p>La récupération de ces informations n'est pas la même selon la manière dont
chaque couche a été ajoutée à la carte :</p>
<ul>
<li>
<p>Couches ajoutées via la <a href="#WMS">fonctionnalité d'affichage simple des couches WMS</a> ou
<a href="#WMTS">WMTS du Géoplateforme</a> de l'extension pour OpenLayers :
ces informations sont disponibles car elles ont été chargées
par lors de la <a href="#config">configuration de l'accès à la Géoplateforme</a>,
il n'y a donc rien à faire de particulier.</p>
</li>
<li>
<p>Autres couches : afin d'afficher ces informations, il est nécessaire de les
spécifier dans les options du widget.</p>
</li>
</ul>
<a id="exemples-dutilisation" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><a id="utilisation-simple" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation simple<a href="#utilisation-simple" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du widget de gestion de l'empilement des couches.
Paramétrage des couches non Géoplateforme.</p>
<pre><code class="javascript"><span class="hl-9">// couche OSM (non Géoplateforme)</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">osmLyr</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">Tile</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">source:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">source</span><span class="hl-1">.</span><span class="hl-0">OSM</span><span class="hl-1">()</span><br/><span class="hl-1">});</span><br/><span class="hl-9">// Création de la carte</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-4">osmLyr</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">// couche Géoplateforme</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">288074.8449901076</span><span class="hl-1">, </span><span class="hl-8">6247982.515792289</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});    </span><br/><span class="hl-9">// Création du Layer Switcher</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">lsControl</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-9">// paramétrage de l&#39;affichage de la couche OSM</span><br/><span class="hl-1">    </span><span class="hl-4">layers :</span><span class="hl-1"> [{</span><br/><span class="hl-1">        </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">osmLyr</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;OSM&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&quot;Couche OpenStreet Map&quot;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }]</span><br/><span class="hl-1">});</span><br/><span class="hl-9">// Ajout du LayerSwitcher à la carte</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">lsControl</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="geocode"></a></p>
<a id="barre-de-recherche" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Barre de recherche<a href="#barre-de-recherche" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>La barre de recherche permet de positionner la carte à partir de la saisie d'un
localisant dont la position sera retournée par le service de géocodage de l'IGN.</p>
<p>La saisie de localisants peut s'accompagner d'un mode d'autocomplétion s'appuyant
sur le service d'autocomplétion de la Géoplateforme.</p>
<p>Son utilisation se fait par la création d'un nouveau contrôle,
instance de la calsse <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.SearchEngine.html">ol.control.SearchEngine</a>,
que l'on peut ensuite ajouter à la carte comme
<a href="https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#addControl">les autres contrôles OpenLayers</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">search</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">SearchEngine</span><span class="hl-1">(</span><span class="hl-4">opts</span><span class="hl-1">) ;</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">search</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-dutilisation-1" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><a id="utilisation-simple-1" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation simple<a href="#utilisation-simple-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du moteur de recherche sans paramétrage particulier.</p>
<pre><code class="javascript"><span class="hl-9">// Création de la carte</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2&quot;</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">288074.8449901076</span><span class="hl-1">, </span><span class="hl-8">6247982.515792289</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Creation du controle</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">searchControl</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">SearchEngine</span><span class="hl-1">({</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Ajout à la carte</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">searchControl</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="route"></a></p>
<a id="calculs-ditinéraires" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Calculs d'itinéraires<a href="#calculs-ditinéraires" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Le widget de calcul d'itinéraires permet d'intéragir avec une carte OpenLayers pour effectuer des calculs d'itinéraires utilisant le service dédié de la Géoplateforme.</p>
<p>Son utilisation se fait par la création d'un nouveau contrôle instance de la cla
se <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.Route.html">ol.control.Route</a>,
que l'on peut ensuite ajouter à la carte comme <a href="https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#addControl">les autres contrôles OpenLayers</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">route</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Route</span><span class="hl-1">(</span><span class="hl-4">opts</span><span class="hl-1">) ;</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">route</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-dutilisation-2" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><a id="utilisation-simple-2" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation simple<a href="#utilisation-simple-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du widget sans paramétrage particulier.</p>
<pre><code class="javascript"><span class="hl-9">// Création de la carte</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2&quot;</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">288074.8449901076</span><span class="hl-1">, </span><span class="hl-8">6247982.515792289</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Creation du controle</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">routeControl</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Route</span><span class="hl-1">({</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Ajout à la carte</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">routeControl</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="isocurve"></a></p>
<a id="calculs-disochrones--isodistances" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Calculs d'isochrones / isodistances<a href="#calculs-disochrones--isodistances" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ce widget permet d'intéragir avec une carte OpenLayers pour effectuer des
calculs d'isochrones / isodistances utilisant le service dédié de la Géoplateforme.</p>
<p>Son utilisation se fait par la création d'un nouveau contrôle,
instance de la classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.Isocurve.html">ol.control.Isocurve()</a>,
que l'on peut ensuite ajouter à la carte comme <a href="https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#addControl">les autres contrôles OpenLayers</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">iso</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Isocurve</span><span class="hl-1">(</span><span class="hl-4">opts</span><span class="hl-1">);</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">iso</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-dutilisation-3" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><a id="utilisation-simple-3" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation simple<a href="#utilisation-simple-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du widget sans paramétrage particulier.</p>
<pre><code class="javascript"><span class="hl-9">// Création de la carte</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2&quot;</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">288074.8449901076</span><span class="hl-1">, </span><span class="hl-8">6247982.515792289</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Creation du controle</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">isoControl</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Isocurve</span><span class="hl-1">({</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Ajout à la carte</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">isoControl</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="mp"></a></p>
<a id="coordonnées-et-altitude-en-un-point-de-la-carte" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Coordonnées et altitude en un point de la carte<a href="#coordonnées-et-altitude-en-un-point-de-la-carte" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ce widget permet d'afficher les coordonnées d'un point choisi par l'internaute
sur une carte OpenLayers dans un ou plusieurs systèmes de coordonnées.
Ces coordonnées peuvent comprendre l'altitude obtenue à l'aide du service
d'altimétrie de la Géoplateforme.
Un mode &quot;édition&quot; permet de localiser des coordonnées sur la carte en éditant
les coordonnées affichées dans le widget.</p>
<p>Son utilisation se fait par la création d'un nouveau contrôle,
instance de la classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.GeoportalMousePosition.html">ol.control.GeoportalMousePosition</a>,
que l'on peut ensuite ajouter à la carte comme <a href="https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#addControl">les autres contrôles OpenLayers</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">mp</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">GeoportalMousePosition</span><span class="hl-1">(</span><span class="hl-4">opts</span><span class="hl-1">);</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">mp</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-dutilisation-4" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><a id="utilisation-simple-4" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation simple<a href="#utilisation-simple-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du widget sans paramétrage particulier.</p>
<pre><code class="javascript"><span class="hl-9">// Création de la carte</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;ORTHOIMAGERY.ORTHOPHOTOS&quot;</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">288074.8449901076</span><span class="hl-1">, </span><span class="hl-8">6247982.515792289</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Creation du controle</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">mpControl</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">GeoportalMousePosition</span><span class="hl-1">({</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Ajout à la carte</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">mpControl</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="attributions"></a></p>
<a id="affichage-dynamique-des-attributions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Affichage dynamique des attributions<a href="#affichage-dynamique-des-attributions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ce widget a pour but d'afficher les attributions associées aux couches visibles
sur la carte.
Il étend les fonctionnalités du contrôle natif d'OpenLayers (<a href="https://openlayers.org/en/latest/apidoc/module-ol_control_Attribution-Attribution.html">ol.control.Attribution</a>)
dont il hérite en permettant l'affichage des attributions en fonction
du positionnement de la carte (centre, zoom) pour les couches ayant
des originators multiples.</p>
<p>Les couches Géoplateforme (de type <a href="#WMS">WMS</a> ou <a href="#WMTS">WMTS</a>)
possèdent nativement cette propriété.
Pour les autres, le paramétrage dynamique des originators
se fait par l'adjonction à l'objet source de la couche de la propriété &quot;_originators&quot;, tableau de <a href="http://ignf.github.io/geoportal-access-lib/latest/jsdoc/Gp.Services.Config.Originator.html">Gp.Services.Config.Originator</a>.</p>
<p>Son utilisation se fait par la création d'un nouveau contrôle,
instance de la classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.GeoportalAttribution.html">ol.control.GeoportalAttribution</a>,
que l'on peut ensuite ajouter à la carte comme <a href="https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#addControl">les autres contrôles OpenLayers</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">att</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">GeoportalAttribution</span><span class="hl-1">(</span><span class="hl-4">opts</span><span class="hl-1">);</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">att</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-dutilisation-5" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><a id="utilisation-simple-5" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation simple<a href="#utilisation-simple-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du widget sans paramétrage particulier.</p>
<pre><code class="javascript"><span class="hl-9">// Création de la carte</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;ORTHOIMAGERY.ORTHOPHOTOS&quot;</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">288074.8449901076</span><span class="hl-1">, </span><span class="hl-8">6247982.515792289</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Creation du controle</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">attControl</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">GeoportalAttribution</span><span class="hl-1">({</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Ajout à la carte</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">attControl</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<a id="reverse"/>
<a id="adresse-ou-lieu-en-un-point-de-la-carte" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Adresse ou lieu en un point de la carte<a href="#adresse-ou-lieu-en-un-point-de-la-carte" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ce widget permet d'obtenir un ensemble de localisants Géographiques
(adresses, toponymes ou parcelles cadastrales) en un point ou une zone
(cercle ou emprise rectangulaire) saisie interactivement par l'internaute
çsur une carte OpenLayers.</p>
<p>Son utilisation se fait par la création d'un nouveau contrôle, instance de la
classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.ReverseGeocode.html">ol.control.ReverseGeocode</a>,
que l'on peut ensuite ajouter à la carte comme <a href="https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#addControl">les autres contrôles OpenLayers</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">reverse</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">ReverseGeocode</span><span class="hl-1">(</span><span class="hl-4">opts</span><span class="hl-1">);</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">reverse</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-dutilisation-6" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><a id="utilisation-simple-6" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation simple<a href="#utilisation-simple-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du widget sans paramétrage particulier.</p>
<pre><code class="javascript"><span class="hl-9">// Création de la carte</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2&quot;</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">288074.8449901076</span><span class="hl-1">, </span><span class="hl-8">6247982.515792289</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Creation du controle</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">rvControl</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">ReverseGeocode</span><span class="hl-1">({</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Ajout à la carte</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">rvControl</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<a id="drawing"/>
<a id="outils-de-croquis" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Outils de croquis<a href="#outils-de-croquis" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ce widget propose un ensemble d'outils de croquis
permettant de dessiner sur une carte OpenLayers :
poser des markers, dessiner des lignes, polygones ou faire des écritures dans
des styles choisis par l'internaute.</p>
<p>Son utilisation se fait par la création d'un nouveau contrôle,
instance de la classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.Drawing.html">ol.control.Drawing</a>,
que l'on peut ensuite ajouter à la carte comme <a href="https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#addControl">les autres contrôles OpenLayers</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">drawing</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Drawing</span><span class="hl-1">(</span><span class="hl-4">opts</span><span class="hl-1">);</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">drawing</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-dutilisation-7" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><a id="utilisation-simple-7" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation simple<a href="#utilisation-simple-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du widget sans paramétrage particulier.</p>
<pre><code class="javascript"><span class="hl-9">// Création de la carte</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2&quot;</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">288074.8449901076</span><span class="hl-1">, </span><span class="hl-8">6247982.515792289</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Creation du controle</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">drawControl</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Drawing</span><span class="hl-1">({</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Ajout à la carte</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">drawControl</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<a id="layerimport"/>
<a id="widget-dimport-de-couches" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Widget d'import de couches<a href="#widget-dimport-de-couches" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ce widget permet à un internaute d'importer ses propres données géographiques
dans des formats standards en superposition des données d'une carte OpenLayers.</p>
<p>Son utilisation se fait par la création d'un nouveau contrôle,
instance de la classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.LayerImport.html">ol.control.LayerImport</a>,
que l'on peut ensuite ajouter à la carte comme <a href="https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#addControl">les autres contrôles OpenLayers</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">lyrImport</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">LayerImport</span><span class="hl-1">(</span><span class="hl-4">opts</span><span class="hl-1">);</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">lyrImport</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-dutilisation-8" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><a id="utilisation-simple-8" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation simple<a href="#utilisation-simple-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du widget sans paramétrage particulier.</p>
<pre><code class="javascript"><span class="hl-9">// Création de la carte</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;ORTHOIMAGERY.ORTHOPHOTOS&quot;</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">288074.8449901076</span><span class="hl-1">, </span><span class="hl-8">6247982.515792289</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Creation du controle</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">lyrImport</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">LayerImport</span><span class="hl-1">({</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Ajout à la carte</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">lyrImport</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<a id="ep"/>
<a id="profil-altimétrique-le-long-dun-traçé" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Profil altimétrique le long d'un traçé<a href="#profil-altimétrique-le-long-dun-traçé" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ce widget permet d'afficher le profil altimétrique d'un traçé saisi
par l'internaute sur une carte OpenLayers.
Le profil est calculé à l'aide du service d'altimétrie de la Géoplateforme.</p>
<p>Son utilisation se fait par la création d'un nouveau contrôle, instance de la
classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.ElevationPath.html">ol.control.ElevationPath</a>,
que l'on peut ensuite ajouter à la carte comme <a href="https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#addControl">les autres contrôles OpenLayers</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">ep</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">ElevationPath</span><span class="hl-1">(</span><span class="hl-4">opts</span><span class="hl-1">);</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">ep</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-dutilisation-9" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-9" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><a id="utilisation-simple-9" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation simple<a href="#utilisation-simple-9" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du widget sans paramétrage particulier.</p>
<pre><code class="javascript"><span class="hl-9">// Création de la carte</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;ORTHOIMAGERY.ORTHOPHOTOS&quot;</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">288074.8449901076</span><span class="hl-1">, </span><span class="hl-8">6247982.515792289</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Creation du controle</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">ep</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">ElevationPath</span><span class="hl-1">({</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Ajout à la carte</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">ep</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<a id="measure"/>
<a id="outils-de-mesures" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Outils de mesures<a href="#outils-de-mesures" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Trois widgets sont proposés permettant à un internaute d'effectuer des mesures
sur une carte OpenLayers :
mesures de distance, de surface et d'azimuth.</p>
<p>Leur utilisation se fait par la création d'un nouveau contrôle,
instance de la classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.MeasureLength.html">ol.control.MeasureLength</a>,
pour les distances ; <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.MeasureArea.html">ol.control.MeasureArea</a>,
pour les surfaces ou <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.MeasureAzimuth.html">ol.control.MeasureAzimuth</a>
pour les mesures d'azimuth que l'on peut ensuite ajouter à la carte
comme <a href="https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#addControl">les autres contrôles OpenLayers</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">length</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">MeasureLength</span><span class="hl-1">(</span><span class="hl-4">opts</span><span class="hl-1">);</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">length</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-dutilisation-10" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-10" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><a id="utilisation-simple-10" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation simple<a href="#utilisation-simple-10" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du widget sans paramétrage particulier.</p>
<pre><code class="javascript"><span class="hl-9">// Création de la carte</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;ORTHOIMAGERY.ORTHOPHOTOS&quot;</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">288074.8449901076</span><span class="hl-1">, </span><span class="hl-8">6247982.515792289</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Creation du controle</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">length</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">MeasureLength</span><span class="hl-1">({</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Ajout à la carte</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">length</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<a id="getfeatureinfo"/>
<a id="accès-aux-informations-attributaires-des-couches" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Accès aux informations attributaires des couches<a href="#accès-aux-informations-attributaires-des-couches" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ce widget permet, au clic sur la carte,
d'afficher dans une popup les informations attributaires des couches présentes
dans la carte et spécifiées dans le widget.</p>
<p>Dans le cas des couches vecteur, ces informations correspondent aux informations
attributaires des objets localisés au point cliqué.
Dans le cas des couches raster (WMS et WMTS), c'est le contenu de la réponse
d'une requête GetFeatureInfo sur la première couche qui est affiché.</p>
<p>Lorsque le contrôle est activé pour plusieurs couches, les informations affichées
seront celles de la première couche visible rencontrée dans la carte
(en partant du haut de la pile des couches).</p>
<p>Son utilisation se fait par la création d'un nouveau contrôle,
instance de la classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.GetFeatureInfo.html">ol.control.GetFeatureInfo</a>,
que l'on peut ensuite ajouter à la carte comme <a href="https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#addControl">les autres contrôles OpenLayers</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">getFeatureInfo</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">GetFeatureInfo</span><span class="hl-1">(</span><span class="hl-4">opts</span><span class="hl-1">);</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">getFeatureInfo</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-dutilisation-11" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-11" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><a id="utilisation-simple-pour-une-seule-couche" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation simple pour une seule couche<a href="#utilisation-simple-pour-une-seule-couche" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du widget sans paramétrage particulier.</p>
<pre><code class="javascript"><span class="hl-9">// Création de la couche que l&#39;on souhaite interroger</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">orthos</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">GeoportalWMTS</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-2">&quot;ORTHOIMAGERY.ORTHOPHOTOS&quot;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Création de la carte</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-4">orthos</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> [</span><span class="hl-8">288074.8449901076</span><span class="hl-1">, </span><span class="hl-8">6247982.515792289</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Création du contrôle, et activation pour la couche orthos créée ci-dessus</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">getfeatureinfo</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">GetFeatureInfo</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">layers :</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">obj :</span><span class="hl-1"> </span><span class="hl-4">orthos</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Ajout à la carte</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">getfeatureinfo</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<a id="export"/>
<a id="widget-dexport" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Widget d'export<a href="#widget-dexport" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ce widget permet de se <strong>plugguer</strong> sur un contrôle existant afin d'exporter
le calcul dans un format donné.
L'export embarque toutes les informations nécessaire à la reconstruction du
traitement (tracé et résultat du calcul) en utilisant par exemple l'outil d'import.</p>
<p>On peut utiliser ce widget sur les contrôles suivants :</p>
<ul>
<li>itinéraire,</li>
<li>isochrone,</li>
<li>profil altimétrique</li>
</ul>
<p>Avec la possibilité de choisir le format de sortie :</p>
<ul>
<li>KML</li>
<li>GPX</li>
<li>GEOJSON (défaut)</li>
</ul>
<p>Son utilisation se fait par la création d'un nouveau contrôle,
instance de la classe <a href="https://ignf.github.io/geopf-extensions-openlayers/jsdoc/ol.control.Export.html">ol.control.Export</a>,
que l'on peut ensuite ajouter à la carte comme <a href="https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#addControl">les autres contrôles OpenLayers</a>,
de la manière suivante :</p>
<pre><code class="javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">export</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Export</span><span class="hl-1">(</span><span class="hl-4">opts</span><span class="hl-1">);</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">export</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-dutilisation-12" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-12" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Il existe différentes méthodes pour ajouter le widget.</p>
<a id="utilisation-via-les-setters" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation via les setters<a href="#utilisation-via-les-setters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du widget en utilisant les <em>setters</em></p>
<pre><code class="javascript"><span class="hl-9">// Creation du controle de calcul d&#39;itineraire</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">route</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Route</span><span class="hl-1">();</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">route</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// Ajout du controle d&#39;export</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">exportRoute</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Export</span><span class="hl-1">();</span><br/><span class="hl-4">exportRoute</span><span class="hl-1">.</span><span class="hl-0">setControl</span><span class="hl-1">(</span><span class="hl-4">route</span><span class="hl-1">);</span><br/><span class="hl-4">exportRoute</span><span class="hl-1">.</span><span class="hl-0">setTarget</span><span class="hl-1">(</span><span class="hl-4">document</span><span class="hl-1">.</span><span class="hl-0">getElementById</span><span class="hl-1">(</span><span class="hl-2">&quot;btnExportRoute&quot;</span><span class="hl-1">)); </span><span class="hl-9">// (*)</span><br/><span class="hl-4">exportRoute</span><span class="hl-1">.</span><span class="hl-0">setFormat</span><span class="hl-1">(</span><span class="hl-2">&quot;geojson&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">exportRoute</span><span class="hl-1">.</span><span class="hl-0">setName</span><span class="hl-1">(</span><span class="hl-2">&quot;export-route&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">exportRoute</span><span class="hl-1">.</span><span class="hl-0">setTitle</span><span class="hl-1">(</span><span class="hl-2">&quot;Exporter Iti&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">exportRoute</span><span class="hl-1">.</span><span class="hl-0">setMenu</span><span class="hl-1">(</span><span class="hl-3">true</span><span class="hl-1">);</span><br/><span class="hl-4">exportRoute</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;export:compute&quot;</span><span class="hl-1">, (</span><span class="hl-4">e</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> { </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Export Route&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">); });</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">exportRoute</span><span class="hl-1">);</span><br/><span class="hl-9">// (*)</span><br/><span class="hl-9">// Le bouton d&#39;export est ajouté dans la balise utilisateur pré definie &quot;btnExportRoute&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="utilisation-via-les-options" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation via les options<a href="#utilisation-via-les-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du widget avec utilisation des <em>options</em></p>
<pre><code class="javascript"><span class="hl-9">// Creation du controle de calcul d&#39;isochrone</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">iso</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Isocurve</span><span class="hl-1">();</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">iso</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// Ajout du controle d&#39;export</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">exportIso</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Export</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">control:</span><span class="hl-1"> </span><span class="hl-4">iso</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-3">null</span><span class="hl-1">, </span><span class="hl-9">// (*)</span><br/><span class="hl-1">    </span><span class="hl-4">format:</span><span class="hl-1"> </span><span class="hl-2">&quot;kml&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;export-iso&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;Exporter Iso&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">menu:</span><span class="hl-1"> </span><span class="hl-3">false</span><br/><span class="hl-1">});</span><br/><span class="hl-4">exportIso</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;export:compute&quot;</span><span class="hl-1">, (</span><span class="hl-4">e</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> { </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Export Iso&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">); });</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">exportIso</span><span class="hl-1">);</span><br/><span class="hl-9">// (*)</span><br/><span class="hl-9">// Le bouton d&#39;export est ajouté dans le widget Isocurve</span>
</code><button type="button">Copy</button></pre>

<a id="utilisation-directement-dans-le-contrôle-associé" class="tsd-anchor"></a><h5 class="tsd-anchor-link">Utilisation directement dans le contrôle associé<a href="#utilisation-directement-dans-le-contrôle-associé" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Ajout du widget directement en paramètre du contrôle associé</p>
<pre><code class="javascript"><span class="hl-9">// Creation du controle de calcul d&#39;isochrone</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">profil</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">ElevationPath</span><span class="hl-1">({ </span><span class="hl-4">export :</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">  });</span><br/><span class="hl-4">profil</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;export:compute&quot;</span><span class="hl-1">, (</span><span class="hl-4">e</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> { </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Export Profil&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">); });</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">profil</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>On peut ajouter les options du widget &quot;Export&quot; :</p>
<pre><code class="javascript"><span class="hl-9">// Creation du controle de calcul d&#39;isochrone</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">iso</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Isocurve</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">export :</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-9">// control : this, &lt;!-- implicite ! --&gt;</span><br/><span class="hl-1">      </span><span class="hl-4">target :</span><span class="hl-1"> </span><span class="hl-3">null</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">name :</span><span class="hl-1"> </span><span class="hl-2">&quot;export&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">format :</span><span class="hl-1"> </span><span class="hl-2">&quot;geojson&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;Exporter&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">menu :</span><span class="hl-1"> </span><span class="hl-3">true</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><span class="hl-4">iso</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;export:compute&quot;</span><span class="hl-1">, (</span><span class="hl-4">e</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> { </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Export Isochrone&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">); });</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">iso</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="catalog"></a></p>
<a id="widget-de-catalogue-de-couche" class="tsd-anchor"></a><h3 class="tsd-anchor-link">widget de catalogue de couche<a href="#widget-de-catalogue-de-couche" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Afficher une liste des couches du catalogue GPF avec ou sans filtrage et
avec ou sans catégorisation des données.
La sélection d'une couche permet l'ajout sur la carte.</p>
<a id="les-options" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Les options<a href="#les-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">            </span><span class="hl-15">title</span><span class="hl-1"> : </span><span class="hl-2">&quot;Gérer vos couches de données&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-15">layerLabel</span><span class="hl-1"> : </span><span class="hl-2">&quot;title&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-15">layerFilter</span><span class="hl-1"> : [],</span><br/><span class="hl-1">            </span><span class="hl-15">search</span><span class="hl-1"> : { </span><br/><span class="hl-1">                </span><span class="hl-15">display</span><span class="hl-1"> : </span><span class="hl-3">true</span><span class="hl-1">, </span><br/><span class="hl-1">                </span><span class="hl-15">criteria</span><span class="hl-1"> : [</span><br/><span class="hl-1">                    </span><span class="hl-2">&quot;name&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-2">&quot;title&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-2">&quot;description&quot;</span><br/><span class="hl-1">                ]</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-15">addToMap</span><span class="hl-1"> : </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-15">categories</span><span class="hl-1"> : [</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-15">title</span><span class="hl-1"> : </span><span class="hl-2">&quot;Données&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-15">filter</span><span class="hl-1"> : </span><span class="hl-3">null</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            ],</span><br/><span class="hl-1">            </span><span class="hl-15">configuration</span><span class="hl-1"> : {</span><br/><span class="hl-1">                </span><span class="hl-15">type</span><span class="hl-1"> : </span><span class="hl-2">&quot;json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-15">urls</span><span class="hl-1"> : [</span><br/><span class="hl-1">                    </span><span class="hl-2">&quot;https://raw.githubusercontent.com/IGNF/cartes.gouv.fr-entree-carto/main/public/data/layers.json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-2">&quot;https://raw.githubusercontent.com/IGNF/cartes.gouv.fr-entree-carto/main/public/data/edito.json&quot;</span><br/><span class="hl-1">                ]</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="les-évenements" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Les évenements<a href="#les-évenements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>On peut s'abonner à des événements :</p>
<ul>
<li>catalog:loaded</li>
<li>catalog:layer:add</li>
<li>catalog:layer:remove</li>
</ul>
<pre><code class="js"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">catalog</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Catalog</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-2">&quot;top-left&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">collapsed :</span><span class="hl-1"> </span><span class="hl-3">false</span><br/><span class="hl-1">});</span><br/><span class="hl-4">catalog</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;catalog:loaded&quot;</span><span class="hl-1">, (</span><span class="hl-4">e</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {});</span><br/><span class="hl-4">catalog</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;catalog:layer:add&quot;</span><span class="hl-1">, (</span><span class="hl-4">e</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {});</span><br/><span class="hl-4">catalog</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;catalog:layer:remove&quot;</span><span class="hl-1">, (</span><span class="hl-4">e</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {});</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">catalog</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-dutilisation-13" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-13" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Exemple complet avec toutes les options</li>
</ul>
<pre><code class="js"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">catalog</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Catalog</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-2">&quot;top-left&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layerLabel :</span><span class="hl-1"> </span><span class="hl-2">&quot;name&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">search :</span><span class="hl-1"> { </span><br/><span class="hl-1">        </span><span class="hl-4">display :</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">, </span><br/><span class="hl-1">        </span><span class="hl-4">criteria :</span><span class="hl-1"> [</span><br/><span class="hl-1">            </span><span class="hl-2">&quot;name&quot;</span><br/><span class="hl-1">        ]</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">categories :</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;Fonds de carte&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">filter :</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">field :</span><span class="hl-1"> </span><span class="hl-2">&quot;base&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">value :</span><span class="hl-1"> </span><span class="hl-2">&quot;true&quot;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;Données&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">items :</span><span class="hl-1"> [</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;Thème&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-4">default :</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-4">section :</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-4">filter :</span><span class="hl-1"> {</span><br/><span class="hl-1">                        </span><span class="hl-4">field :</span><span class="hl-1"> </span><span class="hl-2">&quot;thematic&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-4">value :</span><span class="hl-1"> [</span><span class="hl-2">&quot;Hydrologie&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Agriculture&quot;</span><span class="hl-1">,</span><span class="hl-2">&quot;Transports&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;Producteur&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-4">section :</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-4">filter :</span><span class="hl-1"> {</span><br/><span class="hl-1">                        </span><span class="hl-4">field :</span><span class="hl-1"> </span><span class="hl-2">&quot;producer&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-4">value :</span><span class="hl-1"> </span><span class="hl-2">&quot;*&quot;</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">                {</span><br/><span class="hl-1">                    </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;Autres&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-4">filter :</span><span class="hl-1"> </span><span class="hl-3">null</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            ]</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">configuration :</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">type :</span><span class="hl-1"> </span><span class="hl-2">&quot;json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">data :</span><span class="hl-1"> </span><span class="hl-4">data</span><span class="hl-1"> </span><span class="hl-9">// objet json</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">catalog</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>Option sur les catégories</li>
</ul>
<pre><code class="js"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">catalog</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Catalog</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">categories :</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">                                </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;Données&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                </span><span class="hl-4">id :</span><span class="hl-1"> </span><span class="hl-2">&quot;data&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                </span><span class="hl-4">items :</span><span class="hl-1"> [</span><br/><span class="hl-1">                                    {</span><br/><span class="hl-1">                                        </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;WMTS&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                        </span><span class="hl-4">default :</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">                                        </span><span class="hl-4">filter :</span><span class="hl-1"> {</span><br/><span class="hl-1">                                            </span><span class="hl-4">field :</span><span class="hl-1"> </span><span class="hl-2">&quot;service&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                            </span><span class="hl-4">value :</span><span class="hl-1"> </span><span class="hl-2">&quot;WMTS&quot;</span><br/><span class="hl-1">                                        }</span><br/><span class="hl-1">                                    },</span><br/><span class="hl-1">                                    {</span><br/><span class="hl-1">                                        </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;WMS&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                        </span><span class="hl-4">filter :</span><span class="hl-1"> {</span><br/><span class="hl-1">                                            </span><span class="hl-4">field :</span><span class="hl-1"> </span><span class="hl-2">&quot;service&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                            </span><span class="hl-4">value :</span><span class="hl-1"> </span><span class="hl-2">&quot;WMS&quot;</span><br/><span class="hl-1">                                        }</span><br/><span class="hl-1">                                    },</span><br/><span class="hl-1">                                    {</span><br/><span class="hl-1">                                        </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;TMS&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                        </span><span class="hl-4">filter :</span><span class="hl-1"> {</span><br/><span class="hl-1">                                            </span><span class="hl-4">field :</span><span class="hl-1"> </span><span class="hl-2">&quot;service&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                            </span><span class="hl-4">value :</span><span class="hl-1"> </span><span class="hl-2">&quot;TMS&quot;</span><br/><span class="hl-1">                                        }</span><br/><span class="hl-1">                                    },</span><br/><span class="hl-1">                                    {</span><br/><span class="hl-1">                                        </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;Tout&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                        </span><span class="hl-4">filter :</span><span class="hl-1"> </span><span class="hl-3">null</span><br/><span class="hl-1">                                    }</span><br/><span class="hl-1">                                ]</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">});</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">catalog</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<pre><code class="js"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">catalog</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Catalog</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">categories :</span><span class="hl-1"> [</span><br/><span class="hl-1">                            {</span><br/><span class="hl-1">                                </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;Données&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                </span><span class="hl-4">id :</span><span class="hl-1"> </span><span class="hl-2">&quot;data&quot;</span><br/><span class="hl-1">                            },</span><br/><span class="hl-1">                            {</span><br/><span class="hl-1">                                </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;WMTS&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                </span><span class="hl-4">default :</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">                                </span><span class="hl-4">filter :</span><span class="hl-1"> {</span><br/><span class="hl-1">                                    </span><span class="hl-4">field :</span><span class="hl-1"> </span><span class="hl-2">&quot;service&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                    </span><span class="hl-4">value :</span><span class="hl-1"> </span><span class="hl-2">&quot;WMTS&quot;</span><br/><span class="hl-1">                                }</span><br/><span class="hl-1">                            },</span><br/><span class="hl-1">                            {</span><br/><span class="hl-1">                                </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;WMS&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                </span><span class="hl-4">filter :</span><span class="hl-1"> {</span><br/><span class="hl-1">                                    </span><span class="hl-4">field :</span><span class="hl-1"> </span><span class="hl-2">&quot;service&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                    </span><span class="hl-4">value :</span><span class="hl-1"> </span><span class="hl-2">&quot;WMS&quot;</span><br/><span class="hl-1">                                }</span><br/><span class="hl-1">                            },</span><br/><span class="hl-1">                            {</span><br/><span class="hl-1">                                </span><span class="hl-4">title :</span><span class="hl-1"> </span><span class="hl-2">&quot;TMS&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                </span><span class="hl-4">default :</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">                                </span><span class="hl-4">filter :</span><span class="hl-1"> {</span><br/><span class="hl-1">                                    </span><span class="hl-4">field :</span><span class="hl-1"> </span><span class="hl-2">&quot;service&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                                    </span><span class="hl-4">value :</span><span class="hl-1"> </span><span class="hl-2">&quot;TMS&quot;</span><br/><span class="hl-1">                                }</span><br/><span class="hl-1">                            }</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">});</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">catalog</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>Option sur le filtrage des couches</li>
</ul>
<pre><code class="js"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">catalog</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Catalog</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-2">&quot;top-left&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layerLabel :</span><span class="hl-1"> </span><span class="hl-2">&quot;name&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layerFilter :</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">field :</span><span class="hl-1"> </span><span class="hl-2">&quot;service&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">value :</span><span class="hl-1"> </span><span class="hl-2">&quot;WMTS&quot;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">});</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">catalog</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="constituer-le-fichier-de-configuration-des-couches" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Constituer le fichier de configuration des couches<a href="#constituer-le-fichier-de-configuration-des-couches" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Il existe plusieurs modes :</p>
<ul>
<li>
<p>L'appel des json ou du service est embarqué au widget,
la constitution de la configuration est donc à la charge du widget.
Le widget doit donc, à son initialisation, requêter
soit les jsons,
soit le service pour obtenir la configuration.
Dans ce mode, on a plusieurs options pour surcharger le comportement :</p>
<ul>
<li>choisir l'utilisation du service ou des jsons : options.type</li>
<li>liste des urls du service ou des jsons : options.urls</li>
</ul>
<pre><code class="json"><span class="hl-1">configuration : {</span><br/><span class="hl-1">  </span><span class="hl-15">type</span><span class="hl-1"> : </span><span class="hl-2">&quot;json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-15">urls</span><span class="hl-1"> : [</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;https://raw.githubusercontent.com/IGNF/cartes.gouv.fr-entree-carto/main/public/data/layers.json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">         </span><span class="hl-2">&quot;https://raw.githubusercontent.com/IGNF/cartes.gouv.fr-entree-carto/main/public/data/edito.json&quot;</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Ex.</p>
<pre><code class="js"><span class="hl-1">  </span><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">catalog</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Catalog</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-2">&quot;top-left&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">configuration :</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-4">type :</span><span class="hl-1"> </span><span class="hl-2">&quot;json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-4">urls :</span><span class="hl-1"> [</span><br/><span class="hl-1">              </span><span class="hl-9">// INFO facultatif si la config est déjà chargée</span><br/><span class="hl-1">              </span><span class="hl-9">// &quot;https://raw.githubusercontent.com/IGNF/cartes.gouv.fr-entree-carto/main/public/data/layers.json&quot;,</span><br/><span class="hl-1">              </span><span class="hl-2">&quot;https://raw.githubusercontent.com/IGNF/cartes.gouv.fr-entree-carto/main/public/data/edito.json&quot;</span><br/><span class="hl-1">          ]</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">catalog</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p>L'appel des json ou du service est completement à la charge du developpeur.
Il doit construire le json d'entrée pour l'option de configuration.
Dans ce mode, on a plusieurs options à renseigner :</p>
<ul>
<li>choisir l'utilisation du service ou des jsons : options.type</li>
<li>fournir l'objet json : options.data</li>
</ul>
<p>Si on choisit le type:json, on doit fournir dans l'option data, le merge des jsons</p>
<pre><code class="json"><span class="hl-1">  configuration : {</span><br/><span class="hl-1">     </span><span class="hl-15">type</span><span class="hl-1"> : </span><span class="hl-2">&quot;json&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">     </span><span class="hl-15">data</span><span class="hl-1"> : {</span><span class="hl-15">...</span><span class="hl-1">} </span><span class="hl-9">// objet json</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
</ul>
<a id="spécification-du-ficher-de-configuration" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Spécification du ficher de configuration<a href="#spécification-du-ficher-de-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Les informations sur le fichier de configuration sont disponible sur le projet :
<a href="https://github.com/IGNF/geoportal-configuration">https://github.com/IGNF/geoportal-configuration</a></p>
<ul>
<li>schema : <a href="https://raw.githubusercontent.com/IGNF/geoportal-configuration/new-url/doc/schema.json">https://raw.githubusercontent.com/IGNF/geoportal-configuration/new-url/doc/schema.json</a></li>
<li>jsdoc : <a href="https://raw.githubusercontent.com/IGNF/geoportal-configuration/new-url/doc/schema.jsdoc">https://raw.githubusercontent.com/IGNF/geoportal-configuration/new-url/doc/schema.jsdoc</a></li>
<li>exemples : <a href="https://github.com/IGNF/geoportal-configuration/tree/new-url/dist">https://github.com/IGNF/geoportal-configuration/tree/new-url/dist</a></li>
</ul>
<p>D'autres informations sont disponible dans la jsdoc du projet : <a href="https://github.com/IGNF/geoportal-access-lib">https://github.com/IGNF/geoportal-access-lib</a></p>
<ul>
<li><a href="https://ignf.github.io/geoportal-access-lib/latest/jsdoc/Gp.Services.Config.html">https://ignf.github.io/geoportal-access-lib/latest/jsdoc/Gp.Services.Config.html</a></li>
<li><a href="https://ignf.github.io/geoportal-access-lib/latest/jsdoc/Gp.Services.Config.Layer.html">https://ignf.github.io/geoportal-access-lib/latest/jsdoc/Gp.Services.Config.Layer.html</a></li>
</ul>
<p align="right">(<a href="#readme-top">back to top</a>)</p>
<a id="legends"></a>
<a id="widget-des-légendes" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Widget des légendes<a href="#widget-des-légendes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Widget avec un bouton et un panneau d'affichage des légendes et des informations
des couches présentes sur la carte.</p>
<p>Il existe 2 méthodes pour intégrer des légendes :</p>
<ul>
<li>
<p>en mode auto, un écouteur sur l'ajout ou la suppression de couche sur la carte
est présent pour ajouter ou retirer une legende</p>
</li>
<li>
<p>en mode manuel, les légendes sont ajoutées via un setter :</p>
</li>
</ul>
<pre><code class="js"><span class="hl-1">    </span><span class="hl-9">// methods publics</span><br/><span class="hl-1">    </span><span class="hl-4">legends</span><span class="hl-1">.</span><span class="hl-0">adds</span><span class="hl-1">(</span><span class="hl-4">layers</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">legends</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-4">layer</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">legends</span><span class="hl-1">.</span><span class="hl-0">remove</span><span class="hl-1">(</span><span class="hl-4">layer</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="les-événements" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Les événements<a href="#les-événements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>un écouteur d'ajout de couche permet d'y ajouter une légende associée (si mode auto activé !).</li>
<li>un écouteur de suppression de couche permet de supprimer la légende associée.</li>
<li>un écouteur de modification de couche permet de mettre à jour la légende associée.</li>
</ul>
<a id="comment-obtenir-la-légende-dune-couche-" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Comment obtenir la légende d'une couche ?<a href="#comment-obtenir-la-légende-dune-couche-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><blockquote>
<p>Les légendes sont extraites du fichier d'aggregat des getcapabilities</p>
</blockquote>
<pre><code class="json"><span class="hl-1">    </span><span class="hl-9">// ex. https://github.com/IGNF/geoportal-configuration/blob/new-url/dist/transportsConfig.json</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;legends&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">            </span><span class="hl-16">&quot;format&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;image/png&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-16">&quot;url&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://data.geopf.fr/annexes/ressources/legendes/SECUROUTE.TE.1TE-legend.png&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-16">&quot;minScaleDenominator&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;8000&quot;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">    ]</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-dutilisation-14" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-14" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">legends</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Legends</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">collapse:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">draggable:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">auto:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">panel:</span><span class="hl-1"> </span><span class="hl-3">true</span><br/><span class="hl-1">});</span><br/><span class="hl-9">// methods publics</span><br/><span class="hl-4">legends</span><span class="hl-1">.</span><span class="hl-0">adds</span><span class="hl-1">(</span><span class="hl-4">layers</span><span class="hl-1">);</span><br/><span class="hl-4">legends</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-4">layer</span><span class="hl-1">);</span><br/><span class="hl-4">legends</span><span class="hl-1">.</span><span class="hl-0">remove</span><span class="hl-1">(</span><span class="hl-4">layer</span><span class="hl-1">)</span><br/><span class="hl-9">// fire events</span><br/><span class="hl-4">legends</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;legends::add&quot;</span><span class="hl-1">, </span><span class="hl-4">cb</span><span class="hl-1">);</span><br/><span class="hl-4">legends</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;legends::remove&quot;</span><span class="hl-1">, </span><span class="hl-4">cb</span><span class="hl-1">);</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">legends</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="territories"></a></p>
<a id="widget-de-centrage-sur-territoires" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Widget de centrage sur territoires<a href="#widget-de-centrage-sur-territoires" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ce widget permet de centrer la visualisation cartographique sur un territoire défini. Une configuration par défaut est disponible, mais les territoires sont également configurables.</p>
<p>Par défaut, les territoires utilisés par le widget sont définis dans le fichier &quot;Controls/Territories/Territories.json&quot;.</p>
<a id="exemples-dutilisation-15" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-15" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-1">    </span><span class="hl-9">// Ajout du contrôle de gestion  des legendes</span><br/><span class="hl-1">    </span><span class="hl-4">territories</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">Territories</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">collapsed:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">draggable:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-2">&quot;top-right&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">panel:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">auto:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">thumbnail :</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">reduce:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">tiles:</span><span class="hl-1"> </span><span class="hl-8">0</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">territories</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-9">// ajout en debut de la liste</span><br/><span class="hl-1">    </span><span class="hl-4">territories</span><span class="hl-1">.</span><span class="hl-0">setTerritory</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;id&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-2">&quot;PAR&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;title&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-2">&quot;Paris&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;description&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-2">&quot;test...&quot;</span><span class="hl-1">, </span><br/><span class="hl-1">        </span><span class="hl-2">&quot;bbox&quot;</span><span class="hl-4">:</span><span class="hl-1"> [</span><span class="hl-8">2.21</span><span class="hl-1">, </span><span class="hl-8">48.80</span><span class="hl-1">, </span><span class="hl-8">2.43</span><span class="hl-1">, </span><span class="hl-8">48.92</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;thumbnail&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-2">&quot;./PARIS.png&quot;</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-9">// ajout à la fin de la liste</span><br/><span class="hl-1">    </span><span class="hl-4">territories</span><span class="hl-1">.</span><span class="hl-0">setTerritory</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;id&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-2">&quot;UNK&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;title&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-2">&quot;territoire inconnu&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;description&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-2">&quot;&quot;</span><span class="hl-1">, </span><br/><span class="hl-1">        </span><span class="hl-2">&quot;bbox&quot;</span><span class="hl-4">:</span><span class="hl-1"> [],</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;thumbnail&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-2">&quot;&quot;</span><br/><span class="hl-1">    });</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<p><a id="overviewMap"></a></p>
<a id="widget-de-mini-carte" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Widget de mini carte<a href="#widget-de-mini-carte" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ce widget est herité du contrôle natif d'OpenLayers <a href="http://openlayers.org/en/latest/apidoc/ol.control.OverviewMap.html">ol.Control.OverviewMap</a>.</p>
<p>Par défaut, on utilise la couche <strong>GEOGRAPHICALGRIDSYSTEMS.MAPS.OVERVIEW</strong>.</p>
<a id="exemples-dutilisation-16" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-16" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">overview</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">GeoportalOverviewMap</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">position :</span><span class="hl-1"> </span><span class="hl-2">&quot;bottom-left&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">collapsed:</span><span class="hl-1"> </span><span class="hl-3">false</span><br/><span class="hl-1">});</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">overview</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<a id="zoom"></a>
<a id="widget-de-zoom" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Widget de zoom<a href="#widget-de-zoom" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ce widget est herité du contrôle natif d'OpenLayers <a href="http://openlayers.org/en/latest/apidoc/ol.control.Zoom.html">ol.Control.Zoom</a>.</p>
<a id="exemples-dutilisation-17" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-17" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">zoom</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">GeoportalZoom</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">position :</span><span class="hl-1"> </span><span class="hl-2">&quot;bottom-left&quot;</span><br/><span class="hl-1">);</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">zoom</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p>
<a id="fullscreen"></a>
<a id="widget-de-plein-écran" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Widget de plein écran<a href="#widget-de-plein-écran" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Ce widget est herité du contrôle natif d'OpenLayers <a href="http://openlayers.org/en/latest/apidoc/ol.control.FullScreen.html">ol.Control.FullScreen</a></p>
<a id="exemples-dutilisation-18" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Exemples d'utilisation<a href="#exemples-dutilisation-18" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">fullscreen</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">ol</span><span class="hl-1">.</span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-0">GeoportalFullScreen</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">position :</span><span class="hl-1"> </span><span class="hl-2">&quot;top-right&quot;</span><br/><span class="hl-1">});</span><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">fullscreen</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p align="right">(<a href="#readme-top">back to top</a>)</p></div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#extension-géoplateforme-pour-openlayers"><span>Extension <wbr/>Géoplateforme pour <wbr/>Open<wbr/>Layers</span></a><ul><li><a href="#mise-en-oeuvre"><span>Mise en oeuvre</span></a></li><li><ul><li><a href="#téléchargement"><span>Téléchargement</span></a></li><li><ul><li><a href="#téléchargement-direct"><span>Téléchargement direct</span></a></li><li><a href="#récupération-avec-npm"><span>Récupération avec NPM</span></a></li><li><a href="#accès-direct"><span>Accès direct</span></a></li></ul></li><li><a href="#intégration-dans-une-page-web"><span>Intégration dans une page web</span></a></li><li><a href="#configuration-de-laccès-à-la-géoplateforme"><span>Configuration de l&#39;accès à la <wbr/>Géoplateforme</span></a></li><li><ul><li><a href="#optimisation-du-chargement--configuration-locale"><span>Optimisation du chargement : configuration locale</span></a></li></ul></li><li><a href="#appel-de-lextension-dans-un-module-es6"><span>Appel de l&#39;extension dans un module ES6</span></a></li></ul></li><li><a href="#compatibilités"><span>Compatibilités</span></a></li><li><ul><li><a href="#versions-de-openlayers-supportées"><span>Versions de <wbr/>Open<wbr/>Layers supportées</span></a></li><li><a href="#navigateurs-supportés"><span>Navigateurs supportés</span></a></li></ul></li><li><a href="#fonctionnalités"><span>Fonctionnalités</span></a></li><li><ul><li><a href="#systèmes-de-coordonnées"><span>Systèmes de coordonnées</span></a></li><li><a href="#affichage-des-couches-wmts-géoplateforme"><span>Affichage des couches WMTS <wbr/>Géoplateforme</span></a></li><li><ul><li><a href="#utilisation-dun-layer-wmts-géoplateforme"><span>Utilisation d&#39;un layer WMTS <wbr/>Géoplateforme</span></a></li><li><ul><li><a href="#exemple-dutilisation"><span>Exemple d&#39;utilisation</span></a></li><li><a href="#affichage-en-lambert-93-epsg2154"><span>Affichage en <wbr/>Lambert 93 (EPSG:2154)</span></a></li></ul></li><li><a href="#utilisation-dune-source-wmts-géoplateforme"><span>Utilisation d&#39;une source WMTS <wbr/>Géoplateforme</span></a></li><li><ul><li><a href="#exemple-dutilisation-1"><span>Exemple d&#39;utilisation</span></a></li><li><a href="#affichage-en-lambert-93-epsg2154-1"><span>Affichage en <wbr/>Lambert 93 (EPSG:2154)</span></a></li></ul></li></ul></li><li><a href="#affichage-des-couches-wms-géoplateforme"><span>Affichage des couches WMS <wbr/>Géoplateforme</span></a></li><li><ul><li><a href="#utilisation-dun-layer-wms-géoplateforme"><span>Utilisation d&#39;un layer WMS <wbr/>Géoplateforme</span></a></li><li><ul><li><a href="#exemple-dutilisation-2"><span>Exemple d&#39;utilisation</span></a></li></ul></li><li><a href="#utilisation-dune-source-wms-géoplateforme"><span>Utilisation d&#39;une source WMS <wbr/>Géoplateforme</span></a></li><li><ul><li><a href="#exemple-dutilisation-3"><span>Exemple d&#39;utilisation</span></a></li></ul></li></ul></li><li><a href="#affichage-dune-couche-vecteur-tuilé-géoplateforme"><span>Affichage d&#39;une couche <wbr/>Vecteur <wbr/>Tuilé <wbr/>Géoplateforme</span></a></li><li><a href="#widget-de-gestion-dempilement-des-couches"><span>Widget de gestion d&#39;empilement des couches</span></a></li><li><ul><li><a href="#exemples-dutilisation"><span>Exemples d&#39;utilisation</span></a></li><li><ul><li><a href="#utilisation-simple"><span>Utilisation simple</span></a></li></ul></li></ul></li><li><a href="#barre-de-recherche"><span>Barre de recherche</span></a></li><li><ul><li><a href="#exemples-dutilisation-1"><span>Exemples d&#39;utilisation</span></a></li><li><ul><li><a href="#utilisation-simple-1"><span>Utilisation simple</span></a></li></ul></li></ul></li><li><a href="#calculs-ditinéraires"><span>Calculs d&#39;itinéraires</span></a></li><li><ul><li><a href="#exemples-dutilisation-2"><span>Exemples d&#39;utilisation</span></a></li><li><ul><li><a href="#utilisation-simple-2"><span>Utilisation simple</span></a></li></ul></li></ul></li><li><a href="#calculs-disochrones--isodistances"><span>Calculs d&#39;isochrones / isodistances</span></a></li><li><ul><li><a href="#exemples-dutilisation-3"><span>Exemples d&#39;utilisation</span></a></li><li><ul><li><a href="#utilisation-simple-3"><span>Utilisation simple</span></a></li></ul></li></ul></li><li><a href="#coordonnées-et-altitude-en-un-point-de-la-carte"><span>Coordonnées et altitude en un point de la carte</span></a></li><li><ul><li><a href="#exemples-dutilisation-4"><span>Exemples d&#39;utilisation</span></a></li><li><ul><li><a href="#utilisation-simple-4"><span>Utilisation simple</span></a></li></ul></li></ul></li><li><a href="#affichage-dynamique-des-attributions"><span>Affichage dynamique des attributions</span></a></li><li><ul><li><a href="#exemples-dutilisation-5"><span>Exemples d&#39;utilisation</span></a></li><li><ul><li><a href="#utilisation-simple-5"><span>Utilisation simple</span></a></li></ul></li></ul></li><li><a href="#adresse-ou-lieu-en-un-point-de-la-carte"><span>Adresse ou lieu en un point de la carte</span></a></li><li><ul><li><a href="#exemples-dutilisation-6"><span>Exemples d&#39;utilisation</span></a></li><li><ul><li><a href="#utilisation-simple-6"><span>Utilisation simple</span></a></li></ul></li></ul></li><li><a href="#outils-de-croquis"><span>Outils de croquis</span></a></li><li><ul><li><a href="#exemples-dutilisation-7"><span>Exemples d&#39;utilisation</span></a></li><li><ul><li><a href="#utilisation-simple-7"><span>Utilisation simple</span></a></li></ul></li></ul></li><li><a href="#widget-dimport-de-couches"><span>Widget d&#39;import de couches</span></a></li><li><ul><li><a href="#exemples-dutilisation-8"><span>Exemples d&#39;utilisation</span></a></li><li><ul><li><a href="#utilisation-simple-8"><span>Utilisation simple</span></a></li></ul></li></ul></li><li><a href="#profil-altimétrique-le-long-dun-traçé"><span>Profil altimétrique le long d&#39;un traçé</span></a></li><li><ul><li><a href="#exemples-dutilisation-9"><span>Exemples d&#39;utilisation</span></a></li><li><ul><li><a href="#utilisation-simple-9"><span>Utilisation simple</span></a></li></ul></li></ul></li><li><a href="#outils-de-mesures"><span>Outils de mesures</span></a></li><li><ul><li><a href="#exemples-dutilisation-10"><span>Exemples d&#39;utilisation</span></a></li><li><ul><li><a href="#utilisation-simple-10"><span>Utilisation simple</span></a></li></ul></li></ul></li><li><a href="#accès-aux-informations-attributaires-des-couches"><span>Accès aux informations attributaires des couches</span></a></li><li><ul><li><a href="#exemples-dutilisation-11"><span>Exemples d&#39;utilisation</span></a></li><li><ul><li><a href="#utilisation-simple-pour-une-seule-couche"><span>Utilisation simple pour une seule couche</span></a></li></ul></li></ul></li><li><a href="#widget-dexport"><span>Widget d&#39;export</span></a></li><li><ul><li><a href="#exemples-dutilisation-12"><span>Exemples d&#39;utilisation</span></a></li><li><ul><li><a href="#utilisation-via-les-setters"><span>Utilisation via les setters</span></a></li><li><a href="#utilisation-via-les-options"><span>Utilisation via les options</span></a></li><li><a href="#utilisation-directement-dans-le-contrôle-associé"><span>Utilisation directement dans le contrôle associé</span></a></li></ul></li></ul></li><li><a href="#widget-de-catalogue-de-couche"><span>widget de catalogue de couche</span></a></li><li><ul><li><a href="#les-options"><span>Les options</span></a></li><li><a href="#les-évenements"><span>Les évenements</span></a></li><li><a href="#exemples-dutilisation-13"><span>Exemples d&#39;utilisation</span></a></li><li><a href="#constituer-le-fichier-de-configuration-des-couches"><span>Constituer le fichier de configuration des couches</span></a></li><li><a href="#spécification-du-ficher-de-configuration"><span>Spécification du ficher de configuration</span></a></li></ul></li><li><a href="#widget-des-légendes"><span>Widget des légendes</span></a></li><li><ul><li><a href="#les-événements"><span>Les événements</span></a></li><li><a href="#comment-obtenir-la-légende-dune-couche-"><span>Comment obtenir la légende d&#39;une couche ?</span></a></li><li><a href="#exemples-dutilisation-14"><span>Exemples d&#39;utilisation</span></a></li></ul></li><li><a href="#widget-de-centrage-sur-territoires"><span>Widget de centrage sur territoires</span></a></li><li><ul><li><a href="#exemples-dutilisation-15"><span>Exemples d&#39;utilisation</span></a></li></ul></li><li><a href="#widget-de-mini-carte"><span>Widget de mini carte</span></a></li><li><ul><li><a href="#exemples-dutilisation-16"><span>Exemples d&#39;utilisation</span></a></li></ul></li><li><a href="#widget-de-zoom"><span>Widget de zoom</span></a></li><li><ul><li><a href="#exemples-dutilisation-17"><span>Exemples d&#39;utilisation</span></a></li></ul></li><li><a href="#widget-de-plein-écran"><span>Widget de plein écran</span></a></li><li><ul><li><a href="#exemples-dutilisation-18"><span>Exemples d&#39;utilisation</span></a></li></ul></li></ul></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://cartes.gouv.fr/cartes">cartes.gouv.fr</a><a href="https://geoportail.gouv.fr/">geoportail</a><a href="https://github.com/IGNF/geopf-extensions-openlayers">github</a></nav><nav class="tsd-navigation"><a href="../modules.html">geopf-extensions-openlayers</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
