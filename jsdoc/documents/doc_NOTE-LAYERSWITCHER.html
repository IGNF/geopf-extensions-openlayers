<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>doc/NOTE-LAYERSWITCHER | geopf-extensions-openlayers</title><meta name="description" content="Documentation for geopf-extensions-openlayers"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">geopf-extensions-openlayers</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">geopf-extensions-openlayers</a></li><li><a href="doc_NOTE-LAYERSWITCHER.html">doc/NOTE-LAYERSWITCHER</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="informations-utiles-sur-le-gestionnaire-de-couches-copilot" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Informations utiles sur le gestionnaire de couches (Copilot)<a href="#informations-utiles-sur-le-gestionnaire-de-couches-copilot" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><blockquote>
<p>Questions / Réponses realisées avec Copilot</p>
</blockquote>
<a id="voici-un-résumé-de-lutilisation-de-la-classe-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici un résumé de l’utilisation de la classe <code>LayerSwitcher</code><a href="#voici-un-résumé-de-lutilisation-de-la-classe-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="résumé-dutilisation-de-la-classe-layerswitcher" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Résumé d’utilisation de la classe LayerSwitcher<a href="#résumé-dutilisation-de-la-classe-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>La classe <code>LayerSwitcher</code> est un contrôle OpenLayers permettant à l’utilisateur de gérer dynamiquement les couches d’une carte :</p>
<ul>
<li><strong>Afficher/Masquer</strong> les couches,</li>
<li><strong>Changer l’ordre</strong> des couches (drag &amp; drop),</li>
<li><strong>Modifier l’opacité</strong>,</li>
<li><strong>Basculer en niveaux de gris</strong> (pour les couches compatibles),</li>
<li><strong>Afficher les informations</strong> (titre, description, légende, métadonnées, aperçu),</li>
<li><strong>Zoomer sur l’étendue</strong> d’une couche,</li>
<li><strong>Supprimer</strong> une couche,</li>
<li><strong>Déclencher des actions avancées</strong> via des outils personnalisés.</li>
</ul>
<a id="principales-fonctionnalités" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Principales fonctionnalités<a href="#principales-fonctionnalités" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Prend en charge tous types de couches OpenLayers (WMS, WMTS, vecteur, etc.).</li>
<li>Permet de configurer chaque couche (titre, description, légendes, métadonnées, etc.).</li>
<li>Gère les événements liés aux couches (ajout, suppression, modification de visibilité, opacité, etc.).</li>
<li>S’intègre facilement à la carte via <code>map.addControl(new LayerSwitcher(...))</code>.</li>
<li>Offre une API d’événements pour réagir aux actions utilisateur.</li>
</ul>
<a id="exemple-dutilisation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exemple d’utilisation<a href="#exemple-dutilisation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">LayerSwitcher</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;gpf-ext-ol/controls/LayerSwitcher&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">myLayer</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Ma couche&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&quot;Description de la couche&quot;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">collapsed:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">panel:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">counter:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">allowEdit:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">allowGrayScale:</span><span class="hl-1"> </span><span class="hl-3">true</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">layerSwitcher</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="événements-disponibles" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Événements disponibles<a href="#événements-disponibles" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Vous pouvez écouter les événements pour réagir aux actions :</p>
<pre><code class="javascript"><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:add&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Ajout couche&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">));</span><br/><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:remove&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Suppression couche&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">));</span><br/><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:change:opacity&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Opacité&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">opacity</span><span class="hl-1">));</span><br/><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:change:visibility&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Visibilité&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">visibility</span><span class="hl-1">));</span>
</code><button type="button">Copy</button></pre>

<hr>
<p><strong>En résumé :</strong><br>
<code>LayerSwitcher</code> facilite la gestion interactive des couches sur une carte OpenLayers,
tout en offrant de nombreuses options de personnalisation et une API d’événements riche pour les développeurs.</p>
<a id="voici-un-résumé-des-principales-options-disponibles-pour-le-contrôle-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici un résumé des principales options disponibles pour le contrôle <strong>LayerSwitcher</strong><a href="#voici-un-résumé-des-principales-options-disponibles-pour-le-contrôle-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>id</strong> : Identifiant unique du widget (utile si plusieurs LayerSwitcher sur la même page).</li>
<li><strong>collapsed</strong> <em>(booléen, défaut : true)</em> : Définit si le widget est replié (caché) ou déplié au chargement.</li>
<li><strong>draggable</strong> <em>(booléen)</em> : Permet de déplacer le panneau du LayerSwitcher à la souris.</li>
<li><strong>counter</strong> <em>(booléen)</em> : Affiche un compteur du nombre de couches visibles.</li>
<li><strong>panel</strong> <em>(booléen)</em> : Affiche un en-tête (header) dans le panneau du LayerSwitcher.</li>
<li><strong>gutter</strong> <em>(booléen)</em> : Ajoute ou retire l’espace (gutter) autour du panneau.</li>
<li><strong>allowEdit</strong> <em>(booléen, défaut : true)</em> : Affiche le bouton d’édition pour les couches éditables (vecteur).</li>
<li><strong>allowGrayScale</strong> <em>(booléen, défaut : true)</em> : Affiche le bouton N&amp;B (niveaux de gris) pour les couches compatibles.</li>
<li><strong>allowTooltips</strong> <em>(booléen, défaut : false)</em> : Active l’affichage des info-bulles (tooltips) sur les éléments du widget.</li>
<li><strong>advancedTools</strong> <em>(array)</em> : Liste d’outils personnalisés à afficher pour chaque couche (boutons d’action, icônes, callbacks, etc.).</li>
<li><strong>layers</strong> <em>(array)</em> : Liste des couches à configurer à l’initialisation, chaque entrée pouvant contenir :
<ul>
<li><strong>layer</strong> : Objet <code>ol.layer.Layer</code> à gérer.</li>
<li><strong>config</strong> : Métadonnées associées (titre, description, légendes, métadonnées, quicklookUrl, etc.).</li>
</ul>
</li>
</ul>
<hr>
<p><strong>Résumé</strong> :<br>
Les options du LayerSwitcher permettent de personnaliser l’apparence, le comportement, les fonctionnalités et les actions disponibles pour chaque couche, afin d’adapter le widget à vos besoins cartographiques et ergonomiques.</p>
<a id="voici-un-exemple-complet-dutilisation-du-contrôle-layerswitcher-avec-openlayers" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici un exemple complet d’utilisation du contrôle <strong>LayerSwitcher</strong> avec OpenLayers<a href="#voici-un-exemple-complet-dutilisation-du-contrôle-layerswitcher-avec-openlayers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="javascript"><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/ol.css&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">Map</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/Map&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">View</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/View&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">TileLayer</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/layer/Tile&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">OSM</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/source/OSM&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">VectorLayer</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/layer/Vector&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">VectorSource</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/source/Vector&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> {</span><span class="hl-4">fromLonLat</span><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/proj&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">LayerSwitcher</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;src/packages/Controls/LayerSwitcher/LayerSwitcher.js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-9">// Création des couches</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">osmLayer</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">TileLayer</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">source:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">OSM</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-4">visible:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">opacity:</span><span class="hl-1"> </span><span class="hl-8">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;Fond OpenStreetMap&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">vectorLayer</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">VectorLayer</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">source:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">VectorSource</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-4">visible:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">opacity:</span><span class="hl-1"> </span><span class="hl-8">0.7</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;Annotations&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Création de la carte</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><span class="hl-4">osmLayer</span><span class="hl-1">, </span><span class="hl-4">vectorLayer</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> </span><span class="hl-0">fromLonLat</span><span class="hl-1">([</span><span class="hl-8">2.35</span><span class="hl-1">, </span><span class="hl-8">48.85</span><span class="hl-1">]), </span><span class="hl-9">// Paris</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Ajout du LayerSwitcher avec options et métadonnées</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">osmLayer</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Fond OpenStreetMap&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&quot;Fond cartographique OSM&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">locked:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1"> </span><span class="hl-9">// couche verrouillée</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">vectorLayer</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Annotations&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&quot;Couches d’annotations éditables&quot;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">collapsed:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">panel:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">counter:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">allowEdit:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">allowGrayScale:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">allowTooltips:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">advancedTools:</span><span class="hl-1"> [</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-4">label:</span><span class="hl-1"> </span><span class="hl-2">&#39;Exporter&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">icon:</span><span class="hl-1"> </span><span class="hl-2">&#39;📤&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-0">cb</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-0">alert</span><span class="hl-1">(</span><span class="hl-2">&quot;Export de la couche : &quot;</span><span class="hl-1"> + </span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;title&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-4">label:</span><span class="hl-1"> </span><span class="hl-2">&#39;Info&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">icon:</span><span class="hl-1"> </span><span class="hl-2">&#39;&lt;svg width=&quot;16&quot; height=&quot;16&quot; fill=&quot;currentColor&quot;&gt;&lt;circle cx=&quot;8&quot; cy=&quot;8&quot; r=&quot;7&quot; stroke=&quot;black&quot; stroke-width=&quot;1&quot; fill=&quot;none&quot;/&gt;&lt;text x=&quot;8&quot; y=&quot;12&quot; text-anchor=&quot;middle&quot; font-size=&quot;10&quot; fill=&quot;black&quot;&gt;i&lt;/text&gt;&lt;/svg&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-9">// Pas de cb : déclenche l&#39;événement layerswitcher:custom</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        ]</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">layerSwitcher</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// Exemple d’écoute d’événements</span><br/><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:add&quot;</span><span class="hl-1">, </span><span class="hl-3">function</span><span class="hl-1"> (</span><span class="hl-4">e</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Couche ajoutée :&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:remove&quot;</span><span class="hl-1">, </span><span class="hl-3">function</span><span class="hl-1"> (</span><span class="hl-4">e</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Couche supprimée :&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:edit&quot;</span><span class="hl-1">, </span><span class="hl-3">function</span><span class="hl-1"> (</span><span class="hl-4">e</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">alert</span><span class="hl-1">(</span><span class="hl-2">&quot;Edition de la couche : &quot;</span><span class="hl-1"> + </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;title&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">});</span><br/><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:custom&quot;</span><span class="hl-1">, </span><span class="hl-3">function</span><span class="hl-1"> (</span><span class="hl-4">e</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">alert</span><span class="hl-1">(</span><span class="hl-2">&quot;Action personnalisée sur : &quot;</span><span class="hl-1"> + </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;title&quot;</span><span class="hl-1">) + </span><span class="hl-2">&quot; (&quot;</span><span class="hl-1"> + </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">action</span><span class="hl-1"> + </span><span class="hl-2">&quot;)&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>À placer dans une page HTML avec un conteneur</strong> :</p>
<pre><code class="html"><span class="hl-10">&lt;</span><span class="hl-11">div</span><span class="hl-1"> </span><span class="hl-12">id</span><span class="hl-1">=</span><span class="hl-13">&quot;map&quot;</span><span class="hl-1"> </span><span class="hl-12">style</span><span class="hl-1">=</span><span class="hl-13">&quot;width:100%;height:600px;&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">type</span><span class="hl-14">=</span><span class="hl-13">&quot;module&quot;</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;example-layerswitcher.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span>
</code><button type="button">Copy</button></pre>

<hr>
<p><strong>Ce que montre cet exemple :</strong></p>
<ul>
<li>Création de couches raster et vecteur,</li>
<li>Ajout de métadonnées (titre, description, verrouillage),</li>
<li>Activation des options avancées (édition, N&amp;B, tooltips, outils personnalisés),</li>
<li>Gestion des événements du LayerSwitcher,</li>
<li>Utilisation d’outils avancés avec ou sans callback.</li>
</ul>
<p>Cet exemple est prêt à l’emploi pour tester toutes les fonctionnalités principales du LayerSwitcher.</p>
<a id="voici-une-explication-sur-lobjet-layeroptions-dans-le-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici une explication sur l’objet <code>layerOptions</code> dans le LayerSwitcher<a href="#voici-une-explication-sur-lobjet-layeroptions-dans-le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="fonctionnement-de-lobjet-layeroptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fonctionnement de l’objet <code>layerOptions</code><a href="#fonctionnement-de-lobjet-layeroptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>L’objet <code>layerOptions</code> est une structure centrale utilisée en interne par le LayerSwitcher pour stocker toutes les informations et états associés à chaque couche affichée dans le widget.</p>
<a id="où-est-il-créé" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Où est-il créé ?<a href="#où-est-il-créé" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>layerOptions</code> est construit dans la méthode privée <code>_createLayerDiv(layerOptions)</code> et lors de l’ajout d’une couche via <code>addLayer</code> ou <code>_addMapLayers</code>.<br>
Il regroupe à la fois :</p>
<ul>
<li>les propriétés de la couche OpenLayers (<code>layer</code>, <code>id</code>, <code>opacity</code>, <code>visibility</code>, etc.),</li>
<li>les métadonnées de configuration (titre, description, légendes, etc.),</li>
<li>les états d’interface (editable, grayable, inRange, locked, etc.),</li>
<li>les références DOM (div associée à la couche).</li>
</ul>
<a id="principaux-champs-de-layeroptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Principaux champs de <code>layerOptions</code> :<a href="#principaux-champs-de-layeroptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>layer</strong> : la référence à l’objet <code>ol.layer.Layer</code> concerné.</li>
<li><strong>id</strong> : identifiant unique de la couche dans le LayerSwitcher.</li>
<li><strong>name, service, type</strong> : informations complémentaires (souvent pour les couches Geoportail).</li>
<li><strong>opacity, visibility, grayscale, locked</strong> : états d’affichage de la couche.</li>
<li><strong>inRange</strong> : indique si la couche est visible dans la vue courante (zoom/emprise).</li>
<li><strong>title, description</strong> : informations affichées dans la liste et les tooltips.</li>
<li><strong>legends, metadata, quicklookUrl</strong> : ressources associées à la couche.</li>
<li><strong>editable, grayable</strong> : indique si la couche est éditable ou peut passer en N&amp;B.</li>
<li><strong>advancedTools</strong> : liste des outils personnalisés à afficher pour la couche.</li>
<li><strong>div</strong> : référence à la div DOM représentant la couche dans le LayerSwitcher.</li>
</ul>
<a id="utilité" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Utilité<a href="#utilité" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Permet de centraliser toutes les informations nécessaires à l’affichage, à l’interaction et à la gestion de chaque couche dans le widget.</li>
<li>Facilite la synchronisation entre l’état de la carte, la configuration utilisateur et l’interface graphique.</li>
<li>Sert de point d’accès unique pour toutes les opérations (édition, suppression, changement d’opacité, etc.).</li>
</ul>
<hr>
<p><strong>Résumé :</strong><br>
<code>layerOptions</code> est l’objet de référence pour chaque couche dans le LayerSwitcher : il regroupe toutes les données, états et références nécessaires à la gestion et à l’affichage de la couche dans le widget.</p>
<a id="voici-une-explication-sur-la-notion-de-couches-«grisées»-hors-plage-de-visibilité-via-isinrange-dans-la-classe-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici une explication sur la notion de couches « grisées » (hors plage de visibilité, via <code>isInRange</code>) dans la classe <code>LayerSwitcher</code><a href="#voici-une-explication-sur-la-notion-de-couches-«grisées»-hors-plage-de-visibilité-via-isinrange-dans-la-classe-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="couches-grisées-isinrange" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Couches grisées (isInRange)<a href="#couches-grisées-isinrange" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Dans le widget <strong>LayerSwitcher</strong>, une couche peut apparaître « grisée » dans la liste des couches. Cela signifie que la couche n’est <strong>pas visible</strong> dans la vue courante de la carte, pour l’une des raisons suivantes :</p>
<ul>
<li>
<p><strong>Niveau de zoom inadapté</strong> :<br>
La résolution actuelle de la carte (zoom) ne correspond pas à la plage de zoom définie pour la couche (<code>minResolution</code>/<code>maxResolution</code>).<br>
Exemple : une couche n’est visible qu’à grande échelle, mais l’utilisateur est trop dézoomé.</p>
</li>
<li>
<p><strong>Étendue géographique non couverte</strong> :<br>
L’emprise actuelle de la carte (la zone affichée) ne recoupe pas l’étendue spatiale définie pour la couche (<code>extent</code>).<br>
Exemple : la couche ne couvre que la France, mais l’utilisateur regarde l’Afrique.</p>
</li>
</ul>
<a id="fonctionnement-dans-le-code" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fonctionnement dans le code<a href="#fonctionnement-dans-le-code" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>La méthode <code>isInRange(layer, map)</code> vérifie ces deux critères :</p>
<ul>
<li>Si la résolution de la carte est hors de la plage de la couche, ou</li>
<li>Si l’étendue de la carte n’intersecte pas celle de la couche.</li>
</ul>
<p>Si l’un de ces cas est vrai, la couche est considérée comme « hors plage » et la classe CSS <code>outOfRange</code> est ajoutée à son élément DOM dans la liste.<br>
Visuellement, cela la grise et affiche un message d’information au survol.</p>
<a id="utilité-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Utilité<a href="#utilité-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Informer l’utilisateur</strong> que la couche n’est pas visible dans la vue courante, sans la masquer de la liste.</li>
<li><strong>Éviter la confusion</strong> : l’utilisateur comprend pourquoi une couche n’apparaît pas sur la carte.</li>
<li><strong>Accessibilité</strong> : un message d’info est ajouté au survol du nom de la couche.</li>
</ul>
<hr>
<p><strong>Résumé :</strong><br>
Une couche « grisée » dans le LayerSwitcher indique qu’elle n’est pas visible à cause du zoom ou de l’emprise courante. Cela améliore l’expérience utilisateur en rendant explicite la raison de l’absence de la couche sur la carte.</p>
<a id="voici-une-explication-concernant-les-couches-verrouillées-dans-le-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici une explication concernant les couches verrouillées dans le LayerSwitcher<a href="#voici-une-explication-concernant-les-couches-verrouillées-dans-le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="couches-verrouillées-locked" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Couches verrouillées (locked)<a href="#couches-verrouillées-locked" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Dans le widget <strong>LayerSwitcher</strong>, une couche peut être affichée comme « verrouillée ».<br>
Cela signifie que certaines actions sur cette couche sont désactivées pour l’utilisateur, généralement pour éviter sa suppression ou la modification de ses propriétés essentielles.</p>
<a id="fonctionnement" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fonctionnement<a href="#fonctionnement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Une couche verrouillée affiche une icône de cadenas ou un indicateur visuel spécifique dans la liste des couches.</li>
<li>Les boutons d’action associés à la couche (suppression, édition, modification de visibilité, etc.) peuvent être désactivés ou masqués.</li>
<li>Le verrouillage peut être défini lors de la configuration de la couche, par exemple via une propriété <code>locked: true</code> dans la configuration passée au LayerSwitcher.</li>
</ul>
<a id="utilité-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Utilité<a href="#utilité-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Protéger les couches critiques</strong> : Empêcher la suppression ou la modification accidentelle de couches de fond, de référence ou indispensables à l’application.</li>
<li><strong>Clarifier l’interface</strong> : L’utilisateur comprend immédiatement qu’il ne peut pas agir sur cette couche, ce qui évite les erreurs et la confusion.</li>
</ul>
<a id="exemple-de-configuration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exemple de configuration<a href="#exemple-de-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">baseLayer</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Fond de carte&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">locked:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1"> </span><span class="hl-9">// Cette couche sera verrouillée</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<p><strong>Résumé :</strong><br>
Une couche verrouillée dans le LayerSwitcher est protégée contre certaines actions utilisateur (suppression, édition, etc.), ce qui garantit la stabilité et la cohérence de la carte affichée.</p>
<a id="voici-une-explication-concernant-les-couches-dites-éditables-dans-le-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici une explication concernant les couches dites <strong>éditables</strong> dans le LayerSwitcher<a href="#voici-une-explication-concernant-les-couches-dites-éditables-dans-le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="couches-éditables-editable" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Couches éditables (editable)<a href="#couches-éditables-editable" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Dans le widget <strong>LayerSwitcher</strong>, une couche peut être marquée comme « éditable ».
Cela signifie que l’utilisateur a la possibilité de modifier le contenu ou le style de cette couche directement depuis l’interface du LayerSwitcher.</p>
<a id="fonctionnement-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fonctionnement<a href="#fonctionnement-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Une couche éditable affiche un bouton ou une icône d’édition dans la liste des couches.</li>
<li>En cliquant sur ce bouton, l’utilisateur peut accéder à des outils permettant :
<ul>
<li>d’ajouter, modifier ou supprimer des objets géographiques (pour les couches vecteur),</li>
<li>de changer le style ou les propriétés de la couche,</li>
<li>ou d’ouvrir un panneau d’édition dédié selon la configuration.</li>
</ul>
</li>
<li>L’éditabilité est généralement activée pour les couches de type vecteur, via une propriété <code>allowEdit: true</code> dans la configuration du LayerSwitcher ou de la couche.</li>
</ul>
<a id="utilité-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Utilité<a href="#utilité-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Permettre la saisie ou la correction de données</strong> directement sur la carte.</li>
<li><strong>Personnaliser l’apparence</strong> ou le contenu d’une couche sans quitter l’application.</li>
<li><strong>Faciliter la gestion collaborative</strong> des données cartographiques.</li>
</ul>
<a id="exemple-de-configuration-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exemple de configuration<a href="#exemple-de-configuration-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">vectorLayer</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Annotations&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-9">// L’option allowEdit peut aussi être définie globalement dans options</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">allowEdit:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1"> </span><span class="hl-9">// Active l’édition pour les couches compatibles</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<p><strong>Résumé :</strong><br>
Une couche éditable dans le LayerSwitcher permet à l’utilisateur de modifier son contenu ou son style via l’interface, principalement pour les couches vecteur, ce qui enrichit l’interactivité et la personnalisation de la carte.</p>
<a id="voici-une-explication-concernant-les-couches-en-mode-nb-niveaux-de-gris-dans-le-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici une explication concernant les couches en mode <strong>N&amp;B</strong> (niveaux de gris) dans le LayerSwitcher<a href="#voici-une-explication-concernant-les-couches-en-mode-nb-niveaux-de-gris-dans-le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="couches-en-mode-nb-niveaux-de-gris" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Couches en mode N&amp;B (niveaux de gris)<a href="#couches-en-mode-nb-niveaux-de-gris" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Dans le widget <strong>LayerSwitcher</strong>, certaines couches peuvent être affichées en mode « noir et blanc » (N&amp;B), aussi appelé mode <strong>niveaux de gris</strong>.<br>
Cette fonctionnalité permet de désaturer l’affichage d’une couche pour la rendre visuellement moins dominante ou pour mettre en valeur d’autres informations cartographiques superposées.</p>
<a id="fonctionnement-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fonctionnement<a href="#fonctionnement-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Un bouton ou une option « N&amp;B » (grayscale) est disponible pour chaque couche compatible (principalement les couches raster, comme WMS ou WMTS).</li>
<li>Lorsque l’utilisateur active ce mode, la couche est affichée en niveaux de gris sur la carte.</li>
<li>Techniquement, cela peut être réalisé via un filtre CSS appliqué au rendu de la couche, ou via une modification du style côté serveur ou client.</li>
<li>L’état N&amp;B est conservé tant que l’utilisateur ne le désactive pas.</li>
</ul>
<a id="utilité-4" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Utilité<a href="#utilité-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Améliorer la lisibilité</strong> : Le mode N&amp;B permet de faire ressortir des couches thématiques ou des annotations colorées en atténuant le fond cartographique.</li>
<li><strong>Personnalisation</strong> : L’utilisateur peut adapter l’apparence des couches selon ses besoins d’analyse ou de présentation.</li>
<li><strong>Accessibilité</strong> : Peut aider certains utilisateurs à mieux distinguer les informations importantes.</li>
</ul>
<a id="exemple-de-configuration-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exemple de configuration<a href="#exemple-de-configuration-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">rasterLayer</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Ortho N&amp;B&quot;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">allowGrayScale:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1"> </span><span class="hl-9">// Active le bouton N&amp;B pour les couches compatibles</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<p><strong>Résumé :</strong><br>
Le mode N&amp;B dans le LayerSwitcher permet d’afficher certaines couches en niveaux de gris, offrant ainsi une meilleure lisibilité et une personnalisation avancée de la carte pour l’utilisateur.</p>
<a id="voici-une-explication-concernant-les-actions-utilisateurs-via-loption-advancedtools-dans-le-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici une explication concernant les <strong>actions utilisateurs via l’option <code>advancedTools</code></strong> dans le LayerSwitcher<a href="#voici-une-explication-concernant-les-actions-utilisateurs-via-loption-advancedtools-dans-le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="actions-utilisateurs-via-loption-advancedtools" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Actions utilisateurs via l’option <code>advancedTools</code><a href="#actions-utilisateurs-via-loption-advancedtools" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>L’option <strong><code>advancedTools</code></strong> du LayerSwitcher permet d’ajouter des boutons ou outils personnalisés pour chaque couche dans la liste des couches.<br>
Ces outils offrent à l’utilisateur des actions avancées ou spécifiques, adaptées à vos besoins métier.</p>
<a id="fonctionnement-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fonctionnement<a href="#fonctionnement-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>L’option <code>advancedTools</code> est un tableau d’objets, chaque objet représentant un outil personnalisé.</li>
<li>Pour chaque outil, vous pouvez définir :
<ul>
<li><code>label</code> : le texte affiché sur le bouton,</li>
<li><code>icon</code> : une icône SVG ou une URL d’image,</li>
<li><code>cb</code> : une fonction callback exécutée lors du clic sur l’outil (reçoit en paramètres l’événement, le LayerSwitcher, la couche concernée, et les options de l’outil),</li>
<li><code>styles</code> : des styles CSS personnalisés pour le bouton.</li>
</ul>
</li>
<li>Les outils apparaissent dans l’interface du LayerSwitcher, à côté de chaque couche.</li>
</ul>
<a id="utilité-5" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Utilité<a href="#utilité-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Ajouter des fonctionnalités spécifiques</strong> à vos couches (export, analyse, affichage de popups, etc.).</li>
<li><strong>Personnaliser l’expérience utilisateur</strong> en proposant des actions adaptées à chaque couche.</li>
<li><strong>Centraliser les outils</strong> liés à la gestion des couches dans une interface unique.</li>
</ul>
<a id="exemple-de-configuration-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exemple de configuration<a href="#exemple-de-configuration-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">myLayer</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Ma couche&quot;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">advancedTools:</span><span class="hl-1"> [</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-4">label:</span><span class="hl-1"> </span><span class="hl-2">&quot;Exporter&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">icon:</span><span class="hl-1"> </span><span class="hl-2">&quot;📤&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-0">cb</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">layerSwitcher</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-9">// Action personnalisée à exécuter</span><br/><span class="hl-1">                    </span><span class="hl-0">alert</span><span class="hl-1">(</span><span class="hl-2">&quot;Export de la couche : &quot;</span><span class="hl-1"> + </span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;title&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">                </span><span class="hl-4">styles:</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-4">color:</span><span class="hl-1"> </span><span class="hl-2">&quot;blue&quot;</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        ]</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-de-possibilités-des-actions-utilisateurs-advancedtools" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exemples de possibilités des actions utilisateurs (<code>advancedTools</code>)<a href="#exemples-de-possibilités-des-actions-utilisateurs-advancedtools" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>L’option <code>advancedTools</code> permet d’ajouter une grande variété de boutons d’action personnalisés pour chaque couche dans le LayerSwitcher.<br>
Voici quelques exemples concrets :</p>
<ul>
<li>
<p><strong>Bouton avec icône SVG inline</strong><br>
Permet d’ajouter un bouton avec une icône vectorielle personnalisée et une action JavaScript :</p>
<pre><code class="javascript"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-5">label</span><span class="hl-1">: </span><span class="hl-2">&#39;One&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">icon</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;svg ...&gt;&lt;/svg&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">cb</span><span class="hl-1">: (</span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Action One&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Bouton sans icône (icône par défaut)</strong><br>
Un simple bouton texte qui déclenche une action :</p>
<pre><code class="javascript"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-5">label</span><span class="hl-1">: </span><span class="hl-2">&#39;Two&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">cb</span><span class="hl-1">: (</span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Action Two&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Bouton avec icône depuis une URL</strong><br>
Pratique pour réutiliser des pictogrammes existants :</p>
<pre><code class="javascript"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-5">label</span><span class="hl-1">: </span><span class="hl-2">&#39;Three&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">icon</span><span class="hl-1">: </span><span class="hl-2">&#39;url/vers/mon-icone.svg&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">cb</span><span class="hl-1">: () </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-4">window</span><span class="hl-1">.</span><span class="hl-4">history</span><span class="hl-1">.</span><span class="hl-0">back</span><span class="hl-1">()</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Bouton de notification ou d’intégration avec d’autres systèmes</strong><br>
Par exemple, pour publier un événement ou notifier l’application :</p>
<pre><code class="javascript"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-5">label</span><span class="hl-1">: </span><span class="hl-2">&#39;Four&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">icon</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;svg ...&gt;&lt;/svg&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">cb</span><span class="hl-1">: (</span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-9">// Publier une notification, ouvrir un panneau, etc.</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Bouton stylisé</strong><br>
Vous pouvez personnaliser le style du bouton via la propriété <code>styles</code> :</p>
<pre><code class="javascript"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-5">label</span><span class="hl-1">: </span><span class="hl-2">&#39;Exporter&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">icon</span><span class="hl-1">: </span><span class="hl-2">&#39;📤&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">cb</span><span class="hl-1">: (</span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">alert</span><span class="hl-1">(</span><span class="hl-2">&quot;Export de la couche : &quot;</span><span class="hl-1"> + </span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;title&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-5">styles</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-5">color</span><span class="hl-1">: </span><span class="hl-2">&quot;blue&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Bouton avec un icone dsfr</strong><br>
Permet d'utiliser les icones du DSFR :</p>
<pre><code class="javascript"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-5">label</span><span class="hl-1">: </span><span class="hl-2">&#39;Exporter&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">icon</span><span class="hl-1">: </span><span class="hl-2">&#39;fr-icon-export&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">cb</span><span class="hl-1">: (</span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">alert</span><span class="hl-1">(</span><span class="hl-2">&quot;Export de la couche : &quot;</span><span class="hl-1"> + </span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;title&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-5">styles</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-5">color</span><span class="hl-1">: </span><span class="hl-2">&quot;blue&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
</ul>
<p>Si l’option <code>cb</code> n’est pas renseignée dans un objet <code>advancedTools</code>, le bouton est tout de même affiché et, lors du clic, <strong>un événement personnalisé est déclenché</strong> par le LayerSwitcher (généralement <code>layerswitcher:custom</code>).<br>
Cet événement contient les informations sur le bouton cliqué, la couche concernée, etc.</p>
<p><strong>Exemple d’utilisation :</strong></p>
<pre><code class="javascript"><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:custom&quot;</span><span class="hl-1">, (</span><span class="hl-4">e</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-9">// e contient : event, layerSwitcher, layer, options (du bouton)</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Action custom déclenchée :&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Cela permet de centraliser la gestion des actions non définies directement par une fonction <code>cb</code>, et d’ajouter des comportements dynamiques ou contextuels selon le bouton cliqué.</p>
<hr>
<p><strong>Résumé :</strong><br>
L’option <code>advancedTools</code> du LayerSwitcher permet d’ajouter facilement des boutons d’action personnalisés pour chaque couche, afin d’enrichir l’interface et de proposer des fonctionnalités avancées adaptées à vos besoins.</p>
<a id="voici-une-explication-détaillée-du-fonctionnement-des-tooltips-dans-le-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici une explication détaillée du fonctionnement des <strong>tooltips</strong> dans le LayerSwitcher<a href="#voici-une-explication-détaillée-du-fonctionnement-des-tooltips-dans-le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><hr>
<a id="fonctionnement-des-tooltips-dans-le-layerswitcher" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fonctionnement des tooltips dans le LayerSwitcher<a href="#fonctionnement-des-tooltips-dans-le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Le LayerSwitcher propose une option <code>allowTooltips</code> qui permet d’afficher des info-bulles (tooltips) sur les éléments de l’interface, afin d’améliorer l’ergonomie et l’accessibilité.</p>
<a id="initialisation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Initialisation<a href="#initialisation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Lors de l’ajout du contrôle à la carte (<code>setMap</code>), si l’option <code>allowTooltips</code> est activée, le module <code>ToolTips</code> initialise un conteneur HTML dédié pour les info-bulles.</li>
<li>Ce conteneur est un <code>&lt;div&gt;</code> positionné en absolu, stylisé pour ressembler à une info-bulle classique.</li>
</ul>
<a id="activation-sur-les-éléments" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Activation sur les éléments<a href="#activation-sur-les-éléments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Chaque nom de couche du LayerSwitcher recoit un attribut <code>data-tooltip</code> contenant le texte à afficher.</li>
<li>Le module <code>ToolTips</code> ajoute des écouteurs d’événements <code>mouseenter</code> et <code>mouseleave</code> sur ces éléments :
<ul>
<li>Au survol (<code>mouseenter</code>), le contenu du tooltip est affiché près du curseur.</li>
<li>À la sortie (<code>mouseleave</code>), le tooltip disparaît.</li>
</ul>
</li>
</ul>
<a id="contenu-des-tooltips" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Contenu des tooltips<a href="#contenu-des-tooltips" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Pour le nom d’une couche, le tooltip affiche généralement le titre complet ou la description.</li>
<li>Pour les couches hors plage ou verrouillées, un message spécifique explique la raison de l’état.</li>
</ul>
<a id="utilité-6" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Utilité<a href="#utilité-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Accessibilité</strong> : Les tooltips aident à comprendre la fonction de chaque élément, même sans documentation.</li>
<li><strong>Aide contextuelle</strong> : Ils fournissent des explications sur l’état ou l’action possible.</li>
<li><strong>Ergonomie</strong> : Ils évitent la surcharge visuelle tout en offrant une aide à la demande.</li>
</ul>
<a id="exemple-dactivation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exemple d’activation<a href="#exemple-dactivation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">allowTooltips:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1"> </span><span class="hl-9">// Active l’affichage des tooltips</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<p><strong>Résumé :</strong><br>
Les tooltips dans le LayerSwitcher sont des info-bulles contextuelles qui s’affichent au survol des éléments, facilitant la compréhension et l’utilisation du gestionnaire de couches, notamment pour les utilisateurs novices ou en situation de handicap.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#informations-utiles-sur-le-gestionnaire-de-couches-copilot"><span>Informations utiles sur le gestionnaire de couches (<wbr/>Copilot)</span></a><ul><li><a href="#voici-un-résumé-de-lutilisation-de-la-classe-layerswitcher"><span>Voici un résumé de l’utilisation de la classe <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#résumé-dutilisation-de-la-classe-layerswitcher"><span>Résumé d’utilisation de la classe <wbr/>Layer<wbr/>Switcher</span></a></li><li><a href="#principales-fonctionnalités"><span>Principales fonctionnalités</span></a></li><li><a href="#exemple-dutilisation"><span>Exemple d’utilisation</span></a></li><li><a href="#événements-disponibles"><span>Événements disponibles</span></a></li></ul></li><li><a href="#voici-un-résumé-des-principales-options-disponibles-pour-le-contrôle-layerswitcher"><span>Voici un résumé des principales options disponibles pour le contrôle <wbr/>Layer<wbr/>Switcher</span></a></li><li><a href="#voici-un-exemple-complet-dutilisation-du-contrôle-layerswitcher-avec-openlayers"><span>Voici un exemple complet d’utilisation du contrôle <wbr/>Layer<wbr/>Switcher avec <wbr/>Open<wbr/>Layers</span></a></li><li><a href="#voici-une-explication-sur-lobjet-layeroptions-dans-le-layerswitcher"><span>Voici une explication sur l’objet layer<wbr/>Options dans le <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#fonctionnement-de-lobjet-layeroptions"><span>Fonctionnement de l’objet layer<wbr/>Options</span></a></li><li><a href="#où-est-il-créé"><span>Où est-<wbr/>il créé ?</span></a></li><li><a href="#principaux-champs-de-layeroptions"><span>Principaux champs de layer<wbr/>Options :</span></a></li><li><a href="#utilité"><span>Utilité</span></a></li></ul></li><li><a href="#voici-une-explication-sur-la-notion-de-couches-«grisées»-hors-plage-de-visibilité-via-isinrange-dans-la-classe-layerswitcher"><span>Voici une explication sur la notion de couches « grisées » (hors plage de visibilité, via is<wbr/>In<wbr/>Range) dans la classe <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#couches-grisées-isinrange"><span>Couches grisées (is<wbr/>In<wbr/>Range)</span></a></li><li><a href="#fonctionnement-dans-le-code"><span>Fonctionnement dans le code</span></a></li><li><a href="#utilité-1"><span>Utilité</span></a></li></ul></li><li><a href="#voici-une-explication-concernant-les-couches-verrouillées-dans-le-layerswitcher"><span>Voici une explication concernant les couches verrouillées dans le <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#couches-verrouillées-locked"><span>Couches verrouillées (locked)</span></a></li><li><a href="#fonctionnement"><span>Fonctionnement</span></a></li><li><a href="#utilité-2"><span>Utilité</span></a></li><li><a href="#exemple-de-configuration"><span>Exemple de configuration</span></a></li></ul></li><li><a href="#voici-une-explication-concernant-les-couches-dites-éditables-dans-le-layerswitcher"><span>Voici une explication concernant les couches dites éditables dans le <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#couches-éditables-editable"><span>Couches éditables (editable)</span></a></li><li><a href="#fonctionnement-1"><span>Fonctionnement</span></a></li><li><a href="#utilité-3"><span>Utilité</span></a></li><li><a href="#exemple-de-configuration-1"><span>Exemple de configuration</span></a></li></ul></li><li><a href="#voici-une-explication-concernant-les-couches-en-mode-nb-niveaux-de-gris-dans-le-layerswitcher"><span>Voici une explication concernant les couches en mode <wbr/>N&amp;<wbr/>B (niveaux de gris) dans le <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#couches-en-mode-nb-niveaux-de-gris"><span>Couches en mode <wbr/>N&amp;<wbr/>B (niveaux de gris)</span></a></li><li><a href="#fonctionnement-2"><span>Fonctionnement</span></a></li><li><a href="#utilité-4"><span>Utilité</span></a></li><li><a href="#exemple-de-configuration-2"><span>Exemple de configuration</span></a></li></ul></li><li><a href="#voici-une-explication-concernant-les-actions-utilisateurs-via-loption-advancedtools-dans-le-layerswitcher"><span>Voici une explication concernant les actions utilisateurs via l’option advanced<wbr/>Tools dans le <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#actions-utilisateurs-via-loption-advancedtools"><span>Actions utilisateurs via l’option advanced<wbr/>Tools</span></a></li><li><a href="#fonctionnement-3"><span>Fonctionnement</span></a></li><li><a href="#utilité-5"><span>Utilité</span></a></li><li><a href="#exemple-de-configuration-3"><span>Exemple de configuration</span></a></li><li><a href="#exemples-de-possibilités-des-actions-utilisateurs-advancedtools"><span>Exemples de possibilités des actions utilisateurs (advanced<wbr/>Tools)</span></a></li></ul></li><li><a href="#voici-une-explication-détaillée-du-fonctionnement-des-tooltips-dans-le-layerswitcher"><span>Voici une explication détaillée du fonctionnement des tooltips dans le <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#fonctionnement-des-tooltips-dans-le-layerswitcher"><span>Fonctionnement des tooltips dans le <wbr/>Layer<wbr/>Switcher</span></a></li><li><a href="#initialisation"><span>Initialisation</span></a></li><li><a href="#activation-sur-les-éléments"><span>Activation sur les éléments</span></a></li><li><a href="#contenu-des-tooltips"><span>Contenu des tooltips</span></a></li><li><a href="#utilité-6"><span>Utilité</span></a></li><li><a href="#exemple-dactivation"><span>Exemple d’activation</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://cartes.gouv.fr/cartes">cartes.gouv.fr</a><a href="https://geoportail.gouv.fr/">geoportail</a><a href="https://github.com/IGNF/geopf-extensions-openlayers">github</a></nav><nav class="tsd-navigation"><a href="../modules.html">geopf-extensions-openlayers</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
