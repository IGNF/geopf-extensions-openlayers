<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>doc/NOTE-LAYERSWITCHER | geopf-extensions-openlayers</title><meta name="description" content="Documentation for geopf-extensions-openlayers"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">geopf-extensions-openlayers</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">geopf-extensions-openlayers</a></li><li><a href="doc_NOTE-LAYERSWITCHER.html">doc/NOTE-LAYERSWITCHER</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="informations-utiles-sur-le-gestionnaire-de-couches-copilot" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Informations utiles sur le gestionnaire de couches (Copilot)<a href="#informations-utiles-sur-le-gestionnaire-de-couches-copilot" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><blockquote>
<p>Questions / RÃ©ponses realisÃ©es avec Copilot</p>
</blockquote>
<a id="voici-un-rÃ©sumÃ©-de-lutilisation-de-la-classe-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici un rÃ©sumÃ© de lâ€™utilisation de la classe <code>LayerSwitcher</code><a href="#voici-un-rÃ©sumÃ©-de-lutilisation-de-la-classe-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="rÃ©sumÃ©-dutilisation-de-la-classe-layerswitcher" class="tsd-anchor"></a><h3 class="tsd-anchor-link">RÃ©sumÃ© dâ€™utilisation de la classe LayerSwitcher<a href="#rÃ©sumÃ©-dutilisation-de-la-classe-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>La classe <code>LayerSwitcher</code> est un contrÃ´le OpenLayers permettant Ã  lâ€™utilisateur de gÃ©rer dynamiquement les couches dâ€™une carteâ€¯:</p>
<ul>
<li><strong>Afficher/Masquer</strong> les couches,</li>
<li><strong>Changer lâ€™ordre</strong> des couches (drag &amp; drop),</li>
<li><strong>Modifier lâ€™opacitÃ©</strong>,</li>
<li><strong>Basculer en niveaux de gris</strong> (pour les couches compatibles),</li>
<li><strong>Afficher les informations</strong> (titre, description, lÃ©gende, mÃ©tadonnÃ©es, aperÃ§u),</li>
<li><strong>Zoomer sur lâ€™Ã©tendue</strong> dâ€™une couche,</li>
<li><strong>Supprimer</strong> une couche,</li>
<li><strong>DÃ©clencher des actions avancÃ©es</strong> via des outils personnalisÃ©s.</li>
</ul>
<a id="principales-fonctionnalitÃ©s" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Principales fonctionnalitÃ©s<a href="#principales-fonctionnalitÃ©s" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Prend en charge tous types de couches OpenLayers (WMS, WMTS, vecteur, etc.).</li>
<li>Permet de configurer chaque couche (titre, description, lÃ©gendes, mÃ©tadonnÃ©es, etc.).</li>
<li>GÃ¨re les Ã©vÃ©nements liÃ©s aux couches (ajout, suppression, modification de visibilitÃ©, opacitÃ©, etc.).</li>
<li>Sâ€™intÃ¨gre facilement Ã  la carte via <code>map.addControl(new LayerSwitcher(...))</code>.</li>
<li>Offre une API dâ€™Ã©vÃ©nements pour rÃ©agir aux actions utilisateur.</li>
</ul>
<a id="exemple-dutilisation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exemple dâ€™utilisation<a href="#exemple-dutilisation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">LayerSwitcher</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&quot;gpf-ext-ol/controls/LayerSwitcher&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">myLayer</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Ma couche&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&quot;Description de la couche&quot;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">collapsed:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">panel:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">counter:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">allowEdit:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">allowGrayScale:</span><span class="hl-1"> </span><span class="hl-3">true</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">layerSwitcher</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="Ã©vÃ©nements-disponibles" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Ã‰vÃ©nements disponibles<a href="#Ã©vÃ©nements-disponibles" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Vous pouvez Ã©couter les Ã©vÃ©nements pour rÃ©agir aux actionsâ€¯:</p>
<pre><code class="javascript"><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:add&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Ajout couche&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">));</span><br/><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:remove&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Suppression couche&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">));</span><br/><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:change:opacity&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;OpacitÃ©&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">opacity</span><span class="hl-1">));</span><br/><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:change:visibility&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;VisibilitÃ©&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">visibility</span><span class="hl-1">));</span>
</code><button type="button">Copy</button></pre>

<hr>
<p><strong>En rÃ©sumÃ©â€¯:</strong><br>
<code>LayerSwitcher</code> facilite la gestion interactive des couches sur une carte OpenLayers,
tout en offrant de nombreuses options de personnalisation et une API dâ€™Ã©vÃ©nements riche pour les dÃ©veloppeurs.</p>
<a id="voici-un-rÃ©sumÃ©-des-principales-options-disponibles-pour-le-contrÃ´le-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici un rÃ©sumÃ© des principales options disponibles pour le contrÃ´le <strong>LayerSwitcher</strong><a href="#voici-un-rÃ©sumÃ©-des-principales-options-disponibles-pour-le-contrÃ´le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>id</strong>â€¯: Identifiant unique du widget (utile si plusieurs LayerSwitcher sur la mÃªme page).</li>
<li><strong>collapsed</strong> <em>(boolÃ©en, dÃ©fautâ€¯: true)</em>â€¯: DÃ©finit si le widget est repliÃ© (cachÃ©) ou dÃ©pliÃ© au chargement.</li>
<li><strong>draggable</strong> <em>(boolÃ©en)</em>â€¯: Permet de dÃ©placer le panneau du LayerSwitcher Ã  la souris.</li>
<li><strong>counter</strong> <em>(boolÃ©en)</em>â€¯: Affiche un compteur du nombre de couches visibles.</li>
<li><strong>panel</strong> <em>(boolÃ©en)</em>â€¯: Affiche un en-tÃªte (header) dans le panneau du LayerSwitcher.</li>
<li><strong>gutter</strong> <em>(boolÃ©en)</em>â€¯: Ajoute ou retire lâ€™espace (gutter) autour du panneau.</li>
<li><strong>allowEdit</strong> <em>(boolÃ©en, dÃ©fautâ€¯: true)</em>â€¯: Affiche le bouton dâ€™Ã©dition pour les couches Ã©ditables (vecteur).</li>
<li><strong>allowGrayScale</strong> <em>(boolÃ©en, dÃ©fautâ€¯: true)</em>â€¯: Affiche le bouton N&amp;B (niveaux de gris) pour les couches compatibles.</li>
<li><strong>allowTooltips</strong> <em>(boolÃ©en, dÃ©fautâ€¯: false)</em>â€¯: Active lâ€™affichage des info-bulles (tooltips) sur les Ã©lÃ©ments du widget.</li>
<li><strong>advancedTools</strong> <em>(array)</em>â€¯: Liste dâ€™outils personnalisÃ©s Ã  afficher pour chaque couche (boutons dâ€™action, icÃ´nes, callbacks, etc.).</li>
<li><strong>layers</strong> <em>(array)</em>â€¯: Liste des couches Ã  configurer Ã  lâ€™initialisation, chaque entrÃ©e pouvant contenirâ€¯:
<ul>
<li><strong>layer</strong>â€¯: Objet <code>ol.layer.Layer</code> Ã  gÃ©rer.</li>
<li><strong>config</strong>â€¯: MÃ©tadonnÃ©es associÃ©es (titre, description, lÃ©gendes, mÃ©tadonnÃ©es, quicklookUrl, etc.).</li>
</ul>
</li>
</ul>
<hr>
<p><strong>RÃ©sumÃ©</strong>â€¯:<br>
Les options du LayerSwitcher permettent de personnaliser lâ€™apparence, le comportement, les fonctionnalitÃ©s et les actions disponibles pour chaque couche, afin dâ€™adapter le widget Ã  vos besoins cartographiques et ergonomiques.</p>
<a id="voici-un-exemple-complet-dutilisation-du-contrÃ´le-layerswitcher-avec-openlayers" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici un exemple complet dâ€™utilisation du contrÃ´le <strong>LayerSwitcher</strong> avec OpenLayers<a href="#voici-un-exemple-complet-dutilisation-du-contrÃ´le-layerswitcher-avec-openlayers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="javascript"><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/ol.css&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">Map</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/Map&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">View</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/View&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">TileLayer</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/layer/Tile&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">OSM</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/source/OSM&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">VectorLayer</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/layer/Vector&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">VectorSource</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/source/Vector&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> {</span><span class="hl-4">fromLonLat</span><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ol/proj&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-4">LayerSwitcher</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;src/packages/Controls/LayerSwitcher/LayerSwitcher.js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-9">// CrÃ©ation des couches</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">osmLayer</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">TileLayer</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">source:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">OSM</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-4">visible:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">opacity:</span><span class="hl-1"> </span><span class="hl-8">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;Fond OpenStreetMap&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">vectorLayer</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">VectorLayer</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">source:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">VectorSource</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-4">visible:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">opacity:</span><span class="hl-1"> </span><span class="hl-8">0.7</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;Annotations&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// CrÃ©ation de la carte</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">map</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Map</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;map&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><span class="hl-4">osmLayer</span><span class="hl-1">, </span><span class="hl-4">vectorLayer</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-4">view:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">View</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-4">center:</span><span class="hl-1"> </span><span class="hl-0">fromLonLat</span><span class="hl-1">([</span><span class="hl-8">2.35</span><span class="hl-1">, </span><span class="hl-8">48.85</span><span class="hl-1">]), </span><span class="hl-9">// Paris</span><br/><span class="hl-1">        </span><span class="hl-4">zoom:</span><span class="hl-1"> </span><span class="hl-8">12</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Ajout du LayerSwitcher avec options et mÃ©tadonnÃ©es</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">osmLayer</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Fond OpenStreetMap&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&quot;Fond cartographique OSM&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">locked:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1"> </span><span class="hl-9">// couche verrouillÃ©e</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">vectorLayer</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Annotations&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&quot;Couches dâ€™annotations Ã©ditables&quot;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">collapsed:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">panel:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">counter:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">allowEdit:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">allowGrayScale:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">allowTooltips:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">advancedTools:</span><span class="hl-1"> [</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-4">label:</span><span class="hl-1"> </span><span class="hl-2">&#39;Exporter&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">icon:</span><span class="hl-1"> </span><span class="hl-2">&#39;ðŸ“¤&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-0">cb</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-0">alert</span><span class="hl-1">(</span><span class="hl-2">&quot;Export de la couche : &quot;</span><span class="hl-1"> + </span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;title&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-4">label:</span><span class="hl-1"> </span><span class="hl-2">&#39;Info&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">icon:</span><span class="hl-1"> </span><span class="hl-2">&#39;&lt;svg width=&quot;16&quot; height=&quot;16&quot; fill=&quot;currentColor&quot;&gt;&lt;circle cx=&quot;8&quot; cy=&quot;8&quot; r=&quot;7&quot; stroke=&quot;black&quot; stroke-width=&quot;1&quot; fill=&quot;none&quot;/&gt;&lt;text x=&quot;8&quot; y=&quot;12&quot; text-anchor=&quot;middle&quot; font-size=&quot;10&quot; fill=&quot;black&quot;&gt;i&lt;/text&gt;&lt;/svg&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-9">// Pas de cb : dÃ©clenche l&#39;Ã©vÃ©nement layerswitcher:custom</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        ]</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">map</span><span class="hl-1">.</span><span class="hl-0">addControl</span><span class="hl-1">(</span><span class="hl-4">layerSwitcher</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// Exemple dâ€™Ã©coute dâ€™Ã©vÃ©nements</span><br/><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:add&quot;</span><span class="hl-1">, </span><span class="hl-3">function</span><span class="hl-1"> (</span><span class="hl-4">e</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Couche ajoutÃ©e :&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:remove&quot;</span><span class="hl-1">, </span><span class="hl-3">function</span><span class="hl-1"> (</span><span class="hl-4">e</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Couche supprimÃ©e :&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:edit&quot;</span><span class="hl-1">, </span><span class="hl-3">function</span><span class="hl-1"> (</span><span class="hl-4">e</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">alert</span><span class="hl-1">(</span><span class="hl-2">&quot;Edition de la couche : &quot;</span><span class="hl-1"> + </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;title&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">});</span><br/><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:custom&quot;</span><span class="hl-1">, </span><span class="hl-3">function</span><span class="hl-1"> (</span><span class="hl-4">e</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">alert</span><span class="hl-1">(</span><span class="hl-2">&quot;Action personnalisÃ©e sur : &quot;</span><span class="hl-1"> + </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;title&quot;</span><span class="hl-1">) + </span><span class="hl-2">&quot; (&quot;</span><span class="hl-1"> + </span><span class="hl-4">e</span><span class="hl-1">.</span><span class="hl-4">action</span><span class="hl-1"> + </span><span class="hl-2">&quot;)&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Ã€ placer dans une page HTML avec un conteneur</strong>â€¯:</p>
<pre><code class="html"><span class="hl-10">&lt;</span><span class="hl-11">div</span><span class="hl-1"> </span><span class="hl-12">id</span><span class="hl-1">=</span><span class="hl-13">&quot;map&quot;</span><span class="hl-1"> </span><span class="hl-12">style</span><span class="hl-1">=</span><span class="hl-13">&quot;width:100%;height:600px;&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">div</span><span class="hl-10">&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">type</span><span class="hl-14">=</span><span class="hl-13">&quot;module&quot;</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;example-layerswitcher.js&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span>
</code><button type="button">Copy</button></pre>

<hr>
<p><strong>Ce que montre cet exempleâ€¯:</strong></p>
<ul>
<li>CrÃ©ation de couches raster et vecteur,</li>
<li>Ajout de mÃ©tadonnÃ©es (titre, description, verrouillage),</li>
<li>Activation des options avancÃ©es (Ã©dition, N&amp;B, tooltips, outils personnalisÃ©s),</li>
<li>Gestion des Ã©vÃ©nements du LayerSwitcher,</li>
<li>Utilisation dâ€™outils avancÃ©s avec ou sans callback.</li>
</ul>
<p>Cet exemple est prÃªt Ã  lâ€™emploi pour tester toutes les fonctionnalitÃ©s principales du LayerSwitcher.</p>
<a id="voici-une-explication-sur-lobjet-layeroptions-dans-le-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici une explication sur lâ€™objet <code>layerOptions</code> dans le LayerSwitcher<a href="#voici-une-explication-sur-lobjet-layeroptions-dans-le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="fonctionnement-de-lobjet-layeroptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fonctionnement de lâ€™objet <code>layerOptions</code><a href="#fonctionnement-de-lobjet-layeroptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Lâ€™objet <code>layerOptions</code> est une structure centrale utilisÃ©e en interne par le LayerSwitcher pour stocker toutes les informations et Ã©tats associÃ©s Ã  chaque couche affichÃ©e dans le widget.</p>
<a id="oÃ¹-est-il-crÃ©Ã©" class="tsd-anchor"></a><h3 class="tsd-anchor-link">OÃ¹ est-il crÃ©Ã©â€¯?<a href="#oÃ¹-est-il-crÃ©Ã©" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>layerOptions</code> est construit dans la mÃ©thode privÃ©e <code>_createLayerDiv(layerOptions)</code> et lors de lâ€™ajout dâ€™une couche via <code>addLayer</code> ou <code>_addMapLayers</code>.<br>
Il regroupe Ã  la foisâ€¯:</p>
<ul>
<li>les propriÃ©tÃ©s de la couche OpenLayers (<code>layer</code>, <code>id</code>, <code>opacity</code>, <code>visibility</code>, etc.),</li>
<li>les mÃ©tadonnÃ©es de configuration (titre, description, lÃ©gendes, etc.),</li>
<li>les Ã©tats dâ€™interface (editable, grayable, inRange, locked, etc.),</li>
<li>les rÃ©fÃ©rences DOM (div associÃ©e Ã  la couche).</li>
</ul>
<a id="principaux-champs-de-layeroptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Principaux champs de <code>layerOptions</code>â€¯:<a href="#principaux-champs-de-layeroptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>layer</strong>â€¯: la rÃ©fÃ©rence Ã  lâ€™objet <code>ol.layer.Layer</code> concernÃ©.</li>
<li><strong>id</strong>â€¯: identifiant unique de la couche dans le LayerSwitcher.</li>
<li><strong>name, service, type</strong>â€¯: informations complÃ©mentaires (souvent pour les couches Geoportail).</li>
<li><strong>opacity, visibility, grayscale, locked</strong>â€¯: Ã©tats dâ€™affichage de la couche.</li>
<li><strong>inRange</strong>â€¯: indique si la couche est visible dans la vue courante (zoom/emprise).</li>
<li><strong>title, description</strong>â€¯: informations affichÃ©es dans la liste et les tooltips.</li>
<li><strong>legends, metadata, quicklookUrl</strong>â€¯: ressources associÃ©es Ã  la couche.</li>
<li><strong>editable, grayable</strong>â€¯: indique si la couche est Ã©ditable ou peut passer en N&amp;B.</li>
<li><strong>advancedTools</strong>â€¯: liste des outils personnalisÃ©s Ã  afficher pour la couche.</li>
<li><strong>div</strong>â€¯: rÃ©fÃ©rence Ã  la div DOM reprÃ©sentant la couche dans le LayerSwitcher.</li>
</ul>
<a id="utilitÃ©" class="tsd-anchor"></a><h3 class="tsd-anchor-link">UtilitÃ©<a href="#utilitÃ©" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Permet de centraliser toutes les informations nÃ©cessaires Ã  lâ€™affichage, Ã  lâ€™interaction et Ã  la gestion de chaque couche dans le widget.</li>
<li>Facilite la synchronisation entre lâ€™Ã©tat de la carte, la configuration utilisateur et lâ€™interface graphique.</li>
<li>Sert de point dâ€™accÃ¨s unique pour toutes les opÃ©rations (Ã©dition, suppression, changement dâ€™opacitÃ©, etc.).</li>
</ul>
<hr>
<p><strong>RÃ©sumÃ©â€¯:</strong><br>
<code>layerOptions</code> est lâ€™objet de rÃ©fÃ©rence pour chaque couche dans le LayerSwitcherâ€¯: il regroupe toutes les donnÃ©es, Ã©tats et rÃ©fÃ©rences nÃ©cessaires Ã  la gestion et Ã  lâ€™affichage de la couche dans le widget.</p>
<a id="voici-une-explication-sur-la-notion-de-couches-Â«grisÃ©esÂ»-hors-plage-de-visibilitÃ©-via-isinrange-dans-la-classe-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici une explication sur la notion de couches Â«â€¯grisÃ©esâ€¯Â» (hors plage de visibilitÃ©, via <code>isInRange</code>) dans la classe <code>LayerSwitcher</code><a href="#voici-une-explication-sur-la-notion-de-couches-Â«grisÃ©esÂ»-hors-plage-de-visibilitÃ©-via-isinrange-dans-la-classe-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="couches-grisÃ©es-isinrange" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Couches grisÃ©es (isInRange)<a href="#couches-grisÃ©es-isinrange" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Dans le widget <strong>LayerSwitcher</strong>, une couche peut apparaÃ®tre Â«â€¯grisÃ©eâ€¯Â» dans la liste des couches. Cela signifie que la couche nâ€™est <strong>pas visible</strong> dans la vue courante de la carte, pour lâ€™une des raisons suivantesâ€¯:</p>
<ul>
<li>
<p><strong>Niveau de zoom inadaptÃ©</strong>â€¯:<br>
La rÃ©solution actuelle de la carte (zoom) ne correspond pas Ã  la plage de zoom dÃ©finie pour la couche (<code>minResolution</code>/<code>maxResolution</code>).<br>
Exempleâ€¯: une couche nâ€™est visible quâ€™Ã  grande Ã©chelle, mais lâ€™utilisateur est trop dÃ©zoomÃ©.</p>
</li>
<li>
<p><strong>Ã‰tendue gÃ©ographique non couverte</strong>â€¯:<br>
Lâ€™emprise actuelle de la carte (la zone affichÃ©e) ne recoupe pas lâ€™Ã©tendue spatiale dÃ©finie pour la couche (<code>extent</code>).<br>
Exempleâ€¯: la couche ne couvre que la France, mais lâ€™utilisateur regarde lâ€™Afrique.</p>
</li>
</ul>
<a id="fonctionnement-dans-le-code" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fonctionnement dans le code<a href="#fonctionnement-dans-le-code" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>La mÃ©thode <code>isInRange(layer, map)</code> vÃ©rifie ces deux critÃ¨resâ€¯:</p>
<ul>
<li>Si la rÃ©solution de la carte est hors de la plage de la couche, ou</li>
<li>Si lâ€™Ã©tendue de la carte nâ€™intersecte pas celle de la couche.</li>
</ul>
<p>Si lâ€™un de ces cas est vrai, la couche est considÃ©rÃ©e comme Â«â€¯hors plageâ€¯Â» et la classe CSS <code>outOfRange</code> est ajoutÃ©e Ã  son Ã©lÃ©ment DOM dans la liste.<br>
Visuellement, cela la grise et affiche un message dâ€™information au survol.</p>
<a id="utilitÃ©-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">UtilitÃ©<a href="#utilitÃ©-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Informer lâ€™utilisateur</strong> que la couche nâ€™est pas visible dans la vue courante, sans la masquer de la liste.</li>
<li><strong>Ã‰viter la confusion</strong>â€¯: lâ€™utilisateur comprend pourquoi une couche nâ€™apparaÃ®t pas sur la carte.</li>
<li><strong>AccessibilitÃ©</strong>â€¯: un message dâ€™info est ajoutÃ© au survol du nom de la couche.</li>
</ul>
<hr>
<p><strong>RÃ©sumÃ©â€¯:</strong><br>
Une couche Â«â€¯grisÃ©eâ€¯Â» dans le LayerSwitcher indique quâ€™elle nâ€™est pas visible Ã  cause du zoom ou de lâ€™emprise courante. Cela amÃ©liore lâ€™expÃ©rience utilisateur en rendant explicite la raison de lâ€™absence de la couche sur la carte.</p>
<a id="voici-une-explication-concernant-les-couches-verrouillÃ©es-dans-le-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici une explication concernant les couches verrouillÃ©es dans le LayerSwitcher<a href="#voici-une-explication-concernant-les-couches-verrouillÃ©es-dans-le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="couches-verrouillÃ©es-locked" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Couches verrouillÃ©es (locked)<a href="#couches-verrouillÃ©es-locked" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Dans le widget <strong>LayerSwitcher</strong>, une couche peut Ãªtre affichÃ©e comme Â«â€¯verrouillÃ©eâ€¯Â».<br>
Cela signifie que certaines actions sur cette couche sont dÃ©sactivÃ©es pour lâ€™utilisateur, gÃ©nÃ©ralement pour Ã©viter sa suppression ou la modification de ses propriÃ©tÃ©s essentielles.</p>
<a id="fonctionnement" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fonctionnement<a href="#fonctionnement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Une couche verrouillÃ©e affiche une icÃ´ne de cadenas ou un indicateur visuel spÃ©cifique dans la liste des couches.</li>
<li>Les boutons dâ€™action associÃ©s Ã  la couche (suppression, Ã©dition, modification de visibilitÃ©, etc.) peuvent Ãªtre dÃ©sactivÃ©s ou masquÃ©s.</li>
<li>Le verrouillage peut Ãªtre dÃ©fini lors de la configuration de la couche, par exemple via une propriÃ©tÃ© <code>locked: true</code> dans la configuration passÃ©e au LayerSwitcher.</li>
</ul>
<a id="utilitÃ©-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">UtilitÃ©<a href="#utilitÃ©-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>ProtÃ©ger les couches critiques</strong>â€¯: EmpÃªcher la suppression ou la modification accidentelle de couches de fond, de rÃ©fÃ©rence ou indispensables Ã  lâ€™application.</li>
<li><strong>Clarifier lâ€™interface</strong>â€¯: Lâ€™utilisateur comprend immÃ©diatement quâ€™il ne peut pas agir sur cette couche, ce qui Ã©vite les erreurs et la confusion.</li>
</ul>
<a id="exemple-de-configuration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exemple de configuration<a href="#exemple-de-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">baseLayer</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Fond de carte&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">locked:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1"> </span><span class="hl-9">// Cette couche sera verrouillÃ©e</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<p><strong>RÃ©sumÃ©â€¯:</strong><br>
Une couche verrouillÃ©e dans le LayerSwitcher est protÃ©gÃ©e contre certaines actions utilisateur (suppression, Ã©dition, etc.), ce qui garantit la stabilitÃ© et la cohÃ©rence de la carte affichÃ©e.</p>
<a id="voici-une-explication-concernant-les-couches-dites-Ã©ditables-dans-le-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici une explication concernant les couches dites <strong>Ã©ditables</strong> dans le LayerSwitcher<a href="#voici-une-explication-concernant-les-couches-dites-Ã©ditables-dans-le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="couches-Ã©ditables-editable" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Couches Ã©ditables (editable)<a href="#couches-Ã©ditables-editable" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Dans le widget <strong>LayerSwitcher</strong>, une couche peut Ãªtre marquÃ©e comme Â«â€¯Ã©ditableâ€¯Â».
Cela signifie que lâ€™utilisateur a la possibilitÃ© de modifier le contenu ou le style de cette couche directement depuis lâ€™interface du LayerSwitcher.</p>
<a id="fonctionnement-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fonctionnement<a href="#fonctionnement-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Une couche Ã©ditable affiche un bouton ou une icÃ´ne dâ€™Ã©dition dans la liste des couches.</li>
<li>En cliquant sur ce bouton, lâ€™utilisateur peut accÃ©der Ã  des outils permettantâ€¯:
<ul>
<li>dâ€™ajouter, modifier ou supprimer des objets gÃ©ographiques (pour les couches vecteur),</li>
<li>de changer le style ou les propriÃ©tÃ©s de la couche,</li>
<li>ou dâ€™ouvrir un panneau dâ€™Ã©dition dÃ©diÃ© selon la configuration.</li>
</ul>
</li>
<li>Lâ€™Ã©ditabilitÃ© est gÃ©nÃ©ralement activÃ©e pour les couches de type vecteur, via une propriÃ©tÃ© <code>allowEdit: true</code> dans la configuration du LayerSwitcher ou de la couche.</li>
</ul>
<a id="utilitÃ©-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">UtilitÃ©<a href="#utilitÃ©-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Permettre la saisie ou la correction de donnÃ©es</strong> directement sur la carte.</li>
<li><strong>Personnaliser lâ€™apparence</strong> ou le contenu dâ€™une couche sans quitter lâ€™application.</li>
<li><strong>Faciliter la gestion collaborative</strong> des donnÃ©es cartographiques.</li>
</ul>
<a id="exemple-de-configuration-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exemple de configuration<a href="#exemple-de-configuration-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">vectorLayer</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Annotations&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-9">// Lâ€™option allowEdit peut aussi Ãªtre dÃ©finie globalement dans options</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">allowEdit:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1"> </span><span class="hl-9">// Active lâ€™Ã©dition pour les couches compatibles</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<p><strong>RÃ©sumÃ©â€¯:</strong><br>
Une couche Ã©ditable dans le LayerSwitcher permet Ã  lâ€™utilisateur de modifier son contenu ou son style via lâ€™interface, principalement pour les couches vecteur, ce qui enrichit lâ€™interactivitÃ© et la personnalisation de la carte.</p>
<a id="voici-une-explication-concernant-les-couches-en-mode-nb-niveaux-de-gris-dans-le-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici une explication concernant les couches en mode <strong>N&amp;B</strong> (niveaux de gris) dans le LayerSwitcher<a href="#voici-une-explication-concernant-les-couches-en-mode-nb-niveaux-de-gris-dans-le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="couches-en-mode-nb-niveaux-de-gris" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Couches en mode N&amp;B (niveaux de gris)<a href="#couches-en-mode-nb-niveaux-de-gris" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Dans le widget <strong>LayerSwitcher</strong>, certaines couches peuvent Ãªtre affichÃ©es en mode Â«â€¯noir et blancâ€¯Â» (N&amp;B), aussi appelÃ© mode <strong>niveaux de gris</strong>.<br>
Cette fonctionnalitÃ© permet de dÃ©saturer lâ€™affichage dâ€™une couche pour la rendre visuellement moins dominante ou pour mettre en valeur dâ€™autres informations cartographiques superposÃ©es.</p>
<a id="fonctionnement-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fonctionnement<a href="#fonctionnement-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Un bouton ou une option Â«â€¯N&amp;Bâ€¯Â» (grayscale) est disponible pour chaque couche compatible (principalement les couches raster, comme WMS ou WMTS).</li>
<li>Lorsque lâ€™utilisateur active ce mode, la couche est affichÃ©e en niveaux de gris sur la carte.</li>
<li>Techniquement, cela peut Ãªtre rÃ©alisÃ© via un filtre CSS appliquÃ© au rendu de la couche, ou via une modification du style cÃ´tÃ© serveur ou client.</li>
<li>Lâ€™Ã©tat N&amp;B est conservÃ© tant que lâ€™utilisateur ne le dÃ©sactive pas.</li>
</ul>
<a id="utilitÃ©-4" class="tsd-anchor"></a><h3 class="tsd-anchor-link">UtilitÃ©<a href="#utilitÃ©-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>AmÃ©liorer la lisibilitÃ©</strong>â€¯: Le mode N&amp;B permet de faire ressortir des couches thÃ©matiques ou des annotations colorÃ©es en attÃ©nuant le fond cartographique.</li>
<li><strong>Personnalisation</strong>â€¯: Lâ€™utilisateur peut adapter lâ€™apparence des couches selon ses besoins dâ€™analyse ou de prÃ©sentation.</li>
<li><strong>AccessibilitÃ©</strong>â€¯: Peut aider certains utilisateurs Ã  mieux distinguer les informations importantes.</li>
</ul>
<a id="exemple-de-configuration-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exemple de configuration<a href="#exemple-de-configuration-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">rasterLayer</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Ortho N&amp;B&quot;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">allowGrayScale:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1"> </span><span class="hl-9">// Active le bouton N&amp;B pour les couches compatibles</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<p><strong>RÃ©sumÃ©â€¯:</strong><br>
Le mode N&amp;B dans le LayerSwitcher permet dâ€™afficher certaines couches en niveaux de gris, offrant ainsi une meilleure lisibilitÃ© et une personnalisation avancÃ©e de la carte pour lâ€™utilisateur.</p>
<a id="voici-une-explication-concernant-les-actions-utilisateurs-via-loption-advancedtools-dans-le-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici une explication concernant les <strong>actions utilisateurs via lâ€™option <code>advancedTools</code></strong> dans le LayerSwitcher<a href="#voici-une-explication-concernant-les-actions-utilisateurs-via-loption-advancedtools-dans-le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="actions-utilisateurs-via-loption-advancedtools" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Actions utilisateurs via lâ€™option <code>advancedTools</code><a href="#actions-utilisateurs-via-loption-advancedtools" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Lâ€™option <strong><code>advancedTools</code></strong> du LayerSwitcher permet dâ€™ajouter des boutons ou outils personnalisÃ©s pour chaque couche dans la liste des couches.<br>
Ces outils offrent Ã  lâ€™utilisateur des actions avancÃ©es ou spÃ©cifiques, adaptÃ©es Ã  vos besoins mÃ©tier.</p>
<a id="fonctionnement-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fonctionnement<a href="#fonctionnement-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Lâ€™option <code>advancedTools</code> est un tableau dâ€™objets, chaque objet reprÃ©sentant un outil personnalisÃ©.</li>
<li>Pour chaque outil, vous pouvez dÃ©finirâ€¯:
<ul>
<li><code>label</code>â€¯: le texte affichÃ© sur le bouton,</li>
<li><code>icon</code>â€¯: une icÃ´ne SVG ou une URL dâ€™image,</li>
<li><code>cb</code>â€¯: une fonction callback exÃ©cutÃ©e lors du clic sur lâ€™outil (reÃ§oit en paramÃ¨tres lâ€™Ã©vÃ©nement, le LayerSwitcher, la couche concernÃ©e, et les options de lâ€™outil),</li>
<li><code>styles</code>â€¯: des styles CSS personnalisÃ©s pour le bouton.</li>
</ul>
</li>
<li>Les outils apparaissent dans lâ€™interface du LayerSwitcher, Ã  cÃ´tÃ© de chaque couche.</li>
</ul>
<a id="utilitÃ©-5" class="tsd-anchor"></a><h3 class="tsd-anchor-link">UtilitÃ©<a href="#utilitÃ©-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Ajouter des fonctionnalitÃ©s spÃ©cifiques</strong> Ã  vos couches (export, analyse, affichage de popups, etc.).</li>
<li><strong>Personnaliser lâ€™expÃ©rience utilisateur</strong> en proposant des actions adaptÃ©es Ã  chaque couche.</li>
<li><strong>Centraliser les outils</strong> liÃ©s Ã  la gestion des couches dans une interface unique.</li>
</ul>
<a id="exemple-de-configuration-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exemple de configuration<a href="#exemple-de-configuration-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">layers:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-4">layer:</span><span class="hl-1"> </span><span class="hl-4">myLayer</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">title:</span><span class="hl-1"> </span><span class="hl-2">&quot;Ma couche&quot;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-4">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">advancedTools:</span><span class="hl-1"> [</span><br/><span class="hl-1">            {</span><br/><span class="hl-1">                </span><span class="hl-4">label:</span><span class="hl-1"> </span><span class="hl-2">&quot;Exporter&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">icon:</span><span class="hl-1"> </span><span class="hl-2">&quot;ðŸ“¤&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-0">cb</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">layerSwitcher</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-9">// Action personnalisÃ©e Ã  exÃ©cuter</span><br/><span class="hl-1">                    </span><span class="hl-0">alert</span><span class="hl-1">(</span><span class="hl-2">&quot;Export de la couche : &quot;</span><span class="hl-1"> + </span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;title&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">                },</span><br/><span class="hl-1">                </span><span class="hl-4">styles:</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-4">color:</span><span class="hl-1"> </span><span class="hl-2">&quot;blue&quot;</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        ]</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="exemples-de-possibilitÃ©s-des-actions-utilisateurs-advancedtools" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exemples de possibilitÃ©s des actions utilisateurs (<code>advancedTools</code>)<a href="#exemples-de-possibilitÃ©s-des-actions-utilisateurs-advancedtools" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Lâ€™option <code>advancedTools</code> permet dâ€™ajouter une grande variÃ©tÃ© de boutons dâ€™action personnalisÃ©s pour chaque couche dans le LayerSwitcher.<br>
Voici quelques exemples concretsâ€¯:</p>
<ul>
<li>
<p><strong>Bouton avec icÃ´ne SVG inline</strong><br>
Permet dâ€™ajouter un bouton avec une icÃ´ne vectorielle personnalisÃ©e et une action JavaScriptâ€¯:</p>
<pre><code class="javascript"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-5">label</span><span class="hl-1">: </span><span class="hl-2">&#39;One&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">icon</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;svg ...&gt;&lt;/svg&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">cb</span><span class="hl-1">: (</span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Action One&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Bouton sans icÃ´ne (icÃ´ne par dÃ©faut)</strong><br>
Un simple bouton texte qui dÃ©clenche une actionâ€¯:</p>
<pre><code class="javascript"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-5">label</span><span class="hl-1">: </span><span class="hl-2">&#39;Two&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">cb</span><span class="hl-1">: (</span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Action Two&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Bouton avec icÃ´ne depuis une URL</strong><br>
Pratique pour rÃ©utiliser des pictogrammes existantsâ€¯:</p>
<pre><code class="javascript"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-5">label</span><span class="hl-1">: </span><span class="hl-2">&#39;Three&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">icon</span><span class="hl-1">: </span><span class="hl-2">&#39;url/vers/mon-icone.svg&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">cb</span><span class="hl-1">: () </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-4">window</span><span class="hl-1">.</span><span class="hl-4">history</span><span class="hl-1">.</span><span class="hl-0">back</span><span class="hl-1">()</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Bouton de notification ou dâ€™intÃ©gration avec dâ€™autres systÃ¨mes</strong><br>
Par exemple, pour publier un Ã©vÃ©nement ou notifier lâ€™applicationâ€¯:</p>
<pre><code class="javascript"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-5">label</span><span class="hl-1">: </span><span class="hl-2">&#39;Four&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">icon</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;svg ...&gt;&lt;/svg&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">cb</span><span class="hl-1">: (</span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-9">// Publier une notification, ouvrir un panneau, etc.</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Bouton stylisÃ©</strong><br>
Vous pouvez personnaliser le style du bouton via la propriÃ©tÃ© <code>styles</code>â€¯:</p>
<pre><code class="javascript"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-5">label</span><span class="hl-1">: </span><span class="hl-2">&#39;Exporter&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">icon</span><span class="hl-1">: </span><span class="hl-2">&#39;ðŸ“¤&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">cb</span><span class="hl-1">: (</span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">alert</span><span class="hl-1">(</span><span class="hl-2">&quot;Export de la couche : &quot;</span><span class="hl-1"> + </span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;title&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-5">styles</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-5">color</span><span class="hl-1">: </span><span class="hl-2">&quot;blue&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Bouton avec un icone dsfr</strong><br>
Permet d'utiliser les icones du DSFRâ€¯:</p>
<pre><code class="javascript"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-5">label</span><span class="hl-1">: </span><span class="hl-2">&#39;Exporter&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">icon</span><span class="hl-1">: </span><span class="hl-2">&#39;fr-icon-export&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">cb</span><span class="hl-1">: (</span><span class="hl-4">e</span><span class="hl-1">, </span><span class="hl-4">instance</span><span class="hl-1">, </span><span class="hl-4">layer</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">alert</span><span class="hl-1">(</span><span class="hl-2">&quot;Export de la couche : &quot;</span><span class="hl-1"> + </span><span class="hl-4">layer</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;title&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-5">styles</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-5">color</span><span class="hl-1">: </span><span class="hl-2">&quot;blue&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
</ul>
<p>Si lâ€™option <code>cb</code> nâ€™est pas renseignÃ©e dans un objet <code>advancedTools</code>, le bouton est tout de mÃªme affichÃ© et, lors du clic, <strong>un Ã©vÃ©nement personnalisÃ© est dÃ©clenchÃ©</strong> par le LayerSwitcher (gÃ©nÃ©ralement <code>layerswitcher:custom</code>).<br>
Cet Ã©vÃ©nement contient les informations sur le bouton cliquÃ©, la couche concernÃ©e, etc.</p>
<p><strong>Exemple dâ€™utilisationâ€¯:</strong></p>
<pre><code class="javascript"><span class="hl-4">layerSwitcher</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;layerswitcher:custom&quot;</span><span class="hl-1">, (</span><span class="hl-4">e</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-9">// e contient : event, layerSwitcher, layer, options (du bouton)</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Action custom dÃ©clenchÃ©e :&quot;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Cela permet de centraliser la gestion des actions non dÃ©finies directement par une fonction <code>cb</code>, et dâ€™ajouter des comportements dynamiques ou contextuels selon le bouton cliquÃ©.</p>
<hr>
<p><strong>RÃ©sumÃ©â€¯:</strong><br>
Lâ€™option <code>advancedTools</code> du LayerSwitcher permet dâ€™ajouter facilement des boutons dâ€™action personnalisÃ©s pour chaque couche, afin dâ€™enrichir lâ€™interface et de proposer des fonctionnalitÃ©s avancÃ©es adaptÃ©es Ã  vos besoins.</p>
<a id="voici-une-explication-dÃ©taillÃ©e-du-fonctionnement-des-tooltips-dans-le-layerswitcher" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Voici une explication dÃ©taillÃ©e du fonctionnement des <strong>tooltips</strong> dans le LayerSwitcher<a href="#voici-une-explication-dÃ©taillÃ©e-du-fonctionnement-des-tooltips-dans-le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><hr>
<a id="fonctionnement-des-tooltips-dans-le-layerswitcher" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Fonctionnement des tooltips dans le LayerSwitcher<a href="#fonctionnement-des-tooltips-dans-le-layerswitcher" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Le LayerSwitcher propose une option <code>allowTooltips</code> qui permet dâ€™afficher des info-bulles (tooltips) sur les Ã©lÃ©ments de lâ€™interface, afin dâ€™amÃ©liorer lâ€™ergonomie et lâ€™accessibilitÃ©.</p>
<a id="initialisation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Initialisation<a href="#initialisation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Lors de lâ€™ajout du contrÃ´le Ã  la carte (<code>setMap</code>), si lâ€™option <code>allowTooltips</code> est activÃ©e, le module <code>ToolTips</code> initialise un conteneur HTML dÃ©diÃ© pour les info-bulles.</li>
<li>Ce conteneur est un <code>&lt;div&gt;</code> positionnÃ© en absolu, stylisÃ© pour ressembler Ã  une info-bulle classique.</li>
</ul>
<a id="activation-sur-les-Ã©lÃ©ments" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Activation sur les Ã©lÃ©ments<a href="#activation-sur-les-Ã©lÃ©ments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Chaque nom de couche du LayerSwitcher recoit un attribut <code>data-tooltip</code> contenant le texte Ã  afficher.</li>
<li>Le module <code>ToolTips</code> ajoute des Ã©couteurs dâ€™Ã©vÃ©nements <code>mouseenter</code> et <code>mouseleave</code> sur ces Ã©lÃ©mentsâ€¯:
<ul>
<li>Au survol (<code>mouseenter</code>), le contenu du tooltip est affichÃ© prÃ¨s du curseur.</li>
<li>Ã€ la sortie (<code>mouseleave</code>), le tooltip disparaÃ®t.</li>
</ul>
</li>
</ul>
<a id="contenu-des-tooltips" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Contenu des tooltips<a href="#contenu-des-tooltips" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Pour le nom dâ€™une couche, le tooltip affiche gÃ©nÃ©ralement le titre complet ou la description.</li>
<li>Pour les couches hors plage ou verrouillÃ©es, un message spÃ©cifique explique la raison de lâ€™Ã©tat.</li>
</ul>
<a id="utilitÃ©-6" class="tsd-anchor"></a><h3 class="tsd-anchor-link">UtilitÃ©<a href="#utilitÃ©-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>AccessibilitÃ©</strong>â€¯: Les tooltips aident Ã  comprendre la fonction de chaque Ã©lÃ©ment, mÃªme sans documentation.</li>
<li><strong>Aide contextuelle</strong>â€¯: Ils fournissent des explications sur lâ€™Ã©tat ou lâ€™action possible.</li>
<li><strong>Ergonomie</strong>â€¯: Ils Ã©vitent la surcharge visuelle tout en offrant une aide Ã  la demande.</li>
</ul>
<a id="exemple-dactivation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Exemple dâ€™activation<a href="#exemple-dactivation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">layerSwitcher</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">LayerSwitcher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">allowTooltips:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1"> </span><span class="hl-9">// Active lâ€™affichage des tooltips</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<p><strong>RÃ©sumÃ©â€¯:</strong><br>
Les tooltips dans le LayerSwitcher sont des info-bulles contextuelles qui sâ€™affichent au survol des Ã©lÃ©ments, facilitant la comprÃ©hension et lâ€™utilisation du gestionnaire de couches, notamment pour les utilisateurs novices ou en situation de handicap.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#informations-utiles-sur-le-gestionnaire-de-couches-copilot"><span>Informations utiles sur le gestionnaire de couches (<wbr/>Copilot)</span></a><ul><li><a href="#voici-un-rÃ©sumÃ©-de-lutilisation-de-la-classe-layerswitcher"><span>Voici un rÃ©sumÃ© de lâ€™utilisation de la classe <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#rÃ©sumÃ©-dutilisation-de-la-classe-layerswitcher"><span>RÃ©sumÃ© dâ€™utilisation de la classe <wbr/>Layer<wbr/>Switcher</span></a></li><li><a href="#principales-fonctionnalitÃ©s"><span>Principales fonctionnalitÃ©s</span></a></li><li><a href="#exemple-dutilisation"><span>Exemple dâ€™utilisation</span></a></li><li><a href="#Ã©vÃ©nements-disponibles"><span>Ã‰vÃ©nements disponibles</span></a></li></ul></li><li><a href="#voici-un-rÃ©sumÃ©-des-principales-options-disponibles-pour-le-contrÃ´le-layerswitcher"><span>Voici un rÃ©sumÃ© des principales options disponibles pour le contrÃ´le <wbr/>Layer<wbr/>Switcher</span></a></li><li><a href="#voici-un-exemple-complet-dutilisation-du-contrÃ´le-layerswitcher-avec-openlayers"><span>Voici un exemple complet dâ€™utilisation du contrÃ´le <wbr/>Layer<wbr/>Switcher avec <wbr/>Open<wbr/>Layers</span></a></li><li><a href="#voici-une-explication-sur-lobjet-layeroptions-dans-le-layerswitcher"><span>Voici une explication sur lâ€™objet layer<wbr/>Options dans le <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#fonctionnement-de-lobjet-layeroptions"><span>Fonctionnement de lâ€™objet layer<wbr/>Options</span></a></li><li><a href="#oÃ¹-est-il-crÃ©Ã©"><span>OÃ¹ est-<wbr/>il crÃ©Ã©â€¯?</span></a></li><li><a href="#principaux-champs-de-layeroptions"><span>Principaux champs de layer<wbr/>Optionsâ€¯:</span></a></li><li><a href="#utilitÃ©"><span>UtilitÃ©</span></a></li></ul></li><li><a href="#voici-une-explication-sur-la-notion-de-couches-Â«grisÃ©esÂ»-hors-plage-de-visibilitÃ©-via-isinrange-dans-la-classe-layerswitcher"><span>Voici une explication sur la notion de couches Â«â€¯grisÃ©esâ€¯Â» (hors plage de visibilitÃ©, via is<wbr/>In<wbr/>Range) dans la classe <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#couches-grisÃ©es-isinrange"><span>Couches grisÃ©es (is<wbr/>In<wbr/>Range)</span></a></li><li><a href="#fonctionnement-dans-le-code"><span>Fonctionnement dans le code</span></a></li><li><a href="#utilitÃ©-1"><span>UtilitÃ©</span></a></li></ul></li><li><a href="#voici-une-explication-concernant-les-couches-verrouillÃ©es-dans-le-layerswitcher"><span>Voici une explication concernant les couches verrouillÃ©es dans le <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#couches-verrouillÃ©es-locked"><span>Couches verrouillÃ©es (locked)</span></a></li><li><a href="#fonctionnement"><span>Fonctionnement</span></a></li><li><a href="#utilitÃ©-2"><span>UtilitÃ©</span></a></li><li><a href="#exemple-de-configuration"><span>Exemple de configuration</span></a></li></ul></li><li><a href="#voici-une-explication-concernant-les-couches-dites-Ã©ditables-dans-le-layerswitcher"><span>Voici une explication concernant les couches dites Ã©ditables dans le <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#couches-Ã©ditables-editable"><span>Couches Ã©ditables (editable)</span></a></li><li><a href="#fonctionnement-1"><span>Fonctionnement</span></a></li><li><a href="#utilitÃ©-3"><span>UtilitÃ©</span></a></li><li><a href="#exemple-de-configuration-1"><span>Exemple de configuration</span></a></li></ul></li><li><a href="#voici-une-explication-concernant-les-couches-en-mode-nb-niveaux-de-gris-dans-le-layerswitcher"><span>Voici une explication concernant les couches en mode <wbr/>N&amp;<wbr/>B (niveaux de gris) dans le <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#couches-en-mode-nb-niveaux-de-gris"><span>Couches en mode <wbr/>N&amp;<wbr/>B (niveaux de gris)</span></a></li><li><a href="#fonctionnement-2"><span>Fonctionnement</span></a></li><li><a href="#utilitÃ©-4"><span>UtilitÃ©</span></a></li><li><a href="#exemple-de-configuration-2"><span>Exemple de configuration</span></a></li></ul></li><li><a href="#voici-une-explication-concernant-les-actions-utilisateurs-via-loption-advancedtools-dans-le-layerswitcher"><span>Voici une explication concernant les actions utilisateurs via lâ€™option advanced<wbr/>Tools dans le <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#actions-utilisateurs-via-loption-advancedtools"><span>Actions utilisateurs via lâ€™option advanced<wbr/>Tools</span></a></li><li><a href="#fonctionnement-3"><span>Fonctionnement</span></a></li><li><a href="#utilitÃ©-5"><span>UtilitÃ©</span></a></li><li><a href="#exemple-de-configuration-3"><span>Exemple de configuration</span></a></li><li><a href="#exemples-de-possibilitÃ©s-des-actions-utilisateurs-advancedtools"><span>Exemples de possibilitÃ©s des actions utilisateurs (advanced<wbr/>Tools)</span></a></li></ul></li><li><a href="#voici-une-explication-dÃ©taillÃ©e-du-fonctionnement-des-tooltips-dans-le-layerswitcher"><span>Voici une explication dÃ©taillÃ©e du fonctionnement des tooltips dans le <wbr/>Layer<wbr/>Switcher</span></a></li><li><ul><li><a href="#fonctionnement-des-tooltips-dans-le-layerswitcher"><span>Fonctionnement des tooltips dans le <wbr/>Layer<wbr/>Switcher</span></a></li><li><a href="#initialisation"><span>Initialisation</span></a></li><li><a href="#activation-sur-les-Ã©lÃ©ments"><span>Activation sur les Ã©lÃ©ments</span></a></li><li><a href="#contenu-des-tooltips"><span>Contenu des tooltips</span></a></li><li><a href="#utilitÃ©-6"><span>UtilitÃ©</span></a></li><li><a href="#exemple-dactivation"><span>Exemple dâ€™activation</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://cartes.gouv.fr/cartes">cartes.gouv.fr</a><a href="https://geoportail.gouv.fr/">geoportail</a><a href="https://github.com/IGNF/geopf-extensions-openlayers">github</a></nav><nav class="tsd-navigation"><a href="../modules.html">geopf-extensions-openlayers</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
