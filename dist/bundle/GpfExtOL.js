var Gp;(()=>{var __webpack_modules__={4582:(e,t)=>{"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var i=n({HTML:"text/html",isHTML:function(e){return e===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),o=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===o.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var i=0;i<e.length;i++)if(Object.prototype.hasOwnProperty.call(e,i)){var o=e[i];if(t.call(void 0,o,i,e))return o}},t.freeze=n,t.MIME_TYPE=i,t.NAMESPACE=o},5752:(e,t,n)=>{var i=n(4582),o=n(4722),r=n(6559),a=n(4466),s=o.DOMImplementation,l=i.NAMESPACE,c=a.ParseError,u=a.XMLReader;function d(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function p(e){this.options=e||{locator:{}}}function h(){this.cdata=!1}function g(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function m(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function f(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function y(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}p.prototype.parseFromString=function(e,t){var n=this.options,i=new u,o=n.domBuilder||new h,a=n.errorHandler,s=n.locator,c=n.xmlns||{},p=/\/x?html?$/.test(t),g=p?r.HTML_ENTITIES:r.XML_ENTITIES;s&&o.setDocumentLocator(s),i.errorHandler=function(e,t,n){if(!e){if(t instanceof h)return t;e=t}var i={},o=e instanceof Function;function r(t){var r=e[t];!r&&o&&(r=2==e.length?function(n){e(t,n)}:e),i[t]=r&&function(e){r("[xmldom "+t+"]\t"+e+m(n))}||function(){}}return n=n||{},r("warning"),r("error"),r("fatalError"),i}(a,o,s),i.domBuilder=n.domBuilder||o,p&&(c[""]=l.HTML),c.xml=c.xml||l.XML;var f=n.normalizeLineEndings||d;return e&&"string"==typeof e?i.parse(f(e),c,g):i.errorHandler.error("invalid doc source"),o.doc},h.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var o=this.doc,r=o.createElementNS(e,n||t),a=i.length;y(this,r),this.currentElement=r,this.locator&&g(this.locator,r);for(var s=0;s<a;s++){e=i.getURI(s);var l=i.getValue(s),c=(n=i.getQName(s),o.createAttributeNS(e,n));this.locator&&g(i.getLocator(s),c),c.value=c.nodeValue=l,r.setAttributeNode(c)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName;this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&g(this.locator,n),y(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=f.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&g(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=f.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&g(this.locator,i),y(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var o=i.createDocumentType(e,t,n);this.locator&&g(this.locator,o),y(this,o),this.doc.doctype=o}},warning:function(e){console.warn("[xmldom warning]\t"+e,m(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,m(this.locator))},fatalError:function(e){throw new c(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){h.prototype[e]=function(){return null}})),t.DOMParser=p},4722:(e,t,n)=>{var i=n(4582),o=i.find,r=i.NAMESPACE;function a(e){return""!==e}function s(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function l(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(a):[]}(e);return Object.keys(t.reduce(s,{}))}function c(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function u(e,t){var n=e.prototype;if(!(n instanceof t)){function i(){}i.prototype=t.prototype,c(n,i=new i),e.prototype=n=i}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var d={},p=d.ELEMENT_NODE=1,h=d.ATTRIBUTE_NODE=2,g=d.TEXT_NODE=3,m=d.CDATA_SECTION_NODE=4,f=d.ENTITY_REFERENCE_NODE=5,y=d.ENTITY_NODE=6,A=d.PROCESSING_INSTRUCTION_NODE=7,v=d.COMMENT_NODE=8,C=d.DOCUMENT_NODE=9,b=d.DOCUMENT_TYPE_NODE=10,I=d.DOCUMENT_FRAGMENT_NODE=11,_=d.NOTATION_NODE=12,w={},E={},S=(w.INDEX_SIZE_ERR=(E[1]="Index size error",1),w.DOMSTRING_SIZE_ERR=(E[2]="DOMString size error",2),w.HIERARCHY_REQUEST_ERR=(E[3]="Hierarchy request error",3)),P=(w.WRONG_DOCUMENT_ERR=(E[4]="Wrong document",4),w.INVALID_CHARACTER_ERR=(E[5]="Invalid character",5),w.NO_DATA_ALLOWED_ERR=(E[6]="No data allowed",6),w.NO_MODIFICATION_ALLOWED_ERR=(E[7]="No modification allowed",7),w.NOT_FOUND_ERR=(E[8]="Not found",8)),M=(w.NOT_SUPPORTED_ERR=(E[9]="Not supported",9),w.INUSE_ATTRIBUTE_ERR=(E[10]="Attribute in use",10));w.INVALID_STATE_ERR=(E[11]="Invalid state",11),w.SYNTAX_ERR=(E[12]="Syntax error",12),w.INVALID_MODIFICATION_ERR=(E[13]="Invalid modification",13),w.NAMESPACE_ERR=(E[14]="Invalid namespace",14),w.INVALID_ACCESS_ERR=(E[15]="Invalid access",15);function x(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,E[e]),this.message=E[e],Error.captureStackTrace&&Error.captureStackTrace(this,x);return n.code=e,t&&(this.message=this.message+": "+t),n}function G(){}function k(e,t){this._node=e,this._refresh=t,R(this)}function R(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(ve(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var i=n.length;i in e;i++)Object.prototype.hasOwnProperty.call(e,i)&&delete e[i];c(n,e),e._inc=t}}function L(){}function O(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function T(e,t,n,i){if(i?t[O(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var o=e.ownerDocument;o&&(i&&z(o,e,i),function(e,t,n){e&&e._inc++;var i=n.namespaceURI;i===r.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(o,e,n))}}function D(e,t,n){var i=O(t,n);if(!(i>=0))throw new x(P,new Error(e.tagName+"@"+n));for(var o=t.length-1;i<o;)t[i]=t[++i];if(t.length=o,e){var r=e.ownerDocument;r&&(z(r,e,n),n.ownerElement=null)}}function N(){}function U(){}function j(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function B(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(B(e,t))return!0}while(e=e.nextSibling)}function F(){this.ownerDocument=this}function z(e,t,n,i){e&&e._inc++,n.namespaceURI===r.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function V(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var o=t.firstChild,r=0;o;)i[r++]=o,o=o.nextSibling;i.length=r,delete i[i.length]}}}function q(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,V(e.ownerDocument,e),t}function W(e){return e&&e.nodeType===U.DOCUMENT_TYPE_NODE}function H(e){return e&&e.nodeType===U.ELEMENT_NODE}function Y(e){return e&&e.nodeType===U.TEXT_NODE}function Z(e,t){var n=e.childNodes||[];if(o(n,H)||W(t))return!1;var i=o(n,W);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function J(e,t){var n=e.childNodes||[];if(o(n,(function(e){return H(e)&&e!==t})))return!1;var i=o(n,W);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function X(e,t,n){if(!function(e){return e&&(e.nodeType===U.DOCUMENT_NODE||e.nodeType===U.DOCUMENT_FRAGMENT_NODE||e.nodeType===U.ELEMENT_NODE)}(e))throw new x(S,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new x(P,"child not in parent");if(!function(e){return e&&(H(e)||Y(e)||W(e)||e.nodeType===U.DOCUMENT_FRAGMENT_NODE||e.nodeType===U.COMMENT_NODE||e.nodeType===U.PROCESSING_INSTRUCTION_NODE)}(t)||W(t)&&e.nodeType!==U.DOCUMENT_NODE)throw new x(S,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function K(e,t,n){var i=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===U.DOCUMENT_FRAGMENT_NODE){var a=r.filter(H);if(a.length>1||o(r,Y))throw new x(S,"More than one element or text in fragment");if(1===a.length&&!Z(e,n))throw new x(S,"Element in fragment can not be inserted before doctype")}if(H(t)&&!Z(e,n))throw new x(S,"Only one element can be added and only after doctype");if(W(t)){if(o(i,W))throw new x(S,"Only one doctype is allowed");var s=o(i,H);if(n&&i.indexOf(s)<i.indexOf(n))throw new x(S,"Doctype can only be inserted before an element");if(!n&&s)throw new x(S,"Doctype can not be appended since element is present")}}function Q(e,t,n){var i=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===U.DOCUMENT_FRAGMENT_NODE){var a=r.filter(H);if(a.length>1||o(r,Y))throw new x(S,"More than one element or text in fragment");if(1===a.length&&!J(e,n))throw new x(S,"Element in fragment can not be inserted before doctype")}if(H(t)&&!J(e,n))throw new x(S,"Only one element can be added and only after doctype");if(W(t)){if(o(i,(function(e){return W(e)&&e!==n})))throw new x(S,"Only one doctype is allowed");var s=o(i,H);if(n&&i.indexOf(s)<i.indexOf(n))throw new x(S,"Doctype can only be inserted before an element")}}function $(e,t,n,i){X(e,t,n),e.nodeType===U.DOCUMENT_NODE&&(i||K)(e,t,n);var o=t.parentNode;if(o&&o.removeChild(t),t.nodeType===I){var r=t.firstChild;if(null==r)return t;var a=t.lastChild}else r=a=t;var s=n?n.previousSibling:e.lastChild;r.previousSibling=s,a.nextSibling=n,s?s.nextSibling=r:e.firstChild=r,null==n?e.lastChild=a:n.previousSibling=a;do{r.parentNode=e}while(r!==a&&(r=r.nextSibling));return V(e.ownerDocument||e,e),t.nodeType==I&&(t.firstChild=t.lastChild=null),t}function ee(){this._nsMap={}}function te(){}function ne(){}function ie(){}function oe(){}function re(){}function ae(){}function se(){}function le(){}function ce(){}function ue(){}function de(){}function pe(){}function he(e,t){var n=[],i=9==this.nodeType&&this.documentElement||this,o=i.prefix,r=i.namespaceURI;if(r&&null==o&&null==(o=i.lookupPrefix(r)))var a=[{namespace:r,prefix:null}];return fe(this,n,e,t,a),n.join("")}function ge(e,t,n){var i=e.prefix||"",o=e.namespaceURI;if(!o)return!1;if("xml"===i&&o===r.XML||o===r.XMLNS)return!1;for(var a=n.length;a--;){var s=n[a];if(s.prefix===i)return s.namespace!==o}return!0}function me(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,j),'"')}function fe(e,t,n,i,o){if(o||(o=[]),i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case p:var a=e.attributes,s=a.length,l=e.firstChild,c=e.tagName,u=c;if(!(n=r.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var d,y=0;y<a.length;y++)if("xmlns"===a.item(y).name){d=a.item(y).value;break}if(!d)for(var _=o.length-1;_>=0;_--){if(""===(w=o[_]).prefix&&w.namespace===e.namespaceURI){d=w.namespace;break}}if(d!==e.namespaceURI)for(_=o.length-1;_>=0;_--){var w;if((w=o[_]).namespace===e.namespaceURI){w.prefix&&(u=w.prefix+":"+c);break}}}t.push("<",u);for(var E=0;E<s;E++){"xmlns"==(S=a.item(E)).prefix?o.push({prefix:S.localName,namespace:S.value}):"xmlns"==S.nodeName&&o.push({prefix:"",namespace:S.value})}for(E=0;E<s;E++){var S,P,M;if(ge(S=a.item(E),0,o))me(t,(P=S.prefix||"")?"xmlns:"+P:"xmlns",M=S.namespaceURI),o.push({prefix:P,namespace:M});fe(S,t,n,i,o)}if(c===u&&ge(e,0,o))me(t,(P=e.prefix||"")?"xmlns:"+P:"xmlns",M=e.namespaceURI),o.push({prefix:P,namespace:M});if(l||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;l;)l.data?t.push(l.data):fe(l,t,n,i,o.slice()),l=l.nextSibling;else for(;l;)fe(l,t,n,i,o.slice()),l=l.nextSibling;t.push("</",u,">")}else t.push("/>");return;case C:case I:for(l=e.firstChild;l;)fe(l,t,n,i,o.slice()),l=l.nextSibling;return;case h:return me(t,e.name,e.value);case g:return t.push(e.data.replace(/[<&>]/g,j));case m:return t.push("<![CDATA[",e.data,"]]>");case v:return t.push("\x3c!--",e.data,"--\x3e");case b:var x=e.publicId,G=e.systemId;if(t.push("<!DOCTYPE ",e.name),x)t.push(" PUBLIC ",x),G&&"."!=G&&t.push(" ",G),t.push(">");else if(G&&"."!=G)t.push(" SYSTEM ",G,">");else{var k=e.internalSubset;k&&t.push(" [",k,"]"),t.push(">")}return;case A:return t.push("<?",e.target," ",e.data,"?>");case f:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ye(e,t,n){var i;switch(t.nodeType){case p:(i=t.cloneNode(!1)).ownerDocument=e;case I:break;case h:n=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n)for(var o=t.firstChild;o;)i.appendChild(ye(e,o,n)),o=o.nextSibling;return i}function Ae(e,t,n){var i=new t.constructor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=t[o];"object"!=typeof r&&r!=i[o]&&(i[o]=r)}switch(t.childNodes&&(i.childNodes=new G),i.ownerDocument=e,i.nodeType){case p:var a=t.attributes,s=i.attributes=new L,l=a.length;s._ownerElement=i;for(var c=0;c<l;c++)i.setAttributeNode(Ae(e,a.item(c),!0));break;case h:n=!0}if(n)for(var u=t.firstChild;u;)i.appendChild(Ae(e,u,n)),u=u.nextSibling;return i}function ve(e,t,n){e[t]=n}x.prototype=Error.prototype,c(w,x),G.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)fe(this[i],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},k.prototype.item=function(e){return R(this),this[e]||null},u(k,G),L.prototype={length:0,item:G.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new x(M);var n=this.getNamedItem(e.nodeName);return T(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new x(M);return t=this.getNamedItemNS(e.namespaceURI,e.localName),T(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return D(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return D(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},N.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var i=new F;if(i.implementation=this,i.childNodes=new G,i.doctype=n||null,n&&i.appendChild(n),t){var o=i.createElementNS(e,t);i.appendChild(o)}return i},createDocumentType:function(e,t,n){var i=new ae;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=n||"",i}},U.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return $(this,e,t)},replaceChild:function(e,t){$(this,e,t,Q),t&&this.removeChild(t)},removeChild:function(e){return q(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return Ae(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==g&&e.nodeType==g?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===e)return i;t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},c(d,U),c(d,U.prototype),F.prototype={nodeName:"#document",nodeType:C,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==I){for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return $(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===p&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),q(this,e)},replaceChild:function(e,t){$(this,e,t,Q),e.ownerDocument=this,t&&this.removeChild(t),H(e)&&(this.documentElement=e)},importNode:function(e,t){return ye(this,e,t)},getElementById:function(e){var t=null;return B(this.documentElement,(function(n){if(n.nodeType==p&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=l(e);return new k(this,(function(n){var i=[];return t.length>0&&B(n.documentElement,(function(o){if(o!==n&&o.nodeType===p){var r=o.getAttribute("class");if(r){var a=e===r;if(!a){var s=l(r);a=t.every((c=s,function(e){return c&&-1!==c.indexOf(e)}))}a&&i.push(o)}}var c})),i}))},createElement:function(e){var t=new ee;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new G,(t.attributes=new L)._ownerElement=t,t},createDocumentFragment:function(){var e=new ue;return e.ownerDocument=this,e.childNodes=new G,e},createTextNode:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new oe;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new de;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new te;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new ce;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new ee,i=t.split(":"),o=n.attributes=new L;return n.childNodes=new G,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,o._ownerElement=n,n},createAttributeNS:function(e,t){var n=new te,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},u(F,U),ee.prototype={nodeType:p,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===I?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,V(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new k(this,(function(t){var n=[];return B(t,(function(i){i===t||i.nodeType!=p||"*"!==e&&i.tagName!=e||n.push(i)})),n}))},getElementsByTagNameNS:function(e,t){return new k(this,(function(n){var i=[];return B(n,(function(o){o===n||o.nodeType!==p||"*"!==e&&o.namespaceURI!==e||"*"!==t&&o.localName!=t||i.push(o)})),i}))}},F.prototype.getElementsByTagName=ee.prototype.getElementsByTagName,F.prototype.getElementsByTagNameNS=ee.prototype.getElementsByTagNameNS,u(ee,U),te.prototype.nodeType=h,u(te,U),ne.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(E[S])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},u(ne,U),ie.prototype={nodeName:"#text",nodeType:g,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},u(ie,ne),oe.prototype={nodeName:"#comment",nodeType:v},u(oe,ne),re.prototype={nodeName:"#cdata-section",nodeType:m},u(re,ne),ae.prototype.nodeType=b,u(ae,U),se.prototype.nodeType=_,u(se,U),le.prototype.nodeType=y,u(le,U),ce.prototype.nodeType=f,u(ce,U),ue.prototype.nodeName="#document-fragment",ue.prototype.nodeType=I,u(ue,U),de.prototype.nodeType=A,u(de,U),pe.prototype.serializeToString=function(e,t,n){return he.call(e,t,n)},U.prototype.toString=he;try{if(Object.defineProperty){function Ce(e){switch(e.nodeType){case p:case I:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(Ce(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(k.prototype,"length",{get:function(){return R(this),this.$$length}}),Object.defineProperty(U.prototype,"textContent",{get:function(){return Ce(this)},set:function(e){switch(this.nodeType){case p:case I:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ve=function(e,t,n){e["$$"+t]=n}}}catch(be){}t.DocumentType=ae,t.DOMException=x,t.DOMImplementation=N,t.Element=ee,t.Node=U,t.NodeList=G,t.XMLSerializer=pe},6559:(e,t,n)=>{"use strict";var i=n(4582).freeze;t.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=i({Aacute:"Ã",aacute:"Ã¡",Abreve:"Ä‚",abreve:"Äƒ",ac:"âˆ¾",acd:"âˆ¿",acE:"âˆ¾Ì³",Acirc:"Ã‚",acirc:"Ã¢",acute:"Â´",Acy:"Ğ",acy:"Ğ°",AElig:"Ã†",aelig:"Ã¦",af:"â¡",Afr:"ğ”„",afr:"ğ”",Agrave:"Ã€",agrave:"Ã ",alefsym:"â„µ",aleph:"â„µ",Alpha:"Î‘",alpha:"Î±",Amacr:"Ä€",amacr:"Ä",amalg:"â¨¿",AMP:"&",amp:"&",And:"â©“",and:"âˆ§",andand:"â©•",andd:"â©œ",andslope:"â©˜",andv:"â©š",ang:"âˆ ",ange:"â¦¤",angle:"âˆ ",angmsd:"âˆ¡",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angrt:"âˆŸ",angrtvb:"âŠ¾",angrtvbd:"â¦",angsph:"âˆ¢",angst:"Ã…",angzarr:"â¼",Aogon:"Ä„",aogon:"Ä…",Aopf:"ğ”¸",aopf:"ğ•’",ap:"â‰ˆ",apacir:"â©¯",apE:"â©°",ape:"â‰Š",apid:"â‰‹",apos:"'",ApplyFunction:"â¡",approx:"â‰ˆ",approxeq:"â‰Š",Aring:"Ã…",aring:"Ã¥",Ascr:"ğ’œ",ascr:"ğ’¶",Assign:"â‰”",ast:"*",asymp:"â‰ˆ",asympeq:"â‰",Atilde:"Ãƒ",atilde:"Ã£",Auml:"Ã„",auml:"Ã¤",awconint:"âˆ³",awint:"â¨‘",backcong:"â‰Œ",backepsilon:"Ï¶",backprime:"â€µ",backsim:"âˆ½",backsimeq:"â‹",Backslash:"âˆ–",Barv:"â«§",barvee:"âŠ½",Barwed:"âŒ†",barwed:"âŒ…",barwedge:"âŒ…",bbrk:"âµ",bbrktbrk:"â¶",bcong:"â‰Œ",Bcy:"Ğ‘",bcy:"Ğ±",bdquo:"â€",becaus:"âˆµ",Because:"âˆµ",because:"âˆµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â„¬",Bernoullis:"â„¬",Beta:"Î’",beta:"Î²",beth:"â„¶",between:"â‰¬",Bfr:"ğ”…",bfr:"ğ”Ÿ",bigcap:"â‹‚",bigcirc:"â—¯",bigcup:"â‹ƒ",bigodot:"â¨€",bigoplus:"â¨",bigotimes:"â¨‚",bigsqcup:"â¨†",bigstar:"â˜…",bigtriangledown:"â–½",bigtriangleup:"â–³",biguplus:"â¨„",bigvee:"â‹",bigwedge:"â‹€",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"â–ª",blacktriangle:"â–´",blacktriangledown:"â–¾",blacktriangleleft:"â—‚",blacktriangleright:"â–¸",blank:"â£",blk12:"â–’",blk14:"â–‘",blk34:"â–“",block:"â–ˆ",bne:"=âƒ¥",bnequiv:"â‰¡âƒ¥",bNot:"â«­",bnot:"âŒ",Bopf:"ğ”¹",bopf:"ğ•“",bot:"âŠ¥",bottom:"âŠ¥",bowtie:"â‹ˆ",boxbox:"â§‰",boxDL:"â•—",boxDl:"â•–",boxdL:"â••",boxdl:"â”",boxDR:"â•”",boxDr:"â•“",boxdR:"â•’",boxdr:"â”Œ",boxH:"â•",boxh:"â”€",boxHD:"â•¦",boxHd:"â•¤",boxhD:"â•¥",boxhd:"â”¬",boxHU:"â•©",boxHu:"â•§",boxhU:"â•¨",boxhu:"â”´",boxminus:"âŠŸ",boxplus:"âŠ",boxtimes:"âŠ ",boxUL:"â•",boxUl:"â•œ",boxuL:"â•›",boxul:"â”˜",boxUR:"â•š",boxUr:"â•™",boxuR:"â•˜",boxur:"â””",boxV:"â•‘",boxv:"â”‚",boxVH:"â•¬",boxVh:"â•«",boxvH:"â•ª",boxvh:"â”¼",boxVL:"â•£",boxVl:"â•¢",boxvL:"â•¡",boxvl:"â”¤",boxVR:"â• ",boxVr:"â•Ÿ",boxvR:"â•",boxvr:"â”œ",bprime:"â€µ",Breve:"Ë˜",breve:"Ë˜",brvbar:"Â¦",Bscr:"â„¬",bscr:"ğ’·",bsemi:"â",bsim:"âˆ½",bsime:"â‹",bsol:"\\",bsolb:"â§…",bsolhsub:"âŸˆ",bull:"â€¢",bullet:"â€¢",bump:"â‰",bumpE:"âª®",bumpe:"â‰",Bumpeq:"â‰",bumpeq:"â‰",Cacute:"Ä†",cacute:"Ä‡",Cap:"â‹’",cap:"âˆ©",capand:"â©„",capbrcup:"â©‰",capcap:"â©‹",capcup:"â©‡",capdot:"â©€",CapitalDifferentialD:"â……",caps:"âˆ©ï¸€",caret:"â",caron:"Ë‡",Cayleys:"â„­",ccaps:"â©",Ccaron:"ÄŒ",ccaron:"Ä",Ccedil:"Ã‡",ccedil:"Ã§",Ccirc:"Äˆ",ccirc:"Ä‰",Cconint:"âˆ°",ccups:"â©Œ",ccupssm:"â©",Cdot:"ÄŠ",cdot:"Ä‹",cedil:"Â¸",Cedilla:"Â¸",cemptyv:"â¦²",cent:"Â¢",CenterDot:"Â·",centerdot:"Â·",Cfr:"â„­",cfr:"ğ” ",CHcy:"Ğ§",chcy:"Ñ‡",check:"âœ“",checkmark:"âœ“",Chi:"Î§",chi:"Ï‡",cir:"â—‹",circ:"Ë†",circeq:"â‰—",circlearrowleft:"â†º",circlearrowright:"â†»",circledast:"âŠ›",circledcirc:"âŠš",circleddash:"âŠ",CircleDot:"âŠ™",circledR:"Â®",circledS:"â“ˆ",CircleMinus:"âŠ–",CirclePlus:"âŠ•",CircleTimes:"âŠ—",cirE:"â§ƒ",cire:"â‰—",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§‚",ClockwiseContourIntegral:"âˆ²",CloseCurlyDoubleQuote:"â€",CloseCurlyQuote:"â€™",clubs:"â™£",clubsuit:"â™£",Colon:"âˆ·",colon:":",Colone:"â©´",colone:"â‰”",coloneq:"â‰”",comma:",",commat:"@",comp:"âˆ",compfn:"âˆ˜",complement:"âˆ",complexes:"â„‚",cong:"â‰…",congdot:"â©­",Congruent:"â‰¡",Conint:"âˆ¯",conint:"âˆ®",ContourIntegral:"âˆ®",Copf:"â„‚",copf:"ğ•”",coprod:"âˆ",Coproduct:"âˆ",COPY:"Â©",copy:"Â©",copysr:"â„—",CounterClockwiseContourIntegral:"âˆ³",crarr:"â†µ",Cross:"â¨¯",cross:"âœ—",Cscr:"ğ’",cscr:"ğ’¸",csub:"â«",csube:"â«‘",csup:"â«",csupe:"â«’",ctdot:"â‹¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â‹",cuesc:"â‹Ÿ",cularr:"â†¶",cularrp:"â¤½",Cup:"â‹“",cup:"âˆª",cupbrcap:"â©ˆ",CupCap:"â‰",cupcap:"â©†",cupcup:"â©Š",cupdot:"âŠ",cupor:"â©…",cups:"âˆªï¸€",curarr:"â†·",curarrm:"â¤¼",curlyeqprec:"â‹",curlyeqsucc:"â‹Ÿ",curlyvee:"â‹",curlywedge:"â‹",curren:"Â¤",curvearrowleft:"â†¶",curvearrowright:"â†·",cuvee:"â‹",cuwed:"â‹",cwconint:"âˆ²",cwint:"âˆ±",cylcty:"âŒ­",Dagger:"â€¡",dagger:"â€ ",daleth:"â„¸",Darr:"â†¡",dArr:"â‡“",darr:"â†“",dash:"â€",Dashv:"â«¤",dashv:"âŠ£",dbkarow:"â¤",dblac:"Ë",Dcaron:"Ä",dcaron:"Ä",Dcy:"Ğ”",dcy:"Ğ´",DD:"â……",dd:"â…†",ddagger:"â€¡",ddarr:"â‡Š",DDotrahd:"â¤‘",ddotseq:"â©·",deg:"Â°",Del:"âˆ‡",Delta:"Î”",delta:"Î´",demptyv:"â¦±",dfisht:"â¥¿",Dfr:"ğ”‡",dfr:"ğ”¡",dHar:"â¥¥",dharl:"â‡ƒ",dharr:"â‡‚",DiacriticalAcute:"Â´",DiacriticalDot:"Ë™",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ëœ",diam:"â‹„",Diamond:"â‹„",diamond:"â‹„",diamondsuit:"â™¦",diams:"â™¦",die:"Â¨",DifferentialD:"â…†",digamma:"Ï",disin:"â‹²",div:"Ã·",divide:"Ã·",divideontimes:"â‹‡",divonx:"â‹‡",DJcy:"Ğ‚",djcy:"Ñ’",dlcorn:"âŒ",dlcrop:"âŒ",dollar:"$",Dopf:"ğ”»",dopf:"ğ••",Dot:"Â¨",dot:"Ë™",DotDot:"âƒœ",doteq:"â‰",doteqdot:"â‰‘",DotEqual:"â‰",dotminus:"âˆ¸",dotplus:"âˆ”",dotsquare:"âŠ¡",doublebarwedge:"âŒ†",DoubleContourIntegral:"âˆ¯",DoubleDot:"Â¨",DoubleDownArrow:"â‡“",DoubleLeftArrow:"â‡",DoubleLeftRightArrow:"â‡”",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"âŸ¸",DoubleLongLeftRightArrow:"âŸº",DoubleLongRightArrow:"âŸ¹",DoubleRightArrow:"â‡’",DoubleRightTee:"âŠ¨",DoubleUpArrow:"â‡‘",DoubleUpDownArrow:"â‡•",DoubleVerticalBar:"âˆ¥",DownArrow:"â†“",Downarrow:"â‡“",downarrow:"â†“",DownArrowBar:"â¤“",DownArrowUpArrow:"â‡µ",DownBreve:"Ì‘",downdownarrows:"â‡Š",downharpoonleft:"â‡ƒ",downharpoonright:"â‡‚",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥",DownLeftVector:"â†½",DownLeftVectorBar:"â¥–",DownRightTeeVector:"â¥Ÿ",DownRightVector:"â‡",DownRightVectorBar:"â¥—",DownTee:"âŠ¤",DownTeeArrow:"â†§",drbkarow:"â¤",drcorn:"âŒŸ",drcrop:"âŒŒ",Dscr:"ğ’Ÿ",dscr:"ğ’¹",DScy:"Ğ…",dscy:"Ñ•",dsol:"â§¶",Dstrok:"Ä",dstrok:"Ä‘",dtdot:"â‹±",dtri:"â–¿",dtrif:"â–¾",duarr:"â‡µ",duhar:"â¥¯",dwangle:"â¦¦",DZcy:"Ğ",dzcy:"ÑŸ",dzigrarr:"âŸ¿",Eacute:"Ã‰",eacute:"Ã©",easter:"â©®",Ecaron:"Äš",ecaron:"Ä›",ecir:"â‰–",Ecirc:"ÃŠ",ecirc:"Ãª",ecolon:"â‰•",Ecy:"Ğ­",ecy:"Ñ",eDDot:"â©·",Edot:"Ä–",eDot:"â‰‘",edot:"Ä—",ee:"â…‡",efDot:"â‰’",Efr:"ğ”ˆ",efr:"ğ”¢",eg:"âªš",Egrave:"Ãˆ",egrave:"Ã¨",egs:"âª–",egsdot:"âª˜",el:"âª™",Element:"âˆˆ",elinters:"â§",ell:"â„“",els:"âª•",elsdot:"âª—",Emacr:"Ä’",emacr:"Ä“",empty:"âˆ…",emptyset:"âˆ…",EmptySmallSquare:"â—»",emptyv:"âˆ…",EmptyVerySmallSquare:"â–«",emsp:"â€ƒ",emsp13:"â€„",emsp14:"â€…",ENG:"ÅŠ",eng:"Å‹",ensp:"â€‚",Eogon:"Ä˜",eogon:"Ä™",Eopf:"ğ”¼",eopf:"ğ•–",epar:"â‹•",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",Epsilon:"Î•",epsilon:"Îµ",epsiv:"Ïµ",eqcirc:"â‰–",eqcolon:"â‰•",eqsim:"â‰‚",eqslantgtr:"âª–",eqslantless:"âª•",Equal:"â©µ",equals:"=",EqualTilde:"â‰‚",equest:"â‰Ÿ",Equilibrium:"â‡Œ",equiv:"â‰¡",equivDD:"â©¸",eqvparsl:"â§¥",erarr:"â¥±",erDot:"â‰“",Escr:"â„°",escr:"â„¯",esdot:"â‰",Esim:"â©³",esim:"â‰‚",Eta:"Î—",eta:"Î·",ETH:"Ã",eth:"Ã°",Euml:"Ã‹",euml:"Ã«",euro:"â‚¬",excl:"!",exist:"âˆƒ",Exists:"âˆƒ",expectation:"â„°",ExponentialE:"â…‡",exponentiale:"â…‡",fallingdotseq:"â‰’",Fcy:"Ğ¤",fcy:"Ñ„",female:"â™€",ffilig:"ï¬ƒ",fflig:"ï¬€",ffllig:"ï¬„",Ffr:"ğ”‰",ffr:"ğ”£",filig:"ï¬",FilledSmallSquare:"â—¼",FilledVerySmallSquare:"â–ª",fjlig:"fj",flat:"â™­",fllig:"ï¬‚",fltns:"â–±",fnof:"Æ’",Fopf:"ğ”½",fopf:"ğ•—",ForAll:"âˆ€",forall:"âˆ€",fork:"â‹”",forkv:"â«™",Fouriertrf:"â„±",fpartint:"â¨",frac12:"Â½",frac13:"â…“",frac14:"Â¼",frac15:"â…•",frac16:"â…™",frac18:"â…›",frac23:"â…”",frac25:"â…–",frac34:"Â¾",frac35:"â…—",frac38:"â…œ",frac45:"â…˜",frac56:"â…š",frac58:"â…",frac78:"â…",frasl:"â„",frown:"âŒ¢",Fscr:"â„±",fscr:"ğ’»",gacute:"Çµ",Gamma:"Î“",gamma:"Î³",Gammad:"Ïœ",gammad:"Ï",gap:"âª†",Gbreve:"Ä",gbreve:"ÄŸ",Gcedil:"Ä¢",Gcirc:"Äœ",gcirc:"Ä",Gcy:"Ğ“",gcy:"Ğ³",Gdot:"Ä ",gdot:"Ä¡",gE:"â‰§",ge:"â‰¥",gEl:"âªŒ",gel:"â‹›",geq:"â‰¥",geqq:"â‰§",geqslant:"â©¾",ges:"â©¾",gescc:"âª©",gesdot:"âª€",gesdoto:"âª‚",gesdotol:"âª„",gesl:"â‹›ï¸€",gesles:"âª”",Gfr:"ğ”Š",gfr:"ğ”¤",Gg:"â‹™",gg:"â‰«",ggg:"â‹™",gimel:"â„·",GJcy:"Ğƒ",gjcy:"Ñ“",gl:"â‰·",gla:"âª¥",glE:"âª’",glj:"âª¤",gnap:"âªŠ",gnapprox:"âªŠ",gnE:"â‰©",gne:"âªˆ",gneq:"âªˆ",gneqq:"â‰©",gnsim:"â‹§",Gopf:"ğ”¾",gopf:"ğ•˜",grave:"`",GreaterEqual:"â‰¥",GreaterEqualLess:"â‹›",GreaterFullEqual:"â‰§",GreaterGreater:"âª¢",GreaterLess:"â‰·",GreaterSlantEqual:"â©¾",GreaterTilde:"â‰³",Gscr:"ğ’¢",gscr:"â„Š",gsim:"â‰³",gsime:"âª",gsiml:"âª",Gt:"â‰«",GT:">",gt:">",gtcc:"âª§",gtcir:"â©º",gtdot:"â‹—",gtlPar:"â¦•",gtquest:"â©¼",gtrapprox:"âª†",gtrarr:"â¥¸",gtrdot:"â‹—",gtreqless:"â‹›",gtreqqless:"âªŒ",gtrless:"â‰·",gtrsim:"â‰³",gvertneqq:"â‰©ï¸€",gvnE:"â‰©ï¸€",Hacek:"Ë‡",hairsp:"â€Š",half:"Â½",hamilt:"â„‹",HARDcy:"Ğª",hardcy:"ÑŠ",hArr:"â‡”",harr:"â†”",harrcir:"â¥ˆ",harrw:"â†­",Hat:"^",hbar:"â„",Hcirc:"Ä¤",hcirc:"Ä¥",hearts:"â™¥",heartsuit:"â™¥",hellip:"â€¦",hercon:"âŠ¹",Hfr:"â„Œ",hfr:"ğ”¥",HilbertSpace:"â„‹",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â‡¿",homtht:"âˆ»",hookleftarrow:"â†©",hookrightarrow:"â†ª",Hopf:"â„",hopf:"ğ•™",horbar:"â€•",HorizontalLine:"â”€",Hscr:"â„‹",hscr:"ğ’½",hslash:"â„",Hstrok:"Ä¦",hstrok:"Ä§",HumpDownHump:"â‰",HumpEqual:"â‰",hybull:"âƒ",hyphen:"â€",Iacute:"Ã",iacute:"Ã­",ic:"â£",Icirc:"Ã",icirc:"Ã®",Icy:"Ğ˜",icy:"Ğ¸",Idot:"Ä°",IEcy:"Ğ•",iecy:"Ğµ",iexcl:"Â¡",iff:"â‡”",Ifr:"â„‘",ifr:"ğ”¦",Igrave:"ÃŒ",igrave:"Ã¬",ii:"â…ˆ",iiiint:"â¨Œ",iiint:"âˆ­",iinfin:"â§œ",iiota:"â„©",IJlig:"Ä²",ijlig:"Ä³",Im:"â„‘",Imacr:"Äª",imacr:"Ä«",image:"â„‘",ImaginaryI:"â…ˆ",imagline:"â„",imagpart:"â„‘",imath:"Ä±",imof:"âŠ·",imped:"Æµ",Implies:"â‡’",in:"âˆˆ",incare:"â„…",infin:"âˆ",infintie:"â§",inodot:"Ä±",Int:"âˆ¬",int:"âˆ«",intcal:"âŠº",integers:"â„¤",Integral:"âˆ«",intercal:"âŠº",Intersection:"â‹‚",intlarhk:"â¨—",intprod:"â¨¼",InvisibleComma:"â£",InvisibleTimes:"â¢",IOcy:"Ğ",iocy:"Ñ‘",Iogon:"Ä®",iogon:"Ä¯",Iopf:"ğ•€",iopf:"ğ•š",Iota:"Î™",iota:"Î¹",iprod:"â¨¼",iquest:"Â¿",Iscr:"â„",iscr:"ğ’¾",isin:"âˆˆ",isindot:"â‹µ",isinE:"â‹¹",isins:"â‹´",isinsv:"â‹³",isinv:"âˆˆ",it:"â¢",Itilde:"Ä¨",itilde:"Ä©",Iukcy:"Ğ†",iukcy:"Ñ–",Iuml:"Ã",iuml:"Ã¯",Jcirc:"Ä´",jcirc:"Äµ",Jcy:"Ğ™",jcy:"Ğ¹",Jfr:"ğ”",jfr:"ğ”§",jmath:"È·",Jopf:"ğ•",jopf:"ğ•›",Jscr:"ğ’¥",jscr:"ğ’¿",Jsercy:"Ğˆ",jsercy:"Ñ˜",Jukcy:"Ğ„",jukcy:"Ñ”",Kappa:"Îš",kappa:"Îº",kappav:"Ï°",Kcedil:"Ä¶",kcedil:"Ä·",Kcy:"Ğš",kcy:"Ğº",Kfr:"ğ”",kfr:"ğ”¨",kgreen:"Ä¸",KHcy:"Ğ¥",khcy:"Ñ…",KJcy:"ĞŒ",kjcy:"Ñœ",Kopf:"ğ•‚",kopf:"ğ•œ",Kscr:"ğ’¦",kscr:"ğ“€",lAarr:"â‡š",Lacute:"Ä¹",lacute:"Äº",laemptyv:"â¦´",lagran:"â„’",Lambda:"Î›",lambda:"Î»",Lang:"âŸª",lang:"âŸ¨",langd:"â¦‘",langle:"âŸ¨",lap:"âª…",Laplacetrf:"â„’",laquo:"Â«",Larr:"â†",lArr:"â‡",larr:"â†",larrb:"â‡¤",larrbfs:"â¤Ÿ",larrfs:"â¤",larrhk:"â†©",larrlp:"â†«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â†¢",lat:"âª«",lAtail:"â¤›",latail:"â¤™",late:"âª­",lates:"âª­ï¸€",lBarr:"â¤",lbarr:"â¤Œ",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦‹",lbrksld:"â¦",lbrkslu:"â¦",Lcaron:"Ä½",lcaron:"Ä¾",Lcedil:"Ä»",lcedil:"Ä¼",lceil:"âŒˆ",lcub:"{",Lcy:"Ğ›",lcy:"Ğ»",ldca:"â¤¶",ldquo:"â€œ",ldquor:"â€",ldrdhar:"â¥§",ldrushar:"â¥‹",ldsh:"â†²",lE:"â‰¦",le:"â‰¤",LeftAngleBracket:"âŸ¨",LeftArrow:"â†",Leftarrow:"â‡",leftarrow:"â†",LeftArrowBar:"â‡¤",LeftArrowRightArrow:"â‡†",leftarrowtail:"â†¢",LeftCeiling:"âŒˆ",LeftDoubleBracket:"âŸ¦",LeftDownTeeVector:"â¥¡",LeftDownVector:"â‡ƒ",LeftDownVectorBar:"â¥™",LeftFloor:"âŒŠ",leftharpoondown:"â†½",leftharpoonup:"â†¼",leftleftarrows:"â‡‡",LeftRightArrow:"â†”",Leftrightarrow:"â‡”",leftrightarrow:"â†”",leftrightarrows:"â‡†",leftrightharpoons:"â‡‹",leftrightsquigarrow:"â†­",LeftRightVector:"â¥",LeftTee:"âŠ£",LeftTeeArrow:"â†¤",LeftTeeVector:"â¥š",leftthreetimes:"â‹‹",LeftTriangle:"âŠ²",LeftTriangleBar:"â§",LeftTriangleEqual:"âŠ´",LeftUpDownVector:"â¥‘",LeftUpTeeVector:"â¥ ",LeftUpVector:"â†¿",LeftUpVectorBar:"â¥˜",LeftVector:"â†¼",LeftVectorBar:"â¥’",lEg:"âª‹",leg:"â‹š",leq:"â‰¤",leqq:"â‰¦",leqslant:"â©½",les:"â©½",lescc:"âª¨",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âªƒ",lesg:"â‹šï¸€",lesges:"âª“",lessapprox:"âª…",lessdot:"â‹–",lesseqgtr:"â‹š",lesseqqgtr:"âª‹",LessEqualGreater:"â‹š",LessFullEqual:"â‰¦",LessGreater:"â‰¶",lessgtr:"â‰¶",LessLess:"âª¡",lesssim:"â‰²",LessSlantEqual:"â©½",LessTilde:"â‰²",lfisht:"â¥¼",lfloor:"âŒŠ",Lfr:"ğ”",lfr:"ğ”©",lg:"â‰¶",lgE:"âª‘",lHar:"â¥¢",lhard:"â†½",lharu:"â†¼",lharul:"â¥ª",lhblk:"â–„",LJcy:"Ğ‰",ljcy:"Ñ™",Ll:"â‹˜",ll:"â‰ª",llarr:"â‡‡",llcorner:"âŒ",Lleftarrow:"â‡š",llhard:"â¥«",lltri:"â—º",Lmidot:"Ä¿",lmidot:"Å€",lmoust:"â°",lmoustache:"â°",lnap:"âª‰",lnapprox:"âª‰",lnE:"â‰¨",lne:"âª‡",lneq:"âª‡",lneqq:"â‰¨",lnsim:"â‹¦",loang:"âŸ¬",loarr:"â‡½",lobrk:"âŸ¦",LongLeftArrow:"âŸµ",Longleftarrow:"âŸ¸",longleftarrow:"âŸµ",LongLeftRightArrow:"âŸ·",Longleftrightarrow:"âŸº",longleftrightarrow:"âŸ·",longmapsto:"âŸ¼",LongRightArrow:"âŸ¶",Longrightarrow:"âŸ¹",longrightarrow:"âŸ¶",looparrowleft:"â†«",looparrowright:"â†¬",lopar:"â¦…",Lopf:"ğ•ƒ",lopf:"ğ•",loplus:"â¨­",lotimes:"â¨´",lowast:"âˆ—",lowbar:"_",LowerLeftArrow:"â†™",LowerRightArrow:"â†˜",loz:"â—Š",lozenge:"â—Š",lozf:"â§«",lpar:"(",lparlt:"â¦“",lrarr:"â‡†",lrcorner:"âŒŸ",lrhar:"â‡‹",lrhard:"â¥­",lrm:"â€",lrtri:"âŠ¿",lsaquo:"â€¹",Lscr:"â„’",lscr:"ğ“",Lsh:"â†°",lsh:"â†°",lsim:"â‰²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â€˜",lsquor:"â€š",Lstrok:"Å",lstrok:"Å‚",Lt:"â‰ª",LT:"<",lt:"<",ltcc:"âª¦",ltcir:"â©¹",ltdot:"â‹–",lthree:"â‹‹",ltimes:"â‹‰",ltlarr:"â¥¶",ltquest:"â©»",ltri:"â—ƒ",ltrie:"âŠ´",ltrif:"â—‚",ltrPar:"â¦–",lurdshar:"â¥Š",luruhar:"â¥¦",lvertneqq:"â‰¨ï¸€",lvnE:"â‰¨ï¸€",macr:"Â¯",male:"â™‚",malt:"âœ ",maltese:"âœ ",Map:"â¤…",map:"â†¦",mapsto:"â†¦",mapstodown:"â†§",mapstoleft:"â†¤",mapstoup:"â†¥",marker:"â–®",mcomma:"â¨©",Mcy:"Ğœ",mcy:"Ğ¼",mdash:"â€”",mDDot:"âˆº",measuredangle:"âˆ¡",MediumSpace:"âŸ",Mellintrf:"â„³",Mfr:"ğ”",mfr:"ğ”ª",mho:"â„§",micro:"Âµ",mid:"âˆ£",midast:"*",midcir:"â«°",middot:"Â·",minus:"âˆ’",minusb:"âŠŸ",minusd:"âˆ¸",minusdu:"â¨ª",MinusPlus:"âˆ“",mlcp:"â«›",mldr:"â€¦",mnplus:"âˆ“",models:"âŠ§",Mopf:"ğ•„",mopf:"ğ•",mp:"âˆ“",Mscr:"â„³",mscr:"ğ“‚",mstpos:"âˆ¾",Mu:"Îœ",mu:"Î¼",multimap:"âŠ¸",mumap:"âŠ¸",nabla:"âˆ‡",Nacute:"Åƒ",nacute:"Å„",nang:"âˆ âƒ’",nap:"â‰‰",napE:"â©°Ì¸",napid:"â‰‹Ì¸",napos:"Å‰",napprox:"â‰‰",natur:"â™®",natural:"â™®",naturals:"â„•",nbsp:"Â ",nbump:"â‰Ì¸",nbumpe:"â‰Ì¸",ncap:"â©ƒ",Ncaron:"Å‡",ncaron:"Åˆ",Ncedil:"Å…",ncedil:"Å†",ncong:"â‰‡",ncongdot:"â©­Ì¸",ncup:"â©‚",Ncy:"Ğ",ncy:"Ğ½",ndash:"â€“",ne:"â‰ ",nearhk:"â¤¤",neArr:"â‡—",nearr:"â†—",nearrow:"â†—",nedot:"â‰Ì¸",NegativeMediumSpace:"â€‹",NegativeThickSpace:"â€‹",NegativeThinSpace:"â€‹",NegativeVeryThinSpace:"â€‹",nequiv:"â‰¢",nesear:"â¤¨",nesim:"â‰‚Ì¸",NestedGreaterGreater:"â‰«",NestedLessLess:"â‰ª",NewLine:"\n",nexist:"âˆ„",nexists:"âˆ„",Nfr:"ğ”‘",nfr:"ğ”«",ngE:"â‰§Ì¸",nge:"â‰±",ngeq:"â‰±",ngeqq:"â‰§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",nGg:"â‹™Ì¸",ngsim:"â‰µ",nGt:"â‰«âƒ’",ngt:"â‰¯",ngtr:"â‰¯",nGtv:"â‰«Ì¸",nhArr:"â‡",nharr:"â†®",nhpar:"â«²",ni:"âˆ‹",nis:"â‹¼",nisd:"â‹º",niv:"âˆ‹",NJcy:"ĞŠ",njcy:"Ñš",nlArr:"â‡",nlarr:"â†š",nldr:"â€¥",nlE:"â‰¦Ì¸",nle:"â‰°",nLeftarrow:"â‡",nleftarrow:"â†š",nLeftrightarrow:"â‡",nleftrightarrow:"â†®",nleq:"â‰°",nleqq:"â‰¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â‰®",nLl:"â‹˜Ì¸",nlsim:"â‰´",nLt:"â‰ªâƒ’",nlt:"â‰®",nltri:"â‹ª",nltrie:"â‹¬",nLtv:"â‰ªÌ¸",nmid:"âˆ¤",NoBreak:"â ",NonBreakingSpace:"Â ",Nopf:"â„•",nopf:"ğ•Ÿ",Not:"â«¬",not:"Â¬",NotCongruent:"â‰¢",NotCupCap:"â‰­",NotDoubleVerticalBar:"âˆ¦",NotElement:"âˆ‰",NotEqual:"â‰ ",NotEqualTilde:"â‰‚Ì¸",NotExists:"âˆ„",NotGreater:"â‰¯",NotGreaterEqual:"â‰±",NotGreaterFullEqual:"â‰§Ì¸",NotGreaterGreater:"â‰«Ì¸",NotGreaterLess:"â‰¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"â‰µ",NotHumpDownHump:"â‰Ì¸",NotHumpEqual:"â‰Ì¸",notin:"âˆ‰",notindot:"â‹µÌ¸",notinE:"â‹¹Ì¸",notinva:"âˆ‰",notinvb:"â‹·",notinvc:"â‹¶",NotLeftTriangle:"â‹ª",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangleEqual:"â‹¬",NotLess:"â‰®",NotLessEqual:"â‰°",NotLessGreater:"â‰¸",NotLessLess:"â‰ªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â‰´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",notni:"âˆŒ",notniva:"âˆŒ",notnivb:"â‹¾",notnivc:"â‹½",NotPrecedes:"âŠ€",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â‹ ",NotReverseElement:"âˆŒ",NotRightTriangle:"â‹«",NotRightTriangleBar:"â§Ì¸",NotRightTriangleEqual:"â‹­",NotSquareSubset:"âŠÌ¸",NotSquareSubsetEqual:"â‹¢",NotSquareSuperset:"âŠÌ¸",NotSquareSupersetEqual:"â‹£",NotSubset:"âŠ‚âƒ’",NotSubsetEqual:"âŠˆ",NotSucceeds:"âŠ",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â‹¡",NotSucceedsTilde:"â‰¿Ì¸",NotSuperset:"âŠƒâƒ’",NotSupersetEqual:"âŠ‰",NotTilde:"â‰",NotTildeEqual:"â‰„",NotTildeFullEqual:"â‰‡",NotTildeTilde:"â‰‰",NotVerticalBar:"âˆ¤",npar:"âˆ¦",nparallel:"âˆ¦",nparsl:"â«½âƒ¥",npart:"âˆ‚Ì¸",npolint:"â¨”",npr:"âŠ€",nprcue:"â‹ ",npre:"âª¯Ì¸",nprec:"âŠ€",npreceq:"âª¯Ì¸",nrArr:"â‡",nrarr:"â†›",nrarrc:"â¤³Ì¸",nrarrw:"â†Ì¸",nRightarrow:"â‡",nrightarrow:"â†›",nrtri:"â‹«",nrtrie:"â‹­",nsc:"âŠ",nsccue:"â‹¡",nsce:"âª°Ì¸",Nscr:"ğ’©",nscr:"ğ“ƒ",nshortmid:"âˆ¤",nshortparallel:"âˆ¦",nsim:"â‰",nsime:"â‰„",nsimeq:"â‰„",nsmid:"âˆ¤",nspar:"âˆ¦",nsqsube:"â‹¢",nsqsupe:"â‹£",nsub:"âŠ„",nsubE:"â«…Ì¸",nsube:"âŠˆ",nsubset:"âŠ‚âƒ’",nsubseteq:"âŠˆ",nsubseteqq:"â«…Ì¸",nsucc:"âŠ",nsucceq:"âª°Ì¸",nsup:"âŠ…",nsupE:"â«†Ì¸",nsupe:"âŠ‰",nsupset:"âŠƒâƒ’",nsupseteq:"âŠ‰",nsupseteqq:"â«†Ì¸",ntgl:"â‰¹",Ntilde:"Ã‘",ntilde:"Ã±",ntlg:"â‰¸",ntriangleleft:"â‹ª",ntrianglelefteq:"â‹¬",ntriangleright:"â‹«",ntrianglerighteq:"â‹­",Nu:"Î",nu:"Î½",num:"#",numero:"â„–",numsp:"â€‡",nvap:"â‰âƒ’",nVDash:"âŠ¯",nVdash:"âŠ®",nvDash:"âŠ­",nvdash:"âŠ¬",nvge:"â‰¥âƒ’",nvgt:">âƒ’",nvHarr:"â¤„",nvinfin:"â§",nvlArr:"â¤‚",nvle:"â‰¤âƒ’",nvlt:"<âƒ’",nvltrie:"âŠ´âƒ’",nvrArr:"â¤ƒ",nvrtrie:"âŠµâƒ’",nvsim:"âˆ¼âƒ’",nwarhk:"â¤£",nwArr:"â‡–",nwarr:"â†–",nwarrow:"â†–",nwnear:"â¤§",Oacute:"Ã“",oacute:"Ã³",oast:"âŠ›",ocir:"âŠš",Ocirc:"Ã”",ocirc:"Ã´",Ocy:"Ğ",ocy:"Ğ¾",odash:"âŠ",Odblac:"Å",odblac:"Å‘",odiv:"â¨¸",odot:"âŠ™",odsold:"â¦¼",OElig:"Å’",oelig:"Å“",ofcir:"â¦¿",Ofr:"ğ”’",ofr:"ğ”¬",ogon:"Ë›",Ograve:"Ã’",ograve:"Ã²",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"âˆ®",olarr:"â†º",olcir:"â¦¾",olcross:"â¦»",oline:"â€¾",olt:"â§€",Omacr:"ÅŒ",omacr:"Å",Omega:"Î©",omega:"Ï‰",Omicron:"ÎŸ",omicron:"Î¿",omid:"â¦¶",ominus:"âŠ–",Oopf:"ğ•†",oopf:"ğ• ",opar:"â¦·",OpenCurlyDoubleQuote:"â€œ",OpenCurlyQuote:"â€˜",operp:"â¦¹",oplus:"âŠ•",Or:"â©”",or:"âˆ¨",orarr:"â†»",ord:"â©",order:"â„´",orderof:"â„´",ordf:"Âª",ordm:"Âº",origof:"âŠ¶",oror:"â©–",orslope:"â©—",orv:"â©›",oS:"â“ˆ",Oscr:"ğ’ª",oscr:"â„´",Oslash:"Ã˜",oslash:"Ã¸",osol:"âŠ˜",Otilde:"Ã•",otilde:"Ãµ",Otimes:"â¨·",otimes:"âŠ—",otimesas:"â¨¶",Ouml:"Ã–",ouml:"Ã¶",ovbar:"âŒ½",OverBar:"â€¾",OverBrace:"â",OverBracket:"â´",OverParenthesis:"âœ",par:"âˆ¥",para:"Â¶",parallel:"âˆ¥",parsim:"â«³",parsl:"â«½",part:"âˆ‚",PartialD:"âˆ‚",Pcy:"ĞŸ",pcy:"Ğ¿",percnt:"%",period:".",permil:"â€°",perp:"âŠ¥",pertenk:"â€±",Pfr:"ğ”“",pfr:"ğ”­",Phi:"Î¦",phi:"Ï†",phiv:"Ï•",phmmat:"â„³",phone:"â˜",Pi:"Î ",pi:"Ï€",pitchfork:"â‹”",piv:"Ï–",planck:"â„",planckh:"â„",plankv:"â„",plus:"+",plusacir:"â¨£",plusb:"âŠ",pluscir:"â¨¢",plusdo:"âˆ”",plusdu:"â¨¥",pluse:"â©²",PlusMinus:"Â±",plusmn:"Â±",plussim:"â¨¦",plustwo:"â¨§",pm:"Â±",Poincareplane:"â„Œ",pointint:"â¨•",Popf:"â„™",popf:"ğ•¡",pound:"Â£",Pr:"âª»",pr:"â‰º",prap:"âª·",prcue:"â‰¼",prE:"âª³",pre:"âª¯",prec:"â‰º",precapprox:"âª·",preccurlyeq:"â‰¼",Precedes:"â‰º",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â‰¼",PrecedesTilde:"â‰¾",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â‹¨",precsim:"â‰¾",Prime:"â€³",prime:"â€²",primes:"â„™",prnap:"âª¹",prnE:"âªµ",prnsim:"â‹¨",prod:"âˆ",Product:"âˆ",profalar:"âŒ®",profline:"âŒ’",profsurf:"âŒ“",prop:"âˆ",Proportion:"âˆ·",Proportional:"âˆ",propto:"âˆ",prsim:"â‰¾",prurel:"âŠ°",Pscr:"ğ’«",pscr:"ğ“…",Psi:"Î¨",psi:"Ïˆ",puncsp:"â€ˆ",Qfr:"ğ””",qfr:"ğ”®",qint:"â¨Œ",Qopf:"â„š",qopf:"ğ•¢",qprime:"â—",Qscr:"ğ’¬",qscr:"ğ“†",quaternions:"â„",quatint:"â¨–",quest:"?",questeq:"â‰Ÿ",QUOT:'"',quot:'"',rAarr:"â‡›",race:"âˆ½Ì±",Racute:"Å”",racute:"Å•",radic:"âˆš",raemptyv:"â¦³",Rang:"âŸ«",rang:"âŸ©",rangd:"â¦’",range:"â¦¥",rangle:"âŸ©",raquo:"Â»",Rarr:"â† ",rArr:"â‡’",rarr:"â†’",rarrap:"â¥µ",rarrb:"â‡¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarrfs:"â¤",rarrhk:"â†ª",rarrlp:"â†¬",rarrpl:"â¥…",rarrsim:"â¥´",Rarrtl:"â¤–",rarrtl:"â†£",rarrw:"â†",rAtail:"â¤œ",ratail:"â¤š",ratio:"âˆ¶",rationals:"â„š",RBarr:"â¤",rBarr:"â¤",rbarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦Œ",rbrksld:"â¦",rbrkslu:"â¦",Rcaron:"Å˜",rcaron:"Å™",Rcedil:"Å–",rcedil:"Å—",rceil:"âŒ‰",rcub:"}",Rcy:"Ğ ",rcy:"Ñ€",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â€",rdquor:"â€",rdsh:"â†³",Re:"â„œ",real:"â„œ",realine:"â„›",realpart:"â„œ",reals:"â„",rect:"â–­",REG:"Â®",reg:"Â®",ReverseElement:"âˆ‹",ReverseEquilibrium:"â‡‹",ReverseUpEquilibrium:"â¥¯",rfisht:"â¥½",rfloor:"âŒ‹",Rfr:"â„œ",rfr:"ğ”¯",rHar:"â¥¤",rhard:"â‡",rharu:"â‡€",rharul:"â¥¬",Rho:"Î¡",rho:"Ï",rhov:"Ï±",RightAngleBracket:"âŸ©",RightArrow:"â†’",Rightarrow:"â‡’",rightarrow:"â†’",RightArrowBar:"â‡¥",RightArrowLeftArrow:"â‡„",rightarrowtail:"â†£",RightCeiling:"âŒ‰",RightDoubleBracket:"âŸ§",RightDownTeeVector:"â¥",RightDownVector:"â‡‚",RightDownVectorBar:"â¥•",RightFloor:"âŒ‹",rightharpoondown:"â‡",rightharpoonup:"â‡€",rightleftarrows:"â‡„",rightleftharpoons:"â‡Œ",rightrightarrows:"â‡‰",rightsquigarrow:"â†",RightTee:"âŠ¢",RightTeeArrow:"â†¦",RightTeeVector:"â¥›",rightthreetimes:"â‹Œ",RightTriangle:"âŠ³",RightTriangleBar:"â§",RightTriangleEqual:"âŠµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥œ",RightUpVector:"â†¾",RightUpVectorBar:"â¥”",RightVector:"â‡€",RightVectorBar:"â¥“",ring:"Ëš",risingdotseq:"â‰“",rlarr:"â‡„",rlhar:"â‡Œ",rlm:"â€",rmoust:"â±",rmoustache:"â±",rnmid:"â«®",roang:"âŸ­",roarr:"â‡¾",robrk:"âŸ§",ropar:"â¦†",Ropf:"â„",ropf:"ğ•£",roplus:"â¨®",rotimes:"â¨µ",RoundImplies:"â¥°",rpar:")",rpargt:"â¦”",rppolint:"â¨’",rrarr:"â‡‰",Rrightarrow:"â‡›",rsaquo:"â€º",Rscr:"â„›",rscr:"ğ“‡",Rsh:"â†±",rsh:"â†±",rsqb:"]",rsquo:"â€™",rsquor:"â€™",rthree:"â‹Œ",rtimes:"â‹Š",rtri:"â–¹",rtrie:"âŠµ",rtrif:"â–¸",rtriltri:"â§",RuleDelayed:"â§´",ruluhar:"â¥¨",rx:"â„",Sacute:"Åš",sacute:"Å›",sbquo:"â€š",Sc:"âª¼",sc:"â‰»",scap:"âª¸",Scaron:"Å ",scaron:"Å¡",sccue:"â‰½",scE:"âª´",sce:"âª°",Scedil:"Å",scedil:"ÅŸ",Scirc:"Åœ",scirc:"Å",scnap:"âªº",scnE:"âª¶",scnsim:"â‹©",scpolint:"â¨“",scsim:"â‰¿",Scy:"Ğ¡",scy:"Ñ",sdot:"â‹…",sdotb:"âŠ¡",sdote:"â©¦",searhk:"â¤¥",seArr:"â‡˜",searr:"â†˜",searrow:"â†˜",sect:"Â§",semi:";",seswar:"â¤©",setminus:"âˆ–",setmn:"âˆ–",sext:"âœ¶",Sfr:"ğ”–",sfr:"ğ”°",sfrown:"âŒ¢",sharp:"â™¯",SHCHcy:"Ğ©",shchcy:"Ñ‰",SHcy:"Ğ¨",shcy:"Ñˆ",ShortDownArrow:"â†“",ShortLeftArrow:"â†",shortmid:"âˆ£",shortparallel:"âˆ¥",ShortRightArrow:"â†’",ShortUpArrow:"â†‘",shy:"Â­",Sigma:"Î£",sigma:"Ïƒ",sigmaf:"Ï‚",sigmav:"Ï‚",sim:"âˆ¼",simdot:"â©ª",sime:"â‰ƒ",simeq:"â‰ƒ",simg:"âª",simgE:"âª ",siml:"âª",simlE:"âªŸ",simne:"â‰†",simplus:"â¨¤",simrarr:"â¥²",slarr:"â†",SmallCircle:"âˆ˜",smallsetminus:"âˆ–",smashp:"â¨³",smeparsl:"â§¤",smid:"âˆ£",smile:"âŒ£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸€",SOFTcy:"Ğ¬",softcy:"ÑŒ",sol:"/",solb:"â§„",solbar:"âŒ¿",Sopf:"ğ•Š",sopf:"ğ•¤",spades:"â™ ",spadesuit:"â™ ",spar:"âˆ¥",sqcap:"âŠ“",sqcaps:"âŠ“ï¸€",sqcup:"âŠ”",sqcups:"âŠ”ï¸€",Sqrt:"âˆš",sqsub:"âŠ",sqsube:"âŠ‘",sqsubset:"âŠ",sqsubseteq:"âŠ‘",sqsup:"âŠ",sqsupe:"âŠ’",sqsupset:"âŠ",sqsupseteq:"âŠ’",squ:"â–¡",Square:"â–¡",square:"â–¡",SquareIntersection:"âŠ“",SquareSubset:"âŠ",SquareSubsetEqual:"âŠ‘",SquareSuperset:"âŠ",SquareSupersetEqual:"âŠ’",SquareUnion:"âŠ”",squarf:"â–ª",squf:"â–ª",srarr:"â†’",Sscr:"ğ’®",sscr:"ğ“ˆ",ssetmn:"âˆ–",ssmile:"âŒ£",sstarf:"â‹†",Star:"â‹†",star:"â˜†",starf:"â˜…",straightepsilon:"Ïµ",straightphi:"Ï•",strns:"Â¯",Sub:"â‹",sub:"âŠ‚",subdot:"âª½",subE:"â«…",sube:"âŠ†",subedot:"â«ƒ",submult:"â«",subnE:"â«‹",subne:"âŠŠ",subplus:"âª¿",subrarr:"â¥¹",Subset:"â‹",subset:"âŠ‚",subseteq:"âŠ†",subseteqq:"â«…",SubsetEqual:"âŠ†",subsetneq:"âŠŠ",subsetneqq:"â«‹",subsim:"â«‡",subsub:"â«•",subsup:"â«“",succ:"â‰»",succapprox:"âª¸",succcurlyeq:"â‰½",Succeeds:"â‰»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â‰½",SucceedsTilde:"â‰¿",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â‹©",succsim:"â‰¿",SuchThat:"âˆ‹",Sum:"âˆ‘",sum:"âˆ‘",sung:"â™ª",Sup:"â‹‘",sup:"âŠƒ",sup1:"Â¹",sup2:"Â²",sup3:"Â³",supdot:"âª¾",supdsub:"â«˜",supE:"â«†",supe:"âŠ‡",supedot:"â«„",Superset:"âŠƒ",SupersetEqual:"âŠ‡",suphsol:"âŸ‰",suphsub:"â«—",suplarr:"â¥»",supmult:"â«‚",supnE:"â«Œ",supne:"âŠ‹",supplus:"â«€",Supset:"â‹‘",supset:"âŠƒ",supseteq:"âŠ‡",supseteqq:"â«†",supsetneq:"âŠ‹",supsetneqq:"â«Œ",supsim:"â«ˆ",supsub:"â«”",supsup:"â«–",swarhk:"â¤¦",swArr:"â‡™",swarr:"â†™",swarrow:"â†™",swnwar:"â¤ª",szlig:"ÃŸ",Tab:"\t",target:"âŒ–",Tau:"Î¤",tau:"Ï„",tbrk:"â´",Tcaron:"Å¤",tcaron:"Å¥",Tcedil:"Å¢",tcedil:"Å£",Tcy:"Ğ¢",tcy:"Ñ‚",tdot:"âƒ›",telrec:"âŒ•",Tfr:"ğ”—",tfr:"ğ”±",there4:"âˆ´",Therefore:"âˆ´",therefore:"âˆ´",Theta:"Î˜",theta:"Î¸",thetasym:"Ï‘",thetav:"Ï‘",thickapprox:"â‰ˆ",thicksim:"âˆ¼",ThickSpace:"âŸâ€Š",thinsp:"â€‰",ThinSpace:"â€‰",thkap:"â‰ˆ",thksim:"âˆ¼",THORN:"Ã",thorn:"Ã¾",Tilde:"âˆ¼",tilde:"Ëœ",TildeEqual:"â‰ƒ",TildeFullEqual:"â‰…",TildeTilde:"â‰ˆ",times:"Ã—",timesb:"âŠ ",timesbar:"â¨±",timesd:"â¨°",tint:"âˆ­",toea:"â¤¨",top:"âŠ¤",topbot:"âŒ¶",topcir:"â«±",Topf:"ğ•‹",topf:"ğ•¥",topfork:"â«š",tosa:"â¤©",tprime:"â€´",TRADE:"â„¢",trade:"â„¢",triangle:"â–µ",triangledown:"â–¿",triangleleft:"â—ƒ",trianglelefteq:"âŠ´",triangleq:"â‰œ",triangleright:"â–¹",trianglerighteq:"âŠµ",tridot:"â—¬",trie:"â‰œ",triminus:"â¨º",TripleDot:"âƒ›",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",Tscr:"ğ’¯",tscr:"ğ“‰",TScy:"Ğ¦",tscy:"Ñ†",TSHcy:"Ğ‹",tshcy:"Ñ›",Tstrok:"Å¦",tstrok:"Å§",twixt:"â‰¬",twoheadleftarrow:"â†",twoheadrightarrow:"â† ",Uacute:"Ãš",uacute:"Ãº",Uarr:"â†Ÿ",uArr:"â‡‘",uarr:"â†‘",Uarrocir:"â¥‰",Ubrcy:"Ğ",ubrcy:"Ñ",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"Ã›",ucirc:"Ã»",Ucy:"Ğ£",ucy:"Ñƒ",udarr:"â‡…",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",Ufr:"ğ”˜",ufr:"ğ”²",Ugrave:"Ã™",ugrave:"Ã¹",uHar:"â¥£",uharl:"â†¿",uharr:"â†¾",uhblk:"â–€",ulcorn:"âŒœ",ulcorner:"âŒœ",ulcrop:"âŒ",ultri:"â—¸",Umacr:"Åª",umacr:"Å«",uml:"Â¨",UnderBar:"_",UnderBrace:"âŸ",UnderBracket:"âµ",UnderParenthesis:"â",Union:"â‹ƒ",UnionPlus:"âŠ",Uogon:"Å²",uogon:"Å³",Uopf:"ğ•Œ",uopf:"ğ•¦",UpArrow:"â†‘",Uparrow:"â‡‘",uparrow:"â†‘",UpArrowBar:"â¤’",UpArrowDownArrow:"â‡…",UpDownArrow:"â†•",Updownarrow:"â‡•",updownarrow:"â†•",UpEquilibrium:"â¥®",upharpoonleft:"â†¿",upharpoonright:"â†¾",uplus:"âŠ",UpperLeftArrow:"â†–",UpperRightArrow:"â†—",Upsi:"Ï’",upsi:"Ï…",upsih:"Ï’",Upsilon:"Î¥",upsilon:"Ï…",UpTee:"âŠ¥",UpTeeArrow:"â†¥",upuparrows:"â‡ˆ",urcorn:"âŒ",urcorner:"âŒ",urcrop:"âŒ",Uring:"Å®",uring:"Å¯",urtri:"â—¹",Uscr:"ğ’°",uscr:"ğ“Š",utdot:"â‹°",Utilde:"Å¨",utilde:"Å©",utri:"â–µ",utrif:"â–´",uuarr:"â‡ˆ",Uuml:"Ãœ",uuml:"Ã¼",uwangle:"â¦§",vangrt:"â¦œ",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"âˆ…",varphi:"Ï•",varpi:"Ï–",varpropto:"âˆ",vArr:"â‡•",varr:"â†•",varrho:"Ï±",varsigma:"Ï‚",varsubsetneq:"âŠŠï¸€",varsubsetneqq:"â«‹ï¸€",varsupsetneq:"âŠ‹ï¸€",varsupsetneqq:"â«Œï¸€",vartheta:"Ï‘",vartriangleleft:"âŠ²",vartriangleright:"âŠ³",Vbar:"â««",vBar:"â«¨",vBarv:"â«©",Vcy:"Ğ’",vcy:"Ğ²",VDash:"âŠ«",Vdash:"âŠ©",vDash:"âŠ¨",vdash:"âŠ¢",Vdashl:"â«¦",Vee:"â‹",vee:"âˆ¨",veebar:"âŠ»",veeeq:"â‰š",vellip:"â‹®",Verbar:"â€–",verbar:"|",Vert:"â€–",vert:"|",VerticalBar:"âˆ£",VerticalLine:"|",VerticalSeparator:"â˜",VerticalTilde:"â‰€",VeryThinSpace:"â€Š",Vfr:"ğ”™",vfr:"ğ”³",vltri:"âŠ²",vnsub:"âŠ‚âƒ’",vnsup:"âŠƒâƒ’",Vopf:"ğ•",vopf:"ğ•§",vprop:"âˆ",vrtri:"âŠ³",Vscr:"ğ’±",vscr:"ğ“‹",vsubnE:"â«‹ï¸€",vsubne:"âŠŠï¸€",vsupnE:"â«Œï¸€",vsupne:"âŠ‹ï¸€",Vvdash:"âŠª",vzigzag:"â¦š",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©Ÿ",Wedge:"â‹€",wedge:"âˆ§",wedgeq:"â‰™",weierp:"â„˜",Wfr:"ğ”š",wfr:"ğ”´",Wopf:"ğ•",wopf:"ğ•¨",wp:"â„˜",wr:"â‰€",wreath:"â‰€",Wscr:"ğ’²",wscr:"ğ“Œ",xcap:"â‹‚",xcirc:"â—¯",xcup:"â‹ƒ",xdtri:"â–½",Xfr:"ğ”›",xfr:"ğ”µ",xhArr:"âŸº",xharr:"âŸ·",Xi:"Î",xi:"Î¾",xlArr:"âŸ¸",xlarr:"âŸµ",xmap:"âŸ¼",xnis:"â‹»",xodot:"â¨€",Xopf:"ğ•",xopf:"ğ•©",xoplus:"â¨",xotime:"â¨‚",xrArr:"âŸ¹",xrarr:"âŸ¶",Xscr:"ğ’³",xscr:"ğ“",xsqcup:"â¨†",xuplus:"â¨„",xutri:"â–³",xvee:"â‹",xwedge:"â‹€",Yacute:"Ã",yacute:"Ã½",YAcy:"Ğ¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ğ«",ycy:"Ñ‹",yen:"Â¥",Yfr:"ğ”œ",yfr:"ğ”¶",YIcy:"Ğ‡",yicy:"Ñ—",Yopf:"ğ•",yopf:"ğ•ª",Yscr:"ğ’´",yscr:"ğ“",YUcy:"Ğ®",yucy:"Ñ",Yuml:"Å¸",yuml:"Ã¿",Zacute:"Å¹",zacute:"Åº",Zcaron:"Å½",zcaron:"Å¾",Zcy:"Ğ—",zcy:"Ğ·",Zdot:"Å»",zdot:"Å¼",zeetrf:"â„¨",ZeroWidthSpace:"â€‹",Zeta:"Î–",zeta:"Î¶",Zfr:"â„¨",zfr:"ğ”·",ZHcy:"Ğ–",zhcy:"Ğ¶",zigrarr:"â‡",Zopf:"â„¤",zopf:"ğ•«",Zscr:"ğ’µ",zscr:"ğ“",zwj:"â€",zwnj:"â€Œ"}),t.entityMap=t.HTML_ENTITIES},8978:(e,t,n)=>{var i=n(4722);i.DOMImplementation,i.XMLSerializer,t.DOMParser=n(5752).DOMParser},4466:(e,t,n)=>{var i=n(4582).NAMESPACE,o=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+o.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+o.source+r.source+"*(?::"+o.source+r.source+"*)?$"),s=0,l=1,c=2,u=3,d=4,p=5,h=6,g=7;function m(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,m)}function f(){}function y(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function A(e,t,n,o,r,a){function m(e,t,i){n.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),i)}for(var f,y=++t,A=s;;){var v=e.charAt(y);switch(v){case"=":if(A===l)f=e.slice(t,y),A=u;else{if(A!==c)throw new Error("attribute equal must after attrName");A=u}break;case"'":case'"':if(A===u||A===l){if(A===l&&(a.warning('attribute value must after "="'),f=e.slice(t,y)),t=y+1,!((y=e.indexOf(v,t))>0))throw new Error("attribute value no end '"+v+"' match");m(f,C=e.slice(t,y),t-1),A=p}else{if(A!=d)throw new Error('attribute value must after "="');m(f,C=e.slice(t,y),t),a.warning('attribute "'+f+'" missed start quot('+v+")!!"),t=y+1,A=p}break;case"/":switch(A){case s:n.setTagName(e.slice(t,y));case p:case h:case g:A=g,n.closed=!0;case d:case l:break;case c:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),A==s&&n.setTagName(e.slice(t,y)),y;case">":switch(A){case s:n.setTagName(e.slice(t,y));case p:case h:case g:break;case d:case l:"/"===(C=e.slice(t,y)).slice(-1)&&(n.closed=!0,C=C.slice(0,-1));case c:A===c&&(C=f),A==d?(a.warning('attribute "'+C+'" missed quot(")!'),m(f,C,t)):(i.isHTML(o[""])&&C.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+C+'" missed value!! "'+C+'" instead!!'),m(C,C,t));break;case u:throw new Error("attribute value missed!!")}return y;case"Â€":v=" ";default:if(v<=" ")switch(A){case s:n.setTagName(e.slice(t,y)),A=h;break;case l:f=e.slice(t,y),A=c;break;case d:var C=e.slice(t,y);a.warning('attribute "'+C+'" missed quot(")!!'),m(f,C,t);case p:A=h}else switch(A){case c:n.tagName;i.isHTML(o[""])&&f.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+f+'" missed value!! "'+f+'" instead2!!'),m(f,f,t),t=y,A=l;break;case p:a.warning('attribute space is required"'+f+'"!!');case h:A=l,t=y;break;case u:A=d,t=y;break;case g:throw new Error("elements closed character '/' and '>' must be connected to")}}y++}}function v(e,t,n){for(var o=e.tagName,r=null,a=e.length;a--;){var s=e[a],l=s.qName,c=s.value;if((h=l.indexOf(":"))>0)var u=s.prefix=l.slice(0,h),d=l.slice(h+1),p="xmlns"===u&&d;else d=l,u=null,p="xmlns"===l&&"";s.localName=d,!1!==p&&(null==r&&(r={},I(n,n={})),n[p]=r[p]=c,s.uri=i.XMLNS,t.startPrefixMapping(p,c))}for(a=e.length;a--;){(u=(s=e[a]).prefix)&&("xml"===u&&(s.uri=i.XML),"xmlns"!==u&&(s.uri=n[u||""]))}var h;(h=o.indexOf(":"))>0?(u=e.prefix=o.slice(0,h),d=e.localName=o.slice(h+1)):(u=null,d=e.localName=o);var g=e.uri=n[u||""];if(t.startElement(g,d,o,e),!e.closed)return e.currentNSMap=n,e.localNSMap=r,!0;if(t.endElement(g,d,o),r)for(u in r)Object.prototype.hasOwnProperty.call(r,u)&&t.endPrefixMapping(u)}function C(e,t,n,i,o){if(/^(?:script|textarea)$/i.test(n)){var r=e.indexOf("</"+n+">",t),a=e.substring(t+1,r);if(/[&<]/.test(a))return/^script$/i.test(n)?(o.characters(a,0,a.length),r):(a=a.replace(/&#?\w+;/g,i),o.characters(a,0,a.length),r)}return t+1}function b(e,t,n,i){var o=i[n];return null==o&&((o=e.lastIndexOf("</"+n+">"))<t&&(o=e.lastIndexOf("</"+n)),i[n]=o),o<t}function I(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function _(e,t,n,i){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(o=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,o-t-4),o+3):(i.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var r=function(e,t){var n,i=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;o.lastIndex=t,o.exec(e);for(;n=o.exec(e);)if(i.push(n),n[1])return i}(e,t),a=r.length;if(a>1&&/!doctype/i.test(r[0][0])){var s=r[1][0],l=!1,c=!1;a>3&&(/^public$/i.test(r[2][0])?(l=r[3][0],c=a>4&&r[4][0]):/^system$/i.test(r[2][0])&&(c=r[3][0]));var u=r[a-1];return n.startDTD(s,l,c),n.endDTD(),u.index+u[0].length}return-1}function w(e,t,n){var i=e.indexOf("?>",t);if(i){var o=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(o){o[0].length;return n.processingInstruction(o[1],o[2]),i+2}return-1}return-1}function E(){this.attributeNames={}}m.prototype=new Error,m.prototype.name=m.name,f.prototype={parse:function(e,t,n){var o=this.domBuilder;o.startDocument(),I(t,t={}),function(e,t,n,o,r){function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function s(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(n,t)?n[t]:"#"===t.charAt(0)?a(parseInt(t.substr(1).replace("x","0x"))):(r.error("entity not found:"+e),e)}function l(t){if(t>I){var n=e.substring(I,t).replace(/&#?\w+;/g,s);h&&c(I),o.characters(n,0,t-I),I=t}}function c(t,n){for(;t>=d&&(n=p.exec(e));)u=n.index,d=u+n[0].length,h.lineNumber++;h.columnNumber=t-u+1}var u=0,d=0,p=/.*(?:\r\n?|\n)|.*$/g,h=o.locator,g=[{currentNSMap:t}],f={},I=0;for(;;){try{var S=e.indexOf("<",I);if(S<0){if(!e.substr(I).match(/^\s*$/)){var P=o.doc,M=P.createTextNode(e.substr(I));P.appendChild(M),o.currentElement=M}return}switch(S>I&&l(S),e.charAt(S+1)){case"/":var x=e.indexOf(">",S+3),G=e.substring(S+2,x).replace(/[ \t\n\r]+$/g,""),k=g.pop();x<0?(G=e.substring(S+2).replace(/[\s<].*/,""),r.error("end tag name: "+G+" is not complete:"+k.tagName),x=S+1+G.length):G.match(/\s</)&&(G=G.replace(/[\s<].*/,""),r.error("end tag name: "+G+" maybe not complete"),x=S+1+G.length);var R=k.localNSMap,L=k.tagName==G;if(L||k.tagName&&k.tagName.toLowerCase()==G.toLowerCase()){if(o.endElement(k.uri,k.localName,G),R)for(var O in R)Object.prototype.hasOwnProperty.call(R,O)&&o.endPrefixMapping(O);L||r.fatalError("end tag name: "+G+" is not match the current start tagName:"+k.tagName)}else g.push(k);x++;break;case"?":h&&c(S),x=w(e,S,o);break;case"!":h&&c(S),x=_(e,S,o,r);break;default:h&&c(S);var T=new E,D=g[g.length-1].currentNSMap,N=(x=A(e,S,T,D,s,r),T.length);if(!T.closed&&b(e,x,T.tagName,f)&&(T.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),h&&N){for(var U=y(h,{}),j=0;j<N;j++){var B=T[j];c(B.offset),B.locator=y(h,{})}o.locator=U,v(T,o,D)&&g.push(T),o.locator=h}else v(T,o,D)&&g.push(T);i.isHTML(T.uri)&&!T.closed?x=C(e,x,T.tagName,s,o):x++}}catch(e){if(e instanceof m)throw e;r.error("element parse error: "+e),x=-1}x>I?I=x:l(Math.max(S,I)+1)}}(e,t,n,o,this.errorHandler),o.endDocument()}},E.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!a.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=f,t.ParseError=m},6701:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof y?t:y,a=Object.create(r.prototype),s=new G(i||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",h="suspendedYield",g="executing",m="completed",f={};function y(){}function A(){}function v(){}var C={};c(C,a,(function(){return this}));var b=Object.getPrototypeOf,I=b&&b(b(k([])));I&&I!==n&&i.call(I,a)&&(C=I);var _=v.prototype=y.prototype=Object.create(C);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,r,a,s){var l=d(e[o],e,r);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==_typeof(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function S(t,n,i){var o=p;return function(r,a){if(o===g)throw Error("Generator is already running");if(o===m){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var s=i.delegate;if(s){var l=P(s,i);if(l){if(l===f)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=g;var c=d(t,n,i);if("normal"===c.type){if(o=i.done?m:h,c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(o=m,i.method="throw",i.arg=c.arg)}}}function P(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),f;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function G(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function k(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(_typeof(t)+" is not iterable")}return A.prototype=v,o(_,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:A,configurable:!0}),A.displayName=c(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},w(E.prototype),c(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new E(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),c(_,l,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=k,G.prototype={constructor:G,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return s.type="throw",s.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:k(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),f}},t}function asyncGeneratorStep(e,t,n,i,o,r,a){try{var s=e[r](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){asyncGeneratorStep(r,i,o,a,s,"next",e)}function s(e){asyncGeneratorStep(r,i,o,a,s,"throw",e)}a(void 0)}))}}__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var m_suggestions=[],controller=new AbortController,m_index="geoplateforme",m_fields="title,layer_name",m_size="1000",m_maximumResponses=5,m_filterByService=["WMTS","TMS"],m_filterByTMS=["ADMIN_EXPRESS","ISOHYPSE","PLAN.IGN","OCSGE_2016","OCSGE_2019","PCI","BDTOPO"],m_url="https://data.geopf.fr/recherche/api/indexes/".concat(m_index,"/suggest"),target=new EventTarget,suggest=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,i,o,r,a,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clear(),controller=new AbortController,n=new URL(m_url),i={text:t,fields:m_fields,size:m_size},Object.keys(i).forEach((function(e){return n.searchParams.append(e,i[e])})),e.next=7,fetch(n,{});case 7:return o=e.sent,e.next=10,o.json();case 10:if(r=e.sent,200===o.status){e.next=13;break}throw new Error(o.message);case 13:if(r&&0!==r.length){e.next=15;break}return e.abrupt("return");case 15:a=0;case 16:if(!(a<r.length)){e.next=30;break}if(s=r[a],!(0===m_filterByService.length||m_filterByService.includes(s.source.type))){e.next=27;break}if(!(unique().length>=m_maximumResponses)){e.next=22;break}return e.abrupt("break",30);case 22:if(l={originators:s.source.attributions,srs:s.source.srs,metadata:s.source.metadata_url,name:s.source.layer_name,title:s.source.title,description:s.source.description,service:s.source.type,url:s.source.url},!m_filterByTMS.length){e.next=26;break}if(!("WMTS"===l.service&&m_filterByTMS.includes(l.name)||"TMS"===l.service&&!m_filterByTMS.includes(l.name))){e.next=26;break}return e.abrupt("continue",27);case 26:m_suggestions.push(l);case 27:a++,e.next=16;break;case 30:return target.dispatchEvent(new CustomEvent("suggest",{bubbles:!0,detail:getSuggestions()})),e.abrupt("return",getSuggestions());case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),unique=function(){return m_suggestions.filter((function(e,t,n){return t===n.findIndex((function(t){return t.service===e.service&&t.name===e.name&&t.title===e.title&&t.description===e.description}))}))},clear=function(){controller.abort(),m_suggestions=[]},getSuggestions=function(){return unique()},getNames=function(){return unique().map((function(e){return e.name}))},getTitles=function(){return unique().map((function(e){return e.title}))},setIndex=function(e){m_index=e},setFields=function(e){m_fields=e},setSize=function(e){m_size=parseInt(e)},setUrl=function setUrl(value){m_url=eval("`"+value+"`")},setMaximumResponses=function(e){m_maximumResponses=parseInt(e)},setFiltersByService=function(e){m_filterByService=""===e?[]:e.split(",")},setFiltersByTMS=function(e){m_filterByTMS=""===e?[]:e.split(",")},updateFilterByTMS=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,i,o,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t)||(n="https://raw.githubusercontent.com/IGNF/geoportal-configuration/new-url/vectorTileConfig/fullVectorTileConfig.json"),e.next=4,fetch(n);case 4:return i=e.sent,e.next=7,i.json();case 7:if(o=e.sent,200===i.status){e.next=10;break}throw new Error(i.message);case 10:if(o){e.next=12;break}throw new Error("Liste vide !");case 12:return(r=Object.keys(o.layers).map((function(e){return e.split("$")[0]})))&&setFiltersByTMS(r.toString()),e.abrupt("return",m_filterByTMS);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const __WEBPACK_DEFAULT_EXPORT__={target,suggest,clear,getSuggestions,getNames,getTitles,setIndex,setFields,setSize,setUrl,setMaximumResponses,setFiltersByService,setFiltersByTMS,updateFilterByTMS}},6964:function(e,t,n){e.exports=function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"==typeof e}var i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,r=void 0,a=void 0,s=function(e,t){C[o]=e,C[o+1]=t,2===(o+=2)&&(a?a(b):_())};function l(e){a=e}function c(e){s=e}var u="undefined"!=typeof window?window:void 0,d=u||{},p=d.MutationObserver||d.WebKitMutationObserver,h="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),g="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function m(){return function(){return process.nextTick(b)}}function f(){return void 0!==r?function(){r(b)}:v()}function y(){var e=0,t=new p(b),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function A(){var e=new MessageChannel;return e.port1.onmessage=b,function(){return e.port2.postMessage(0)}}function v(){var e=setTimeout;return function(){return e(b,1)}}var C=new Array(1e3);function b(){for(var e=0;e<o;e+=2)(0,C[e])(C[e+1]),C[e]=void 0,C[e+1]=void 0;o=0}function I(){try{var e=Function("return this")().require("vertx");return r=e.runOnLoop||e.runOnContext,f()}catch(e){return v()}}var _=void 0;function w(e,t){var n=this,i=new this.constructor(P);void 0===i[S]&&Y(i);var o=n._state;if(o){var r=arguments[o-1];s((function(){return V(o,i,r,n._result)}))}else F(n,i,e,t);return i}function E(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(P);return N(n,e),n}_=h?m():p?y():g?A():void 0===u?I():v();var S=Math.random().toString(36).substring(2);function P(){}var M=void 0,x=1,G=2;function k(){return new TypeError("You cannot resolve a promise with itself")}function R(){return new TypeError("A promises callback cannot return that same promise.")}function L(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function O(e,t,n){s((function(e){var i=!1,o=L(n,t,(function(n){i||(i=!0,t!==n?N(e,n):j(e,n))}),(function(t){i||(i=!0,B(e,t))}),"Settle: "+(e._label||" unknown promise"));!i&&o&&(i=!0,B(e,o))}),e)}function T(e,t){t._state===x?j(e,t._result):t._state===G?B(e,t._result):F(t,void 0,(function(t){return N(e,t)}),(function(t){return B(e,t)}))}function D(e,n,i){n.constructor===e.constructor&&i===w&&n.constructor.resolve===E?T(e,n):void 0===i?j(e,n):t(i)?O(e,n,i):j(e,n)}function N(t,n){if(t===n)B(t,k());else if(e(n)){var i=void 0;try{i=n.then}catch(e){return void B(t,e)}D(t,n,i)}else j(t,n)}function U(e){e._onerror&&e._onerror(e._result),z(e)}function j(e,t){e._state===M&&(e._result=t,e._state=x,0!==e._subscribers.length&&s(z,e))}function B(e,t){e._state===M&&(e._state=G,e._result=t,s(U,e))}function F(e,t,n,i){var o=e._subscribers,r=o.length;e._onerror=null,o[r]=t,o[r+x]=n,o[r+G]=i,0===r&&e._state&&s(z,e)}function z(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,o=void 0,r=e._result,a=0;a<t.length;a+=3)i=t[a],o=t[a+n],i?V(n,i,o,r):o(r);e._subscribers.length=0}}function V(e,n,i,o){var r=t(i),a=void 0,s=void 0,l=!0;if(r){try{a=i(o)}catch(e){l=!1,s=e}if(n===a)return void B(n,R())}else a=o;n._state!==M||(r&&l?N(n,a):!1===l?B(n,s):e===x?j(n,a):e===G&&B(n,a))}function q(e,t){try{t((function(t){N(e,t)}),(function(t){B(e,t)}))}catch(t){B(e,t)}}var W=0;function H(){return W++}function Y(e){e[S]=W++,e._state=void 0,e._result=void 0,e._subscribers=[]}function Z(){return new Error("Array Methods must be provided an Array")}var J=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(P),this.promise[S]||Y(this.promise),i(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?j(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&j(this.promise,this._result))):B(this.promise,Z())}return e.prototype._enumerate=function(e){for(var t=0;this._state===M&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===E){var o=void 0,r=void 0,a=!1;try{o=e.then}catch(e){a=!0,r=e}if(o===w&&e._state!==M)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===te){var s=new n(P);a?B(s,r):D(s,e,o),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===M&&(this._remaining--,e===G?B(i,n):this._result[t]=n),0===this._remaining&&j(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;F(e,void 0,(function(e){return n._settledAt(x,t,e)}),(function(e){return n._settledAt(G,t,e)}))},e}();function X(e){return new J(this,e).promise}function K(e){var t=this;return i(e)?new t((function(n,i){for(var o=e.length,r=0;r<o;r++)t.resolve(e[r]).then(n,i)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function Q(e){var t=new this(P);return B(t,e),t}function $(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ee(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var te=function(){function e(t){this[S]=H(),this._result=this._state=void 0,this._subscribers=[],P!==t&&("function"!=typeof t&&$(),this instanceof e?q(this,t):ee())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var n=this,i=n.constructor;return t(e)?n.then((function(t){return i.resolve(e()).then((function(){return t}))}),(function(t){return i.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();function ne(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=te}return te.prototype.then=w,te.all=X,te.race=K,te.resolve=E,te.reject=Q,te._setScheduler=l,te._setAsap=c,te._asap=s,te.polyfill=ne,te.Promise=te,te}()},3110:function(e){var t;e.exports=(t={},(t=function(){this.listeners={}}).prototype={addEventListener:function(e,t,n){for(var i=[],o=arguments.length,r=0;r<o;r++)i.push(arguments[r]);i=i.length>3?i.splice(3,i.length-1):[],void 0!==this.listeners[e]?this.listeners[e].push({scope:n,callback:t,args:i}):this.listeners[e]=[{scope:n,callback:t,args:i}]},removeEventListener:function(e,t,n){if(void 0!==this.listeners[e]){for(var i=this.listeners[e].length,o=[],r=0;r<i;r++){var a=this.listeners[e][r];a.scope==n&&a.callback==t||o.push(a)}this.listeners[e]=o}},hasEventListener:function(e,t,n){if(void 0!==this.listeners[e]){var i=this.listeners[e].length;if(void 0===t&&void 0===n)return i>0;for(var o=0;o<i;o++){var r=this.listeners[e][o];if((!n||r.scope==n)&&r.callback==t)return!0}}return!1},dispatch:function(e,t){for(var n={type:e,target:t},i=[],o=arguments.length,r=0;r<o;r++)i.push(arguments[r]);if(i=i.length>2?i.splice(2,i.length-1):[],i=[n].concat(i),void 0!==this.listeners[e]){var a=this.listeners[e].slice(),s=a.length;for(r=0;r<s;r++){var l=a[r];if(l&&l.callback){var c=i.concat(l.args);l.callback.apply(l.scope,c)}}}},getEvents:function(){var e="";for(var t in this.listeners)for(var n=this.listeners[t].length,i=0;i<n;i++){var o=this.listeners[t][i];e+=o.scope&&o.scope.className?o.scope.className:"anonymous",e+=" listen for '"+t+"'\n"}return e}},new t)},3065:function(e,t,n){var i,o;!function(r,a){"use strict";i=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],o={},r=null;function a(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(i){return"debug"===i&&(i="log"),typeof console!==t&&("trace"===i&&n?s:void 0!==console[i]?a(console,i):void 0!==console.log?a(console,"log"):e)}function c(){for(var n=this.getLevel(),o=0;o<i.length;o++){var r=i[o];this[r]=o<n?e:this.methodFactory(r,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function u(e){return function(){typeof console!==t&&(c.call(this),this[e].apply(this,arguments))}}function d(e,t,n){return l(e)||u.apply(this,arguments)}function p(e,n){var a,s,l,u=this,p="loglevel";function h(e){var n=(i[e]||"silent").toUpperCase();if(typeof window!==t&&p){try{return void(window.localStorage[p]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(p)+"="+n+";"}catch(e){}}}function g(){var e;if(typeof window!==t&&p){try{e=window.localStorage[p]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,i=encodeURIComponent(p),o=n.indexOf(i+"=");-1!==o&&(e=/^([^;]+)/.exec(n.slice(o+i.length+1))[1])}catch(e){}return void 0===u.levels[e]&&(e=void 0),e}}function m(){if(typeof window!==t&&p){try{window.localStorage.removeItem(p)}catch(e){}try{window.document.cookie=encodeURIComponent(p)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}function f(e){var t=e;if("string"==typeof t&&void 0!==u.levels[t.toUpperCase()]&&(t=u.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=u.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?p+=":"+e:"symbol"==typeof e&&(p=void 0),u.name=e,u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=n||d,u.getLevel=function(){return null!=l?l:null!=s?s:a},u.setLevel=function(e,t){return l=f(e),!1!==t&&h(l),c.call(u)},u.setDefaultLevel=function(e){s=f(e),g()||u.setLevel(e,!1)},u.resetLevel=function(){l=null,m(),c.call(u)},u.enableAll=function(e){u.setLevel(u.levels.TRACE,e)},u.disableAll=function(e){u.setLevel(u.levels.SILENT,e)},u.rebuild=function(){if(r!==u&&(a=f(r.getLevel())),c.call(u),r===u)for(var e in o)o[e].rebuild()},a=f(r?r.getLevel():"WARN");var y=g();null!=y&&(l=f(y)),c.call(u)}(r=new p).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new p(e,r.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return r.noConflict=function(){return typeof window!==t&&window.log===r&&(window.log=h),r},r.getLoggers=function(){return o},r.default=r,r},void 0===(o="function"==typeof i?i.call(t,n,t,e):i)||(e.exports=o)}()},3092:(e,t,n)=>{"use strict";var i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();e.exports=t=i.fetch,i.fetch&&(t.default=i.fetch.bind(i)),t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ColorUtils:()=>Mt,Error:()=>ZI,Helper:()=>JI,HelperUtils:()=>nn,LayerUtils:()=>oi,Logger:()=>yt,MathUtils:()=>th,Parser:()=>$t,Protocols:()=>XI,ProxyUtils:()=>vt,Register:()=>Zf,Services:()=>YI,date:()=>e_,olExtended:()=>n_,servicesDate:()=>KI,servicesVersion:()=>QI,version:()=>$I});const e=JSON.parse('{"rE":"1.0.0-beta.82","p6":"20/06/2024"}'),t=ol.Overlay;var n=__webpack_require__.n(t);const i=ol.source.VectorTile;var o=__webpack_require__.n(i);const r=ol.source.Vector;var a=__webpack_require__.n(r);const s=ol.source.TileWMS;var l=__webpack_require__.n(s);const c=ol.source.WMTS;var u=__webpack_require__.n(c);const d=ol.source.ImageWMS;var p=__webpack_require__.n(d);const h=ol.interaction;var g=__webpack_require__(3065);const m={getLogger:function(e){if(void 0===t)var t={env:{VERBOSE:!1}};t.env.VERBOSE?g.enableAll():g.disableAll();var n=e||"default";return g.getLogger(n)}};var f={PARAM_MISSING:"Parameter(s) '%var%' missing",PARAM_EMPTY:"Parameter(s) '%var%' empty",PARAM_TYPE:"Wrong type(s) for parameter(s) '%var%'",PARAM_FORMAT:"Parameter(s) '%var%' not correctly formatted",PARAM_NOT_SUPPORT:"Value(s) for parameter(s) '%var%' not supported",PARAM_NOT_SUPPORT_NODEJS:"Value(s) for parameter(s) '%var%' not supported to NodeJS",PARAM_UNKNOWN:"Value(s) for parameter(s) '%var%' unknown",SERVICE_REQUEST_BUILD:"An error occurred during the request building of the service",SERVICE_REQUEST_EMPTY:"The request sent to the service is empty",SERVICE_RESPONSE_EXCEPTION:"The service returned an exception : '%var%'",SERVICE_RESPONSE_EXCEPTION_2:"The service returned an exception",SERVICE_RESPONSE_ANALYSE:"An error occurred while parsing the response '%var%' of the service",SERVICE_RESPONSE_ANALYSE_2:"An unknown error occurred while parsing the response",SERVICE_RESPONSE_EMPTY:"The response of the service is empty",SERVICE_RESPONSE_EMPTY_2:"The response from the service could not be analyzed or is empty",SERVICE_RESPONSE_FORMAT:"The format of the service response is not supported (handled format(s) : '%var%')",SERVICE_RESPONSE_FORMAT_2:"The format of the service response is not supported",SERVICE_RESPONSE_FORMAT_3:"No suggestion matching the search",CLASS_CONSTRUCTOR:"'%var%' constructor cannot be called as a function.",getMessage:function(e,t){if(0===Object.keys(arguments).length)return"Message indefined !";var n=Array.prototype.slice.call(arguments),i=n.shift(),o=n,r=this[i];try{r=Array.isArray(o)&&o.length>0?r.replace("%var%",o.join(" - ")):r.replace("%var%","%var% (not specified)")}catch(e){}return r}};const y=f;var A={normalyzeParameters:function(e){var t=null;if(e){var n=[];for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];o||(o=""),n.push(i+"="+o)}t=n.join("&")}return t},normalyzeUrl:function(e,t,n){var i=e;if(e){if(e.split("?").length-1>=2){var o=e.search(/\?/)+1;i=e.substring(0,o)+e.slice(o).replace(/\?/g,"&")}var r=e.indexOf("?");-1===r&&(i+="?"),-1!==r&&r!==e.length-1&&(i+="&")}return t&&(i+="string"==typeof t?t=t.replace("?",""):this.normalyzeParameters(t)),n&&(i=encodeURIComponent(i)),i},indent:function(e,t){return new Array((e||0)+1).join("\t")+t}};const v=A;var C=__webpack_require__(6964),b=__webpack_require__.n(C),I={call:function(e){var t=m.getLogger("XHR");if(t.trace("[XHR::call()]"),b().polyfill(),!e.url)throw new Error("missing parameter : url is not defined !");if(!e.method)throw new Error("missing parameter : method is not defined !");e.format||(e.format="text");var n={};switch(n.url=e.url,n.data=e.data?e.data:null,n.method=e.method,n.timeOut=e.timeOut||0,n.scope=e.scope||this,n.proxy=e.proxy||null,n.content=e.content||null,n.headers=e.headers||{referer:"http://localhost"},e.method){case"DELETE":case"GET":break;case"PUT":case"POST":n.content=e.content?e.content:"application/x-www-form-urlencoded",n.headers=e.headers?e.headers:{referer:"http://localhost"};break;case"HEAD":case"OPTIONS":throw new Error("HTTP method not yet supported !");default:throw new Error("HTTP method unknown !")}switch(e.format){case"text":this.__call(n).then((function(n){t.trace(n),e.onResponse.call(this,n)})).catch((function(t){e.onFailure.call(this,t)}));break;case"json":this.__callJSON(n).then((function(n){t.trace(n),e.onResponse.call(this,n)})).catch((function(t){e.onFailure.call(this,t)}));break;case"xml":this.__callXML(n).then((function(n){t.trace(n),e.onResponse.call(this,n)})).catch((function(t){e.onFailure.call(this,t)}));break;default:throw new Error("This output Format is not yet supported !")}},__call:function(e){var t=m.getLogger("XHR");return t.trace("[XHR::__call()]"),new Promise((function(n,i){var o="POST"===e.method||"PUT"===e.method?1:0;e.data&&("object"==typeof e.data&&Object.keys(e.data).length||"string"==typeof e.data&&e.data.length)&&!o&&(e.url=v.normalyzeUrl(e.url,e.data)),t.trace("URL = ",e.url);var r=null;if("undefined"==typeof window){var a=__webpack_require__(3092),s={headers:{Referer:"https://localhost"}};return e.data&&"string"==typeof e.data&&o&&(s={method:e.method,body:e.data,headers:{"Content-Type":e.content,Referer:"https://localhost"}}),a(e.url,s).then((function(e){if(e.ok)n(e.text());else{var t="Errors Occured on Http Request (status : '"+e.statusText+"' | url : '"+e.url+"')",o=e.status;i({message:t,status:o})}})).catch((function(e){i({message:e,status:-1})}))}if(window.XMLHttpRequest){t.trace("XMLHttpRequest"),(r=new XMLHttpRequest).open(e.method,e.url,!0),r.overrideMimeType=e.content;var l=null;e.timeOut>0&&(t.trace("XHR - TimeOut actif !"),l=window.setTimeout((function(){i({message:"TimeOut Occured on Http Request with XMLHttpRequest !",status:-1})}),e.timeOut)),o&&(t.trace("data = ",e.data),r.setRequestHeader("Content-type",e.content)),r.onerror=function(e){console.log(e),i(new Error("Errors Occured on Http Request with XMLHttpRequest !"))},r.ontimeout=function(e){console.log(e),i(new Error("TimeOut Occured on Http Request with XMLHttpRequest !"))},r.onreadystatechange=function(e){if(4===r.readyState)if(200===r.status)window.clearTimeout(l),n(r.response);else{var t="Errors Occured on Http Request (status : '"+e.target.statusText+"' | url : '"+e.target.responseURL+"' | response : '"+e.target.response+"')",o=e.target.status;i({message:t,status:o})}};var c=e.data&&o?e.data:null;r.send(c)}else{if(!window.XDomainRequest)throw new Error("CORS not supported");t.trace("XDomainRequest"),(r=new XDomainRequest).open(e.method,e.url),r.overrideMimeType=e.content,e.timeOut>0&&(r.timeout=e.timeout,t.trace("XHR - TimeOut actif !")),o&&r.setRequestHeader("Content-type",e.content),r.onerror=function(){i(new Error("Errors Occured on Http Request with XMLHttpRequest !"))},r.ontimeout=function(){i(new Error("TimeOut Occured on Http Request with XMLHttpRequest !"))},r.onload=function(e){if(200===r.status)n(r.responseText);else{var t="Errors Occured on Http Request (status : '"+e.target.statusText+"' | url : '"+e.target.responseURL+"')",o=e.target.status;i({message:t,status:o})}};var u=e.data&&o?e.data:null;r.send(u)}}))},__callJSON:function(e){return this.__call(e).then(JSON.parse).catch((function(t){console.log("_callJSON failed on : ",e.url,t)}))},__callXML:function(e){return this.__call(e).then((function(e){var t;"undefined"==typeof window?t=(new(0,__webpack_require__(8978).DOMParser)).parseFromString(e,"text/xml"):window.DOMParser?t=(new window.DOMParser).parseFromString(e,"text/xml"):((t=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e));return t})).catch((function(t){console.log("__callXML failed on : ",e.url,t)}))}};const _=I;var w,E={uuid:(w=Math.floor(Date.now()),function(){return w++}),call:function(e){var t=m.getLogger("JSONP");if(t.trace("[JSONP::call ()]"),!e)throw t.error("missing parameter : options !"),new Error("missing parameter : options !");if(!e.url)throw t.error("missing parameter : options.url !"),new Error("missing parameter : options.url !");if(e.timeOut||(t.info("setting 'options.timeOut' default value"),e.timeOut=0),!e.onResponse)throw t.error("missing parameter : options.onResponse !"),new Error("missing parameter : options.onResponse !");var n="string"==typeof e.callbackSuffix?e.callbackSuffix:this.uuid(),i=!1,o=!1,r=e.url.indexOf("callback=");if(-1!==r){i=!0;var a=e.url.indexOf("&",r);-1===a&&(a=e.url.length);var s=e.url.substring(r+9,a);s&&(o=!0,e.callbackName=s,t.info("setting 'options.callbackName' value ("+e.callbackName+") from 'options.url' parameter"))}if(!i){var l=e.url.indexOf("?");-1===l?e.url=e.url+"?callback=":l===e.url.length?e.url=e.url+"callback=":e.url=e.url+"&callback=",t.info("setting callback default key in 'options.url' : "+e.url)}var c=!!e.callbackName||o;if(o||(e.callbackName||(t.info("setting 'options.callbackName' default value"),e.callbackName="callback",(n||""===n)&&(e.callbackName+=n)),e.url=e.url.replace("callback=","callback="+e.callbackName),t.info("setting callback function name in 'options.url' : "+e.url)),e.onTimeOut||(t.info("setting 'options.onTimeOut' default value"),e.onTimeOut=function(){console.log("TimeOut while invoking url : "+e.url)}),!c){var u=this,d=null;e.timeOut>0&&(d=window.setTimeout((function(){window[e.callbackName]=function(){},e.onTimeOut(),u._deleteScript(n)}),e.timeOut)),window[e.callbackName]=function(t){window.clearTimeout(d),e.onResponse(t),u._deleteScript(n)}}this._createScript(n,e.url)},_createScript:function(e,t){var n,i=document.getElementById("results"+e);(n=document.createElement("script")).setAttribute("type","text/javascript"),n.setAttribute("src",t),n.setAttribute("charset","UTF-8"),n.setAttribute("id","results"+e),n.setAttribute("async","true");var o=document.documentElement||document.getElementsByTagName("head")[0];null===i?o.appendChild(n):o.replaceChild(n,i)},_deleteScript:function(e){var t=document.getElementById("results"+e);if(t){var n=t.parentNode||document.documentElement;if(!n)return;n.removeChild(t)}}};const S=E;var P={send:function(e){var t=e||{method:"GET",protocol:"XHR",timeOut:0,format:null,wrap:!0,nocache:!0,output:"json",callback:null,callbackSuffix:null};if("undefined"!=typeof window||"JSONP"!==e.protocol){if("XHR"===e.protocol||"json"===e.format?t.wrap=!1:"JSONP"===e.protocol&&"xml"===e.format&&(t.wrap=!0),t.callback=null,t.output=t.wrap?"json":null,t.wrap){var n={};n.output=t.output,n.callback=t.callback,delete n.callback,t.url=v.normalyzeUrl(e.url,n)}switch(t.protocol){case"XHR":"GET"===e.method&&e.nocache&&(t.url=v.normalyzeUrl(t.url,{t:(new Date).getTime()})),_.call(t);break;case"JSONP":t.data&&(t.url=v.normalyzeUrl(t.url,t.data)),S.call(t);break;default:throw new Error("protocol not supported (XHR|JSONP) !")}}else console.log("Value (s) for parameter (s) 'protocol=JSONP (instead use XHR)' not supported to NodeJS")}};const M=P;function x(e){if(!(this instanceof x))throw new TypeError("ErrorService constructor cannot be called as a function.");var t=e;"string"==typeof e||e instanceof String?(this.message=e,this.status=-1,this.type=x.TYPE_UNKERR):(this.message=t.message||"undefined!?",this.type=t.type,this.status=t.status||-1),this.name="ErrorService",this.stack=(new Error).stack}x.TYPE_SRVERR="SERVICE_ERROR",x.TYPE_USEERR="USAGE_ERROR",x.TYPE_UNKERR="UNKNOWN_ERROR",x.prototype=Object.create(Error.prototype,{constructor:{value:x,writable:!0,configurable:!0}});const G=x,k=JSON.parse('{"rE":"3.4.2","p6":"14/05/2024"}');function R(e){if(!(this instanceof R))throw new TypeError(y.getMessage("CLASS_CONSTRUCTOR"));for(var t in this.logger=m.getLogger("CommonService"),this.logger.trace("[Constructeur CommonService (options)]"),this.options={protocol:"XHR",ssl:!0,proxyURL:"",callbackSuffix:null,httpMethod:"GET",timeOut:0,rawResponse:!1,scope:this,onSuccess:function(e){console.log("onSuccess - la reponse est la suivante : ",e)},onFailure:function(e){200!==e.status&&e.status?console.log("onFailure - Erreur (",e.status,") : ",e.message):console.log("onFailure : ",e.message)}},e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);if(this.options.rawResponse&&!this.options.onSuccess&&(this.options.onSuccess=function(e){console.log("onSuccess - la rÃ©ponse brute du service est la suivante : ",e)}),!!(null===this.options.onSuccess||"function"!=typeof this.options.onSuccess))throw new Error(y.getMessage("PARAM_MISSING","onSuccess()"));switch(this.options.httpMethod="string"==typeof e.httpMethod?e.httpMethod.toUpperCase():"GET",this.options.httpMethod){case"POST":case"GET":break;case"PUT":case"DELETE":case"HEAD":case"OPTIONS":throw new Error(y.getMessage("PARAM_NOT_SUPPORT","httpMethod"));default:throw new Error(y.getMessage("PARAM_UNKNOWN","httpMethod"))}switch(this.options.protocol="string"==typeof e.protocol?e.protocol.toUpperCase():"XHR",this.options.protocol){case"JSONP":case"XHR":break;default:throw new Error(y.getMessage("PARAM_UNKNOWN","protocol"))}if("undefined"==typeof window&&"JSONP"===this.options.protocol)throw new Error(y.getMessage("PARAM_NOT_SUPPORT_NODEJS","protocol=JSONP (instead use XHR)"));"JSONP"===this.options.protocol&&(this.options.httpMethod="GET"),this.options.nocache=e.nocache||!1,this.options.outputFormat=null,this.request=null,this.response=null}R.prototype={constructor:R,call:function(){this.logger.trace("CommonService::call ()");var e=this;function t(t){this.logger.trace("CommonService::onBuildRequest : ",t),this.callService.call(e,o,n)}function n(t){this.logger.trace("CommonService::onCallService : ",t),this.analyzeResponse.call(e,o,i)}function i(e){if(this.logger.trace("CommonService::onAnalyzeResponse : ",e),!e)return o.call(this,new G("Analyse de la reponse en Ã©chec !?"));this.options.onSuccess.call(this,e)}function o(e){this.logger.trace("CommonService::onError()");var t=e;t instanceof G||(t=new G(e.message)),this.options.onFailure.call(this,t)}(function(){this.logger.trace("CommonService::run ()"),this.buildRequest.call(e,o,t)}).call(e)},buildRequest:function(e,t){this.logger.error("overwritten method !"),e&&e.call(this,"This method must be overwritten !"),t.call(this,"This method must be overwritten !")},callService:function(e,t){var n=null,i=this.request,o=!(!this.options.proxyURL||"XHR"!==this.options.protocol),r={"gp-access-lib":k.rE};this.options.apiKey&&(r.apiKey=this.options.apiKey),this.options.serverUrl=v.normalyzeUrl(this.options.serverUrl,r,!1),o&&("GET"===this.options.httpMethod&&(n=this.options.proxyURL+v.normalyzeUrl(this.options.serverUrl,this.request,!0),i=null),"POST"===this.options.httpMethod&&(n=this.options.proxyURL+v.normalyzeUrl(this.options.serverUrl,null,!0),i=this.request));var a=this,s={url:n||this.options.serverUrl,method:this.options.httpMethod,protocol:this.options.protocol,timeOut:this.options.timeOut||0,format:this.options.outputFormat,nocache:this.options.nocache||!1,wrap:"XHR"!==this.options.protocol,callbackSuffix:this.options.callbackSuffix,data:i,headers:null,content:this.options.contentType||"application/xml",scope:this.options.scope||this,onResponse:function(n){a.logger.trace("callService::onResponse()");var i=null;if("XHR"===a.options.protocol&&(a.logger.trace("Response XHR",n),i=n),"JSONP"===a.options.protocol){if(a.logger.trace("Response JSON",n),!n)return void e.call(a,new G("Le contenu de la reponse est vide !?"));if(n.http){if(200!==n.http.status)return void e.call(a,new G({status:n.http.status,message:n.http.error,type:G.TYPE_SRVERR}));i=n.xml,a.options.rawResponse&&(i=n)}else i=n}if("function"==typeof a.options.onBeforeParse){var o=a.options.onBeforeParse(i);"string"==typeof o&&(i=o)}a.response=i,t.call(a,i)},onFailure:function(t){a.logger.trace("callService::onFailure()"),t.type=G.TYPE_SRVERR,e.call(a,new G(t))},onTimeOut:function(){a.logger.trace("callService::onTimeOut()"),e.call(a,new G("TimeOut!"))}};M.send(s)},analyzeResponse:function(e,t){this.logger.error("overwritten method !"),e&&e.call(this,"This method must be overwritten !"),t.call(this,"This method must be overwritten !")}};const L=R;var O={ssl:!0,newUrl:function(e){return(!1===O.ssl?"http://":"https://")+"data.geopf.fr"+e},Alti:{new_key:{"elevation-json":"/altimetrie/1.0/calcul/alti/rest/elevation.json","elevation-xml":"/altimetrie/1.0/calcul/alti/rest/elevation.xml","profil-json":"/altimetrie/1.0/calcul/alti/rest/elevationLine.json","profil-xml":"/altimetrie/1.0/calcul/alti/rest/elevationLine.xml"},newUrl:function(){return{"elevation-json":O.newUrl(this.new_key["elevation-json"]),"elevation-xml":O.newUrl(this.new_key["elevation-xml"]),"profil-json":O.newUrl(this.new_key["profil-json"]),"profil-xml":O.newUrl(this.new_key["profil-xml"])}}},ProcessIsoCurve:{new_key:"/navigation/isochrone",newUrl:function(){return O.newUrl(this.new_key)}},Config:{_key:"https://raw.githubusercontent.com/IGNF/geoportal-configuration/new-url/dist/",url:function(e){Array.isArray(e)||(e=e.split(","));for(var t=[],n=0;n<e.length;n++)t[n]=this._key+e[n]+"Config.json";return t}},AutoComplete:{new_key:"/geocodage/completion",newUrl:function(){return O.newUrl(this.new_key)}},ReverseGeocode:{new_key:"/geocodage/reverse",newUrl:function(){return O.newUrl(this.new_key)}},Geocode:{new_key:"/geocodage/search",newUrl:function(){return O.newUrl(this.new_key)}},Route:{new_key:"/navigation/itineraire",newUrl:function(){return O.newUrl(this.new_key)}}};const T=O;function D(){if(!(this instanceof D))throw new TypeError("ConfigInterface constructor cannot be called as a function.");this.generalOptions={apiKeys:{},title:null,defaultGMLGFIStyle:null,theme:null,wgs84Resolutions:[]},this.layers={},this.tileMatrixSets={}}D.prototype={constructor:D,isKeyConfLoaded:function(e){if(e)return!!this.generalOptions.apiKeys[e]},getLayersId:function(e){return this.generalOptions.apiKeys[e]},getLayerId:function(e,t){if(e&&t){var n=null;if(this.layers){var i=this.layers;for(var o in i)if(i.hasOwnProperty(o)){var r=o.split("$");if(e===r[0]&&r[1]){var a=r[1].split(":");if(r[1].split(";")[1]===t.toUpperCase()){n=o;break}if(a[2]===t.toUpperCase()){n=o;break}}}}if(n)return n}},getLayersConf:function(e){var t={},n=this.getLayersId(e);if(n)for(var i=0;i<n.length;i++){var o=n[i];t[o]=this.layers[o]}return t},getLayerConf:function(e){if(this.layers)return this.layers[e]},getLayerParams:function(e,t){var n={};if(("WMS"===t||0!==Object.keys(this.tileMatrixSets).length)&&0!==Object.keys(this.layers).length){var i=this.getLayerId(e,t);if(i){var o=this.getLayerConf(i),r=this.getLayerKey(i);if(0===r.length)return;for(var a=0;a<r.length;a++)o.serviceParams.serverUrl[r[a]]&&(n.url=o.serviceParams.serverUrl[r[a]]);if(/\/v\//.test(n.url)?n.styles=" ":n.styles=o.styles[0].name,n.version=o.serviceParams.version,n.format=o.formats[0].name,n.projection=o.defaultProjection,n.minScale=o.globalConstraint.minScaleDenominator,n.maxScale=o.globalConstraint.maxScaleDenominator,n.extent=o.globalConstraint.bbox,n.legends=o.legends,n.title=o.title,n.description=o.description,"WMS"===t&&(n.metadata=o.metadata),o.wmtsOptions){n.tileMatrixSetLimits=o.wmtsOptions.tileMatrixSetLimits;var s=o.wmtsOptions.tileMatrixSetLink;if(s){n.TMSLink=s;var l=this.getTMSConf(s);n.matrixIds=Object.keys(l.tileMatrices),n.tileMatrices=l.tileMatrices,n.nativeResolutions=l.nativeResolutions||this.getTMSConf("PM").nativeResolutions}}}}return n},getLayerKey:function(e){var t=[];if(this.generalOptions&&this.generalOptions.apiKeys&&0!==Object.keys(this.generalOptions.apiKeys).length){var n=this.generalOptions.apiKeys;for(var i in n){n[i].forEach((function(n){n===e&&t.push(i)}))}}return t},getTileMatrixSets:function(){return this.tileMatrixSets},getTMSConf:function(e){if(this.tileMatrixSets)return this.tileMatrixSets[e]},getGlobalConstraints:function(e){var t={};if(e){var n=this.getLayerConf(e);t.projection=n.defaultProjection,t.minScale=n.globalConstraint.minScaleDenominator,t.maxScale=n.globalConstraint.maxScaleDenominator,t.extent=n.globalConstraint.bbox}return t}};const N=D;function U(e){if(!(this instanceof U))throw new TypeError(y.getMessage("CLASS_CONSTRUCTOR","Config"));if(this.CLASSNAME="Config",this.logger=m.getLogger("Gp.Config"),this.logger.trace("[Constructeur Config (options)]"),!!(null===e.onSuccess||"function"!=typeof e.onSuccess))throw new Error(y.getMessage("PARAM_MISSING","onSuccess()"));e.apiKey||e.customConfigFile||(e.apiKey="full"),this.options={},this.options.onSuccess=e.onSuccess,this.options.onFailure=e.onFailure,this.options.sync=e.sync||!1,this.options.listConfigUrls=e.customConfigFile?[e.customConfigFile]:Array.isArray(e.apiKey)?T.Config.url(e.apiKey):T.Config.url(e.apiKey.split(","))}U.prototype=Object.create(L.prototype,{}),U.prototype.constructor=U,U.prototype.buildRequest=function(e,t){this.listConfigUrls=this.options.listConfigUrls,this.listConfigUrls?t.call(this,this.listConfigUrls):e.call(this,new Error("url by default not found !"))},U.prototype.callService=function(e,t){this.options.sync?B.call(this,e,t):j.call(this,e,t)};var j=function(e,t){this.listConfigResults=[];let n=null;if("undefined"==typeof window){var i=__webpack_require__(3092);n=i}else n=window.fetch;var o=e=>n(e,{credentials:"same-origin"}).then((e=>{if(e.ok)return e.json().then((e=>e)).catch((e=>{throw new Error("Exception Json : "+e)}));throw new Error("Exception HTTP : "+e.status+" (status code) !")})).catch((e=>new Promise(((t,n)=>{n(e)})))),r=[];for(let e=0;e<this.listConfigUrls.length;e++){const t=this.listConfigUrls[e];r.push(o(t))}Promise.all(r).then((e=>{if(!e)throw new Error("results config empty !?");e.forEach((e=>{this.listConfigResults.push(e)}))})).then((()=>{t.call(this,this.listConfigResults)})).catch((t=>{e.call(this,t)}))},B=function(e,t){this.listConfigResults=[];for(var n=0;n<this.listConfigUrls.length;n++){const e=this.listConfigUrls[n],t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(null),200===t.status){var i=JSON.parse(t.responseText);this.listConfigResults.push(i)}}0!==this.listConfigResults.length?t.call(this,this.listConfigResults):e.call(this,new Error("..."))};U.prototype.analyzeResponse=function(e,t){var n=function(e){for(var t={},n={},i={},o=0;o<e.length;o++){if(!e[o].generalOptions||!e[o].layers)return;n={...n,...e[o].generalOptions.apiKeys},t={...t,...e[o].layers},i={...i,...e[o].tileMatrixSets}}return{generalOptions:{apiKeys:n},layers:t,tileMatrixSets:i}}(this.listConfigResults);if(n){var i=new N;Object.assign(i,n);var o="undefined"!=typeof window?window:{};if(o.Gp||(o.Gp={}),o.Gp.Config)for(var r in Object.assign(o.Gp.Config,i),i)o.Gp.Config[r]=i[r];else o.Gp.Config=i;t.call(this,o.Gp.Config)}else e.call(this,new Error("configuration structure not conforme !"))};const F=U;function z(e){if(!(this instanceof z))throw new TypeError("AltiRequest constructor cannot be called as a function.");this.logger=m.getLogger(),this.logger.trace("[Constructeur AltiRequest ()]"),this.options=e||{},this.positions=this.options.positions||[],this.delimiter=this.options.delimiter||"|",this.indent=this.options.indent||!1,this.crs=this.options.crs||"CRS:84",this.format=this.options.format||"json",this.resource=this.options.resource,this.measures=this.options.measures||!1}z.CLASSNAME="AltiRequest",z.prototype={constructor:z,setPositions:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.lon&&i.lat&&t.push(i)}this.positions=t},getPositions:function(e){if(!e)return this.positions;var t=this.positions.length-1;return e>t||e<t?(this.logger.warn("index out of range !"),this.positions):this.positions[e]},addPositions:function(e){for(var t=0;t<e.length;t++){var n=e[t];n.lon&&n.lat&&this.positions.push(e[t])}},getLon:function(){for(var e=[],t=0;t<this.positions.length;t++)e.push(this.positions[t].lon);return this.logger.trace(e),e.join(this.delimiter)},getLat:function(){for(var e=[],t=0;t<this.positions.length;t++)e.push(this.positions[t].lat);return this.logger.trace(e),e.join(this.delimiter)}},z.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"delimiter",v:this.delimiter}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"format",v:this.format}),e};const V=z;function q(e){if(!(this instanceof q))throw new TypeError("AltiElevationRequest constructor cannot be called as a function.");this.CLASSNAME="AltiElevationRequest",V.apply(this,arguments),this.logger=m.getLogger(),this.logger.trace("[Constructeur AltiElevationRequest ()]"),this.zonly=this.options.zonly||!1}q.prototype=Object.create(V.prototype,{zonly:{get:function(){return this._zonly},set:function(e){this._zonly=e}}}),q.prototype.constructor=q,q.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"zonly",v:this.zonly}),e.push({k:"format",v:this.format}),e.push({k:"resource",v:this.resource}),e};const W=q;function H(e){if(!(this instanceof H))throw new TypeError("AltiProfilRequest constructor cannot be called as a function.");this.CLASSNAME="AltiProfilRequest",V.apply(this,arguments),this.logger=m.getLogger(),this.logger.trace("[Constructeur AltiProfilRequest ()]"),this.sampling=this.options.sampling||3}H.prototype=Object.create(V.prototype,{sampling:{get:function(){return this._sampling},set:function(e){this._sampling=e}}}),H.prototype.constructor=H,H.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"sampling",v:this.sampling}),e.push({k:"format",v:this.format}),e.push({k:"resource",v:this.resource}),e};const Y=H;function Z(e){if(this.logger=m.getLogger("AltiRequestREST"),this.logger.trace("[Constructeur AltiRequestREST ()]"),!(this instanceof Z))throw new TypeError("AltiRequestREST constructor cannot be called as a function.");if(this.options=e||{},!this.options)throw new Error(y.getMessage("PARAM_EMPTY","options"));if(!this.options.type)throw new Error(y.getMessage("PARAM_EMPTY","type (Elevation or Profil)"));switch(this.DataObject=null,this.options.type){case"Elevation":this.DataObject=new W(this.options.param);break;case"Profil":this.DataObject=new Y(this.options.param);break;default:throw new Error(y.getMessage("PARAM_TYPE","type (Elevation or Profil)"))}this.method=this.options.method||"GET"}Z.prototype={requestString:null,constructor:Z,template:{get:{value:"lon=__LON__&lat=__LAT__&indent=__INDENT__&crs='__CRS__'&resource=__RESOURCE__&measures=__MEASURES__",input:{point:"&zonly=__ZONLY__",profil:"&sampling=__SAMPLING__"}},post:{value:"lon=__LON__\nlat=__LAT__\nindent=__INDENT__\ncrs='__CRS__'\nresource='__RESOURCE__'\nmeasures='__MEASURES__'\n",input:{point:"zonly=__ZONLY__\n",profil:"sampling=__SAMPLING__"}}},processRequestString:function(){this.logger.trace("AltiRequestREST::processRequestString ()");var e="";return"POST"===this.method?e=this.template.post.value:"GET"===this.method&&(e=this.template.get.value),e=(e=(e=(e=(e=(e=e.replace(/__LON__/g,this.DataObject.getLon())).replace(/__LAT__/g,this.DataObject.getLat())).replace(/__INDENT__/g,this.DataObject.indent)).replace(/__CRS__/g,this.DataObject.crs)).replace(/__RESOURCE__/g,this.DataObject.resource)).replace(/__MEASURES__/g,this.DataObject.measures),e+=this.__addDataInputs(),this.logger.trace("traduction tmpl",e),this.requestString=e,this.requestString},__addDataInputs:function(){var e;if(this.logger.trace("AltiRequestREST::addDataInput ()"),"POST"===this.method)e=this.template.post;else{if("GET"!==this.method)throw new Error("No other HTTP method supported by the service !");e=this.template.get}if("AltiElevationRequest"===this.DataObject.CLASSNAME)return e.input.point.replace(/__ZONLY__/g,this.DataObject.zonly.toString());if("AltiProfilRequest"===this.DataObject.CLASSNAME)return e.input.profil.replace(/__SAMPLING__/g,this.DataObject.sampling);throw new Error("No other object supported than elevation or profil !?")}};const J=Z;function X(e){if(this.logger=m.getLogger(),this.logger.trace("[Constructeur WPS()]"),!(this instanceof X))throw new TypeError("WPS constructor cannot be called as a function.");if(this.options=e||{},this.DataObject=this.options.data,!this.DataObject)throw new TypeError("This data object is not defined !");this.paramservice=this.options.param.service||"WPS",this.paramversion=this.options.param.version||"1.0.0",this.paramidentifier=this.options.param.identifier||"gs:WPS",this.paramrawdataoutput=this.options.param.rawdataoutput||"result",this.paramrequest=this.options.param.request||"Execute",this.method=this.options.method||"GET"}X.prototype={requestString:null,constructor:X,template:{get:{value:"service=__SERVICE__&version=__VERSION__&rawdataoutput=__RAWDATAOUTPUT__&identifier=__IDENTIFIER__&request=__REQUEST__&datainputs=\x3c!-- __DATAINPUTS__ --\x3e",input:"__KEY__=__DATA__"},post:{value:'<?xml version="1.0" encoding="UTF-8"?><wps:__REQUEST__ version="__VERSION__" service="__SERVICE__" __NAMESPACE__ __SCHEMALOCATION__><ows:Identifier>__IDENTIFIER__</ows:Identifier><wps:DataInputs>\x3c!-- __DATAINPUTS__ --\x3e</wps:DataInputs><wps:ResponseForm><wps:RawDataOutput><ows:Identifier>__RAWDATAOUTPUT__</ows:Identifier></wps:RawDataOutput></wps:ResponseForm></wps:__REQUEST__>',input:"<wps:Input><ows:Identifier>__KEY__</ows:Identifier><wps:Data><wps:LiteralData>__DATA__</wps:LiteralData></wps:Data></wps:Input>"}},namespaceByDefault:function(){return['xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"','xmlns="http://www.opengis.net/wps/1.0.0"','xmlns:wfs="http://www.opengis.net/wfs"','xmlns:wps="http://www.opengis.net/wps/1.0.0"','xmlns:ows="http://www.opengis.net/ows/1.1"','xmlns:gml="http://www.opengis.net/gml"','xmlns:ogc="http://www.opengis.net/ogc"','xmlns:wcs="http://www.opengis.net/wcs/1.1.1"','xmlns:xlink="http://www.w3.org/1999/xlink"'].join(" ")},schemaLocationByDefault:function(){return'xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd"'},processRequestString:function(){this.logger.trace("WPS::processRequestString ()");var e="";if("POST"===this.method)e=this.template.post.value;else{if("GET"!==this.method)return this.logger.error("No other method supported by the service !"),!1;e=this.template.get.value}return e=(e=(e=(e=(e=e.replace(/__SERVICE__/g,this.paramservice)).replace(/__VERSION__/g,this.paramversion)).replace(/__RAWDATAOUTPUT__/g,this.paramrawdataoutput)).replace(/__IDENTIFIER__/g,this.paramidentifier)).replace(/__REQUEST__/g,this.paramrequest),"POST"===this.method&&(e=(e=e.replace(/__NAMESPACE__/g,this.namespaceByDefault)).replace(/__SCHEMALOCATION__/g,this.schemaLocationByDefault)),(e=e.replace(/<!-- __DATAINPUTS__ -->/g,this.__addDataInputs()))?(this.requestString=e,this.logger.trace("traduction tmpl",e),!0):(this.logger.warn("traduction tmpl : empty request !?"),!1)},__addDataInputs:function(){this.logger.trace("WPS::__addDataInputs ()");for(var e,t="GET"===this.method?this.template.get.input:this.template.post.input,n="GET"===this.method?";":"",i="",o=this,r=this.DataObject.getData(),a=0;a<r.length;a++)e=a,n&&(n=e===r.length-1?"":";"),i=i.concat(o.__addDataInput(t,r[e].k,r[e].v),n);return i},__addDataInput:function(e,t,n){var i=e;return i=(i=i.replace(/__KEY__/g,t)).replace(/__DATA__/g,n)},setMethod:function(e){"GET"===e||"POST"===e?this.method=e:this.logger.warn("support only GET and POST method !")},getMethod:function(){return this.method}};const K=X;const Q={build:function(e){if(m.getLogger("AltiRequestWPS").trace(["AltiRequestWPS::build()"]),!e)throw new Error(y.getMessage("PARAM_EMPTY","options"));if(!e.type)throw new Error(y.getMessage("PARAM_EMPTY","type (Elevation or Profil)"));var t=null;switch(e.type){case"Elevation":e.wps.identifier="gs:WPSElevation",t=new W(e.param);break;case"Profil":e.wps.identifier="gs:WPSLineElevation",t=new Y(e.param);break;default:throw new Error(y.getMessage("PARAM_TYPE","type (Elevation or Profil)"))}var n={data:t,method:e.method,param:e.wps},i=new K(n);if(!i.processRequestString())throw new Error("Enable to process request !");return i.requestString}};const $={build:function(e){m.getLogger("AltiRequestFactory").trace(["AltiRequestFactory::build()"]);var t=null,n={type:e.sampling?"Profil":"Elevation",method:e.httpMethod,param:{positions:null,delimiter:null,indent:null,crs:null,format:null,sampling:null,zonly:null,measures:null}};n.param.positions=e.positions,n.param.format=e.outputFormat,n.param.sampling=e.sampling,n.param.zonly=e.zonly,n.param.measures=e.measures,n.param.resource=e.resource;var i=!(null===e.onError||"function"!=typeof e.onError),o=!(null===e.onSuccess||"function"!=typeof e.onSuccess),r=null;switch(e.api){case"REST":var a=new J(n);if(!a.processRequestString()){if(r="Error in process request (rest) !",i)return void e.onError.call(e.scope,new G(r));throw new Error(r)}t=a.requestString;break;case"WPS":if(n.wps={service:null,version:null,identifier:null,rawdataoutput:null,request:null},!(t=Q.build(n))){if(r="Error in process request (wps) !",i)return void e.onError.call(e.scope,new G(r));throw new Error(r)}break;default:if(r="Type of API is not supported by service (REST or WPS) !",i)return void e.onError.call(e.scope,new G(r));throw new Error(r)}return o&&e.onSuccess.call(e.scope,t),t}};function ee(e){if(!(this instanceof ee))throw new TypeError("XML constructor cannot be called as a function.");this.logger=m.getLogger(),this.logger.trace("[Constructeur XML ()]"),this.xmlString=null,this.xmlDoc=null,this.reader=null,e&&(e.xmlString&&"string"==typeof e.xmlString&&(this.xmlString=e.xmlString,this.xmlDoc=te(e.xmlString)),e.reader&&this.setReader(e.reader))}function te(e){if("undefined"==typeof window)return(new(0,__webpack_require__(8978).DOMParser)).parseFromString(e,"text/xml");var t,n,i="Erreur lors du parsing de la rÃ©ponse du service : XML non conforme";if(window.ActiveXObject){(n=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(e);var o=n.parseError;if(o.errorCode)throw o.line&&o.linepos&&(i+="( ligne "+o.line+", colonne "+o.linepos),o.reason&&(i+=":  "+o.reason+")"),new Error(i);return n}if(window.DOMParser){t=new window.DOMParser;try{n=t.parseFromString(e,"text/xml")}catch(e){throw"SyntaxError"===e.message?new Error(i):new Error("Erreur lors du parsing de la rÃ©ponse du service : "+e.message)}if(n.getElementsByTagName("parsererror").length>0)for(var r=n.getElementsByTagName("parsererror"),a=0;a<r.length;a++){var s=r[a].innerHTML;if(-1===s.indexOf("Huge input lookup"))throw i+="("+s+")",new Error(i)}else if(!n.documentElement)throw new Error(i);return n}throw new Error("Incompatible DOM Parser pour ce navigateur !")}function ne(e){var t={};if(e.attributes.length>0){var n=function(e){if(e.attributes.length>0){for(var t={},n=e.attributes,i=0;i<n.length;i++){var o=n[i];t[o.nodeName]=o.nodeValue}return t}}(e);t.attributes=n}if(e.hasChildNodes())for(var i,o={},r=e.childNodes,a=0;a<r.length;a++)if(3===(i=r[a]).nodeType)t.textContent=i.nodeValue;else if(1===i.nodeType)if(o=ne(i),t[i.nodeName]){if(!Array.isArray(t[i.nodeName])){var s=t[i.nodeName];t[i.nodeName]=[],t[i.nodeName].push(s)}t[i.nodeName].push(o)}else t[i.nodeName]=o;return t}ee.prototype={constructor:ee,getXMLString:function(){return this.xmlString},setXMLString:function(e){e&&"string"==typeof e&&(this.xmlString=e,this.xmlDoc=te(e))},getReader:function(){return this.reader},setReader:function(e){e&&e.read&&"function"==typeof e.read&&(this.reader=e)},getXMLDoc:function(){return this.xmlDoc},setXMLDoc:function(e){this.xmlDoc=e},parse:function(){if(!this.xmlDoc&&this.xmlString&&(this.xmlDoc=te(this.xmlString)),this.xmlDoc){var e,t=function(e){var t;9===e.nodeType?t=e.documentElement:1===e.nodeType&&(t=e);return t}(this.xmlDoc);return t?(this.reader&&this.reader.read?e=this.reader.read(t):(e={})[t.nodeName]=ne(t),e):{}}}};const ie=ee;function oe(){if(!(this instanceof oe))throw new TypeError("AltiResponse constructor cannot be called as a function.");this.elevations=[]}oe.prototype={constructor:oe};const re=oe;function ae(){if(!(this instanceof ae))throw new TypeError("Elevation constructor cannot be called as a function.");this.z=null}ae.prototype={constructor:ae};const se=ae;function le(){if(!(this instanceof le))throw new TypeError("Measure constructor cannot be called as a function.");this.source_name=null,this.source_measure=null,this.z=null,this.acc=null}le.prototype={constructor:le};const ce=le;var ue={};ue.READERS={elevations:function(e){var t=new re;if(e.hasChildNodes())for(var n,i,o=e.childNodes,r=0;r<o.length;r++)n=o[r],ue.READERS[n.nodeName]&&(i=ue.READERS[n.nodeName](n),t.elevations.push(i));return t},elevation:function(e){var t=new se;if(e.hasChildNodes())for(var n,i=e.childNodes,o=0;o<i.length;o++)n=i[o],ue.READERS[n.nodeName]&&ue.READERS[n.nodeName](n,t);return t},lat:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : latitude attendue mais absente");t.lat=parseFloat(n.nodeValue)},lon:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : longitude attendue mais absente");t.lon=parseFloat(n.nodeValue)},z:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : altitude attendue mais absente");if(!t)return(t=new se).z=parseFloat(n.nodeValue),t;t.z=parseFloat(n.nodeValue)},acc:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : prÃ©cision (acc) attendue mais absente");t.acc=parseFloat(n.nodeValue)},source_name:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : source_name attendue mais absente");t.source_name=n.nodeValue},source_measure:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : source_measure attendue mais absente");t.source_measure=n.nodeValue},measures:function(e,t){var n;if(t.measures=[],e.hasChildNodes())for(var i,o=e.childNodes,r=0;r<o.length;r++){n=new ce,i=o[r].childNodes;for(var a=0;a<i.length;a++){if(!ue.READERS[i[a].nodeName])throw new Error("Erreur dans la lecture de la rÃ©ponse du service : measures attendues mais absentes");ue.READERS[i[a].nodeName](i[a],n)}t.measures.push(n)}},exceptionreport:function(e){var t={};if(e.hasChildNodes())for(var n,i=e.childNodes,o=0;o<i.length;o++)"Exception"===(n=i[o]).nodeName&&(t.exceptionReport=ue.READERS.exception(n));return t},exception:function(e){var t={},n=e.getAttribute("exceptionCode");n&&(t.exceptionCode=n);var i=e.firstChild;return i&&3===i.nodeType&&(t.exception=i.nodeValue),t},error:function(e){var t={error:{}};if(e.hasChildNodes())for(var n,i=e.childNodes,o=0;o<i.length;o++){var r;1===(n=i[o]).nodeType&&"code"===n.nodeName&&(r=n.firstChild)&&3===r.nodeType&&(t.error.code=r.nodeValue),1===n.nodeType&&"description"===n.nodeName&&(r=n.firstChild)&&3===r.nodeType&&(t.error.description=r.nodeValue)}return t}},ue.read=function(e){if("elevations"===e.nodeName)return ue.READERS.elevations(e);if("ExceptionReport"===e.nodeName)return ue.READERS.exceptionreport(e);if("error"===e.nodeName)return ue.READERS.error(e);throw new Error("Erreur lors de la lecture de la rÃ©ponse : elle n'est pas au format attendu.")};const de=ue;var pe={build:function(e){var t=m.getLogger("AltiResponseFactory");t.trace(["AltiResponseFactory::build()"]);var n=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),n=e.response;else{switch(e.outputFormat){case"xml":t.trace("analyze response : xml");try{var i=new ie({reader:de});if("string"==typeof e.response?i.setXMLString(e.response):i.setXMLDoc(e.response),!(n=i.parse()))throw new Error(y.getMessage("SERVICE_RESPONSE_EXCEPTION_2"))}catch(t){var o=t.message;return void e.onError.call(e.scope,new G({message:y.getMessage("SERVICE_RESPONSE_EXCEPTION",o),status:200,type:G.TYPE_SRVERR}))}break;case"json":t.trace("analyze response : json"),t.trace("analyze response : ",typeof e.response);var r=null;if((r="string"==typeof e.response?JSON.parse(e.response):e.response)&&r.error)return void e.onError.call(e.scope,new G({message:y.getMessage("SERVICE_RESPONSE_EXCEPTION",r.error.description),status:200,type:G.TYPE_SRVERR}));if(r){var a,s=r.elevations,l=new re;if(Array.isArray(s)&&s.length)for(var c=0;c<s.length;c++)a=new se,"object"==typeof s[c]?(s[c].lon&&(a.lon=s[c].lon),s[c].lat&&(a.lat=s[c].lat),s[c].z&&(a.z=s[c].z),s[c].acc&&(a.acc=s[c].acc),s[c].measures&&(a.measures=s[c].measures)):"number"==typeof s[c]&&(a.z=s[c]),Array.isArray(l.elevations)&&l.elevations.push(a);n=l}if(!n)return void e.onError.call(e.scope,new G({message:y.getMessage("SERVICE_RESPONSE_ANALYSE_2"),type:G.TYPE_UNKERR,status:-1}));break;default:return void e.onError.call(e.scope,new G({message:y.getMessage("SERVICE_RESPONSE_FORMAT_2"),type:G.TYPE_UNKERR,status:-1}))}if(n.exceptionReport)return void e.onError.call(e.scope,new G({message:y.getMessage("SERVICE_RESPONSE_EXCEPTION",n.exceptionReport),type:G.TYPE_SRVERR,status:200}));if(n.error){var u=n.error.description;return void e.onError.call(e.scope,new G({message:y.getMessage("SERVICE_RESPONSE_EXCEPTION",u),type:G.TYPE_SRVERR,status:200}))}}e.onSuccess.call(e.scope,n)}else e.onError.call(e.scope,new G(y.getMessage("SERVICE_RESPONSE_EMPTY")))}};const he=pe;function ge(e){if(!(this instanceof ge))throw new TypeError(y.getMessage("CLASS_CONSTRUCTOR","Alti"));if(this.CLASSNAME="Alti",L.apply(this,arguments),this.logger=m.getLogger("Gp.Services.Alti"),this.logger.trace("[Constructeur Alti (options)]"),!e.positions)throw new Error(y.getMessage("PARAM_MISSING","positions"));if(0===e.positions.length)throw new Error(y.getMessage("PARAM_EMPTY","positions"));if(this.options.positions=e.positions,this.options.outputFormat="string"==typeof e.outputFormat?e.outputFormat.toLowerCase():"xml",this.options.resource=e.resource||"ign_rge_alti_wld",this.options.sampling=e.sampling||null,this.options.api="string"==typeof e.api?e.api.toUpperCase():"REST","REST"===this.options.api&&(this.options.httpMethod="GET"),this.options.zonly=e.zonly||!1,this.options.measures=e.measures||!1,!this.options.serverUrl){var t=T.Alti.newUrl(),n=null;switch(this.options.api){case"WPS":n=t.wps;break;case"REST":n=t[(e.sampling?"profil":"elevation")+"-"+this.options.outputFormat];break;default:throw new Error(y.getMessage("PARAM_UNKNOWN","api"))}if(!n)throw new Error("Url by default not found !");this.options.serverUrl=n,this.logger.trace("Server URL by default : "+this.options.serverUrl)}var i=this.options.serverUrl.lastIndexOf(".");if(-1!==i){var o=this.options.serverUrl.substring(i+1);if(o&&o.length<5)switch(this.logger.trace("Server Extension URL : "+o),o.toLowerCase()){case"json":case"xml":this.options.outputFormat=o.toLowerCase();break;default:throw new Error("type of service : unknown or unsupported (json or xml) !")}}}ge.prototype=Object.create(L.prototype,{}),ge.prototype.constructor=ge,ge.prototype.buildRequest=function(e,t){var n={httpMethod:this.options.httpMethod,onSuccess:function(e){this.request=e,t.call(this,this.request)},onError:e,scope:this,resource:this.options.resource,positions:this.options.positions,outputFormat:this.options.outputFormat,sampling:this.options.sampling,api:this.options.api,zonly:this.options.zonly,measures:this.options.measures};$.build(n)},ge.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};he.build(n)}else e.call(this,new G(y.getMessage("SERVICE_RESPONSE_EMPTY")))};const me=ge;function fe(e){if(!(this instanceof fe))throw new TypeError("GeocodeParamREST constructor cannot be called as a function.");if(this.logger=m.getLogger(),this.logger.trace("[Constructeur GeocodeParamREST ()]"),this.options=e||{},!this.options.geocodeMethod||"search"!==this.options.geocodeMethod&&"reverse"!==this.options.geocodeMethod)throw new Error("Error geocodeMethod not valid");this.geocodeMethod=this.options.geocodeMethod,this.query=void 0!==this.options?this.options.query:null,this.searchGeometry=this.options.searchGeometry||null,this.index=this.options.index||null,this.lon=this.options.position&&this.options.position.lon?this.options.position.lon:null,this.lat=this.options.position&&this.options.position.lat?this.options.position.lat:null,this.maxResp=this.options.maxResp||null,this.returnTrueGeometry=this.options.returnTrueGeometry||null,this.filters=this.options.filters||{}}fe.CLASSNAME="GeocodeParamREST",fe.prototype={constructor:fe,getFilters:function(){var e={};for(var t in this.filters)this.filters.hasOwnProperty(t)&&(e[t]=this.filters[t]);return e},getIndex:function(){return void 0===this.index?null:"StreetAddress"===this.index?"address":"CadastralParcel"===this.index?"parcel":"PositionOfInterest"===this.index?"poi":"location"===this.index?"location":this.index},getSearchGeometry:function(){return JSON.stringify(this.searchGeometry)}},fe.prototype.getParams=function(){var e=[];"search"===this.geocodeMethod&&e.push({k:"q",v:this.query}),this.index&&e.push({k:"index",v:this.getIndex()}),"reverse"===this.geocodeMethod&&this.searchGeometry&&e.push({k:"searchgeom",v:this.getSearchGeometry()}),this.lon&&this.lat&&(e.push({k:"lon",v:this.lon}),e.push({k:"lat",v:this.lat})),this.maxResp&&e.push({k:"limit",v:this.maxResp}),this.returnTrueGeometry&&e.push({k:"returntruegeometry",v:this.returnTrueGeometry});const t=this.getFilters();for(var n in t)e.push({k:n,v:t[n]});return e};const ye=fe;function Ae(e){if(this.logger=m.getLogger("GeocodeRequestREST"),this.logger.trace("[Constructeur GeocodeRequestREST ()]"),!(this instanceof Ae))throw new TypeError("GeocodeRequestREST constructor cannot be called as a function.");if(!e)throw new Error(y.getMessage("PARAM_EMPTY","options"));this.settings=e}Ae.prototype={requestString:null,constructor:Ae,processRequestString:function(){var e="";const t=new ye(this.settings).getParams();for(var n=0;n<t.length;n++){var i=t[n];e&&(e+="&"),e+=i.k+"="+i.v}if(!this.settings.geocodeMethod||"search"!==this.settings.geocodeMethod&&"reverse"!==this.settings.geocodeMethod)throw new Error("Error geocodeMethod not valid");return this.requestString="?"+e,this.logger.trace(this.requestString),this.requestString}};const ve=Ae;var Ce={build:function(e){var t=m.getLogger("GeocodeRequestFactory");t.trace(["GeocodeRequestFactory::build()"]);var n=new ve(e||{});if(!n.processRequestString())throw new Error("Error process request (rest) !");var i=n.requestString;return t.trace(i),i}};const be=Ce;function Ie(){if(!(this instanceof Ie))throw new TypeError("GeocodeResponse constructor cannot be called as a function.");this.locations=[]}Ie.prototype={constructor:Ie};const _e=Ie;function we(){if(!(this instanceof we))throw new TypeError("GeocodedLocation constructor cannot be called as a function.");this.position=null,this.matchType=null,this.placeAttributes={},this.type=null,this.accuracy=null,this.CLASSNAME="GeocodedLocation"}we.prototype={constructor:we};const Ee=we;function Se(){if(!(this instanceof Se))throw new TypeError("GeocodeResponseParser constructor cannot be called as a function.")}function Pe(e,t){var n=new Ee;if(e.geometry&&"Point"===e.geometry.type&&(n.position={lon:e.geometry.coordinates[0],lat:e.geometry.coordinates[1]}),e.properties){for(var i in e.properties)"score"===i?n.accuracy=e.properties[i]:"_type"===i?"address"===e.properties[i]?n.type="StreetAddress":"poi"===e.properties[i]?n.type="PositionOfInterest":"parcel"!==e.properties[i]&&"cadastral"!==e.properties[i]||(n.type="CadastralParcel"):n.placeAttributes[i]=e.properties[i];"address"===e.properties._type&&(n.matchType=void 0!==e.properties.number&&null!==e.properties.number?"street number":"street")}t.locations.push(n)}Se.prototype={constructor:Se,parse:function(e){var t=new _e;const n=JSON.parse(e);if("FeatureCollection"===n.type)for(var i=0;i<n.features.length;++i)Pe(n.features[i],t);else{if("Feature"!==n.type){if("SERVICE_ERROR"===n.type)return function(e){return{exceptionReport:e}}(n);var o=y.getMessage("SERVICE_RESPONSE_ANALYSE",n.type);throw new G({message:o,type:G.TYPE_UNKERR,status:200})}Pe(n,t)}return t}};const Me=Se;var xe={build:function(e){var t=null;if(e.response){if(e.rawResponse)t=e.response;else{try{if(!(t=(new Me).parse(e.response)))throw new Error("L'analyse de la rÃ©ponse du service !?")}catch(t){var n=t.message;return"string"==typeof e.response?n+="('"+e.response+"')":n+="('"+e.response.documentElement.innerHTML+"')",void e.onError.call(e.scope,new G({message:y.getMessage("SERVICE_RESPONSE_ANALYSE",n),type:G.TYPE_UNKERR,status:-1}))}if(t.exceptionReport)return void e.onError.call(e.scope,new G({message:y.getMessage("SERVICE_RESPONSE_EXCEPTION",t.exceptionReport),type:G.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,t)}else e.onError.call(e.scope,new G({message:y.getMessage("SERVICE_RESPONSE_EMPTY"),type:G.TYPE_SRVERR,status:-1}))}};const Ge=xe;function ke(e){if(!(this instanceof ke))throw new TypeError(y.getMessage("CLASS_CONSTRUCTOR","Geocode"));this.CLASSNAME="Geocode",this.logger=m.getLogger("Gp.Services.Geocode"),this.logger.trace("[Constructeur Geocode (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=T.Geocode.newUrl()),L.apply(this,[t]),!t.hasOwnProperty("query"))throw new Error(y.getMessage("PARAM_MISSING","query"));if(this.options.query=t.query,t.index||(this.options.index=t.index="StreetAddress"),t.filters)for(var n=Object.keys(t.filters),i=0;i<n.length;i++){var o=n[i];(void 0===t.filters[o]||"object"==typeof t.filters[o]&&0===Object.keys(t.filters[o]).length||"string"==typeof t.filters[o]&&0===t.filters[o].length||Array.isArray(t.filters[o])&&0===t.filters[o].length)&&delete this.options.filters[o]}this.options.index=t.index||"StreetAddress",this.options.maximumResponses=t.maximumResponses||20}ke.prototype=Object.create(L.prototype,{}),ke.prototype.constructor=ke,ke.prototype.patchOptionConvertor=function(e){const t=e;return t.hasOwnProperty("location")&&(this.logger.warn("The parameter 'location' is deprecated"),t.query||(t.query=t.location),delete t.location),t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filters||(t.filters=t.filterOptions,t.filters.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.index||(Array.isArray(t.filters.type)&&t.filters.type.length>0?t.index=t.filters.type[0]:t.index=t.filters.type),delete t.filters.type),t.filters.bbox&&(this.logger.warn("The parameter 'filterOptions.bbox' is deprecated"),delete t.filters.bbox)),delete t.filterOptions),t.position&&(t.position.x&&(this.logger.warn("The parameter 'position.x' is deprecated"),t.position.lon||(t.position.lon=t.position.x),delete t.position.x),t.position.y&&(this.logger.warn("The parameter 'position.y' is deprecated"),t.position.lat||(t.position.lat=t.position.y),delete t.position.y)),t.returnFreeForm&&(this.logger.warn("The parameter 'returnFreeForm' is deprecated"),delete t.returnFreeForm),t.srs&&(this.logger.warn("The parameter 'srs' is deprecated"),delete t.srs),t},ke.prototype.buildRequest=function(e,t){var n={httpMethod:this.options.httpMethod,geocodeMethod:"search",query:this.options.query,index:this.options.index,returnTrueGeometry:this.options.returnTrueGeometry,position:this.options.position,maxResp:this.options.maximumResponses,filters:this.options.filters};this.request=be.build(n),this.request?t.call(this,this.request):e.call(this,new G(y.getMessage("SERVICE_REQUEST_BUILD")))},ke.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};Ge.build(n)}else e.call(this,new G(y.getMessage("SERVICE_RESPONSE_EMPTY")))};const Re=ke;function Le(e){if(!(this instanceof Le))throw new TypeError(y.getMessage("CLASS_CONSTRUCTOR","ReverseGeocode"));this.CLASSNAME="ReverseGeocode",this.logger=m.getLogger("Gp.Services.ReverseGeocode"),this.logger.trace("[Constructeur ReverseGeocode (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=T.ReverseGeocode.newUrl()),L.apply(this,[t]),t.searchGeometry)this.options.searchGeometry=t.searchGeometry;else if(!t.position)throw new Error(y.getMessage("PARAM_MISSING","searchGeometry"));if(t.index||(this.options.index=t.index="StreetAddress"),t.filters)for(var n=Object.keys(t.filters),i=0;i<n.length;i++){var o=n[i];(void 0===t.filters[o]||"object"==typeof t.filters[o]&&0===Object.keys(t.filters[o]).length||"string"==typeof t.filters[o]&&0===t.filters[o].length||Array.isArray(t.filters[o])&&0===t.filters[o].length)&&delete this.options.filters[o]}this.options.position=t.position,this.options.index=t.index||"StreetAddress",this.options.maximumResponses=t.maximumResponses||20}Le.prototype=Object.create(L.prototype,{}),Le.prototype.constructor=Le,Le.prototype.patchOptionConvertor=function(e){var t=e;return t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filterOptions.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.index||(Array.isArray(t.filterOptions.type)&&t.filterOptions.type.length>0?t.index=t.filterOptions.type[0]:t.index=t.filterOptions.type),delete t.filterOptions.type),t.filterOptions.bbox&&(this.logger.warn("The parameter 'filterOptions.bbox' is deprecated"),t.searchGeometry||(t.searchGeometry=this.bbox2Json(t.filterOptions.bbox)),delete t.filterOptions.bbox),t.filterOptions.circle&&(this.logger.warn("The parameter 'filterOptions.circle' is deprecated"),t.searchGeometry||(t.searchGeometry=this.circle2Json(t.filterOptions.circle)),delete t.filterOptions.circle),t.filterOptions.polygon&&(this.logger.warn("The parameter 'filterOptions.polygon' is deprecated"),t.searchGeometry||(t.searchGeometry=this.polygon2Json(t.filterOptions.polygon)),delete t.filterOptions.polygon),!t.filters&&Object.keys(t.filterOptions).length>0&&(t.filters=t.filterOptions),delete t.filterOptions),t.position&&(t.position.x&&(this.logger.warn("The parameter 'position.x' is deprecated"),t.position.lon||(t.position.lon=t.position.x),delete t.position.x),t.position.y&&(this.logger.warn("The parameter 'position.y' is deprecated"),t.position.lat||(t.position.lat=t.position.y),delete t.position.y)),t.srs&&(this.logger.warn("The parameter 'srs' is deprecated"),delete t.srs),t},Le.prototype.buildRequest=function(e,t){var n={httpMethod:this.options.httpMethod,geocodeMethod:"reverse",searchGeometry:this.options.searchGeometry,index:this.options.index,position:this.options.position,returnTrueGeometry:this.options.returnTrueGeometry,maxResp:this.options.maximumResponses,filters:this.options.filters};this.request=be.build(n),this.request?t.call(this,this.request):e.call(this,new G(y.getMessage("SERVICE_REQUEST_BUILD")))},Le.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};Ge.build(n)}else e.call(this,new G(y.getMessage("SERVICE_RESPONSE_EMPTY")))},Le.prototype.bbox2Json=function(e){return{type:"Polygon",coordinates:[[[e.left,e.top],[e.right,e.top],[e.right,e.bottom],[e.left,e.bottom],[e.left,e.top]]]}},Le.prototype.circle2Json=function(e){return{type:"Circle",radius:e.radius,coordinates:[e.x,e.y]}},Le.prototype.polygon2Json=function(e){for(var t={type:"Polygon",coordinates:[[]]},n=0;n<e.length;++n)t.coordinates[0].push([e[n].x,e[n].y]);return t},Le.geoEPSG=["EPSG:4326"];const Oe=Le;function Te(){if(!(this instanceof Te))throw new TypeError("AutoCompleteResponse constructor cannot be called as a function.");this.suggestedLocations=[]}Te.prototype={constructor:Te};const De=Te;function Ne(){if(!(this instanceof Ne))throw new TypeError("SuggestedLocation constructor cannot be called as a function.");this.type=null,this.position={x:null,y:null},this.commune=null,this.fullText=null,this.postalCode=null,this.classification=null,this.street=null,this.poi=null,this.kind=null}Ne.prototype={constructor:Ne};const Ue=Ne;var je={build:function(e){var t=m.getLogger("AutoCompleteResponseFactory");t.trace(["AutoCompleteResponseFactory::build()"]);var n=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),n=e.response;else{var i=null;if(i="string"==typeof e.response?JSON.parse(e.response):e.response){if(i.error)return void e.onError.call(e.scope,new G({message:y.getMessage("SERVICE_RESPONSE_EXCEPTION",i.error.description),status:i.error.code,type:G.TYPE_SRVERR}));if(n=new De,!i.results||!Array.isArray(i.results))return void e.onError.call(e.scope,new G(y.getMessage("SERVICE_RESPONSE_FORMAT_3")));for(var o=null,r=0;r<i.results.length;r++){var a=i.results[r];o=new Ue,a&&("StreetAddress"===a.country?(o.street=a.street,o.type="StreetAddress"):"PositionOfInterest"===a.country&&(o.poi=a.street,o.type="PositionOfInterest",o.poiType=a.poiType),o.position&&(o.position.x=a.x,o.position.y=a.y),o.kind=a.kind,o.commune=a.city,o.fullText=a.fulltext,o.postalCode=a.zipcode,o.classification=a.classification),n.suggestedLocations.push(o)}if(!n.suggestedLocations.length)return void e.onError.call(e.scope,new G(y.getMessage("SERVICE_RESPONSE_FORMAT_3")))}if(!n)return void e.onError.call(e.scope,new G({message:y.getMessage("SERVICE_RESPONSE_ANALYSE_2"),type:G.TYPE_UNKERR,status:-1}));if(n.exceptionReport)return void e.onError.call(e.scope,new G({message:y.getMessage("SERVICE_RESPONSE_EXCEPTION",n.exceptionReport),type:G.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,n)}else e.onError.call(e.scope,new G(y.getMessage("SERVICE_RESPONSE_EMPTY")))}};const Be=je;function Fe(e){if(!(this instanceof Fe))throw new TypeError(y.getMessage("CLASS_CONSTRUCTOR","AutoComplete"));this.CLASSNAME="AutoComplete",this.logger=m.getLogger("Gp.Services.AutoComplete"),this.logger.trace("[Constructeur AutoComplete (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=T.AutoComplete.newUrl()),L.apply(this,arguments),!t.text)throw new Error(y.getMessage("PARAM_MISSING","text"));this.options.text=t.text,t.type||(t.type=["StreetAddress,PositionOfInterest"]),this.options.type=t.type,this.options.territory=t.terr||"",this.options.maximumResponses=t.maximumResponses||10,"XHR"===this.options.protocol&&"POST"===this.options.httpMethod&&(this.logger.warn("Le service ne gÃ©re pas le mode d'interrogation en POST, on bascule sur du GET !"),this.options.httpMethod="GET"),this.options.outputFormat=this.options.rawResponse?"":"json"}Fe.prototype=Object.create(L.prototype,{}),Fe.prototype.constructor=Fe,Fe.prototype.patchOptionConvertor=function(e){const t=e;return t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filterOptions.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.type||(t.type=t.filterOptions.type)),t.filterOptions.territory&&(this.logger.warn("The parameter 'filterOptions.territory' is deprecated"),t.terr||(t.terr=t.filterOptions.territory)),delete t.filterOptions),t},Fe.prototype.buildRequest=function(e,t){var n="";this.options.territory&&(n=this.options.territory);var i="";this.options.type&&(i=this.options.type.join(",")),this.request=v.normalyzeParameters({text:encodeURIComponent(this.options.text),type:i,terr:n,maximumResponses:this.options.maximumResponses}),this.request?t.call(this,this.request):e.call(this,new G(y.getMessage("SERVICE_REQUEST_BUILD")))},Fe.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,rawResponse:this.options.rawResponse,onSuccess:t,onError:e,scope:this};Be.build(n)}else e.call(this,new G(y.getMessage("SERVICE_RESPONSE_EMPTY")))};const ze=Fe;function Ve(e){if(!(this instanceof Ve))throw new TypeError("RouteParamREST constructor cannot be called as a function.");this.logger=m.getLogger(),this.logger.trace("[Constructeur RouteParamREST ()]"),this.options=e||{},this.resource=this.options.resource,this.start=this.options.startPoint.x+","+this.options.startPoint.y,this.end=this.options.endPoint.x+","+this.options.endPoint.y,this.intermediates=this.options.viaPoints,this.profile=this.options.graph,this.crs=this.options.srs,this.constraints=this.options.constraints,this.optimization=this.options.routePreference,this.getSteps=this.options.geometryInInstructions?"true":"false",this.distanceUnit=this.options.distanceUnit,this.timeUnit=this.options.timeUnit,this.waysAttributes=this.options.waysAttributes}Ve.CLASSNAME="RouteParamREST",Ve.prototype={constructor:Ve,getIntermediates:function(){var e=[];if(0!==this.intermediates.length)for(var t=0;t<this.intermediates.length;t++){var n=this.intermediates[t];e.push(n.x+","+n.y)}return e.join("|")},getWaysAttributes:function(){return this.waysAttributes.join("|")},getProfile:function(){return this.profile},getDistanceUnit:function(){return"m"===this.distanceUnit?"meter":"km"===this.distanceUnit?"kilometer":""},getOptimization:function(){return this.optimization?this.optimization:""},getConstraints:function(){var e=[];if(0!==this.constraints.length)for(var t=0;t<this.constraints.length;t++)e.push(JSON.stringify(this.constraints[t]));return e.join("|")}},Ve.prototype.getParams=function(){var e=[];return e.push({k:"resource",v:this.resource}),e.push({k:"start",v:this.start}),e.push({k:"end",v:this.end}),e.push({k:"geometryFormat",v:"geojson"}),this.optimization&&e.push({k:"optimization",v:this.getOptimization()}),this.intermediates&&e.push({k:"intermediates",v:this.getIntermediates()}),this.profile&&e.push({k:"profile",v:this.getProfile()}),this.constraints&&e.push({k:"constraints",v:this.getConstraints()}),this.crs&&e.push({k:"crs",v:this.crs}),this.distanceUnit&&e.push({k:"distanceUnit",v:this.getDistanceUnit()}),this.timeUnit&&e.push({k:"timeUnit",v:this.timeUnit}),this.waysAttributes&&e.push({k:"waysAttributes",v:this.getWaysAttributes()}),e};const qe=Ve;function We(e){if(this.logger=m.getLogger("RouteRequestREST"),this.logger.trace("[Constructeur RouteRequestREST ()]"),!(this instanceof We))throw new TypeError("RouteRequestREST constructor cannot be called as a function.");if(!e)throw new Error(y.getMessage("PARAM_EMPTY","options"));this.settings=e}We.prototype={requestString:null,constructor:We,processRequestString:function(){this.logger.warn(" PROTOTYPE !");for(var e=new qe(this.settings).getParams(),t="",n=0;n<e.length;n++){var i=e[n];t&&(t+="&"),t+=i.k+"="+i.v}return this.logger.trace(t),this.requestString=t,this.requestString}};const He=We;const Ye={build:function(e){m.getLogger("RouteRequestFactory").trace(["RouteRequestFactory::build()"]);var t=e||{},n=!(null===e.onError||"function"!=typeof e.onError),i=null,o=new He(t);if(!o.processRequestString()){if(i="Error process request (rest) !",n)return void e.onError.call(e.scope,new G(i));throw new Error(i)}return o.requestString}};function Ze(){if(!(this instanceof Ze))throw new TypeError("RouteResponse constructor cannot be called as a function.");this.totalTime=null,this.totalDistance=null,this.bbox={left:null,right:null,top:null,bottom:null},this.routeGeometry=null,this.routeInstructions=[]}Ze.prototype={constructor:Ze};const Je=Ze;function Xe(){if(!(this instanceof Xe))throw new TypeError("RouteInstruction constructor cannot be called as a function.");this.duration=null,this.distance=null,this.code=null,this.instruction=null,this.geometry=null}Xe.prototype={constructor:Xe};const Ke=Xe;var Qe={build:function(e){var t=m.getLogger("RouteResponseFactory");t.trace("RouteResponseFactory::build()");var n=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),n=e.response;else{var i;if(t.trace("analyze response : json"),i="string"==typeof e.response?JSON.parse(e.response):e.response){if(i.message)return void e.onError.call(e.scope,new G(y.getMessage("SERVICE_RESPONSE_EXCEPTION",i.message)));var o=[],r=[],a=[];if((n=new Je).hasOwnProperty("totalTime")&&(n.totalTime=parseFloat(i.duration)),n.hasOwnProperty("totalDistance")&&(n.totalDistance=parseFloat(i.distance)),n.hasOwnProperty("bbox")&&(n.bbox.left=parseFloat(i.bbox[0]),n.bbox.bottom=parseFloat(i.bbox[1]),n.bbox.right=parseFloat(i.bbox[2]),n.bbox.top=parseFloat(i.bbox[3])),n.hasOwnProperty("routeGeometry")&&!e.geometryInInstructions&&(n.routeGeometry=i.geometry),n.hasOwnProperty("routeInstructions")&&e.geometryInInstructions){var s,l=i.portions;if(Array.isArray(l)&&l.length)for(s=0;s<l.length;s++)o.push(l[s]);if(o.length)for(s=0;s<o.length;s++)r.push(o[s].steps);if(r.length)for(s=0;s<r.length;s++)a=a.concat(r[s]);a.forEach((function(e){switch(n.routeInstructions.push(new Ke),n.routeInstructions[n.routeInstructions.length-1].duration=e.duration,n.routeInstructions[n.routeInstructions.length-1].distance=e.distance,n.routeInstructions[n.routeInstructions.length-1].code="",n.routeInstructions[n.routeInstructions.length-1].instruction="",n.routeInstructions[n.routeInstructions.length-1].geometry=e.geometry,"Valeur non renseignÃ©e"===e.name&&(e.name=""),e.instruction.type){case"turn":n.routeInstructions[n.routeInstructions.length-1].instruction+="Tourner";break;case"new name":n.routeInstructions[n.routeInstructions.length-1].instruction+="Continuer tout droit";break;case"depart":n.routeInstructions[n.routeInstructions.length-1].instruction+="DÃ©part";break;case"arrive":n.routeInstructions[n.routeInstructions.length-1].instruction+="ArrivÃ©e";break;case"merge":n.routeInstructions[n.routeInstructions.length-1].instruction+="Rejoindre";break;case"ramp":case"on ramp":n.routeInstructions[n.routeInstructions.length-1].instruction+="Prendre la bretelle";break;case"off ramp":n.routeInstructions[n.routeInstructions.length-1].instruction+="Prendre la sortie";break;case"fork":n.routeInstructions[n.routeInstructions.length-1].instruction+="Sur la bifurcation, prendre";break;case"end of road":n.routeInstructions[n.routeInstructions.length-1].instruction+="Ã€ la fin de la route, prendre";break;case"use lane":n.routeInstructions[n.routeInstructions.length-1].instruction+="Utiliser la file";break;case"continue":n.routeInstructions[n.routeInstructions.length-1].instruction+="Continuer";break;case"roundabout":case"rotary":n.routeInstructions[n.routeInstructions.length-1].instruction+="Au rond-point";break;case"roundabout turn":n.routeInstructions[n.routeInstructions.length-1].instruction+="Au rond point, tourner";break;case"notification":n.routeInstructions[n.routeInstructions.length-1].instruction+="";break;default:n.routeInstructions[n.routeInstructions.length-1].instruction+="?"+e.instruction.type+"?"}if(e.instruction.modifier)switch(e.instruction.modifier){case"uturn":n.routeInstructions[n.routeInstructions.length-1].instruction="Faire demi-tour";break;case"sharp right":n.routeInstructions[n.routeInstructions.length-1].instruction+=" complÃ¨tement Ã  droite";break;case"right":n.routeInstructions[n.routeInstructions.length-1].instruction+=" Ã  droite";break;case"slight right":n.routeInstructions[n.routeInstructions.length-1].instruction+=" lÃ©gÃ¨rement Ã  droite";break;case"straight":n.routeInstructions[n.routeInstructions.length-1].instruction="Continuer tout droit";break;case"slight left":n.routeInstructions[n.routeInstructions.length-1].instruction+=" lÃ¨gÃ¨rement Ã  gauche";break;case"left":n.routeInstructions[n.routeInstructions.length-1].instruction+=" Ã  gauche";break;case"sharp left":n.routeInstructions[n.routeInstructions.length-1].instruction+=" complÃ¨tement Ã  gauche";break;default:n.routeInstructions[n.routeInstructions.length-1].instruction+=" ?"+e.instruction.modifier+"?"}e.instruction.exit&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=`${e.instruction.exit}e sortie`),e.attributes.name&&((e.attributes.name.nom_1_droite||e.attributes.name.toponyme)&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=" sur"),e.attributes.name.nom_1_droite&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=` ${e.attributes.name.nom_1_droite}`),e.attributes.name.toponyme&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=` ${e.attributes.name.toponyme}`))}))}}if(!n)return void e.onError.call(e.scope,new G(y.getMessage("SERVICE_RESPONSE_ANALYSE","json")));if(n.exceptionReport)return void e.onError.call(e.scope,new G(y.getMessage("SERVICE_RESPONSE_EXCEPTION_2")))}e.onSuccess.call(e.scope,n)}else e.onError.call(e.scope,new G(y.getMessage("SERVICE_RESPONSE_EMPTY")))}};const $e=Qe;function et(e){if(!(this instanceof et))throw new TypeError(y.getMessage("CLASS_CONSTRUCTOR","Route"));if(this.CLASSNAME="Route",L.apply(this,arguments),this.logger=m.getLogger("Gp.Services.Route"),this.logger.trace("[Constructeur Route (options)]"),!e.startPoint)throw new Error(y.getMessage("PARAM_MISSING","startPoint"));if(null===e.startPoint.x)throw new Error(y.getMessage("PARAM_MISSING","startPoint.x"));if(null===e.startPoint.y)throw new Error(y.getMessage("PARAM_MISSING","startPoint.y"));if(!e.endPoint)throw new Error(y.getMessage("PARAM_MISSING","endPoint"));if(null===e.endPoint.x)throw new Error(y.getMessage("PARAM_MISSING","endPoint.x"));if(null===e.endPoint.y)throw new Error(y.getMessage("PARAM_MISSING","endPoint.y"));if(e.outputFormat&&"json"!==e.outputFormat&&this.logger.warn("options.outputFormat could only be json"),this.options.outputFormat="json",this.options.resource=e.resource||"bdtopo-osrm",this.options.startPoint=e.startPoint,this.options.endPoint=e.endPoint,this.options.viaPoints=e.viaPoints||[],this.options.routePreference=e.routePreference||"fastest",e.graph?("Voiture"===e.graph&&(this.options.graph="car"),"Pieton"===e.graph&&(this.options.graph="pedestrian")):this.options.graph="car",this.options.constraints=[],e.constraints){if(!Array.isArray(e.constraints))throw new Error(y.getMessage("PARAM_TYPE","constraints"));for(var t=0;t<e.constraints.length;t++)this.options.constraints.push(e.constraints[t])}var n={},i={},o={};if(e.exclusions&&0!==e.exclusions.length){this.logger.warn("options.exclusions is DEPRECATED !!");for(var r=0;r<e.exclusions.length;r++)"string"==typeof e.exclusions[r]&&(e.exclusions[r]=e.exclusions[r].toLowerCase(),"toll"===e.exclusions[r]&&(o.constraintType="banned",o.key="wayType",o.operator="=",o.value="autoroute",this.options.constraints.push(o)),"tunnel"===e.exclusions[r]&&(n.constraintType="banned",n.key="wayType",n.operator="=",n.value="tunnel",this.options.constraints.push(n)),"bridge"===e.exclusions[r]&&(i.constraintType="banned",i.key="wayType",i.operator="=",i.value="pont",this.options.constraints.push(i)))}if(this.options.geometryInInstructions=e.geometryInInstructions||!1,this.options.provideBbox=e.provideBbox||!0,this.options.distanceUnit=e.distanceUnit||"m",this.options.timeUnit=e.timeUnit||"second",this.options.expectedStartTime=null,this.options.srs=e.srs||"EPSG:4326",this.options.waysAttributes=e.waysAttributes||[],!this.options.serverUrl){var a=T.Route.newUrl();if(!a)throw new Error("Url by default not found !");this.options.serverUrl=a,this.logger.trace("Serveur URL par defaut : "+this.options.serverUrl)}}et.prototype=Object.create(L.prototype,{}),et.prototype.constructor=et,et.prototype.buildRequest=function(e,t){var n={resource:this.options.resource,startPoint:this.options.startPoint,endPoint:this.options.endPoint,viaPoints:this.options.viaPoints,provideBbox:this.options.provideBbox,constraints:this.options.constraints,distanceUnit:this.options.distanceUnit,timeUnit:this.options.timeUnit,graph:this.options.graph,geometryInInstructions:this.options.geometryInInstructions,routePreference:this.options.routePreference,srs:this.options.srs,waysAttributes:this.options.waysAttributes};this.request=Ye.build(n),this.request?t.call(this,this.request):e.call(this,new G(y.getMessage("SERVICE_REQUEST_BUILD")))},et.prototype.analyzeResponse=function(e,t){if(this.response){var n={distanceUnit:this.options.distanceUnit,timeUnit:this.options.timeUnit,response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this,geometryInInstructions:this.options.geometryInInstructions};$e.build(n)}else e.call(this,new G(y.getMessage("SERVICE_RESPONSE_EMPTY")))};const tt=et;function nt(e){if(!(this instanceof nt))throw new TypeError("ProcessIsoCurveParam constructor cannot be called as a function.");this.logger=m.getLogger(),this.logger.trace("[Constructeur ProcessIsoCurveParam ()]"),this.options=e||{},this.id=this.options.id,this.resource=this.options.resource,this.point=this.options.position,this.crs=this.options.srs,this.profile=this.options.graph,this.constraints=this.options.constraints,this.reverse=this.options.reverse,this.timeUnit=this.options.timeUnit,this.distanceUnit=this.options.distanceUnit,"distance"===this.options.method?(this.costType="distance",this.costValue=this.options.distance,"m"===this.distanceUnit&&this.costValue>=5e4&&(this.distanceUnit="km",this.costValue/=1e3)):(this.costType="time",this.costValue=this.options.time)}nt.CLASSNAME="ProcessIsoCurveParam",nt.prototype={constructor:nt,getLocation:function(){return this.point.x+","+this.point.y},getDistanceUnit:function(){return"m"===this.distanceUnit?"meter":"km"===this.distanceUnit?"kilometer":""},getConstraints:function(){var e=[];if(0!==this.constraints.length)for(var t=0;t<this.constraints.length;t++)e.push(JSON.stringify(this.constraints[t]));return e.join("|")},getDirection:function(){return this.reverse?"arrival":"departure"}},nt.prototype.getParams=function(){var e=[];return e.push({k:"resource",v:this.resource}),e.push({k:"point",v:this.getLocation()}),e.push({k:"direction",v:this.getDirection()}),e.push({k:"costType",v:this.costType}),e.push({k:"costValue",v:this.costValue}),e.push({k:"profile",v:this.profile}),e.push({k:"timeUnit",v:this.timeUnit}),e.push({k:"distanceUnit",v:this.getDistanceUnit()}),this.crs&&e.push({k:"crs",v:this.crs}),this.constraints&&e.push({k:"constraints",v:this.getConstraints()}),e};const it=nt;function ot(e){if(this.logger=m.getLogger("ProcessIsoCurveRequest"),this.logger.trace("[Constructeur ProcessIsoCurveRequest ()]"),!(this instanceof ot))throw new TypeError("ProcessIsoCurveRequest constructor cannot be called as a function.");if(!e)throw new Error(y.getMessage("PARAM_EMPTY","options"));this.settings=e,this.mode=this.settings.httpMethod||"GET"}ot.prototype={requestString:null,constructor:ot,processRequestString:function(){var e="",t=0;switch(this.mode){case"GET":this.logger.trace("Process GET Request");var n=new it(this.settings).getParams();for(t=0;t<n.length;t++){var i=n[t];e&&(e+="&"),e+=i.k+"="+i.v}break;case"POST":this.logger.trace("Process POST Request");var o={};o.resource=this.settings.resource,o.point=this.settings.position.x+","+this.settings.position.y,"distance"===this.settings.method?(o.costType="distance",o.costValue=this.settings.distance):(o.costType="time",o.costValue=this.settings.time),o.profile=this.settings.graph,this.settings.reverse?o.direction="arrival":o.direction="departure",o.constraints=this.settings.constraints,o.distanceUnit=this.settings.distanceUnit,o.timeUnit=this.settings.timeUnit,o.crs=this.settings.srs,e=JSON.stringify(o);break;default:this.logger.error("No other HTTP method supported by the service !")}return this.logger.trace(e),this.requestString=e,this.requestString}};const rt=ot;function at(){if(!(this instanceof at))throw new TypeError("ProcessIsoCurveResponse constructor cannot be called as a function.");this.message=null,this.id=null,this.location={},this.location.x=null,this.location.y=null,this.srs=null,this.geometry=null,this.time=null,this.distance=null}at.prototype={constructor:at};const st=at;var lt={build:function(e){var t=m.getLogger("ProcessIsoCurveResponseFactory");t.trace(["ProcessIsoCurveResponseFactory::build()"]);var n=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),n=e.response;else{var i;if(t.trace("analyze response : json"),i="string"==typeof e.response?JSON.parse(e.response):e.response,n=new st,!i)return void e.onError.call(e.scope,new G(y.getMessage("SERVICE_RESPONSE_ANALYSE",e.response)));"distance"===i.costType?(n.time="",n.distance=i.costValue):(n.time=i.costValue,n.distance=""),n.message="",n.id="",n.srs=i.crs,n.geometry=i.geometry;var o=i.point.split(",");if(n.location&&(n.location.x=o[0],n.location.y=o[1]),n.exceptionReport)return void e.onError.call(e.scope,new G({message:y.getMessage("SERVICE_RESPONSE_EXCEPTION",n.exceptionReport),type:G.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,n)}else e.onError.call(e.scope,new G(y.getMessage("SERVICE_RESPONSE_EMPTY")))}};const ct=lt;function ut(e){if(!(this instanceof ut))throw new TypeError(y.getMessage("CLASS_CONSTRUCTOR","ProcessIsoCurve"));if(this.CLASSNAME="ProcessIsoCurve",L.apply(this,arguments),this.logger=m.getLogger("Gp.Services.ProcessIsoCurve"),this.logger.trace("[Constructeur ProcessIsoCurve (options)]"),!e.position)throw new Error(y.getMessage("PARAM_MISSING","position"));if(null===e.position.x)throw new Error(y.getMessage("PARAM_MISSING","position.x"));if(null===e.position.y)throw new Error(y.getMessage("PARAM_MISSING","position.y"));if(!e.time&&!e.distance)throw new Error("Parameter (s) 'distance' missing. Parameter time to calculate an isochrone, parameter distance for an isodistance");if(!e.time&&e.distance&&(this.options.method="distance",this.options.time&&delete this.options.time),e.time&&!e.distance&&(this.options.method="time",this.options.distance&&delete this.options.distance),this.options.method=this.options.method||"time",this.options.resource=e.resource||"bdtopo-valhalla",this.options.exclusions=e.exclusions||[],this.options.reverse=e.reverse||!1,this.options.srs=e.srs||"EPSG:4326",this.options.distanceUnit=e.distanceUnit||"m",this.options.timeUnit=e.timeUnit||"second",e.smoothing&&this.logger.warn("options.smoothing is DEPRECATED"),this.options.smoothing=!1,e.holes&&this.logger.warn("options.holes is DEPRECATED"),this.options.holes=!1,e.graph?("Voiture"===e.graph&&(this.options.graph="car"),"Pieton"===e.graph&&(this.options.graph="pedestrian")):this.options.graph="car",this.options.constraints=[],e.constraints){if(!Array.isArray(e.constraints))throw new Error(y.getMessage("PARAM_TYPE","constraints"));for(var t=0;t<e.constraints.length;t++)this.options.constraints.push(e.constraints[t])}var n={},i={},o={};if(e.exclusions&&0!==e.exclusions.length){this.logger.warn("options.exclusions is DEPRECATED !!");for(var r=0;r<e.exclusions.length;r++)"string"==typeof e.exclusions[r]&&(e.exclusions[r]=e.exclusions[r].toLowerCase(),"toll"===e.exclusions[r]&&(o.constraintType="banned",o.key="wayType",o.operator="=",o.value="autoroute",this.options.constraints.push(o)),"tunnel"===e.exclusions[r]&&(n.constraintType="banned",n.key="wayType",n.operator="=",n.value="tunnel",this.options.constraints.push(n)),"bridge"===e.exclusions[r]&&(i.constraintType="banned",i.key="wayType",i.operator="=",i.value="pont",this.options.constraints.push(i)))}if(this.options.outputFormat="string"==typeof e.outputFormat?e.outputFormat.toLowerCase():"json",e.outputFormat&&"json"!==e.outputFormat)throw new Error(y.getMessage("PARAM_NOT_SUPPORT","outputFormat"));if(this.options.outputFormat="json",!this.options.serverUrl){var a=T.ProcessIsoCurve.newUrl();if(!a)throw new Error("Url by default not found !");this.options.serverUrl=a,this.logger.trace("Serveur URL par defaut : "+this.options.serverUrl)}}ut.prototype=Object.create(L.prototype,{}),ut.prototype.constructor=ut,ut.prototype.buildRequest=function(e,t){try{var n=new rt(this.options);if(!n.processRequestString())throw new Error(y.getMessage("SERVICE_REQUEST_BUILD"));this.request=n.requestString}catch(t){return void e.call(this,new G(t.message))}t.call(this,this.request)},ut.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onSuccess:t,onError:e,scope:this};ct.build(n)}else e.call(this,new G(y.getMessage("SERVICE_RESPONSE_EMPTY")))};const dt=ut;const pt={getConfig:function(e){new F(e).call()},getAltitude:function(e){new me(e).call()},geocode:function(e){new Re(e).call()},reverseGeocode:function(e){new Oe(e).call()},autoComplete:function(e){new ze(e).call()},route:function(e){new tt(e).call()},isoCurve:function(e){new dt(e).call()}},ht=k.rE,gt=k.p6;var mt={};mt.servicesVersion=ht,mt.servicesDate=gt,mt.Protocols={},mt.Protocols.XHR=_,mt.Services=pt,mt.Services.DefaultUrl=T,mt.Services.AltiResponse=re,mt.Services.Alti={},mt.Services.Alti.Elevation=se,mt.Services.AutoCompleteResponse=De,mt.Services.AutoComplete={},mt.Services.AutoComplete.SuggestedLocation=Ue,mt.Services.Config=F,mt.Services.IsoCurveResponse=st,mt.Services.RouteResponse=Je,mt.Services.Route={},mt.Services.Route.RouteInstruction=Ke,mt.Error=G,mt.Helper=v;const ft=mt;const yt={getLogger:function(e){if(void 0===t)var t={env:{VERBOSE:!1}};t.env.VERBOSE?g.enableAll():g.disableAll();var n=e||"default";return g.getLogger(n)},disableAll:function(){var e=g.getLoggers();for(var t in e){if(Object.hasOwnProperty.call(e,t))e[t].disableAll()}},enableAll:function(){var e=g.getLoggers();for(var t in e){if(Object.hasOwnProperty.call(e,t))e[t].enableAll()}}};var At={proxifyUrl:function(e,t){var n=yt.getLogger("proxifyUrl");if(!t||!t.hasOwnProperty("proxyUrl")||null===t.proxyUrl||0===t.proxyUrl.trim().length)return e;if(t.noProxyDomains&&Array.isArray(t.noProxyDomains)&&t.noProxyDomains.length>0)for(var i in t.noProxyDomains)if(n.trace("[ProxyUtils] proxifyUrl : analyzing "+t.noProxyDomains[i]),-1!==e.indexOf(t.noProxyDomains[i]))return n.info("[ProxyUtils] proxifyUrl : "+e+" found in noProxyDomains list ("+t.noProxyDomains[i]+")."),e;return t.proxyUrl+encodeURIComponent(e)}};const vt=At;function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}var bt=yt.getLogger("GfiUtils"),It={getLayerFormat:function(e){var t="function"==typeof e.getType?e.getType():null,n=e.getSource();if(t){if("VECTOR"===t||"VECTOR_TILE"===t)return"vector";if("TILE"===t)return n.tileGrid?"wmts":"wms";if("IMAGE"===t)return"wms"}else{if(n instanceof l()||n instanceof p())return"wms";if(n instanceof u())return"wmts";if(n instanceof a()||n instanceof o())return"vector"}return"unknown"},displayInfo:function(e,t,i,o,r){if(bt.trace("[Gfi] : displayInfo..."),o||(o="text/html"),null!==i){var a=null,s=i;s=(s=s.replace(/\n/g,"")).replace(/(>)\s*(<)/g,"$1$2");var l="undefined"!=typeof window?window:null;if("object"===("undefined"==typeof exports?"undefined":Ct(exports))&&null===window)a=(new(0,__webpack_require__(8978).DOMParser)).parseFromString(s,o);else if(l.DOMParser)a=(new l.DOMParser).parseFromString(s,o);else{if(!l.ActiveXObject)return bt.log("Incompatible environment for DOM Parser !"),!1;(a=new l.ActiveXObject("Microsoft.XMLDOM")).async=!1,a.loadXML(s)}var c=a.getElementsByTagName("body");if(c&&1===c.length&&!c[0].hasChildNodes())return!1;var u=document.createElement("div");u.className="gp-feature-info-div";var d=document.createElement("input");d.type="button",d.className="gp-styling-button closer",d.onclick=function(){return e.featuresOverlay&&(e.removeOverlay(e.featuresOverlay),e.featuresOverlay=null),!1};var p=document.createElement("div");return p.className="gp-features-content-div",p.innerHTML=i,u.appendChild(p),u.appendChild(d),e.featuresOverlay&&(e.removeOverlay(e.featuresOverlay),e.featuresOverlay=null),e.featuresOverlay=new(n())({element:u,autoPan:r.autoPan,autoPanAnimation:r.autoPanAnimation,autoPanMargin:r.autoPanMargin,positioning:"bottom-center",insertFirst:!1,stopEvent:!0}),e.addOverlay(e.featuresOverlay),e.featuresOverlay.setPosition(t),e.featuresOverlay.render(),!0}},features2html:function(e,t){var n=document.createElement("div");return t.forEach((function(e){var t=e.getProperties();if(t.hasOwnProperty("render"))n.insertAdjacentHTML("beforeend",t.render);else{if(t.hasOwnProperty("name")){var i=document.createElement("div");i.className="gp-att-name-div",i.insertAdjacentHTML("afterbegin",t.name),n.appendChild(i)}if(t.hasOwnProperty("description")){var o=document.createElement("div");o.className="gp-att-description-div",o.insertAdjacentHTML("afterbegin",t.description),n.appendChild(o)}var r=null,a=!1,s=null,l=null,c=null,u=["fill","fill-opacity","stroke","stroke-opacity","stroke-width","marker-symbol","marker-color","marker-size","geometry","value","name","description","styleUrl","extensionsNode_","icon"];for(r in t)if(void 0!==t[r]&&-1===u.indexOf(r)){a||((s=document.createElement("div")).className="gp-att-others-div",l=document.createElement("ul"),a=!0),c=document.createElement("li");var d=document.createElement("span");d.className="gp-attname-others-span",d.appendChild(document.createTextNode(r+" : ")),c.appendChild(d),c.appendChild(document.createTextNode(t[r])),l.appendChild(c)}l&&(s.appendChild(l),n.appendChild(s))}}),e),n.hasChildNodes()||(n=null),n},layerGetFeatureAtCoordinates:function(e,t,n){var i=e.getPixelFromCoordinate(n);return e.hasFeatureAtPixel(i,(function(e){return e===t}))},displayVectorFeatureInfo:function(e,t,n,i){var o=e.getPixelFromCoordinate(t),r=[];if(e.forEachFeatureAtPixel(o,(function(e,t){(!n||n.indexOf(t)>-1)&&r.push(e)})),0===r.length)return!1;var a=this.features2html(e,r);return null!==a&&(this.displayInfo(e,t,a.innerHTML,"text/html",i),!0)},displayFeatureInfo:function(e,t,n,i,o){for(var r={},a=0;a<n.length;a++){var s=n[a],l=s.obj.getZIndex();r[l]||(r[l]=[]),r[l].push(s)}var c=[],u=Object.keys(r);u.sort((function(e,t){return t-e}));for(var d=0;d<u.length;d++)for(var p=u[d],h=0;h<r[p].length;++h){var g=r[p][h].obj,m=r[p][h].infoFormat||"text/html",f=!0;if(g.minResolution&&g.minResolution>e.getResolution()&&(f=!1),f&&g.maxResolution&&g.maxResolution<e.getResolution()&&(f=!1),g.getVisible()&&f){var y=this.getLayerFormat(g);if("vector"===y){this.layerGetFeatureAtCoordinates(e,g,t)&&c.push({format:y,scope:this,coordinate:t});continue}if("wms"!==y&&"wmts"!==y){bt.log("[ERROR] DisplayFeatureInfo - layer format '"+y+"' not allowed");continue}var A=e.getView().getResolution(),v=null;v="wmts"===y?g.getSource().getFeatureInfoUrl.call(g.getSource(),t,A,e.getView().getProjection(),{INFOFORMAT:m}):g.getSource().getFeatureInfoUrl.call(g.getSource(),t,A,e.getView().getProjection(),{INFO_FORMAT:m}),c.push({format:m,url:vt.proxifyUrl(v,i),scope:this,coordinate:t})}}var C=null;var b=this;!function(e,t,n){if(0!==e.length){var i=0;t(e[0],(function o(r){i++,r||i===e.length?n():t(e[i],o)}))}}(c,(function(t,n){if("vector"===t.format){if(!C){C=[];for(var i=0;i<u.length;i++)for(var a=u[i],s=0;s<r[a].length;++s)C.push(r[a][s].obj)}n(t.scope.displayVectorFeatureInfo(e,t.coordinate,C,o))}else ft.Protocols.XHR.call({url:t.url,method:"GET",scope:t.scope,onResponse:function(i){var r=!1;0!==i.trim().length&&-1===i.indexOf("ServiceExceptionReport")&&-1===i.indexOf("java.lang.NullPointerException")&&-1===i.indexOf("java.lang.OutOfMemoryError")&&-1===i.indexOf("not queryable")||(r=!0);var a=!r&&b.displayInfo(e,t.coordinate,i,"text/html",o);n(a)},onFailure:function(e){bt.log(e),n(!1)}})}),(function(){bt.trace("Finish sync to GFI !")}))},getPosition:function(e,t){if(e.coordinate)return e.coordinate;var n=[0,0];if(e.offsetX||e.offsetY)n[0]=e.offsetX,n[1]=e.offsetY;else if("touch"===e.pointerType){var i=e.pointers[0];n[0]=i.pageX,n[1]=i.pageY}return t.getCoordinateFromPixel(n)},onDisplayFeatureInfo:function(e,t){if(t.isActive()){bt.trace(e);var n=t.getMap();if("contextmenu"===e.type||"dblclick"===e.type)e.preventDefault();else if("singleclick"===e.type)for(var i=n.getInteractions().getArray(),o=0;o<i.length;o++)if(i[o].getActive()&&(i[o]instanceof h.Select||i[o]instanceof h.Modify||i[o]instanceof h.Draw))return;var r={};t._proxyUrl&&(r.proxyUrl=t._proxyUrl),t._noProxyDomains&&(r.noProxyDomains=t._noProxyDomains);var a={};t._autoPan&&(a.autoPan=t._autoPan),t._autoPanAnimation&&(a.autoPanAnimation=t._autoPanAnimation),t._autoPanMargin&&(a.autoPanMargin=t._autoPanMargin);for(var s=[],l=0;l<t._layers.length;++l){if((t._layers[l].event?t._layers[l].event:t._defaultEvent)===e.type){var c=s.push(t._layers[l])-1;s[c].infoFormat||(s[c].infoFormat=t._defaultInfoFormat)}}var u=this.getPosition(e,n);this.displayFeatureInfo(n,u,s,r,a)}}};const _t=It;window.ol&&(window.ol.gp?window.ol.gp.GfiUtils=It:window.ol.gp={GfiUtils:It});const wt=ol.format.KML;var Et=__webpack_require__.n(wt);const St=ol.style;var Pt={hex:function(e){if(e>255)throw new Error("'"+e+"'' is greater than 255(0xff);");return("0"+Number(e).toString(16)).slice(-2)},num:function(e){return parseInt(e,16)},arrayToRgba:function(e){if(!Array.isArray(e))throw new Error("Not an array !");var t=e[0],n=e[1],i=e[2],o=e[3]||1;return"rgba("+t+", "+n+", "+i+", "+parseFloat(o)+")"},arrayToHex:function(e){if(!Array.isArray(e))throw new Error("Not an array !");var t=e[0],n=e[1],i=e[2],o=e[3],r=[this.hex(t),this.hex(n),this.hex(i)],a={};return a.hex="#"+r.join(""),o&&(a.opacity=parseFloat(o)),a},rgbaToHex:function(e){var t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(0?.?\d+)\s*)?\)/.exec(e);if(!t)throw new Error("Invalid format: "+e);var n=t[1],i=t[2],o=t[3],r=t[4],a=[this.hex(n),this.hex(i),this.hex(o)],s={};return s.hex="#"+a.join(""),r&&(s.opacity=parseFloat(r)),s},hexToRgba:function(e,t){if(!e)throw new Error("Invalid format");e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return(n=n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null)?"rgba("+n.r+", "+n.g+", "+n.b+", "+t+")":null},isHex:function(e){if(!e)return!1;if("#"!==e.charAt(0))return!1;return!!/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)},isRGB:function(e){if(!e)return!1;return!!/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(0?.?\d+)\s*)?\)/.exec(e)}};const Mt=Pt;const xt={lightOrange:"data:image/png;base64,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IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjkyYWVkNjM2LWY3MDMtNDAzOC1hNzM4LWZiYzYxYzZlMTljNCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NWMzZWI3NC0zYWRmLTRkYzUtOWZjZS1iODQ4NTc3Nzg4ODQiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0NjI3ZDg3NC1lZDIyLTRiZTUtYTlkNS00NDlmMzVhZDIxYzgiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE5Mjc4OTUzMDYiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphM2U3ZWQ1MS0xNTI4LTRhYjAtODVjOS0zNzNkNzgxZGM2ZmMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI1OjI3KzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PofUkY4AAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGRuA4VZTAAAFcElEQVRYw82YW2xbVRaGv7XP8bHjXByHQkNhWigdVX1AikRBMBoQ8wASl4fRqPDAAxIPKAVxeRqQRohHBEVCaoGKUBCl4qHcNKCZVKMRRQxtgTaACLRKqlwB14NzM2ni2D2XvXjgBFXQOnFiA1uy/HB89u9/7bX+vf4l1HnpK57hTNCE0AzqAS5gAAuEID5KiWSiLPf4tp7YUjcSu4yLZzdi2IJyNXANcBlwAdAKzAHTwDhwDKEPywC+GZWHbPi7IKOvZIWguAnlr8BtwJ+AxDJeDYCPgF6Ed0hkh+Weov5mZLTHJMDeBjwYk0itYJtKTOpZML3SbYNfnYz2SBr0buARYENcFytdFvga2AGyT7p14Vcjoz3ShOgdKDuAi+pUewpMIDyCypvSreWGk9HdroOEV2F4A1hfTxGJCX2D5U7U/UzuD6NaXq49NRJhBsOjwMVLEtE4gaL4W5cV3IsxPEoizDT0ZLTHcSH6M/BWLLlVwpQKuPzhb+i8sRkv04Y/e5rvPigxtnM9trKU2k0D28A5LN3RsmXbrbFOU8DtQLpqfJqu97nh6TydmzvwWpOI8VDbxqbrkmz62yk+/Ps6yoe8KkeV/hHHfgrMNyrNEkBX1SAktgRs3T7ApV1rSWayiEkDLmLSJDNZLu1ay9btAyS2BEsEuWuZ99WKyRhgHeCcn8wGw/qbOnAS3jmfOwmP9Td1kNhQDduJcUwjyciS0RJXMMkWkPPUo/z4XFxZRhZII8mEwFCsT+f5xXTE7FAOteduItVaZodyhNPVZDeKccJGkxmsChIMOvTt6aRSzIP+7A9rRKWYp29PJ8GgsyqcVauZSADaj+IDTecWvBlD4e01HKjM07XtOOuuy+A2X0BYmib/8SxfvLWRYm8LdqZaCvkI/SDBci6nld0ze7KCLa4F3gSurR4MB5x1FnMhiCeor9hJiPKmWpbGp3EU2IbJFuTe5XfStbczLxgP7K0IPcCFDWhnJoFuMAek2/oNbWdku/WxHATejT1JPZcPvINysFYiK+gAFkXTK6H+MyhXADeseJ9fmrVDM6X080/+p1M2/yFsD1zjEIauEeMAqNpQE16oaKiqwfjYeLk+fuYl10HDq7DsBTavxs8o6FzFKez/dM3rLx9LjUyVxcb7yVkfzmpXFbACJURHIxgyxkyu1ml6qL0Z4YX4xl7Jfrrgm9Ov9bX/e++x1tHCgkQ11lgELGA4sBp3iHRbH5GDwJPAFLXo6KJnDmTh/aG2w2/3t47VSGQxs1zAE9U2s9pEjx3hXuBloCa7G1rxv8o3f/7SkUz/UFFWMqGRWMpHAqsDbl00KGotIXM7MawF7gKSS5oJJRospI7v+rD96Ikp8aV2EgrkVPW4OnIy6SVL9ZubvZgyaOVyYDfwl2oNqVWiXNEb231oTe+/BrzvK9Gy01MFyoiOKzIEmqsEfjGf/39U1yHgosJFUXhlFMl+z9E/nkvhVNHZsjux+9Caf77RnyzMBaJLmW4RrWAlB3Y4Uh13HLOA4wQjo6O2IRPNxVV4JuG5Et2SSelzjtFLzsZQ0NIZ8/2rx7K9+/paxqbKvyh4Bc4AFQxzau23Dow7FS+nHmfEUz05OqINH8+evXJPJVOuE93XkY4eSziaXcQpB2b+vZNt7+/8IPPl2OxPRMJ4dDsLzIho3hpzamJ6aqJ0ei6qtZAasmZ2OS1RyOMd6egBIzSFVoKj4y1Hnvhv+8cD02ZOkEmgIKITVnXKWDs1ksvNrgbTbRSZ46cypY50aWcllIsyKXvr8GTyi9f6WvePFGVQhO8EPW2NzI+OfV2pF2bDTgbg8D/aJeVUspd1BK3/G24u7/skO3+iYP3h3LdhI/B+AGodUpo8WKwoAAAAAElFTkSuQmCC",darkOrange:"data:image/png;base64,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czpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjIxNDZjMzUzLWIxZjItNGVjOC04NzQ3LTIwMGEyYWExM2ViMyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NGViNmI2Ni03Y2I2LTRkZGUtYTI3OS01MGY0ZWFiZGFhODAiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1ODRhM2VjZC1kNGFmLTQ3NjItYjA1ZS04ODk2MGQ4ZTk0Y2MiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE5MDM3ODI2MTQiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxYzNjOGRkZi1kMjVkLTQ4YzQtYTAwYS0yMmU3ZDYwMzg1YjYiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI1OjAzKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PuhCAHgAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGQOTjc4FAAAFdklEQVRYw82YW2gcZRTHf+eb2dlkc9lsrFYr2notfSgWxKKiog8VvIFI9UFQEaWtYPFJfREfRRSEeqlttViLD/WGisYXrShWpfWC1WpSN5eN3cZumkuTzWY3c/mOD9lI0WSTTXbVA8M8zMz3n//5zvl/5xyhxqb3ewYvaERpAvUAFzCABUIQH6GAHyvKa76tJbbUjMRW4+LbC7GsQbgCWA+sAs4AWoA8MAxkgEMo32LoxDO98oIN/xdk9IGUYEYvRrgduAW4Gogt4NMA+BroQHkfm+qW3aP6n5HRTSYG9hZga5lEwyKWKZVJvQCmQ3bZ4F8no5skAXov8BiwspwXizUL9APPgOyVXTr5r5HRzdKI1TsRngHOqlHuKTCI8hhG3padWqw7GX3IddDwcixvAefXUkTKhH7HcBfifi8vh1E1H1cfGkGYxPI4cM68RGw5zf3y3S7IuedgeZwgTNZ1Z3Sz46LRNcA7Zcmd25yGgPWP/M7q65toTLZSHBvn6OcFDm07n6g0n9oNAxsR54DsjBYs2251QWAbgFuBREX/tF3rc9+zA6xa3U5jSxwxHmpbueyqOOvvOM7rj67g1JfedFTNagngVtR+B0zUK8xiwLqKTmhcE3Dblk4uXbecRDKFmATgIiZBIpni0nXLuW1LJ41rgnmcvG6B59WiyRhgBeDM+UZipWHthnbcmDf7b8Y81m5oJ7GyErZTxjH1JCPzesu4ghtvBpkjH2X6uXFlAVEg9SMjhEAamFsyp4Yjcuks1s6uXdZacuksU8OVZDcC0mW8OpFRQqBruvqdwwpdDh+9cjaF0QHQv/2wRhRGB6afdzkVkKZxtDoyVaqZBKCHEXygcXafjhi63l3G9tIEGzYe4ZKrksSbzmCqMEz6mzE+eedC+juaiUYqhZCPchgkqKB4SzxntqQEO7oceBu4srIzHIitsMTOBOMJ1leCkxAMmEpRWt6Vg8BGTConOxZeSVdfzmwxHmpvRtkJnFmHcuYksBkxH8tO69e1nJEd1sdhP/BBuUippfnA+3jsr5ZI9TnzV33mFcB/DuEi4LpFr/PPZu3LkanES08fOltWnxe2Ba5xCEPXiHEAVG2oMS9UNFTVINOXKdamn3nQdSC8HMMeYPVS+hkFzQdObl9m2Zu7+xt6hkKx5fXktGumdNXyZQUKiPZGkDbGnFxqp+kh9kaUHeUTezHr6WRkxt/oa/toT39Lby6QqMoci4BJDB8vpTtEdlkflf3A08AQ1ejoTM8cyeRnudYD72Zb+qokMhNZLuCJaqtZaqDLLi0i7EHYDVTV7oZW/J9PNf3wanfycLoki5nQSFnKewKrnW5NNMhtKRDlt6EsB+4G4vM2/UrUNd5w5Pl028FfiuJL9SQUyKrqEXXkaNyLF2o3N9vUYKB0AbAduKFSQWqVKFv0+rYfXdbx4aB3qqQLDk8VKCKaUSQNmi0F/ujAwB9RTYeAMwoXabg2QvZ5jl4ym8Ip6FjgDm7/bdl7bw3Ec/lItEJyWyAS0RJWsmC7I9WM45hJHCfo6e21dZlozlju3pjnSnRT0tMXHdFzT8dQ0EJoTr2eSXXs7W/uG/pnwiswBZQw5NXaYw5knJKXVY8p8VSP9vZo3cezp1v2nniDK9FD7V70RMxoaganGJmJT0+0frbtt+RPfVN/EQnLo9sxYEREB6wxxweHhwYL4/mo2kSqi43c5zRH8GS7Fz1shMZQJTg41PzVU7+2fdNZNHlBTgI5ER20qkPG2qGebHZsSTpULzJH8slCe6ywrWTlrGTM3tw9Ef/xjUzLvp6idIlwQtBxa2Sit6+/VCvMuu0MwIE726RBSqlViaDli6Gm4t6e1MQveet3Z4+F9cD7Ewo4WRJBbaaSAAAAAElFTkSuQmCC",red:"data:image/png;base64,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293bv2fa/f0ASM5yljz/NiUAAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOmI5YjA2YTAwLWZkOTQtNDc5MC1hNzIzLTlkMGUwNGRiNTRlNyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1MTQ3ZGU5Yi1kOTA0LTRlNWYtYjIyYy0wZmMzOGRmMWI3ZGEiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4YzBjNTI2YS1lYTkyLTQxYWItODM5Yy05OWFhYTM0YjdlYzciCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE2NDAxNTU0MjYiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMjQ4MDc5ZS1kMTYyLTQxZmItOGViYS1lMzY2NTRiNGRjMjYiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjIwOjQwKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PkaovgIAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPFCiKn0kIAAAFfUlEQVRYw82YTWxc1RXHf+e+N2/GH+Px2IEEV02AgqIsIkwgoYS2ahepVGCBUOiCRRdsAAnECthErBBCICGFj4gqRQqBRSABUrVm1URtCSATJ5ASZCPHH0kGgx1/xJl5nvH7uIcFY4iIM/GzZyhHenqL994993/u+f/fOUeos+nNnkHCJoQWRD0UFzCARYhQCVB8NFWWTwNbT99SNxC3GZfIXg9sADYDWxCuRekEskARYQplFPgEOAr045ph6bXRzwKM3pEX5mduQLkHuAvYCqSW8GkIfAT0IBwknT8lH87o/w2M3mpSqL0LeLQKIrOMZSpVUC8hpkf6bPiTg9FbpBn0L8ATwLoqL5ZrFjgNPAeyV47p3E8GRjdLE6r3oTwHXF0n7ikwgfAEIvvlqJYbDkY3uw4a3YLyNrC2niJSBXQG4c+Ie0yORnGSj5OnRhzlUJ4ErrkikBAoAjPVe7ik4F6D8iRxlGvoyegmx4X4NwgHgM6a8fUyIfc8doZbf99Ca66N0uwF+v7tc3DnWoJK6gqep1C2g3NEjsdLlm03GXSbAe4GmmvGZ91vA3Y8P8aN6ztoyaYxxsPaNrbcnmbbvV/x9ONdnPnA+w71otaMcDfYPqDUmDQTUgjdNYPQsSHkgYf62di9mmwujzHNgIsxzWRzeTZ2r+aBh/rp2BDWDLLQjSzpf7VMMIpB6QKcy77Tuc6wdVsHbspbfJspj63bOuhcV8u3g9KFJtufWQbHakfLdQUv3YrI4qwQ+e65616Jr6mknE4KJgIGgctLZnEq5vRgAWsXLyKttZweLFCcqiW7cdVP1DgwQoQwUNPJxIDDG7vXMDszBvqjDWvM7MwYb+xew8SAUzNowgCSDEwyNVMJQU8AAdC06DvBtOG/76xirlLi3u0nufn2HJmWTir+FJ9+PMu7B66nr6eVYLpWCgUoJ0DCGoq3wv/MbXkhmlkN7Ad+XTMY4kBTl6XlKnA8IQ4U/xyUx8wlB3ZpKvcC23Hz49K79Ep6GeWM8VB7J8pfgasaUM6cAx5EzPvSZ4OGljNy1AYIh4C/L6lASWYBcBCHQ0mBJOfM94rk+WjwAsKvgN8te51LK7kPpm3zK89OrZH1v4zaQ9c4RJFrxDgAqjbSlBcpGqlqODoyWq5TP1OtnoU9wPqV9DMKWlRnfJ+/6q3XKpmhSRVbXU8uuhb6Hq1eVsBHdDiGQWPMuZV1mpuMB/aPCK8CXcsMjs6pufCm3/7PPZXs8LhKnJBjMTCH4f2VdIfIcRsgcgh4FpgkiY4u9Mwqc4fn2468M58dSQhkIbNcwBPVNrPSRJdjWgb2AK8BidrdSCX4PGw5/re53IlBK8uZ0EhVyodCq/1uXTTIzfrExZ0oq4H7gfQSmv54IMqcfNFv7/0ilkCSg1CgoKon1ZEv017ar9/cbEvGEFeuQ9mF8IdaBamFuBB7I7tKq3r+EXjnK0tPTxUoIzqqyCBooRIGM2NjX8d1HQIuKFys0cYY2eeJ3riYwinorHUndvmr3nt7Pj1eVNEa5LZALKIVrBTAnopVRx3HzOE44dDwsG3IRHPBxrtTnkv8p5yjLzvoLy72oaC+mvOvz+V79pZbRyYvJbwC80AFQ1GtPevAqFPxCuoxL57ql8ND2vDx7MVW2JTOuMQPdxDvSInmF/yU1ZT+Nd92eGcp97+RH4BE1XHHLDAtomPWmK8mpiYn/AvFOCmRGmLTm53WOOKpDhM/YqApQsLe+dYPnym1f9xvTVGQc8C4iE5Y1Ulj7eRQoTC7Ih1qFJiTQc7vwN9ZUbk6Z+ydp6L0Z2+Ws/uGrAyI8I2gF6yR0vDI6Uq9fDbsZACO3NQuGa3kr3XC7H+ClvJeP1/6IrbBqbNno0b4+xbMlmARngcRbAAAAABJRU5ErkJggg==",turquoiseBlue:"data:image/png;base64,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/MUi8H5G35QHBm+BvjV3bu1znD4AWZpV+gY4OARGS5S97vHu3u65/XunPb8fN2tyj8UDOK0AAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjEwNGNlNWFhLTE1YzctNGI4Yi1iOGU1LTFmYWQyNWFiYzBhZCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkNDMyZTY1Zi0xOThhLTQxM2EtYWYyMy1jNzhlNzczNGRlN2QiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyNzExODVkMi03MWZiLTRhZDMtYTJmMi1iNjM3OWU3MDc1OTEiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE4NjYyMzgzMjQiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NGFiYzNkYS1lZWJiLTRlZjctYjdjNS04ZDRjODY5OGVjODMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI0OjI2KzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pj0tlUwAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGBru/VeEAAAABmJLR0QA/wD/AP+gvaeTAAAFO0lEQVRYw9WYe2xTVRzHTx97dYS5B1UHa+/tY12dDoOKWyIGlfgHkCkSNTHGwHxA3NiAP/A5x4CMKEzdYL29YyAyBxKQZbI+NvYIaowaH9Ogi2GRbGjcFrbBNrq2a2/9nq5LCFnbbfSOeZJPTs/t6Tm/7/39zu+cU0IiXc7WSImNX0BsZiVYAhigmah5tHklsZrjSYtJSuZtaeSiiJU3gHUwfC9oARfBIHBP1DzaPH1eRuzmp0E6aTgSNX9EWMwSvOkMGPgG+CpguG8a0H7nA78zkMYqye0V0lYXDSHrYUw7cE5TxM04/b+38+vJ+RPRt0eIjVeAAhhyCQizFDKJEBjndaCY49Di4+CRlzFxfwSE3Ciol9i4DSBujoRUy7HIszFxdwSF3CioBy8qm1g5ufhirHwyJqwHrrDGWTlg8hFL1URN2+EF0XFPkyYuSWwhUVgnT2CygXBG3dFcM7bz1/au1u7OK9/93eWidUlHe1dCc810EsUAsXOPQZCI3rGZ6Wb4EXAEM0SCUFnZduz6T/09l4bHXYOCz+f0+XxeWg+7XYM/4vnKtlqHJHSIOrAHlYMFYmawRNCKycaDGZLVfMRdf/nPDpfXM+abotDnpy93dtzXfNgdZg+im2uimJ6h66UTeIMZsrat1jvkdPRRb/imLt4hl6N3DfqFEIPvOMzDJYspJsWfbUKEyFNttcKoyzkKo4UgYoRRt3OE9guT1br984nsmQ7gCWbIipaj4xeu9v/hFQTPlG7B89+u9v9O+4UQQ8f/BSlaVM8kgBOhji4p9mpvwQ+Wfwddjp6bQw2u8g44HT3535/tTUa/0Eccvg4sFDE1m2PBZkx2LVRqVcLQvG/PDDX1/tVxze38x+UZH6O1He28b764qgwtxOcf327eBGLFE9NikiD3qzDZhVBJgCJH3KubDnkfbD4s5Jw74qM1bcvDnxq8/vHt1SrS9InIJ2m7OQ4UYsKhCB9lJqHj0gPsHJzPvsS9w8rRRPDptI40M8PlH9fOJ5M5K008rsZmIwi5gc4QN9Zja8zn+5epch9PTFepU1iGuVunVqeyS9g0iv8zy96l0WiSjIsXx28iJEJhaONkMGB5YP14bkmI1SzIz1T0pRa9VKnNzCjUMcwWUAS2BtgWYLJN+xTo1OyrOhW7xsAwqnSGkd3i+uGjkT5Xw6DLt3AdEKQNB4YXbdtwQpuVuRtG7pwhxWA7vJgRib0nDuSDvtkIkjYcHE3aVWjRLL9/zyyETPK2Vq3OidAaOhiPDLcbxo3MRIik0eReWPnO15pHHiqbpYhS6hkNw7wAz0To6GM5hAzH3wkDa6b7x4bEwnkUfMnP6idX7Nex7GxElIDNerV6hU6jSdbp9RHck2w0w/FaGGoJm7KtnCfmWNlF1fOrK3Q6bekMRFABO7QM8yxewFLUi+5JSxPpAmcxy0gjt1Rytir4NcHKCfJTH/al5j1j1hr0pWEML55YD+x2GP6cVqNZZjQYEvUsG4vP4v8jKju5L1p6qnytxGKa6qogyOorBpVbXvxMe69xdxABb9I0DAGvIIRWp7NsBsJIoWVZKfaXuf+jMKp2b6z8+Adb4aErNwpCCh5J2pnfoH0ga08g7invBfaQjXjjuQifhyEgLdNolJP5UqR17y+QnSwvk1i565OZK6F8RzubvWwvDH8LvKZnmHXY8HKws+sNLJtI5muJ/7hYElOzJ1V+fN9R7CVDClPJOVXuqo06vS4HQjTwgDKDZRXk/1JiD7wrieFLk6T1lczCXUVK7aPZinS9XrTw+Q+Tql7SUmvGuQAAAABJRU5ErkJggg==",defaultOffset:[-25.5,-32]},Gt=ol.Feature;var kt=__webpack_require__.n(Gt);const Rt=ol.style.Style;var Lt=__webpack_require__.n(Rt);const Ot=ol.style.Circle;var Tt=__webpack_require__.n(Ot);const Dt=ol.style.Icon;var Nt=__webpack_require__.n(Dt);const Ut=ol.style.Fill;var jt=__webpack_require__.n(Ut);const Bt=ol.style.Stroke;var Ft=__webpack_require__.n(Bt);const zt=ol.style.Text;var Vt=__webpack_require__.n(zt);const qt=ol.geom.Polygon;var Wt=__webpack_require__.n(qt);const Ht=ol.geom.MultiPolygon;var Yt=__webpack_require__.n(Ht),Zt=yt.getLogger("styling");kt().prototype.setPropertyFill=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getFill();if(t){var n=t.getColor();if(Array.isArray(n)){var i="rgba(";i+=n[0]+",",i+=n[1]+",",i+=n[2]+",",n=i+=n[3]+")"}if(Mt.isRGB(n)){var o=Mt.rgbaToHex(n);this.set("fill",o.hex),this.set("fill-opacity",o.opacity)}else this.set("fill",n),this.set("fill-opacity",1)}}},kt().prototype.setPropertyStroke=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getStroke();if(t){var n=t.getColor();if(Array.isArray(n)){var i="rgba(";i+=n[0]+",",i+=n[1]+",",i+=n[2]+",",n=i+=n[3]+")"}if(Mt.isRGB(n)){var o=Mt.rgbaToHex(n);this.set("stroke",o.hex),this.set("stroke-opacity",o.opacity)}else this.set("stroke",n),this.set("stroke-opacity",1);this.set("stroke-width",t.getWidth())}}},kt().prototype.setPropertyLabel=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=void 0!==this.get("name");if(e.getText()&&t){var n=e.getText().getFill();if(n){var i=n.getColor();if(Array.isArray(i)){var o="rgba(";o+=i[0]+",",o+=i[1]+",",o+=i[2]+",",i=o+=i[3]+")"}if(Mt.isRGB(i)){var r=Mt.rgbaToHex(i);this.set("label-fill",r.hex),this.set("label-fill-opacity",r.opacity)}else this.set("label-fill",i),this.set("label-fill-opacity",1)}var a=e.getText().getStroke();if(a){var s=a.getColor();if(Array.isArray(s)){var l="rgba(";l+=s[0]+",",l+=s[1]+",",l+=s[2]+",",s=l+=s[3]+")"}if(Mt.isRGB(s)){var c=Mt.rgbaToHex(s);this.set("label-stroke",c.hex),this.set("label-stroke-opacity",c.opacity)}else this.set("label-stroke",s),this.set("label-stroke-opacity",1);this.set("label-stroke-width",a.getWidth())}this.set("label-font",e.getText().getFont()||Jt.DEFAULT_TEXT.font),this.set("label-textAlign",e.getText().getTextAlign()||Jt.DEFAULT_TEXT.textAlign)}}},kt().prototype.setPropertyMarker=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getImage();if(t)if(t instanceof Nt()){var n=t.getColor();if(Array.isArray(n)){var i="rgba(";i+=n[0]+",",i+=n[1]+",",i+=n[2]+",",n=i+=n[3]+")"}if(n){var o=Mt.rgbaToHex(n);this.set("marker-color",o.hex)}var r=t.getScale();switch(Math.round(2*r)/2){case 0:case.5:this.set("marker-size","small");break;case 1:this.set("marker-size","medium");break;case 1.5:case 2:this.set("marker-size","large")}var a=t.getSrc();a&&this.set("marker-symbol",a),this.unset("circle-fill"),this.unset("circle-fill-opacity"),this.unset("circle-stroke"),this.unset("circle-stroke-width"),this.unset("circle-stroke-opacity"),this.unset("circle-radius")}else{var s=t.getFill();if(s){var l=s.getColor();if(Array.isArray(l)){var c="rgba(";c+=l[0]+",",c+=l[1]+",",c+=l[2]+",",l=c+=l[3]+")"}if(Mt.isRGB(l)){var u=Mt.rgbaToHex(l);this.set("circle-fill",u.hex),this.set("circle-fill-opacity",u.opacity)}else this.set("circle-fill",l),this.set("circle-fill-opacity",1)}var d=t.getStroke();if(d){var p=d.getColor();if(Array.isArray(p)){var h="rgba(";h+=p[0]+",",h+=p[1]+",",h+=p[2]+",",p=h+=p[3]+")"}if(Mt.isRGB(p)){var g=Mt.rgbaToHex(p);this.set("circle-stroke",g.hex),this.set("circle-stroke-opacity",g.opacity)}else this.set("circle-stroke",p),this.set("circle-stroke-opacity",1);this.set("circle-stroke-width",d.getWidth())}var m=t.getRadius();this.set("circle-radius",m)}}};var Jt={APPLY_CONVERT_GEOM_GPX:!0,DEFAULT_ICON:{src:xt.lightOrange,anchor:[.5,1],scale:1},DEFAULT_CIRCLE:{radius:10,fill:{opacity:1,color:[0,0,0,1]},stroke:{width:1,opacity:1,color:[0,0,0,1]}},DEFAULT_STROKE:{width:5,opacity:1,color:[250,250,250,1]},DEFAULT_FILL:{opacity:1,color:[0,0,0,1]},DEFAULT_TEXT:{font:"16px sans",textAlign:"left",stroke:{color:[250,250,250,1],width:5,opactity:1},fill:{opacity:1,color:[0,0,0,1]}},getListTags:function(){return["type","fill","fill-opacity","stroke","stroke-opacity","stroke-width","circle-fill","circle-fill-opacity","circle-stroke","circle-stroke-opacity","circle-stroke-width","circle-radius","marker-symbol","marker-color","marker-size","label-fill","label-fill-opacity","label-stroke","label-stroke-width","label-stroke-opacity","label-font","label-textAlign"]},defineStyleFromProperties:function(e){var t=null,n={},i=null;if(e.get("marker-color")||e.get("marker-size")||e.get("marker-symbol")){(i={}).src=this.DEFAULT_ICON.src,i.anchor=this.DEFAULT_ICON.anchor;var o=e.get("marker-symbol");o&&-1!==o.search("data:image/png;base64")&&(i.src=o);var r=e.get("marker-color");Mt.isHex(r)&&(i.color=Mt.hexToRgba(r,1));var a=e.get("marker-size");if(a)switch(a){case"small":i.scale=.5;break;case"medium":i.scale=1;break;case"large":i.scale=1.5;break;default:i.scale=this.DEFAULT_ICON.scale}}var s=null;(e.get("stroke")||e.get("stroke-opacity")||e.get("stroke-width"))&&((s={}).color=Mt.hexToRgba(e.get("stroke"),+e.get("stroke-opacity")||this.DEFAULT_STROKE.opacity),s.width=+e.get("stroke-width")||this.DEFAULT_STROKE.width);var l=null;(e.get("fill")||e.get("fill-opacity"))&&((l={}).color=Mt.hexToRgba(e.get("fill"),+e.get("fill-opacity")||this.DEFAULT_FILL.opacity));var c=null,u=null,d=""!==e.get("name");d&&((e.get("label-fill")||e.get("label-fill-opacity"))&&((u={}).color=Mt.hexToRgba(e.get("label-fill"),+e.get("label-fill-opacity")||this.DEFAULT_TEXT.fill.opacity)),(e.get("label-stroke")||e.get("label-stroke-opacity")||e.get("label-stroke-width"))&&((c={}).color=Mt.hexToRgba(e.get("label-stroke"),+e.get("label-stroke-opacity")||this.DEFAULT_TEXT.stroke.opacity),c.width=+e.get("label-stroke-width")||this.DEFAULT_TEXT.stroke.width));var p=e.get("circle-radius")||this.DEFAULT_CIRCLE.radius,h=null;(e.get("circle-stroke")||e.get("circle-stroke-opacity")||e.get("circle-stroke-width"))&&((h={}).color=Mt.hexToRgba(e.get("circle-stroke"),+e.get("circle-stroke-opacity")||this.DEFAULT_CIRCLE.stroke.opacity),h.width=+e.get("circle-stroke-width")||this.DEFAULT_CIRCLE.stroke.width);var g=null;(e.get("circle-fill")||e.get("circle-fill-opacity"))&&((g={}).color=Mt.hexToRgba(e.get("circle-fill"),+e.get("circle-fill-opacity")||this.DEFAULT_CIRCLE.fill.opacity));var m=e.getGeometry().getType();switch(m){case"Circle":case"Point":case"MultiPoint":var f=!1,y={};if(h&&(y.stroke=new(Ft())(h)),g&&(y.fill=new(jt())(g)),0!==Object.keys(y).length&&(f=!0,y.radius=+p,n.image=new(Tt())(y)),i&&(n.image=new(Nt())(i)),d){var A={};if(c&&(A.stroke=new(Ft())(c)),u&&(A.fill=new(jt())(u)),0!==Object.keys(A).length)A.text=e.get("name"),A.textAlign=e.get("label-textAlign")||this.DEFAULT_TEXT.textAlign,A.font=e.get("label-font")||this.DEFAULT_TEXT.font,n.text=new(Vt())(Object.assign({},this.DEFAULT_TEXT,A));else if(i||f){var v=new(Vt())(Object.assign({},this.DEFAULT_TEXT,{fill:new(jt())(this.DEFAULT_TEXT.fill),stroke:new(Ft())(this.DEFAULT_TEXT.stroke)}));if(v){var C=v.clone();C.setText(e.get("name")),n.text=C}}}break;case"Polygon":case"MultiPolygon":s&&(n.stroke=new(Ft())(s)),l&&(n.fill=new(jt())(l));break;case"LineString":case"MultiLineString":if(s&&(n.stroke=new(Ft())(s)),this.APPLY_CONVERT_GEOM_GPX&&l){var b=e.get("type");if(b&&("Polygon"===b||"MultiPolygon"===b)){n.fill=new(jt())(l);var I=e.clone(),_="LineString"===m?Wt():Yt();e.setGeometry(new _([I.getGeometry().getCoordinates()]))}}}return 0!==Object.keys(n).length&&(t=new(Lt())(n)),t},defineStyleFunctionByDefault:function(e){if(!e)return[];if(0===Object.keys(e).length)return[];return function(t,n){var i=null;switch(t.getGeometry().getType()){case"Point":case"MultiPoint":var o={};if(e.getImage()&&(o.image=e.getImage()),e.getText()&&t.get("name")){var r=e.getText().clone();r.setText(t.get("name")),o.text=r}i=new(Lt())(o);break;case"Circle":var a={},s={};if(e.getFill()&&(s.fill=e.getFill()),e.getStroke()&&(s.stroke=e.getStroke()),e.getText()&&t.get("name")){var l=e.getText().clone();l.setText(t.get("name")),a.text=l}0!==Object.keys(s).length&&(s.radius=3,a.image=new(Tt())(s)),i=new(Lt())(a);break;case"Polygon":case"MultiPolygon":var c={};e.getFill()&&(c.fill=e.getFill()),e.getStroke()&&(c.stroke=e.getStroke()),i=new(Lt())(c);break;case"LineString":case"LinearRing":case"MultiLineString":var u={};e.getStroke()&&(u.stroke=e.getStroke()),i=new(Lt())(u)}return[i]}},definePropertiesFromStyleByType:function(e){switch(e.getGeometry().getType()){case"Point":case"MultiPoint":e.setPropertyMarker(),e.setPropertyLabel();break;case"LineString":case"MultiLineString":e.setPropertyStroke();break;case"Polygon":case"MultiPolygon":e.setPropertyStroke(),e.setPropertyFill()}},definePropertiesFromStyle:function(e){var t=e.getStyle()||e.getStyleFunction();if(t){if("function"==typeof t){var n=t.call(this,e,0);if(!n||0===n.length)return;t=Array.isArray(n)?n[0]:n,e.setStyle(t)}this.definePropertiesFromStyleByType(e)}},defineTagFromStyle:function(e,t){return Zt.trace("todo..."),null}};const Xt=Jt;function Kt(e){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kt(e)}var Qt=yt.getLogger("parser");const $t={parse:function(e){var t=null,n="undefined"!=typeof window?window:null;"object"===("undefined"==typeof exports?"undefined":Kt(exports))&&null===window?t=(new(0,__webpack_require__(8978).DOMParser)).parseFromString(e,"text/xml"):n.DOMParser?t=(new n.DOMParser).parseFromString(e,"text/xml"):n.ActiveXObject?((t=new n.ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e)):Qt.log("Incompatible environment for DOM Parser !");var i=t.querySelector("parsererror");return i?(console.error(i),null):(Qt.trace(t),t)},toString:function(e){var t=(new XMLSerializer).serializeToString(e);return Qt.trace(t),t},format:function(e){for(var t="",n=(e=e.replace(/(>)\s*(<)(\/*)/g,"$1\n$2$3").replace(/ *(.*) +\n/g,"$1\n").replace(/(<.+>)(.+\n)/g,"$1\n$2")).split("\n"),i=0,o="other",r={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0},a=0;a<n.length;a++){var s=n[a],l=Boolean(s.match(/<.+\/>/)),c=Boolean(s.match(/<\/.+>/)),u=Boolean(s.match(/<[^!].*>/)),d=l?"single":c?"closing":u?"opening":"other",p=o+"->"+d;o=d;var h="";i+=r[p];for(var g=0;g<i;g++)h+="\t";"opening->closing"===p?t=t.substr(0,t.length-1)+s+"\n":t+=h+s+"\n"}return Qt.trace(t),t}};function en(e){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(e)}var tn={detectSupport:function(){var e=!0,t=window.navigator.userAgent.toLowerCase();return-1===t.indexOf("iphone")&&-1===t.indexOf("ipod")&&-1===t.indexOf("ipad")&&-1===t.indexOf("android")&&-1===t.indexOf("mobile")&&-1===t.indexOf("blackberry")&&-1===t.indexOf("tablet")&&-1===t.indexOf("phone")&&-1===t.indexOf("touch")||(e=!1),-1===t.indexOf("msie")&&-1===t.indexOf("trident")||(e=!0),e},assign:function(e,t){for(var n in e=e||{},t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},mergeParams:function(e,t,n){if(void 0!==e&&void 0!==t)for(var i in void 0===n&&(n=!0),t)t.hasOwnProperty(i)&&("object"===en(t[i])?e.hasOwnProperty(i)?this.mergeParams(e[i],t[i],n):e[i]=t[i]:e.hasOwnProperty(i)?n&&(e[i]=t[i]):e[i]=t[i])}};const nn=tn;function on(e){return on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(e)}function rn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,an(i.key),i)}}function an(e){var t=function(e,t){if("object"!=on(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=on(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==on(t)?t:t+""}function sn(e,t,n){return t=dn(t),ln(e,cn()?Reflect.construct(t,n||[],dn(e).constructor):t.apply(e,n))}function ln(e,t){if(t&&("object"==on(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function cn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cn=function(){return!!e})()}function un(){return un="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=dn(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},un.apply(null,arguments)}function dn(e){return dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dn(e)}function pn(e,t){return pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pn(e,t)}var hn=yt.getLogger("extended KML format"),gn=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=sn(this,t,[e]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return e=e||{},n.source=null,n.extensions=e.extensions||null,e.defaultStyle&&!Array.isArray(e.defaultStyle)&&(e.defaultStyle=[e.defaultStyle]),null!==e.defaultStyle&&void 0!==e.defaultStyle||(e.defaultStyle=[]),ln(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pn(e,t)}(t,e),n=t,i=[{key:"_processKml",value:function(e,t,n){for(var i="#document"===e.nodeName?e.childNodes[0].childNodes:e.childNodes,o=i,r=0;r<i.length;r++){var a=i[r];if("Document"===a.nodeName){o=a.childNodes;break}if("Placemark"===a.nodeName){o=[a];break}}for(var s={},l=-1,c=0;c<o.length;c++){var u=o[c];switch(u.nodeName){case"Style":var d=u.attributes[0];if(d&&"id"===d.nodeName){var p=u;s[d.nodeValue]=p}break;case"Placemark":l++;for(var h=u.childNodes,g=!1,m=!1,f=!1,y=null,A=null,v=null,C=u,b=0;b<h.length;b++)switch(h[b].nodeName){case"Polygon":f=!0;break;case"LineString":m=!0;break;case"Point":g=!0;break;case"Style":A=h[b],y=h[b].childNodes;break;case"styleUrl":var I=h[b].textContent.slice(1);s[I]&&(y=s[I].childNodes);break;case"ExtendedData":v=h[b].childNodes;break;case"name":C=null}if(v){hn.log("ExtendedData :",v);var _=n.extendedData;_&&"function"==typeof _&&_(t[l],v)}if(C){hn.log("Name :",C);var w=n.nameData;w&&"function"==typeof w&&w(t[l],C)}if(g&&y&&0!==y.length){for(var E=null,S=null,P=0;P<y.length;P++)switch(y[P].nodeName){case"LabelStyle":E=y[P];break;case"IconStyle":S=y[P]}var M=t[l].getProperties().name,x=t[l].getProperties().description,G=M||x;if(hn.trace(G),!S&&E){var k=n.labelStyle;k&&"function"==typeof k&&k(t[l],E)}else if(S&&!E){var R=n.iconStyle;R&&"function"==typeof R&&R(t[l],S)}else if(S&&E){var L=n.iconLabelStyle;L&&"function"==typeof L&&L(t[l],S,E)}}else{var O=t[l],T=O.getStyle();if(T&&"function"==typeof T){var D=T.call(this,O,0);D&&0!==D.length&&(T=D[0])}if(f){var N=n.polygonStyle;N&&"function"==typeof N&&N(t[l],y)}if(m){var U=n.lineStringStyle;U&&"function"==typeof U&&U(t[l],y)}if(g&&T){var j=T.getImage();if(j&&j instanceof St.Circle){var B=n.circleStyle;B&&"function"==typeof B&&B(t[l],A)}else if(j&&j instanceof St.Icon){var F=n.pointStyle;F&&"function"==typeof F&&F(t[l],A)}}}break;default:hn.trace("tag is not processing !")}}}},{key:"writeFeatures",value:function(e,n){hn.log("overload : ol.format.KML.writeFeatures");var i=un(dn(t.prototype),"writeFeaturesNode",this).call(this,e,n);if(null===i)return null;this.hasOwnProperty("extensions")&&this._writeRootExtensions(i,this.extensions);var o=this._writeExtendStylesFeatures(i,e,n),r=$t.format(o);return""===r?null:r}},{key:"_writeExtendStylesFeatures",value:function(e,t,n){function i(e,t){var n=e.toString(16);"#"===n.charAt(0)&&(n=n.slice(1)),t=t||1;var i=t=(t=parseInt(255*t,10)).toString(16);return i+=n.substr(4,2),i+=n.substr(2,2),(i+=n.substr(0,2)).toLowerCase()}var o=function(t,n){if(hn.trace("label with style :",n),t&&t.getStyle()instanceof St.Style){var o=t.getStyle().getText();if(!o)return;var r="Sans",a="16px",s=o.getFont();if(s){var l=s.split(" ",2);a=l[0],r=l[1]}var c=t.getStyle().getText().getStroke();if(!c)return;if(c instanceof St.Stroke){var u=i("#FFFFFF"),d=c.getColor();if(Array.isArray(d)){var p="rgba(";p+=d[0]+",",p+=d[1]+",",p+=d[2]+",",d=p+=d[3]+")"}if(Mt.isRGB(d)){var h=Mt.rgbaToHex(d);u=i(h.hex,h.opacity)}else u=i(d);var g=c.getWidth()||"0";if(n&&0===n.getElementsByTagName("LabelStyleSimpleExtensionGroup").length){var m=document.createElementNS(e.namespaceURI,"LabelStyleSimpleExtensionGroup");m.setAttribute("fontSize",a),m.setAttribute("fontFamily",r),m.setAttribute("haloColor",u),m.setAttribute("haloRadius",g),m.setAttribute("haloOpacity","1"),n.appendChild(m)}}var f=t.getStyle().getImage();if(!f)return;if(f instanceof St.Circle){var y=null,A=null;if(f.getStroke()){if(A=f.getStroke().getWidth(),y=f.getStroke().getColor(),Array.isArray(y)){var v="rgba(";v+=y[0]+",",v+=y[1]+",",v+=y[2]+",",y=v+=y[3]+")"}if(Mt.isRGB(y)){var C=Mt.rgbaToHex(y);y=i(C.hex,C.opacity)}else y=i(y)}var b=null;if(f.getFill()){if(b=f.getFill().getColor(),Array.isArray(b)){var I="rgba(";I+=b[0]+",",I+=b[1]+",",I+=b[2]+",",b=I+=b[3]+")"}if(Mt.isRGB(b)){var _=Mt.rgbaToHex(b);b=i(_.hex,_.opacity)}else b=i(b)}if(n&&0===n.getElementsByTagName("ObjectSimpleExtensionGroup").length){var w=document.createElementNS(e.namespaceURI,"ObjectSimpleExtensionGroup");w.setAttribute("type","circle"),w.setAttribute("radius",f.getRadius()),w.setAttribute("fillColor",b),w.setAttribute("strokeColor",y),w.setAttribute("strokeWidth",A),n.appendChild(w)}}}},r=function(t,n){if(hn.trace("marker with style (hotspot):",n),t&&t.getStyle()instanceof St.Style){var i=t.getStyle().getImage();if(!i)return;if(i instanceof St.Icon){var o=0,r=0,a="pixels",s=i.getSize(),l=i.getAnchor();if(l.length&&(o=l[0],r=(r=l[1])===s[1]?0:s[1]-r),n&&0===n.getElementsByTagName("hotSpot").length){var c=document.createElementNS(e.namespaceURI,"hotSpot");c.setAttribute("x",o),c.setAttribute("y",r),c.setAttribute("xunits","pixels"),c.setAttribute("yunits",a),n.appendChild(c)}}}};this._processKml(e,t,{labelStyle:o,iconStyle:r,iconLabelStyle:function(e,t,n){hn.trace("write an icon with a label"),r(e,t),o(e,n)},circleStyle:function(t,n){if(t&&t.getStyle()instanceof St.Style){var o=t.getStyle().getImage();if(!o)return;if(o instanceof St.Circle){var r=null,a=null;if(o.getStroke()){if(a=o.getStroke().getWidth(),r=o.getStroke().getColor(),Array.isArray(r)){var s="rgba(";s+=r[0]+",",s+=r[1]+",",s+=r[2]+",",r=s+=r[3]+")"}if(Mt.isRGB(r)){var l=Mt.rgbaToHex(r);r=i(l.hex,l.opacity)}else r=i(r)}var c=null;if(o.getFill()){if(c=o.getFill().getColor(),Array.isArray(c)){var u="rgba(";u+=c[0]+",",u+=c[1]+",",u+=c[2]+",",c=u+=c[3]+")"}if(Mt.isRGB(c)){var d=Mt.rgbaToHex(c);c=i(d.hex,d.opacity)}else c=i(c)}if(n&&0===n.getElementsByTagName("ObjectSimpleExtensionGroup").length){var p=document.createElementNS(e.namespaceURI,"LabelStyle"),h=document.createElementNS(e.namespaceURI,"ObjectSimpleExtensionGroup");h.setAttribute("type","circle"),h.setAttribute("radius",o.getRadius()),h.setAttribute("fillColor",c),h.setAttribute("strokeColor",r),h.setAttribute("strokeWidth",a),p.appendChild(h),n.appendChild(p)}}}},pointStyle:function(e,t){},nameData:function(e,t){for(var n=0;n<t.length;n++)if("name"===t[n].nodeName)return;var i=e.getProperties().name;if(i){var o=document.createElement("name");o.innerHTML=i,t.appendChild(o)}},extendedData:function(e,t){if(t&&t.length){for(var n=[],i=0;i<t.length;i++){var o=t[i];if("Data"===o.nodeName){var r=o.getAttribute("name");Xt.getListTags().includes(r)&&n.push(o)}}n&&n.length&&n.forEach((function(e){e.remove()}))}}});var a=$t.toString(e);return a||null}},{key:"_writeRootExtensions",value:function(e,t){var n=document.createElementNS(e.namespaceURI,"ExtendedData");for(var i in t)if(Object.hasOwnProperty.call(t,i)){var o=t[i],r=document.createElementNS(e.namespaceURI,"Data");r.setAttribute("name",i);var a=document.createTextNode(JSON.stringify(o));r.appendChild(a),n.appendChild(r)}var s=e.firstChild;e.insertBefore(n,s)}},{key:"readFeatures",value:function(e,t){hn.log("overload : ol.format.KML.readFeatures"),"string"==typeof e?this.source=$t.parse(e):null!==e&&(this.source=e);var n=this._readExtendStylesFeatures(e,t);return hn.trace("Styles Ã©tendus",n),n.forEach((function(e){Xt.definePropertiesFromStyle(e)})),n}},{key:"_readExtendStylesFeatures",value:function(e,n){var i,o=un(dn(t.prototype),"readFeatures",this).call(this,e,n),r="";if(r=(r=(r="string"==typeof e?e:e.documentElement.outerHTML).replace(/\n/g,"")).replace(/(>)\s*(<)/g,"$1$2"),null===(i=$t.parse(r)))return o;function a(e){var t="";t+=e.substr(6,2),t+=e.substr(4,2),t+=e.substr(2,2);for(var n=parseInt(t,16).toString(16),i="",o=n.length||0,r=0;r<6-o;r++)i+="0";return n="#"+i+n}var s=function(e,t){if(hn.trace("label with style :",t),e){for(var n=e.getProperties().name,i=a("ff000000"),o="#FFFFFF",r=0,s="Sans",l="16px",c=null,u=5,d="#000000",p="#ffffff",h=1,g=!1,m=!1,f=t.childNodes,y=0;y<f.length;y++)switch(f[y].nodeName){case"scale":case"colorMode":break;case"color":i=a(f[y].textContent);break;case"LabelStyleSimpleExtensionGroup":g=!0;for(var A=f[y].attributes,v=0;v<A.length;v++)switch(A[v].nodeName){case"fontFamily":s=A[v].nodeValue;break;case"fontSize":l=A[v].nodeValue;break;case"haloColor":o=a(A[v].nodeValue);break;case"haloRadius":r=parseInt(A[v].nodeValue,10)}break;case"ObjectSimpleExtensionGroup":m=!0;for(var C=f[y].attributes,b=0;b<C.length;b++)switch(C[b].nodeName){case"type":c=C[b].nodeValue;break;case"radius":u=parseInt(C[b].nodeValue,10);break;case"fillColor":var I=C[b].nodeValue,_=Math.round(Mt.num(I.substr(0,2))/255*10)/10,w=a(I);d=Mt.hexToRgba(w,_);break;case"strokeColor":var E=C[b].nodeValue,S=Math.round(Mt.num(E.substr(0,2))/255*10)/10,P=a(E);p=Mt.hexToRgba(P,S);break;case"strokeWidth":h=parseInt(C[b].nodeValue,10)}}var M=null;m&&"circle"===c?M=new St.Circle({radius:u,fill:new St.Fill({color:d}),stroke:new St.Stroke({color:p,width:h})}):g&&(M=new St.Icon({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",size:[51,38],anchor:[25.5,38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"})),e.setStyle(new St.Style({image:M,text:new St.Text({font:l+" "+s,textAlign:"left",text:n,fill:new St.Fill({color:i}),stroke:new St.Stroke({color:o,width:r})})}))}},l=function(e,t){hn.trace("hotspot :",t);for(var n=null,i=null,o=a("ffffffff"),r=!1,s=51,l=38,c=!1,u=25.5,d="pixels",p=38,h="pixels",g=t.childNodes,m=!1,f=0;f<g.length;f++)switch(g[f].nodeName){case"Icon":m=!0;for(var y=g[f].childNodes,A=0;A<y.length;A++)switch(y[A].nodeName){case"href":n=y[A].textContent;break;case"gx:w":r=!0,s=parseFloat(y[A].textContent);break;case"gx:h":r=!0,l=parseFloat(y[A].textContent)}break;case"hotSpot":c=!0;for(var v=g[f].attributes,C=0;C<v.length;C++)switch(v[C].nodeName){case"x":u=parseFloat(v[C].nodeValue);break;case"y":p=parseFloat(v[C].nodeValue);break;case"yunits":d=v[C].nodeValue;break;case"xunits":h=v[C].nodeValue}break;case"scale":i=parseFloat(g[f].textContent);break;case"color":o=a(g[f].textContent)}var b=null;if(m){var I={src:n||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",color:o,crossOrigin:"anonymous",scale:i||1};r&&nn.mergeParams(I,{size:[s,l]}),c&&nn.mergeParams(I,{anchor:[u,p],anchorOrigin:"bottom-left",anchorXUnits:d||"pixels",anchorYUnits:h||"pixels"}),b=new St.Icon(I)}var _=e.getStyleFunction();if(_){var w=_(e,0);if(w&&!Array.isArray(w)&&(w=[w]),w&&0!==w.length){var E=1===w.length?w[0]:w[w.length-1];e.setStyle(new St.Style({image:b,text:E.getText()}))}}},c=function(e,t){};return this._processKml(i,o,{lineStringStyle:c,polygonStyle:c,pointStyle:c,labelStyle:this.showPointNames_?s:null,iconStyle:l,iconLabelStyle:this.showPointNames_?function(e,t,n){hn.trace("display icon and label"),s(e,n),l(e,t)}:l,extendedData:function(e,t){if(hn.trace("extendData :",t),e){for(var n={},i=e.get("name")||"",o=e.get("description")||"",r=null,a=0;a<t.length;a++){var s=t[a],l=s.attributes[0],c=s.childNodes;if("name"===l.nodeName)switch(l.nodeValue){case"label":i=s.textContent,n.name=i;break;case"title":case"attributetitle":for(var u=0;u<c.length;u++)"value"===c[u].nodeName&&(r=c[u].textContent);break;default:n[l.nodeValue]=s.textContent}}r&&(o=o?r+" : "+o:r,n.description=o),Object.keys(n).length&&e.setProperties(n,!0)}}}),o}},{key:"readRootExtensions",value:function(e){for(var t={},n=("#document"===this.source.nodeName?this.source.childNodes[0]:this.source).childNodes,i=0;i<n.length;i++){var o=n[i];if("ExtendedData"===o.nodeName)for(var r=o.childNodes,a=0;a<r.length;a++){var s=r[a];if("Data"===s.nodeName){var l=s.attributes[0];if(l&&"name"===l.nodeName&&l.nodeValue===e){t=JSON.parse(s.textContent);break}}}}return t}}],i&&rn(n.prototype,i),o&&rn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(Et());const mn=gn;window.ol&&window.ol.format&&(window.ol.format.KMLExtended=gn);const fn=ol.format.GPX;var yn=__webpack_require__.n(fn);const An=ol.geom.MultiLineString;var vn=__webpack_require__.n(An);const Cn=ol.geom.LineString;var bn=__webpack_require__.n(Cn);function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function _n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,wn(i.key),i)}}function wn(e){var t=function(e,t){if("object"!=In(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=In(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==In(t)?t:t+""}function En(e,t,n){return t=xn(t),Sn(e,Pn()?Reflect.construct(t,n||[],xn(e).constructor):t.apply(e,n))}function Sn(e,t){if(t&&("object"==In(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pn=function(){return!!e})()}function Mn(){return Mn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=xn(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Mn.apply(null,arguments)}function xn(e){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xn(e)}function Gn(e,t){return Gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gn(e,t)}var kn=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=En(this,t,[e]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(n.options=e||{},n.options.readExtensions&&"function"==typeof n.options.readExtensions){var i=n.options.readExtensions;n.options.readExtensions=function(e,t){this.readExtensions(e,t),i.call(this,e,t)}}else n.options.readExtensions=n.readExtensions;return null!==n.options.defaultStyle&&void 0!==n.options.defaultStyle||(n.options.defaultStyle={}),n.source=null,Sn(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gn(e,t)}(t,e),n=t,i=[{key:"readFeatures",value:function(e,n){var i=Mn(xn(t.prototype),"readFeatures",this).call(this,e,n);"string"==typeof e?this.source=$t.parse(e):null!==e&&(this.source=e);var o=this;return i.forEach((function(e,t,n){e.setId(t+1);var i=e.getProperties().desc;if(i&&e.setProperties({description:i}),!e.getStyleFunction()){var r=Xt.defineStyleFunctionByDefault(o.options.defaultStyle);r&&e.setStyle(r)}})),i}},{key:"writeFeatures",value:function(e,n){if(e.forEach((function(t,n,i){var o=t.getProperties().description;o&&t.setProperties({desc:o}),Xt.definePropertiesFromStyle(t);var r=t.getGeometry().getType();if("Polygon"===r){var a=t.clone();a.set("type",r),a.setGeometry(new(bn())(t.getGeometry().getCoordinates())),e.push(a),i.splice(n,1)}else if("MultiPolygon"===r){var s=t.clone();s.set("type",r),s.setGeometry(new(vn())(t.getGeometry().getCoordinates())),e.push(s),i.splice(n,1)}})),void 0!==this.options.orderBy){var i=this.options.orderBy;i&&e.sort((function(e,t){var n=e.get(i)||0,o=t.get(i)||0;return n.toString().localeCompare(o.toString(),void 0,{numeric:!0})}))}var o=Mn(xn(t.prototype),"writeFeaturesNode",this).call(this,e,n);if(null===o)return null;this.options.hasOwnProperty("extensions")&&this.writeRootExtensions_(o,this.options.extensions),this.processExtensions_(o,e,{extensions:this.writeExtensions_});var r=$t.toString(o);if(!r)return null;var a=$t.format(r);return""===a?null:a}},{key:"readExtensions",value:function(e,t){var n=t;if(!t){var i=e.getProperties();for(var o in i)if(Object.hasOwnProperty.call(i,o)){var r=i[o];if(r instanceof Node){n=r;break}}}if(n){for(var a=0;a<n.childNodes.length;a++){var s=n.childNodes[a];1===s.nodeType&&e.set(s.nodeName,s.textContent)}Xt.APPLY_CONVERT_GEOM_GPX=!0;var l=Xt.defineStyleFromProperties(e);l&&e.setStyle(l)}else console.warn("node not found !")}},{key:"readRootExtensions",value:function(e){for(var t={},n=this.source.childNodes[0].childNodes,i=0;i<n.length;i++){var o=n[i];if("metadata"===o.nodeName)for(var r=o.childNodes,a=0;a<r.length;a++){var s=r[a];if("extensions"===s.nodeName)for(var l=s.childNodes,c=0;c<l.length;c++){var u=l[c];if("data"===u.nodeName){var d=u.attributes[0];if(d&&"name"===d.nodeName&&d.nodeValue===e){t=JSON.parse(u.textContent);break}}}}}return t}},{key:"writeRootExtensions_",value:function(e,t,n){var i=document.createElement("metadata"),o=document.createElement("extensions");if(n)!function e(t,n){for(var i in n)if(Object.hasOwnProperty.call(n,i)){var o=n[i]||"",r=document.createElement(i);if("string"==typeof o||"number"==typeof o)r.innerHTML=o,t.appendChild(r);else if(o instanceof Array){r.setAttribute("type","array"),r.setAttribute("index",o.length);for(var a=0;a<o.length;a++){var s=o[a]||"",l=document.createElement("value");if("string"==typeof s||"number"==typeof s)l.innerHTML=s,r.appendChild(l);else if(s instanceof Array){l.setAttribute("type","array"),l.setAttribute("index",s.length);for(var c=0;c<s.length;c++){var u=s[c]||"",d=document.createElement("value");"string"!=typeof u&&"number"!=typeof u||(d.innerHTML=u,l.appendChild(d))}r.appendChild(l)}else s instanceof Object&&r.appendChild(e(l,s))}t.appendChild(r)}else o instanceof Object&&t.appendChild(e(r,o))}return t}(o,t);else for(var r in t)if(Object.hasOwnProperty.call(t,r)){var a=t[r],s=document.createElement("data");s.setAttribute("name",r);var l=document.createTextNode(JSON.stringify(a));s.appendChild(l),o.appendChild(s)}i.appendChild(o);var c=e.firstChild;e.insertBefore(i,c)}},{key:"writeExtensions_",value:function(e,t){var n=document.createElementNS(t.parentNode.namespaceURI,"extensions");Xt.getListTags().forEach((function(i){if(e.get(i)){var o=document.createElementNS(t.parentNode.namespaceURI,i);o.innerHTML=e.get(i),n.appendChild(o)}})),t.appendChild(n)}},{key:"processExtensions_",value:function(e,t,n){for(var i=-1,o=e.childNodes,r=0;r<o.length;r++){var a=o[r];switch(a.nodeName){case"wpt":case"rte":case"trk":var s=t[++i];if(s.getStyle()){var l=n.extensions;l&&"function"==typeof l&&l(s,a)}break;case"metadata":break;default:console.warn("nodename unknown :",a.nodeName)}}}}],i&&_n(n.prototype,i),o&&_n(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(yn());const Rn=kn;window.ol&&window.ol.format&&(window.ol.format.GPXExtended=kn);const Ln=ol.format.GeoJSON;function On(e){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(e)}function Tn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Dn(i.key),i)}}function Dn(e){var t=function(e,t){if("object"!=On(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=On(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==On(t)?t:t+""}function Nn(e,t,n){return t=Fn(t),Un(e,jn()?Reflect.construct(t,n||[],Fn(e).constructor):t.apply(e,n))}function Un(e,t){if(t&&("object"==On(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jn=function(){return!!e})()}function Bn(){return Bn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Fn(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Bn.apply(null,arguments)}function Fn(e){return Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fn(e)}function zn(e,t){return zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zn(e,t)}var Vn=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=Nn(this,t,[e]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.options=e||{},null!==n.options.defaultStyle&&void 0!==n.options.defaultStyle||(n.options.defaultStyle={}),n.source=null,Un(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zn(e,t)}(t,e),n=t,(i=[{key:"readFeatures",value:function(e,n){var i=this,o=Bn(Fn(t.prototype),"readFeatures",this).call(this,e,n);return"string"==typeof e?this.source=JSON.parse(e):null!==e&&(this.source=e),o.forEach((function(e){var t=e.getStyleFunction();if(t){var n=t.call(i,e,0);n&&0!==n.length&&e.setStyle(n[0])}else{var o=Xt.defineStyleFromProperties(e);if(o)e.setStyle(o);else{var r=Xt.defineStyleFunctionByDefault(i.options.defaultStyle);r&&(e.setStyle(r),Xt.definePropertiesFromStyle(e))}}})),o}},{key:"writeFeatures",value:function(e,t){e.forEach((function(e){Xt.definePropertiesFromStyle(e)}));var n=this.writeFeaturesObject(e,t);return this.options.hasOwnProperty("extensions")&&Object.assign(n,this.options.extensions),JSON.stringify(n)}},{key:"readRootExtensions",value:function(e){return this.source[e]}}])&&Tn(n.prototype,i),o&&Tn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(__webpack_require__.n(Ln)());const qn=Vn;window.ol&&window.ol.format&&(window.ol.format.GeoJSONExtended=Vn);const Wn=ol.extent;function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function Yn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Zn(i.key),i)}}function Zn(e){var t=function(e,t){if("object"!=Hn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Hn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hn(t)?t:t+""}function Jn(e,t,n){return t=Kn(t),function(e,t){if(t&&("object"==Hn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xn()?Reflect.construct(t,n||[],Kn(e).constructor):t.apply(e,n))}function Xn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xn=function(){return!!e})()}function Kn(e){return Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kn(e)}function Qn(e,t){return Qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qn(e,t)}var $n=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jn(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qn(e,t)}(t,e),n=t,i=[{key:"getFeatureInfoUrl",value:function(e,t,n,i){var o=this.options&&this.options.tilePixelRatio?this.options.tilePixelRatio:1,r=this.tileGrid,a=this.tileGrid.getTileCoordForCoordAndResolution(e,t),s=r.getTileCoordExtent(a),l=function(e,t,n){var i=[0,0,0],o=(0,Wn.createEmpty)(),r=e[1],a=e[2],s=t.getTileCoordExtent(e),l=n.getExtent();return null!=l&&n.isGlobal()&&(r%=Math.ceil((0,Wn.getWidth)(l)/(0,Wn.getWidth)(s)),i[0]=e[0],i[1]=r,i[2]=e[2],s=t.getTileCoordExtent(i,o)),(0,Wn.intersects)(s,l)?[e[0],r,a]:null}(a,r,n);if(!(r.getResolutions().length<=a[0])){var c=r.getResolution(a[0]),u=r.getMatrixIds()[a[0]],d={SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetFeatureInfo",LAYER:this.getLayer(),TILECOL:l[1],TILEROW:l[2],TILEMATRIX:u,TILEMATRIXSET:this.getMatrixSet(),FORMAT:this.getFormat()||"image/png",STYLE:this.getStyle()||"normal"};nn.assign(d,i);var p=Math.floor((e[0]-s[0])/(c/o)),h=Math.floor((s[3]-e[1])/(c/o)),g=r.getTileSize(a[0]);p=Math.min(p,(g[0]|g)-1),h=Math.max(h,0),d.I=p,d.J=h;var m=this.urls[0];return ft.Helper.normalyzeUrl(m,d)}}}],i&&Yn(n.prototype,i),o&&Yn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(u());const ei=$n;window.ol&&window.ol.source&&(window.ol.source.WMTSExtended=$n);const ti=ol.tilegrid.WMTS;var ni=__webpack_require__.n(ti),ii={getZoomLevelFromScaleDenominator:function(e,t){var n={};if("EPSG:2154"===t)n={0:104579.224549894,1:52277.5323537905,2:26135.4870785954,3:13066.8913818,4:6533.2286041135,5:3266.5595244627,6:1633.2660045974,7:816.629554986,8:408.3139146768,9:204.1567415109,10:102.0783167832,11:51.0391448966,12:25.5195690743,13:12.7597836936,14:6.379891636,15:3.1899457653,16:1.5949728695,17:.7974864315,18:.3987432149,19:.1993716073,20:.0996858037,21:.0498429018};else n={0:156543.033928041,1:78271.51696402048,2:39135.758482010235,3:19567.87924100512,4:9783.93962050256,5:4891.96981025128,6:2445.98490512564,7:1222.99245256282,8:611.49622628141,9:305.7481131407048,10:152.8740565703525,11:76.43702828517624,12:38.21851414258813,13:19.10925707129406,14:9.554628535647032,15:4.777314267823516,16:2.388657133911758,17:1.194328566955879,18:.5971642834779395,19:.2985821417389697,20:.1492910708694849,21:.0746455354347424};var i=28e-5*e;for(var o in n)if(n.hasOwnProperty(o)&&n[o]<=i)return o=parseInt(o,10);return 0},getAttributions:function(e){var t=e.zoom,n=[];if(null!=e.originators&&e.visibility)for(var i,o=0,r=e.originators.length;o<r;o++){i=!0;for(var a=e.originators[o],s=e.originators[o].constraints||[],l=0,c=s.length;l<c;l++){var u=s[l];i=!0;var d=this.getZoomLevelFromScaleDenominator(u.maxScaleDenominator,e.crs),p=this.getZoomLevelFromScaleDenominator(u.minScaleDenominator,e.crs)||21;d&&d>t&&(i=!1),i&&p&&p<t&&(i=!1);var h=u.bbox;if(i&&h){i=!1;var g=e.extent;if(g){var m=[h.top,h.left,h.bottom,h.right];if(this.intersects(g,m)){i=!0;break}}}}if(i){var f=a.logo,y=a.url,A=a.name?a.name:"",v=a.attribution,C=document.createElement("div");C.className="gp-control-attribution";var b=null;(b=document.createElement("a")).className="gp-control-attribution-link",b.target="_blank",C.appendChild(b),y&&(b.href=y);var I=null;!!f?(I=document.createElement("img"),b?(I.className="gp-control-attribution-image",b.appendChild(I)):(I.className="",C.appendChild(I)),I.src=f,I.title=v||A,I.style.height="30px",I.style.width="30px"):b.textContent=A||(v||(y||"")),n.push(C.innerHTML+" ")}}return n},intersects:function(e,t){var n=e[1]<=t[3]&&t[1]<=e[3],i=e[2]<=t[0]&&t[2]<=e[0];return n&&i}};const oi=ii;const ri={configuration:{},isConfigLoaded:function(){if(this.configuration&&0!==Object.keys(this.configuration).length)return!0;var e="undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==__webpack_require__.g?__webpack_require__.g:{};return!!(e.Gp&&e.Gp.Config&&e.Gp.Config.layers&&0!==Object.keys(e.Gp.Config.layers).length)&&(this.configuration=e.Gp.Config,!0)}};function ai(e){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ai(e)}function si(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,li(i.key),i)}}function li(e){var t=function(e,t){if("object"!=ai(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ai(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ai(t)?t:t+""}function ci(e,t,n){return t=pi(t),ui(e,di()?Reflect.construct(t,n||[],pi(e).constructor):t.apply(e,n))}function ui(e,t){if(t&&("object"==ai(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function di(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(di=function(){return!!e})()}function pi(e){return pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pi(e)}function hi(e,t){return hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hi(e,t)}yt.getLogger("sourcewmts");var gi=function(t){function n(t){var i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),!t.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof t.layer)throw new Error("ERROR WRONG TYPE : layer");void 0===t.ssl&&(t.ssl=!0);var o=t.configuration,r=o?o.params:null,a=t.apiKey;if(!o){if(!ri.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var s=ri.configuration.getLayerId(t.layer,"WMTS");if(!s)throw new Error("ERROR : WMTS Layer ID ".concat(t.layer," cannot be found in Geoportal Configuration. Make sure that this resource is included in your contract key."));if(!(o=ri.configuration.getLayerConf(s)))throw new Error("ERROR : WMTS Layer configuration cannot be found in Geoportal.");a=ri.configuration.getLayerKey(s)[0],r=ri.configuration.getLayerParams(t.layer,"WMTS")}var l=!1===t.ssl?"http://":"https://",c={"gp-ol-ext":e.olExtVersion||e.rE};if(r.url.includes("/private/")){var u=t.apiKey||a;if(!u)throw new Error("ERROR : WMS Layer apiKey cannot be found in Geoportal Configuration.");c.apikey=u}var d={url:ft.Helper.normalyzeUrl(r.url.replace(/(http|https):\/\//,l),c,!1),version:r.version,style:r.styles,format:r.format,projection:r.projection,maxZoom:oi.getZoomLevelFromScaleDenominator(r.minScale),layer:t.layer,matrixSet:r.TMSLink,tileGrid:new(ni())({resolutions:r.nativeResolutions,matrixIds:r.matrixIds,origin:[Object.values(r.tileMatrices)[0].topLeftCorner.x,Object.values(r.tileMatrices)[0].topLeftCorner.y]})};return nn.mergeParams(d,t.olParams),t.olParams&&!r.originators&&(r.originators=t.olParams.attributions),(i=ci(this,n,[d]))._originators=r.originators,i._legends=t.legends||r.legends,i._metadata=t.metadata||r.metadata,i._description=t.description||r.description,i._title=t.title||r.title,i._quicklookUrl=t.quicklookUrl||r.quicklookUrl,i.name=t.layer,i.service="WMTS",ui(i,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hi(e,t)}(n,t),i=n,o&&si(i.prototype,o),r&&si(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o,r}(ei);const mi=gi;function fi(e){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(e)}function yi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ai(i.key),i)}}function Ai(e){var t=function(e,t){if("object"!=fi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=fi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fi(t)?t:t+""}function vi(e,t,n){return t=Ii(t),Ci(e,bi()?Reflect.construct(t,n||[],Ii(e).constructor):t.apply(e,n))}function Ci(e,t){if(t&&("object"==fi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function bi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bi=function(){return!!e})()}function Ii(e){return Ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ii(e)}function _i(e,t){return _i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_i(e,t)}window.ol&&window.ol.source&&(window.ol.source.GeoportalWMTS=gi);yt.getLogger("sourcewms");var wi=function(t){function n(t){var i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),!t.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof t.layer)throw new Error("ERROR WRONG TYPE : layer");void 0===t.ssl&&(t.ssl=!0);var o=t.configuration,r=o?o.params:null,a=t.apiKey;if(!o){if(!ri.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var s=ri.configuration.getLayerId(t.layer,"WMS");if(!s)throw new Error("ERROR : WMS Layer ID ".concat(t.layer," cannot be found in Geoportal Configuration. Make sure that this resource is included in your contract key."));if(!(o=ri.configuration.getLayerConf(s)))throw new Error("ERROR : WMS Layer configuration cannot be found in Geoportal.");a=ri.configuration.getLayerKey(s)[0],r=ri.configuration.getLayerParams(t.layer,"WMS")}var l=!1===t.ssl?"http://":"https://",c={"gp-ol-ext":e.olExtVersion||e.rE};if(r.url.includes("/private/")){var u=t.apiKey||a;if(!u)throw new Error("ERROR : WMS Layer apiKey cannot be found in Geoportal Configuration.");c.apikey=u}var d={url:ft.Helper.normalyzeUrl(r.url.replace(/(http|https):\/\//,l),c,!1),params:{SERVICE:"WMS",LAYERS:t.layer,VERSION:r.version,STYLES:r.styles,FORMAT:r.format}};return nn.mergeParams(d,t.olParams),t.olParams&&!r.originators&&(r.originators=t.olParams.attributions),(i=vi(this,n,[d]))._originators=r.originators,i._legends=t.legends||r.legends,i._metadata=t.metadata||r.metadata,i._title=t.title||r.title,i._description=t.description||r.description,i._quicklookUrl=t.quicklookUrl||r.quicklookUrl,i.name=t.layer,i.service="WMS",Ci(i,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_i(e,t)}(n,t),i=n,o&&yi(i.prototype,o),r&&yi(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o,r}(l());const Ei=wi;window.ol&&window.ol.source&&(window.ol.source.GeoportalWMS=wi);const Si=ol.proj,Pi=ol.layer.Tile;var Mi=__webpack_require__.n(Pi);function xi(e){return xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xi(e)}function Gi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ki(i.key),i)}}function ki(e){var t=function(e,t){if("object"!=xi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=xi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xi(t)?t:t+""}function Ri(e,t,n){return t=Ti(t),Li(e,Oi()?Reflect.construct(t,n||[],Ti(e).constructor):t.apply(e,n))}function Li(e,t){if(t&&("object"==xi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Oi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Oi=function(){return!!e})()}function Ti(e){return Ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ti(e)}function Di(e,t){return Di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Di(e,t)}var Ni=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!e.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof e.layer)throw new Error("ERROR WRONG TYPE : layer");void 0===e.ssl&&(e.ssl=!0);var i,o=e.configuration;if(!o){if(!ri.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var r=ri.configuration.getLayerId(e.layer,"WMTS");if(!(o=ri.configuration.getLayerConf(r)))throw new Error("ERROR : Layer ID not found into the catalogue !?")}e.olParams&&e.olParams.sourceParams&&(i=e.olParams.sourceParams);var a,s=new mi({layer:e.layer,configuration:e.configuration,ssl:e.ssl,apiKey:e.apiKey,olParams:i}),l={source:s};void 0!==s.getLayer()&&(o.globalConstraints&&o.globalConstraints.projection&&("string"==typeof o.globalConstraints.projection&&(a=(0,Si.get)(o.globalConstraints.projection)),a&&a.getUnits()&&("m"===a.getUnits()?(l.minResolution=28e-5*(o.globalConstraints.minScale-1),l.maxResolution=28e-5*(o.globalConstraints.maxScale+1)):"degrees"===a.getUnits()&&(l.minResolution=28e-5*(o.globalConstraints.minScale-1)*180/(6378137*Math.PI),l.maxResolution=28e-5*(o.globalConstraints.maxScale+1)*180/(6378137*Math.PI)))));return nn.mergeParams(l,e.olParams),(n=Ri(this,t,[l])).name=e.layer,n.service="WMTS",Li(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Di(e,t)}(t,e),n=t,i&&Gi(n.prototype,i),o&&Gi(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(Mi());const Ui=Ni;function ji(e){return ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ji(e)}function Bi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Fi(i.key),i)}}function Fi(e){var t=function(e,t){if("object"!=ji(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ji(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ji(t)?t:t+""}function zi(e,t,n){return t=Wi(t),Vi(e,qi()?Reflect.construct(t,n||[],Wi(e).constructor):t.apply(e,n))}function Vi(e,t){if(t&&("object"==ji(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qi=function(){return!!e})()}function Wi(e){return Wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wi(e)}function Hi(e,t){return Hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hi(e,t)}window.ol&&window.ol.layer&&(window.ol.layer.GeoportalWMTS=Ni);var Yi=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!e.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof e.layer)throw new Error("ERROR WRONG TYPE : layer");void 0===e.ssl&&(e.ssl=!0);var i,o=e.configuration;if(!o){if(!ri.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var r=ri.configuration.getLayerId(e.layer,"WMS");if(!(o=ri.configuration.getLayerConf(r)))throw new Error("ERROR : Layer ID not found into the catalogue !?")}e.olParams&&e.olParams.sourceParams&&(i=e.olParams.sourceParams);var a=new Ei({layer:e.layer,configuration:e.configuration,ssl:e.ssl,apiKey:e.apiKey,olParams:i}),s={source:a};if(void 0!==a.getParams().LAYERS&&i&&i.projection){var l,c=[o.globalConstraints.extent.left,o.globalConstraints.extent.bottom,o.globalConstraints.extent.right,o.globalConstraints.extent.top];s.extent=(0,Si.transformExtent)(c,"EPSG:4326",i.projection),"string"==typeof i.projection?l=(0,Si.get)(i.projection):"object"===ji(i.projection)&&i.projection.getCode()&&(l=(0,Si.get)(i.projection.getCode())),l&&l.getUnits()&&("m"===l.getUnits()?(s.minResolution=28e-5*(o.globalConstraints.minScale-1),s.maxResolution=28e-5*(o.globalConstraints.maxScale+1)):"degrees"===l.getUnits()&&(s.minResolution=28e-5*(o.globalConstraints.minScale-1)*180/(6378137*Math.PI),s.maxResolution=28e-5*(o.globalConstraints.maxScale+1)*180/(6378137*Math.PI)))}return nn.mergeParams(s,e.olParams),(n=zi(this,t,[s])).name=e.layer,n.service="WMS",Vi(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hi(e,t)}(t,e),n=t,i&&Bi(n.prototype,i),o&&Bi(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(Mi());const Zi=Yi;window.ol&&window.ol.layer&&(window.ol.layer.GeoportalWMS=Yi);const Ji=ol.layer.VectorTile;var Xi=__webpack_require__.n(Ji);const Ki=ol.source.TileJSON;var Qi=__webpack_require__.n(Ki);const $i=ol.format.MVT;var eo=__webpack_require__.n($i);const to=ol.Observable;new Array(6);function no(e,t,n,i,o,r,a,s){const l=Math.sin(r),c=Math.cos(r);return e[0]=i*c,e[1]=o*l,e[2]=-i*l,e[3]=o*c,e[4]=a*i*c-s*i*l+t,e[5]=a*o*l+s*o*c+n,e}function io(e,t,n,i,o){return o?(o[0]=e,o[1]=t,o[2]=n,o[3]=i,o):[e,t,n,i]}function oo(e){return io(1/0,1/0,-1/0,-1/0,e)}function ro(e,t,n,i,o){return function(e,t,n,i,o){for(;n<i;n+=o)ao(e,t[n],t[n+1]);return e}(oo(o),e,t,n,i)}function ao(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function so(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function lo(e){return e[3]-e[1]}function co(e,t,n,i,o,r){const a=o-n,s=r-i;if(0!==a||0!==s){const l=((e-n)*a+(t-i)*s)/(a*a+s*s);l>1?(n=o,i=r):l>0&&(n+=a*l,i+=s*l)}return function(e,t,n,i){const o=n-e,r=i-t;return o*o+r*r}(e,t,n,i)}function uo(e,t,n,i,o,r,a){const s=(n-t)/i;if(s<3){for(;t<n;t+=i)r[a++]=e[t],r[a++]=e[t+1];return a}const l=new Array(s);l[0]=1,l[s-1]=1;const c=[t,n-i];let u=0;for(;c.length>0;){const n=c.pop(),r=c.pop();let a=0;const s=e[r],d=e[r+1],p=e[n],h=e[n+1];for(let t=r+i;t<n;t+=i){const n=co(e[t],e[t+1],s,d,p,h);n>a&&(u=t,a=n)}a>o&&(l[(u-t)/i]=1,r+i<u&&c.push(r,u),u+i<n&&c.push(u,n))}for(let n=0;n<s;++n)l[n]&&(r[a++]=e[t+n*i],r[a++]=e[t+n*i+1]);return a}function po(e,t,n,i,o,r,a,s){for(let l=0,c=n.length;l<c;++l){const c=n[l];a=uo(e,t,c,i,o,r,a),s.push(a),t=c}return a}function ho(e,t){return t*Math.round(e/t)}function go(e,t,n,i,o,r,a){if(t==n)return a;let s,l,c=ho(e[t],o),u=ho(e[t+1],o);t+=i,r[a++]=c,r[a++]=u;do{if(s=ho(e[t],o),l=ho(e[t+1],o),(t+=i)==n)return r[a++]=s,r[a++]=l,a}while(s==c&&l==u);for(;t<n;){const n=ho(e[t],o),d=ho(e[t+1],o);if(t+=i,n==s&&d==l)continue;const p=s-c,h=l-u,g=n-c,m=d-u;p*m==h*g&&(p<0&&g<p||p==g||p>0&&g>p)&&(h<0&&m<h||h==m||h>0&&m>h)?(s=n,l=d):(r[a++]=s,r[a++]=l,c=s,u=l,s=n,l=d)}return r[a++]=s,r[a++]=l,a}function mo(e,t,n,i,o,r,a,s){for(let l=0,c=n.length;l<c;++l){const c=n[l];a=go(e,t,c,i,o,r,a),s.push(a),t=c}return a}function fo(e,t){return e>t?1:e<t?-1:0}function yo(e,t){const n=Array.isArray(t)?t:[t],i=n.length;for(let t=0;t<i;t++)e[e.length]=n[t]}function Ao(e,t,n,i,o,r){let a=0,s=e[n-i],l=e[n-i+1];for(;t<n;t+=i){const n=e[t],i=e[t+1];l<=r?i>r&&(n-s)*(r-l)-(o-s)*(i-l)>0&&a++:i<=r&&(n-s)*(r-l)-(o-s)*(i-l)<0&&a--,s=n,l=i}return 0!==a}function vo(e,t,n,i,o,r){if(0===n.length)return!1;if(!Ao(e,t,n[0],i,o,r))return!1;for(let t=1,a=n.length;t<a;++t)if(Ao(e,n[t-1],n[t],i,o,r))return!1;return!0}function Co(e,t,n,i,o,r,a){let s,l,c,u,d,p,h;const g=o[r+1],m=[];for(let o=0,r=n.length;o<r;++o){const r=n[o];for(u=e[r-i],p=e[r-i+1],s=t;s<r;s+=i)d=e[s],h=e[s+1],(g<=p&&h<=g||p<=g&&g<=h)&&(c=(g-p)/(h-p)*(d-u)+u,m.push(c)),u=d,p=h}let f=NaN,y=-1/0;for(m.sort(fo),u=m[0],s=1,l=m.length;s<l;++s){d=m[s];const o=Math.abs(d-u);o>y&&(c=(u+d)/2,vo(e,t,n,i,c,g)&&(f=c,y=o)),u=d}return isNaN(f)&&(f=o[r]),a?(a.push(f,g,y),a):[f,g,y]}const bo={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};const Io=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||bo[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},_o=6378137,wo=Math.PI*_o,Eo=[-wo,-wo,wo,wo],So=[-180,-85,180,85],Po=_o*Math.log(Math.tan(Math.PI/2));class Mo extends Io{constructor(e){super({code:e,units:"m",extent:Eo,global:!0,worldExtent:So,getPointResolution:function(e,t){return e/Math.cosh(t[1]/_o)}})}}const xo=[new Mo("EPSG:3857"),new Mo("EPSG:102100"),new Mo("EPSG:102113"),new Mo("EPSG:900913"),new Mo("http://www.opengis.net/def/crs/EPSG/0/3857"),new Mo("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Go(e,t,n){const i=e.length;n=n>1?n:2,void 0===t&&(t=n>2?e.slice():new Array(i));for(let o=0;o<i;o+=n){t[o]=wo*e[o]/180;let n=_o*Math.log(Math.tan(Math.PI*(+e[o+1]+90)/360));n>Po?n=Po:n<-Po&&(n=-Po),t[o+1]=n}return t}function ko(e,t,n){const i=e.length;n=n>1?n:2,void 0===t&&(t=n>2?e.slice():new Array(i));for(let o=0;o<i;o+=n)t[o]=180*e[o]/wo,t[o+1]=360*Math.atan(Math.exp(e[o+1]/_o))/Math.PI-90;return t}const Ro=[-180,-90,180,90],Lo=6378137*Math.PI/180;class Oo extends Io{constructor(e,t){super({code:e,units:"degrees",extent:Ro,axisOrientation:t,global:!0,metersPerUnit:Lo,worldExtent:Ro})}}const To=[new Oo("CRS:84"),new Oo("EPSG:4326","neu"),new Oo("urn:ogc:def:crs:OGC:1.3:CRS84"),new Oo("urn:ogc:def:crs:OGC:2:84"),new Oo("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Oo("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Oo("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Do={};let No={};function Uo(e,t,n){const i=e.getCode(),o=t.getCode();i in No||(No[i]={}),No[i][o]=n}function jo(e,t){if(void 0!==t)for(let n=0,i=e.length;n<i;++n)t[n]=e[n];else t=e.slice();return t}function Bo(e){!function(e,t){Do[e]=t}(e.getCode(),e),Uo(e,e,jo)}function Fo(e){return"string"==typeof e?Do[t=e]||Do[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:e||null;var t}function zo(e){!function(e){e.forEach(Bo)}(e),e.forEach((function(t){e.forEach((function(e){t!==e&&Uo(t,e,jo)}))}))}var Vo,qo,Wo;function Ho(e,t,n,i){let o=0,r=e[n-i],a=e[n-i+1];for(;t<n;t+=i){const n=e[t],i=e[t+1];o+=(n-r)*(i+a),r=n,a=i}return 0===o?void 0:o>0}function Yo(e,t,n,i,o,r,a){let s,l;const c=(n-t)/i;if(1===c)s=t;else if(2===c)s=t,l=o;else if(0!==c){let r=e[t],a=e[t+1],c=0;const u=[0];for(let o=t+i;o<n;o+=i){const t=e[o],n=e[o+1];c+=Math.sqrt((t-r)*(t-r)+(n-a)*(n-a)),u.push(c),r=t,a=n}const d=o*c,p=function(e,t,n){let i,o;n=n||fo;let r=0,a=e.length,s=!1;for(;r<a;)i=r+(a-r>>1),o=+n(e[i],t),o<0?r=i+1:(a=i,s=!o);return s?r:~r}(u,d);p<0?(l=(d-u[-p-2])/(u[-p-1]-u[-p-2]),s=t+(-p-2)*i):s=t+p*i}a=a>1?a:2,r=r||new Array(a);for(let t=0;t<a;++t)r[t]=void 0===s?NaN:void 0===l?e[s+t]:(u=e[s+t],d=e[s+i+t],u+l*(d-u));var u,d;return r}zo(xo),zo(To),Vo=xo,qo=Go,Wo=ko,To.forEach((function(e){Vo.forEach((function(t){Uo(e,t,qo),Uo(t,e,Wo)}))}));const Zo=[1,0,0,1,0,0];class Jo{constructor(e,t,n,i,o,r){this.styleFunction,this.extent_,this.id_=r,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=o,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?function(e,t){const n=e[0],i=e[1];return io(n,i,n,i,t)}(this.flatCoordinates_):ro(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=so(this.getExtent());this.flatInteriorPoints_=Co(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=function(e,t){const n=[];let i,o=0,r=0;for(let a=0,s=t.length;a<s;++a){const s=t[a],l=Ho(e,o,s,2);if(void 0===i&&(i=l),l===i)n.push(t.slice(r,a+1));else{if(0===n.length)continue;n[n.length-1].push(t[r])}r=a+1,o=s}return n}(this.flatCoordinates_,this.ends_),t=function(e,t,n,i){const o=[];let r=[1/0,1/0,-1/0,-1/0];for(let a=0,s=n.length;a<s;++a){const s=n[a];r=ro(e,t,s[0],i),o.push((r[0]+r[2])/2,(r[1]+r[3])/2),t=s[s.length-1]}return o}(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=function(e,t,n,i,o){let r=[];for(let a=0,s=n.length;a<s;++a){const s=n[a];r=Co(e,t,s,i,o,2*a,r),t=s[s.length-1]}return r}(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Yo(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const n=this.ends_;for(let i=0,o=n.length;i<o;++i){const o=n[i],r=Yo(e,t,o,2,.5);yo(this.flatMidpoints_,r),t=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){const t=(e=Fo(e)).getExtent(),n=e.getWorldExtent();if(t&&n){const e=lo(n)/lo(t);no(Zo,n[0],n[3],e,-e,0,0,0),function(e,t,n,i,o,r){r=r||[];let a=0;for(let s=t;s<n;s+=i){const t=e[s],n=e[s+1];r[a++]=o[0]*t+o[2]*n+o[4],r[a++]=o[1]*t+o[3]*n+o[5]}r&&r.length!=a&&(r.length=a)}(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Zo,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new Jo(this.type_,this.flatCoordinates_.slice(),this.ends_.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=function(e){let t,n,i,o=!1;return function(){const r=Array.prototype.slice.call(arguments);return o&&this===i&&function(e,t){const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}(r,n)||(o=!0,i=this,n=r,t=e.apply(this,arguments)),t}}(((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const n=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":n.length=uo(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,n,0),i=[n.length];break;case"MultiLineString":i=[],n.length=po(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,n,0,i);break;case"Polygon":i=[],n.length=mo(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),n,0,i)}return i&&(this.simplifiedGeometry_=new Jo(this.type_,n,i,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_})),this}}Jo.prototype.getFlatCoordinates=Jo.prototype.getOrientedFlatCoordinates;const Xo=Jo,Ko=ol.functions,Qo=ol.render.canvas,$o=ol.TileState,er=void 0,tr=ol.tileurlfunction,nr=ol.util,ir=(ol.layer.Image,ol.layer.Layer,ol.layer.Group,ol.Map,ol.source.Raster,ol.source.Source,ol.tilegrid.TileGrid),or=ol.layer.Vector;var rr=__webpack_require__.n(or);ol.View;const ar=ol.proj.Units,sr=ol.loadingstrategy,lr=ol.tilegrid;ol.events.Event;function cr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ur,dr={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function pr(e){return(e=Math.round(e))<0?0:e>255?255:e}function hr(e){return e<0?0:e>1?1:e}function gr(e){return"%"===e[e.length-1]?pr(parseFloat(e)/100*255):pr(parseInt(e))}function mr(e){return"%"===e[e.length-1]?hr(parseFloat(e)/100):hr(parseFloat(e))}function fr(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{ur={}.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in dr)return dr[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var i=n.indexOf("("),o=n.indexOf(")");if(-1!==i&&o+1===n.length){var r=n.substr(0,i),a=n.substr(i+1,o-(i+1)).split(","),s=1;switch(r){case"rgba":if(4!==a.length)return null;s=mr(a.pop());case"rgb":return 3!==a.length?null:[gr(a[0]),gr(a[1]),gr(a[2]),s];case"hsla":if(4!==a.length)return null;s=mr(a.pop());case"hsl":if(3!==a.length)return null;var l=(parseFloat(a[0])%360+360)%360/360,c=mr(a[1]),u=mr(a[2]),d=u<=.5?u*(c+1):u+c-u*c,p=2*u-d;return[pr(255*fr(p,d,l+1/3)),pr(255*fr(p,d,l)),pr(255*fr(p,d,l-1/3)),s];default:return null}}return null}}catch(VC){}class yr{constructor(e,t,n,i=1){this.r=e,this.g=t,this.b=n,this.a=i}static parse(e){if(!e)return;if(e instanceof yr)return e;if("string"!=typeof e)return;const t=ur(e);return t?new yr(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,n,i]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(n)},${i})`}toArray(){const{r:e,g:t,b:n,a:i}=this;return 0===i?[0,0,0,0]:[255*e/i,255*t/i,255*n/i,i]}toArray01(){const{r:e,g:t,b:n,a:i}=this;return 0===i?[0,0,0,0]:[e/i,t/i,n/i,i]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:n,a:i}=this;return[e,t,n,i]}}yr.black=new yr(0,0,0,1),yr.white=new yr(1,1,1,1),yr.transparent=new yr(0,0,0,0),yr.red=new yr(1,0,0,1),yr.blue=new yr(0,0,1,1);var Ar=yr;function vr(e){return"object"==typeof e?["literal",e]:e}function Cr(e,t){let n=e.stops;if(!n)return function(e,t){const n=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",n]:n;if("enum"===t.type)return["match",n,Object.keys(t.values),n,e.default];{const i=["color"===t.type?"to-color":t.type,n,vr(e.default)];return"array"===t.type&&i.splice(1,0,t.value,t.length||null),i}}(e,t);const i=n&&"object"==typeof n[0][0],o=i||void 0!==e.property,r=i||!o;return n=n.map((e=>!o&&t.tokens&&"string"==typeof e[1]?[e[0],Pr(e[1])]:[e[0],vr(e[1])])),i?function(e,t,n){const i={},o={},r=[];for(let t=0;t<n.length;t++){const a=n[t],s=a[0].zoom;void 0===i[s]&&(i[s]={zoom:s,type:e.type,property:e.property,default:e.default},o[s]=[],r.push(s)),o[s].push([a[0].value,a[1]])}const a=Sr({},t);if("exponential"===a){const n=[br(e),["linear"],["zoom"]];for(const e of r){Er(n,e,_r(i[e],t,o[e]),!1)}return n}{const e=["step",["zoom"]];for(const n of r){Er(e,n,_r(i[n],t,o[n]),!0)}return wr(e),e}}(e,t,n):r?function(e,t,n,i=["zoom"]){const o=Sr(e,t);let r,a=!1;if("interval"===o)r=["step",i],a=!0;else{if("exponential"!==o)throw new Error(`Unknown zoom function type "${o}"`);{const t=void 0!==e.base?e.base:1;r=[br(e),1===t?["linear"]:["exponential",t],i]}}for(const e of n)Er(r,e[0],e[1],a);return wr(r),r}(e,t,n):_r(e,t,n)}function br(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Ir(e,t){const n=vr((i=e.default,o=t.default,void 0!==i?i:void 0!==o?o:void 0));var i,o;return void 0===n&&"resolvedImage"===t.type?"":n}function _r(e,t,n){const i=Sr(e,t),o=["get",e.property];if("categorical"===i&&"boolean"==typeof n[0][0]){const i=["case"];for(const e of n)i.push(["==",o,e[0]],e[1]);return i.push(Ir(e,t)),i}if("categorical"===i){const i=["match",o];for(const e of n)Er(i,e[0],e[1],!1);return i.push(Ir(e,t)),i}if("interval"===i){const t=["step",["number",o]];for(const e of n)Er(t,e[0],e[1],!0);return wr(t),void 0===e.default?t:["case",["==",["typeof",o],"number"],t,vr(e.default)]}if("exponential"===i){const t=void 0!==e.base?e.base:1,i=[br(e),1===t?["linear"]:["exponential",t],["number",o]];for(const e of n)Er(i,e[0],e[1],!1);return void 0===e.default?i:["case",["==",["typeof",o],"number"],i,vr(e.default)]}throw new Error(`Unknown property function type ${i}`)}function wr(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function Er(e,t,n,i){e.length>3&&t===e[e.length-2]||(i&&2===e.length||e.push(t),e.push(n))}function Sr(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function Pr(e){const t=["concat"],n=/{([^{}]+)}/g;let i=0;for(let o=n.exec(e);null!==o;o=n.exec(e)){const r=e.slice(i,n.lastIndex-o[0].length);i=n.lastIndex,r.length>0&&t.push(r),t.push(["get",o[1]])}if(1===t.length)return e;if(i<e.length)t.push(e.slice(i));else if(2===t.length)return["to-string",t[1]];return t}class Mr extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var xr=Mr;class Gr{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,n]of t)this.bindings[e]=n}concat(e){return new Gr(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var kr=Gr;const Rr={kind:"null"},Lr={kind:"number"},Or={kind:"string"},Tr={kind:"boolean"},Dr={kind:"color"},Nr={kind:"object"},Ur={kind:"value"},jr={kind:"collator"},Br={kind:"formatted"},Fr={kind:"resolvedImage"};function zr(e,t){return{kind:"array",itemType:e,N:t}}function Vr(e){if("array"===e.kind){const t=Vr(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const qr=[Rr,Lr,Or,Tr,Dr,Br,Nr,zr(Ur),Fr];function Wr(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Wr(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of qr)if(!Wr(e,t))return null}return`Expected ${Vr(e)} but found ${Vr(t)} instead.`}function Hr(e,t){return t.some((t=>t.kind===e.kind))}function Yr(e,t){return t.some((t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e))}class Zr{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Jr{constructor(e,t,n,i,o){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=n,this.fontStack=i,this.textColor=o}}class Xr{constructor(e){this.sections=e}static fromString(e){return new Xr([new Jr(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.name.length))}static factory(e){return e instanceof Xr?e:Xr.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map((e=>e.text)).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const n={};t.fontStack&&(n["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(n["font-scale"]=t.scale),t.textColor&&(n["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(n)}return e}}class Kr{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Kr({name:e,available:!1}):null}serialize(){return["image",this.name]}}function Qr(e,t,n,i){if(!("number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255)){return`Invalid rgba value [${("number"==typeof i?[e,t,n,i]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}return void 0===i||"number"==typeof i&&i>=0&&i<=1?null:`Invalid rgba value [${[e,t,n,i].join(", ")}]: 'a' must be between 0 and 1.`}function $r(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Ar)return!0;if(e instanceof Zr)return!0;if(e instanceof Xr)return!0;if(e instanceof Kr)return!0;if(Array.isArray(e)){for(const t of e)if(!$r(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!$r(e[t]))return!1;return!0}return!1}function ea(e){if(null===e)return Rr;if("string"==typeof e)return Or;if("boolean"==typeof e)return Tr;if("number"==typeof e)return Lr;if(e instanceof Ar)return Dr;if(e instanceof Zr)return jr;if(e instanceof Xr)return Br;if(e instanceof Kr)return Fr;if(Array.isArray(e)){const t=e.length;let n;for(const t of e){const e=ea(t);if(n){if(n===e)continue;n=Ur;break}n=e}return zr(n||Ur,t)}return Nr}function ta(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Ar||e instanceof Xr||e instanceof Kr?e.toString():JSON.stringify(e)}class na{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!$r(e[1]))return t.error("invalid value");const n=e[1];let i=ea(n);const o=t.expectedType;return"array"!==i.kind||0!==i.N||!o||"array"!==o.kind||"number"==typeof o.N&&0!==o.N||(i=o),new na(i,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Ar?["rgba"].concat(this.value.toArray()):this.value instanceof Xr?this.value.serialize():this.value}}var ia=na;var oa=class{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}};const ra={string:Or,number:Lr,boolean:Tr,object:Nr};class aa{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,i=1;const o=e[0];if("array"===o){let o,r;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in ra)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=ra[n],i++}else o=Ur;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);r=e[2],i++}n=zr(o,r)}else n=ra[o];const r=[];for(;i<e.length;i++){const n=t.parse(e[i],i,Ur);if(!n)return null;r.push(n)}return new aa(n,r)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!Wr(this.type,ea(n)))return n;if(t===this.args.length-1)throw new oa(`Expected value to be of type ${Vr(this.type)}, but found ${Vr(ea(n))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);const i=e.N;("number"==typeof i||this.args.length>1)&&t.push(i)}}return t.concat(this.args.map((e=>e.serialize())))}}var sa=aa;class la{constructor(e){this.type=Br,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const i=[];let o=!1;for(let n=1;n<=e.length-1;++n){const r=e[n];if(o&&"object"==typeof r&&!Array.isArray(r)){o=!1;let e=null;if(r["font-scale"]&&(e=t.parse(r["font-scale"],1,Lr),!e))return null;let n=null;if(r["text-font"]&&(n=t.parse(r["text-font"],1,zr(Or)),!n))return null;let a=null;if(r["text-color"]&&(a=t.parse(r["text-color"],1,Dr),!a))return null;const s=i[i.length-1];s.scale=e,s.font=n,s.textColor=a}else{const r=t.parse(e[n],1,Ur);if(!r)return null;const a=r.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:r,scale:null,font:null,textColor:null})}}return new la(i)}evaluate(e){return new Xr(this.sections.map((t=>{const n=t.content.evaluate(e);return ea(n)===Fr?new Jr("",n,null,null,null):new Jr(ta(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const n={};t.scale&&(n["font-scale"]=t.scale.serialize()),t.font&&(n["text-font"]=t.font.serialize()),t.textColor&&(n["text-color"]=t.textColor.serialize()),e.push(n)}return e}}class ca{constructor(e){this.type=Fr,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,Or);return n?new ca(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=Kr.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const ua={"to-boolean":Tr,"to-color":Dr,"to-number":Lr,"to-string":Or};class da{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const i=ua[n],o=[];for(let n=1;n<e.length;n++){const i=t.parse(e[n],n,Ur);if(!i)return null;o.push(i)}return new da(i,o)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,n;for(const i of this.args){if(t=i.evaluate(e),n=null,t instanceof Ar)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:Qr(t[0],t[1],t[2],t[3]),!n))return new Ar(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new oa(n||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const i=Number(t);if(!isNaN(i))return i}throw new oa(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?Xr.fromString(ta(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Kr.fromString(ta(this.args[0].evaluate(e))):ta(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){if("formatted"===this.type.kind)return new la([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new ca(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild((t=>{e.push(t.serialize())})),e}}var pa=da;const ha=["Unknown","Point","LineString","Polygon"];var ga=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?ha[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:n,y:i}=this.featureTileCoord,o=n*t-e[0],r=i*t-e[1];return this.featureDistanceData.bearing[0]*o+this.featureDistanceData.bearing[1]*r}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Ar.parse(e)),t}};class ma{constructor(e,t,n,i){this.name=e,this.type=t,this._evaluate=n,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map((e=>e.serialize())))}static parse(e,t){const n=e[0],i=ma.definitions[n];if(!i)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,r=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=r.filter((([t])=>!Array.isArray(t)||t.length===e.length-1));let s=null;for(const[i,r]of a){s=new Va(t.registry,t.path,null,t.scope);const a=[];let l=!1;for(let t=1;t<e.length;t++){const n=e[t],o=Array.isArray(i)?i[t-1]:i.type,r=s.parse(n,1+a.length,o);if(!r){l=!0;break}a.push(r)}if(!l)if(Array.isArray(i)&&i.length!==a.length)s.error(`Expected ${i.length} arguments, but found ${a.length} instead.`);else{for(let e=0;e<a.length;e++){const t=Array.isArray(i)?i[e]:i.type,n=a[e];s.concat(e+1).checkSubtype(t,n.type)}if(0===s.errors.length)return new ma(n,o,r,a)}}if(1===a.length)t.errors.push(...s.errors);else{const n=(a.length?a:r).map((([e])=>{return t=e,Array.isArray(t)?`(${t.map(Vr).join(", ")})`:`(${Vr(t.type)}...)`;var t})).join(" | "),i=[];for(let n=1;n<e.length;n++){const o=t.parse(e[n],1+i.length);if(!o)return null;i.push(Vr(o.type))}t.error(`Expected arguments of type ${n}, but found (${i.join(", ")}) instead.`)}return null}static register(e,t){ma.definitions=t;for(const n in t)e[n]=ma}}var fa=ma;class ya{constructor(e,t,n){this.type=jr,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const i=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Tr);if(!i)return null;const o=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Tr);if(!o)return null;let r=null;return n.locale&&(r=t.parse(n.locale,1,Or),!r)?null:new ya(i,o,r)}evaluate(e){return new Zr(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Aa=8192;function va(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Ca(e,t){return!(e[0]<=t[0])&&(!(e[2]>=t[2])&&(!(e[1]<=t[1])&&!(e[3]>=t[3])))}function ba(e,t){const n=(180+e[0])/360;const i=(o=e[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360);var o;const r=Math.pow(2,t.z);return[Math.round(n*r*Aa),Math.round(i*r*Aa)]}function Ia(e,t,n){const i=e[0]-t[0],o=e[1]-t[1],r=e[0]-n[0],a=e[1]-n[1];return i*a-r*o==0&&i*r<=0&&o*a<=0}function _a(e,t){let n=!1;for(let a=0,s=t.length;a<s;a++){const s=t[a];for(let t=0,a=s.length;t<a-1;t++){if(Ia(e,s[t],s[t+1]))return!1;i=e,o=s[t],r=s[t+1],o[1]>i[1]!=r[1]>i[1]&&i[0]<(r[0]-o[0])*(i[1]-o[1])/(r[1]-o[1])+o[0]&&(n=!n)}}var i,o,r;return n}function wa(e,t){for(let n=0;n<t.length;n++)if(_a(e,t[n]))return!0;return!1}function Ea(e,t,n,i){const o=e[0]-n[0],r=e[1]-n[1],a=t[0]-n[0],s=t[1]-n[1],l=i[0]-n[0],c=i[1]-n[1],u=o*c-l*r,d=a*c-l*s;return u>0&&d<0||u<0&&d>0}function Sa(e,t,n,i){const o=[t[0]-e[0],t[1]-e[1]],r=[i[0]-n[0],i[1]-n[1]];return 0!=(a=r)[0]*(s=o)[1]-a[1]*s[0]&&!(!Ea(e,t,n,i)||!Ea(n,i,e,t));var a,s}function Pa(e,t,n){for(const i of n)for(let n=0;n<i.length-1;++n)if(Sa(e,t,i[n],i[n+1]))return!0;return!1}function Ma(e,t){for(let n=0;n<e.length;++n)if(!_a(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(Pa(e[n],e[n+1],t))return!1;return!0}function xa(e,t){for(let n=0;n<t.length;n++)if(Ma(e,t[n]))return!0;return!1}function Ga(e,t,n){const i=[];for(let o=0;o<e.length;o++){const r=[];for(let i=0;i<e[o].length;i++){const a=ba(e[o][i],n);va(t,a),r.push(a)}i.push(r)}return i}function ka(e,t,n){const i=[];for(let o=0;o<e.length;o++){const r=Ga(e[o],t,n);i.push(r)}return i}function Ra(e,t,n,i){if(e[0]<n[0]||e[0]>n[2]){const t=.5*i;let o=e[0]-n[0]>t?-i:n[0]-e[0]>t?i:0;0===o&&(o=e[0]-n[2]>t?-i:n[2]-e[0]>t?i:0),e[0]+=o}va(t,e)}function La(e,t,n,i){const o=Math.pow(2,i.z)*Aa,r=[i.x*Aa,i.y*Aa],a=[];if(!e)return a;for(const i of e)for(const e of i){const i=[e.x+r[0],e.y+r[1]];Ra(i,t,n,o),a.push(i)}return a}function Oa(e,t,n,i){const o=Math.pow(2,i.z)*Aa,r=[i.x*Aa,i.y*Aa],a=[];if(!e)return a;for(const n of e){const e=[];for(const i of n){const n=[i.x+r[0],i.y+r[1]];va(t,n),e.push(n)}a.push(e)}if(t[2]-t[0]<=o/2){!function(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}(t);for(const e of a)for(const i of e)Ra(i,t,n,o)}return a}class Ta{constructor(e,t){this.type=Tr,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if($r(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const n=t.features[e].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new Ta(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new Ta(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new Ta(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],o=e.canonicalID();if(!o)return!1;if("Polygon"===t.type){const r=Ga(t.coordinates,i,o),a=La(e.geometry(),n,i,o);if(!Ca(n,i))return!1;for(const e of a)if(!_a(e,r))return!1}if("MultiPolygon"===t.type){const r=ka(t.coordinates,i,o),a=La(e.geometry(),n,i,o);if(!Ca(n,i))return!1;for(const e of a)if(!wa(e,r))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],o=e.canonicalID();if(!o)return!1;if("Polygon"===t.type){const r=Ga(t.coordinates,i,o),a=Oa(e.geometry(),n,i,o);if(!Ca(n,i))return!1;for(const e of a)if(!Ma(e,r))return!1}if("MultiPolygon"===t.type){const r=ka(t.coordinates,i,o),a=Oa(e.geometry(),n,i,o);if(!Ca(n,i))return!1;for(const e of a)if(!xa(e,r))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Da=Ta;function Na(e){if(e instanceof fa){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Da)return!1;let t=!0;return e.eachChild((e=>{t&&!Na(e)&&(t=!1)})),t}function Ua(e){if(e instanceof fa&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild((e=>{t&&!Ua(e)&&(t=!1)})),t}function ja(e,t){if(e instanceof fa&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild((e=>{n&&!ja(e,t)&&(n=!1)})),n}class Ba{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new Ba(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Fa=Ba;class za{constructor(e,t=[],n,i=new kr,o=[]){this.registry=e,this.path=t,this.key=t.map((e=>`[${e}]`)).join(""),this.scope=i,this.errors=o,this.expectedType=n}parse(e,t,n,i,o={}){return t?this.concat(t,n,i)._parse(e,o):this._parse(e,o)}_parse(e,t){function n(e,t,n){return"assert"===n?new sa(t,[e]):"coerce"===n?new pa(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if("string"!=typeof i)return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let i=o.parse(e,this);if(!i)return null;if(this.expectedType){const e=this.expectedType,o=i.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==o.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==o.kind&&"string"!==o.kind){if(this.checkSubtype(e,o))return null}else i=n(i,e,t.typeAnnotation||"coerce");else i=n(i,e,t.typeAnnotation||"assert")}if(!(i instanceof ia)&&"resolvedImage"!==i.type.kind&&qa(i)){const e=new ga;try{i=new ia(i.type,i.evaluate(e))}catch(e){return this.error(e.message),null}}return i}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const i="number"==typeof e?this.path.concat(e):this.path,o=n?this.scope.concat(n):this.scope;return new za(this.registry,i,t||null,o,this.errors)}error(e,...t){const n=`${this.key}${t.map((e=>`[${e}]`)).join("")}`;this.errors.push(new xr(n,e))}checkSubtype(e,t){const n=Wr(e,t);return n&&this.error(n),n}}var Va=za;function qa(e){if(e instanceof Fa)return qa(e.boundExpression);if(e instanceof fa&&"error"===e.name)return!1;if(e instanceof ya)return!1;if(e instanceof Da)return!1;const t=e instanceof pa||e instanceof sa;let n=!0;return e.eachChild((e=>{n=t?n&&qa(e):n&&e instanceof ia})),!!n&&(Na(e)&&ja(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]))}function Wa(e,t){const n=e.length-1;let i,o,r=0,a=n,s=0;for(;r<=a;)if(s=Math.floor((r+a)/2),i=e[s],o=e[s+1],i<=t){if(s===n||t<o)return s;r=s+1}else{if(!(i>t))throw new oa("Input is not a number.");a=s-1}return 0}class Ha{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of n)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,Lr);if(!n)return null;const i=[];let o=null;t.expectedType&&"value"!==t.expectedType.kind&&(o=t.expectedType);for(let n=1;n<e.length;n+=2){const r=1===n?-1/0:e[n],a=e[n+1],s=n,l=n+1;if("number"!=typeof r)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(i.length&&i[i.length-1][0]>=r)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const c=t.parse(a,l,o);if(!c)return null;o=o||c.type,i.push([r,c])}return new Ha(o,n,i)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const o=t.length;if(i>=t[o-1])return n[o-1].evaluate(e);return n[Wa(t,i)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var Ya=Ha,Za=Ja;function Ja(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=i,this.p2x=n,this.p2y=i}Ja.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},Ja.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},Ja.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},Ja.prototype.solveCurveX=function(e,t){var n,i,o,r,a;for(void 0===t&&(t=1e-6),o=e,a=0;a<8;a++){if(r=this.sampleCurveX(o)-e,Math.abs(r)<t)return o;var s=this.sampleCurveDerivativeX(o);if(Math.abs(s)<1e-6)break;o-=r/s}if((o=e)<(n=0))return n;if(o>(i=1))return i;for(;n<i;){if(r=this.sampleCurveX(o),Math.abs(r-e)<t)return o;e>r?n=o:i=o,o=.5*(i-n)+n}return o},Ja.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var Xa=cr(Za);function Ka(e,t,n){return e*(1-n)+t*n}var Qa=Object.freeze({__proto__:null,number:Ka,color:function(e,t,n){return new Ar(Ka(e.r,t.r,n),Ka(e.g,t.g,n),Ka(e.b,t.b,n),Ka(e.a,t.a,n))},array:function(e,t,n){return e.map(((e,i)=>Ka(e,t[i],n)))}});const $a=.95047,es=1,ts=1.08883,ns=4/29,is=6/29,os=3*is*is,rs=is*is*is,as=Math.PI/180,ss=180/Math.PI;function ls(e){return e>rs?Math.pow(e,1/3):e/os+ns}function cs(e){return e>is?e*e*e:os*(e-ns)}function us(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function ds(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ps(e){const t=ds(e.r),n=ds(e.g),i=ds(e.b),o=ls((.4124564*t+.3575761*n+.1804375*i)/$a),r=ls((.2126729*t+.7151522*n+.072175*i)/es);return{l:116*r-16,a:500*(o-r),b:200*(r-ls((.0193339*t+.119192*n+.9503041*i)/ts)),alpha:e.a}}function hs(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,i=isNaN(e.b)?t:t-e.b/200;return t=es*cs(t),n=$a*cs(n),i=ts*cs(i),new Ar(us(3.2404542*n-1.5371385*t-.4985314*i),us(-.969266*n+1.8760108*t+.041556*i),us(.0556434*n-.2040259*t+1.0572252*i),e.alpha)}function gs(e,t,n){const i=t-e;return e+n*(i>180||i<-180?i-360*Math.round(i/360):i)}const ms={forward:ps,reverse:hs,interpolate:function(e,t,n){return{l:Ka(e.l,t.l,n),a:Ka(e.a,t.a,n),b:Ka(e.b,t.b,n),alpha:Ka(e.alpha,t.alpha,n)}}},fs={forward:function(e){const{l:t,a:n,b:i}=ps(e),o=Math.atan2(i,n)*ss;return{h:o<0?o+360:o,c:Math.sqrt(n*n+i*i),l:t,alpha:e.a}},reverse:function(e){const t=e.h*as,n=e.c;return hs({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:gs(e.h,t.h,n),c:Ka(e.c,t.c,n),l:Ka(e.l,t.l,n),alpha:Ka(e.alpha,t.alpha,n)}}};class ys{constructor(e,t,n,i,o){this.type=e,this.operator=t,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(const[e,t]of o)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,t,n,i){let o=0;if("exponential"===e.name)o=As(t,e.base,n,i);else if("linear"===e.name)o=As(t,1,n,i);else if("cubic-bezier"===e.name){const r=e.controlPoints;o=new Xa(r[0],r[1],r[2],r[3]).solve(As(t,1,n,i))}return o}static parse(e,t){let[n,i,o,...r]=e;if(!Array.isArray(i)||0===i.length)return t.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){const e=i[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:e}}else{if("cubic-bezier"!==i[0])return t.error(`Unknown interpolation type ${String(i[0])}`,1,0);{const e=i.slice(1);if(4!==e.length||e.some((e=>"number"!=typeof e||e<0||e>1)))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,Lr),!o)return null;const a=[];let s=null;"interpolate-hcl"===n||"interpolate-lab"===n?s=Dr:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<r.length;e+=2){const n=r[e],i=r[e+1],o=e+3,l=e+4;if("number"!=typeof n)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',o);if(a.length&&a[a.length-1][0]>=n)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',o);const c=t.parse(i,l,s);if(!c)return null;s=s||c.type,a.push([n,c])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new ys(s,n,i,o,a):t.error(`Type ${Vr(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const o=t.length;if(i>=t[o-1])return n[o-1].evaluate(e);const r=Wa(t,i),a=t[r],s=t[r+1],l=ys.interpolationFactor(this.interpolation,i,a,s),c=n[r].evaluate(e),u=n[r+1].evaluate(e);return"interpolate"===this.operator?Qa[this.type.kind.toLowerCase()](c,u,l):"interpolate-hcl"===this.operator?fs.reverse(fs.interpolate(fs.forward(c),fs.forward(u),l)):ms.reverse(ms.interpolate(ms.forward(c),ms.forward(u),l))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function As(e,t,n,i){const o=i-n,r=e-n;return 0===o?0:1===t?r/o:(Math.pow(t,r)-1)/(Math.pow(t,o)-1)}var vs=ys;class Cs{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const i=t.expectedType;i&&"value"!==i.kind&&(n=i);const o=[];for(const i of e.slice(1)){const e=t.parse(i,1+o.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,o.push(e)}const r=i&&o.some((e=>Wr(i,e.type)));return new Cs(r?Ur:n,o)}evaluate(e){let t,n=null,i=0;for(const o of this.args){if(i++,n=o.evaluate(e),n&&n instanceof Kr&&!n.available&&(t||(t=n),n=null,i===this.args.length))return t;if(null!==n)break}return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=["coalesce"];return this.eachChild((t=>{e.push(t.serialize())})),e}}var bs=Cs;class Is{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let i=1;i<e.length-1;i+=2){const o=e[i];if("string"!=typeof o)return t.error(`Expected string, but found ${typeof o} instead.`,i);if(/[^a-zA-Z0-9_]/.test(o))return t.error("Variable names must contain only alphanumeric characters or '_'.",i);const r=t.parse(e[i+1],i+1);if(!r)return null;n.push([o,r])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return i?new Is(n,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,n]of this.bindings)e.push(t,n.serialize());return e.push(this.result.serialize()),e}}var _s=Is;class ws{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Lr),i=t.parse(e[2],2,zr(t.expectedType||Ur));if(!n||!i)return null;const o=i.type;return new ws(o.itemType,n,i)}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new oa(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new oa(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new oa(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Es=ws;class Ss{constructor(e,t){this.type=Tr,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Ur),i=t.parse(e[2],2,Ur);return n&&i?Hr(n.type,[Tr,Or,Lr,Rr,Ur])?new Ss(n,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Vr(n.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(null==n)return!1;if(!Yr(t,["boolean","string","number","null"]))throw new oa(`Expected first argument to be of type boolean, string, number or null, but found ${Vr(ea(t))} instead.`);if(!Yr(n,["string","array"]))throw new oa(`Expected second argument to be of type array or string, but found ${Vr(ea(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Ps=Ss;class Ms{constructor(e,t,n){this.type=Lr,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Ur),i=t.parse(e[2],2,Ur);if(!n||!i)return null;if(!Hr(n.type,[Tr,Or,Lr,Rr,Ur]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Vr(n.type)} instead`);if(4===e.length){const o=t.parse(e[3],3,Lr);return o?new Ms(n,i,o):null}return new Ms(n,i)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Yr(t,["boolean","string","number","null"]))throw new oa(`Expected first argument to be of type boolean, string, number or null, but found ${Vr(ea(t))} instead.`);if(!Yr(n,["string","array"]))throw new oa(`Expected second argument to be of type array or string, but found ${Vr(ea(n))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(e);return n.indexOf(t,i)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var xs=Ms;class Gs{constructor(e,t,n,i,o,r){this.inputType=e,this.type=t,this.input=n,this.cases=i,this.outputs=o,this.otherwise=r}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,i;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);const o={},r=[];for(let a=2;a<e.length-1;a+=2){let s=e[a];const l=e[a+1];Array.isArray(s)||(s=[s]);const c=t.concat(a);if(0===s.length)return c.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,ea(e)))return null}else n=ea(e);if(void 0!==o[String(e)])return c.error("Branch labels must be unique.");o[String(e)]=r.length}const u=t.parse(l,a,i);if(!u)return null;i=i||u.type,r.push(u)}const a=t.parse(e[1],1,Ur);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,i);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(n,a.type)?null:new Gs(n,i,a,o,r,s):null}evaluate(e){const t=this.input.evaluate(e);return(ea(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),n=[],i={};for(const e of t){const t=i[this.cases[e]];void 0===t?(i[this.cases[e]]=n.length,n.push([this.cases[e],[e]])):n[t][1].push(e)}const o=e=>"number"===this.inputType.kind?Number(e):e;for(const[t,i]of n)1===i.length?e.push(o(i[0])):e.push(i.map(o)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}var ks=Gs;class Rs{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const i=[];for(let o=1;o<e.length-1;o+=2){const r=t.parse(e[o],o,Tr);if(!r)return null;const a=t.parse(e[o+1],o+1,n);if(!a)return null;i.push([r,a]),n=n||a.type}const o=t.parse(e[e.length-1],e.length-1,n);return o?new Rs(n,i,o):null}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every((([e,t])=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild((t=>{e.push(t.serialize())})),e}}var Ls=Rs;class Os{constructor(e,t,n,i){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Ur),i=t.parse(e[2],2,Lr);if(!n||!i)return null;if(!Hr(n.type,[zr(Ur),Or,Ur]))return t.error(`Expected first argument to be of type array or string, but found ${Vr(n.type)} instead`);if(4===e.length){const o=t.parse(e[3],3,Lr);return o?new Os(n.type,n,i,o):null}return new Os(n.type,n,i)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Yr(t,["string","array"]))throw new oa(`Expected first argument to be of type array or string, but found ${Vr(ea(t))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(e);return t.slice(n,i)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Ts=Os;function Ds(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Ns(e,t,n,i){return 0===i.compare(t,n)}function Us(e,t,n){const i="=="!==e&&"!="!==e;return class o{constructor(e,t,n){this.type=Tr,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let r=t.parse(e[1],1,Ur);if(!r)return null;if(!Ds(n,r.type))return t.concat(1).error(`"${n}" comparisons are not supported for type '${Vr(r.type)}'.`);let a=t.parse(e[2],2,Ur);if(!a)return null;if(!Ds(n,a.type))return t.concat(2).error(`"${n}" comparisons are not supported for type '${Vr(a.type)}'.`);if(r.type.kind!==a.type.kind&&"value"!==r.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${Vr(r.type)}' and '${Vr(a.type)}'.`);i&&("value"===r.type.kind&&"value"!==a.type.kind?r=new sa(a.type,[r]):"value"!==r.type.kind&&"value"===a.type.kind&&(a=new sa(r.type,[a])));let s=null;if(4===e.length){if("string"!==r.type.kind&&"string"!==a.type.kind&&"value"!==r.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,jr),!s)return null}return new o(r,a,s)}evaluate(o){const r=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(i&&this.hasUntypedArgument){const t=ea(r),n=ea(a);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new oa(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${n.kind}) instead.`)}if(this.collator&&!i&&this.hasUntypedArgument){const e=ea(r),n=ea(a);if("string"!==e.kind||"string"!==n.kind)return t(o,r,a)}return this.collator?n(o,r,a,this.collator.evaluate(o)):t(o,r,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild((e=>{t.push(e.serialize())})),t}}}const js=Us("==",(function(e,t,n){return t===n}),Ns),Bs=Us("!=",(function(e,t,n){return t!==n}),(function(e,t,n,i){return!Ns(0,t,n,i)})),Fs=Us("<",(function(e,t,n){return t<n}),(function(e,t,n,i){return i.compare(t,n)<0})),zs=Us(">",(function(e,t,n){return t>n}),(function(e,t,n,i){return i.compare(t,n)>0})),Vs=Us("<=",(function(e,t,n){return t<=n}),(function(e,t,n,i){return i.compare(t,n)<=0})),qs=Us(">=",(function(e,t,n){return t>=n}),(function(e,t,n,i){return i.compare(t,n)>=0}));class Ws{constructor(e,t,n,i,o,r){this.type=Or,this.number=e,this.locale=t,this.currency=n,this.unit=i,this.minFractionDigits=o,this.maxFractionDigits=r}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,Lr);if(!n)return null;const i=e[2];if("object"!=typeof i||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=t.parse(i.locale,1,Or),!o))return null;let r=null;if(i.currency&&(r=t.parse(i.currency,1,Or),!r))return null;let a=null;if(i.unit&&(a=t.parse(i.unit,1,Or),!a))return null;let s=null;if(i["min-fraction-digits"]&&(s=t.parse(i["min-fraction-digits"],1,Lr),!s))return null;let l=null;return i["max-fraction-digits"]&&(l=t.parse(i["max-fraction-digits"],1,Lr),!l)?null:new Ws(n,o,r,a,s,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class Hs{constructor(e){this.type=Lr,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error(`Expected argument of type string or array, but found ${Vr(n.type)} instead.`):new Hs(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new oa(`Expected value to be of type string or array, but found ${Vr(ea(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild((t=>{e.push(t.serialize())})),e}}const Ys={"==":js,"!=":Bs,">":zs,"<":Fs,">=":qs,"<=":Vs,array:sa,at:Es,boolean:sa,case:Ls,coalesce:bs,collator:ya,format:la,image:ca,in:Ps,"index-of":xs,interpolate:vs,"interpolate-hcl":vs,"interpolate-lab":vs,length:Hs,let:_s,literal:ia,match:ks,number:sa,"number-format":Ws,object:sa,slice:Ts,step:Ya,string:sa,"to-boolean":pa,"to-color":pa,"to-number":pa,"to-string":pa,var:Fa,within:Da};function Zs(e,[t,n,i,o]){t=t.evaluate(e),n=n.evaluate(e),i=i.evaluate(e);const r=o?o.evaluate(e):1,a=Qr(t,n,i,r);if(a)throw new oa(a);return new Ar(t/255*r,n/255*r,i/255*r,r)}function Js(e,t){return e in t}function Xs(e,t){const n=t[e];return void 0===n?null:n}function Ks(e){return{type:e}}fa.register(Ys,{error:[{kind:"error"},[Or],(e,[t])=>{throw new oa(t.evaluate(e))}],typeof:[Or,[Ur],(e,[t])=>Vr(ea(t.evaluate(e)))],"to-rgba":[zr(Lr,4),[Dr],(e,[t])=>t.evaluate(e).toArray()],rgb:[Dr,[Lr,Lr,Lr],Zs],rgba:[Dr,[Lr,Lr,Lr,Lr],Zs],has:{type:Tr,overloads:[[[Or],(e,[t])=>Js(t.evaluate(e),e.properties())],[[Or,Nr],(e,[t,n])=>Js(t.evaluate(e),n.evaluate(e))]]},get:{type:Ur,overloads:[[[Or],(e,[t])=>Xs(t.evaluate(e),e.properties())],[[Or,Nr],(e,[t,n])=>Xs(t.evaluate(e),n.evaluate(e))]]},"feature-state":[Ur,[Or],(e,[t])=>Xs(t.evaluate(e),e.featureState||{})],properties:[Nr,[],e=>e.properties()],"geometry-type":[Or,[],e=>e.geometryType()],id:[Ur,[],e=>e.id()],zoom:[Lr,[],e=>e.globals.zoom],pitch:[Lr,[],e=>e.globals.pitch||0],"distance-from-center":[Lr,[],e=>e.distanceFromCenter()],"heatmap-density":[Lr,[],e=>e.globals.heatmapDensity||0],"line-progress":[Lr,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[Lr,[],e=>e.globals.skyRadialProgress||0],accumulated:[Ur,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[Lr,Ks(Lr),(e,t)=>{let n=0;for(const i of t)n+=i.evaluate(e);return n}],"*":[Lr,Ks(Lr),(e,t)=>{let n=1;for(const i of t)n*=i.evaluate(e);return n}],"-":{type:Lr,overloads:[[[Lr,Lr],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[Lr],(e,[t])=>-t.evaluate(e)]]},"/":[Lr,[Lr,Lr],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[Lr,[Lr,Lr],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[Lr,[],()=>Math.LN2],pi:[Lr,[],()=>Math.PI],e:[Lr,[],()=>Math.E],"^":[Lr,[Lr,Lr],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[Lr,[Lr],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[Lr,[Lr],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[Lr,[Lr],(e,[t])=>Math.log(t.evaluate(e))],log2:[Lr,[Lr],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[Lr,[Lr],(e,[t])=>Math.sin(t.evaluate(e))],cos:[Lr,[Lr],(e,[t])=>Math.cos(t.evaluate(e))],tan:[Lr,[Lr],(e,[t])=>Math.tan(t.evaluate(e))],asin:[Lr,[Lr],(e,[t])=>Math.asin(t.evaluate(e))],acos:[Lr,[Lr],(e,[t])=>Math.acos(t.evaluate(e))],atan:[Lr,[Lr],(e,[t])=>Math.atan(t.evaluate(e))],min:[Lr,Ks(Lr),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[Lr,Ks(Lr),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[Lr,[Lr],(e,[t])=>Math.abs(t.evaluate(e))],round:[Lr,[Lr],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[Lr,[Lr],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[Lr,[Lr],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[Tr,[Or,Ur],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[Tr,[Ur],(e,[t])=>e.id()===t.value],"filter-type-==":[Tr,[Or],(e,[t])=>e.geometryType()===t.value],"filter-<":[Tr,[Or,Ur],(e,[t,n])=>{const i=e.properties()[t.value],o=n.value;return typeof i==typeof o&&i<o}],"filter-id-<":[Tr,[Ur],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n<i}],"filter->":[Tr,[Or,Ur],(e,[t,n])=>{const i=e.properties()[t.value],o=n.value;return typeof i==typeof o&&i>o}],"filter-id->":[Tr,[Ur],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n>i}],"filter-<=":[Tr,[Or,Ur],(e,[t,n])=>{const i=e.properties()[t.value],o=n.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[Tr,[Ur],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n<=i}],"filter->=":[Tr,[Or,Ur],(e,[t,n])=>{const i=e.properties()[t.value],o=n.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[Tr,[Ur],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n>=i}],"filter-has":[Tr,[Ur],(e,[t])=>t.value in e.properties()],"filter-has-id":[Tr,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[Tr,[zr(Or)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[Tr,[zr(Ur)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[Tr,[Or,zr(Ur)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[Tr,[Or,zr(Ur)],(e,[t,n])=>function(e,t,n,i){for(;n<=i;){const o=n+i>>1;if(t[o]===e)return!0;t[o]>e?i=o-1:n=o+1}return!1}(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:Tr,overloads:[[[Tr,Tr],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[Ks(Tr),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:Tr,overloads:[[[Tr,Tr],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[Ks(Tr),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[Tr,[Tr],(e,[t])=>!t.evaluate(e)],"is-supported-script":[Tr,[Or],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return!n||n(t.evaluate(e))}],upcase:[Or,[Or],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[Or,[Or],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[Or,Ks(Ur),(e,t)=>t.map((t=>ta(t.evaluate(e)))).join("")],"resolved-locale":[Or,[jr],(e,[t])=>t.evaluate(e).resolvedLocale()]});var Qs=Ys;function $s(e){return{result:"success",value:e}}function el(e){return{result:"error",value:e}}function tl(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}class nl{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new ga,this._defaultValue=t?function(e){return"color"===e.type&&(tl(e.default)||Array.isArray(e.default))?new Ar(0,0,0,0):"color"===e.type?Ar.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,i,o,r,a,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=r,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,i,o,r,a,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=r||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new oa(`Expected value to be one of ${Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function il(e,t){const n=new Va(Qs,[],t?function(e){const t={color:Dr,string:Or,number:Lr,enum:Or,boolean:Tr,formatted:Br,resolvedImage:Fr};if("array"===e.type)return zr(t[e.value]||Ur,e.length);return t[e.type]}(t):void 0),i=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return i?$s(new nl(i,t)):el(n.errors)}class rl{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Ua(t.expression)}evaluateWithoutErrorHandling(e,t,n,i,o,r){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,o,r)}evaluate(e,t,n,i,o,r){return this._styleExpression.evaluate(e,t,n,i,o,r)}}class al{constructor(e,t,n,i){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Ua(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,n,i,o,r){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,o,r)}evaluate(e,t,n,i,o,r){return this._styleExpression.evaluate(e,t,n,i,o,r)}interpolationFactor(e,t,n){return this.interpolationType?vs.interpolationFactor(this.interpolationType,e,t,n):0}}function sl(e,t){if("error"===(e=il(e,t)).result)return e;const n=e.value.expression,i=Na(n);if(!i&&!function(e){return"data-driven"===e["property-type"]}(t))return el([new xr("","data expressions not supported")]);const o=ja(n,["zoom","pitch","distance-from-center"]);if(!o&&!function(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}(t))return el([new xr("","zoom expressions not supported")]);const r=ll(n);if(!r&&!o)return el([new xr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(r instanceof xr)return el([r]);if(r instanceof vs&&!function(e){return!!e.expression&&e.expression.interpolated}(t))return el([new xr("",'"interpolate" expressions cannot be used with this property')]);if(!r)return $s(new rl(i?"constant":"source",e.value));const a=r instanceof vs?r.interpolation:void 0;return $s(new al(i?"camera":"composite",e.value,r.labels,a))}function ll(e){let t=null;if(e instanceof _s)t=ll(e.result);else if(e instanceof bs){for(const n of e.args)if(t=ll(n),t)break}else(e instanceof Ya||e instanceof vs)&&e.input instanceof fa&&"zoom"===e.input.name&&(t=e);return t instanceof xr||e.eachChild((e=>{const n=ll(e);n instanceof xr?t=n:!t&&n?t=new xr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new xr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function cl(e){if(Array.isArray(e))return e.map(cl);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=cl(e[n]);return t}return function(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}(e)}var ul={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["fill-extrusion-edge-radius"]}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};function dl(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!dl(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}function pl(e,t="fill"){if(null==e)return{filter:()=>!0,needGeometry:!1,needFeature:!1};dl(e)||(e=vl(e));const n=e;let i=!0;try{i=function(e){if(!ml(e))return e;let t=cl(e);return gl(t),t=hl(t),t}(n)}catch(e){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(n,null,2)}\n        `)}const o=ul[`filter_${t}`],r=il(i,o);let a=null;if("error"===r.result)throw new Error(r.value.map((e=>`${e.key}: ${e.message}`)).join(", "));a=(e,t,n)=>r.value.evaluate(e,t,{},n);let s=null,l=null;if(i!==n){const e=il(n,o);if("error"===e.result)throw new Error(e.value.map((e=>`${e.key}: ${e.message}`)).join(", "));s=(t,n,i,o,r)=>e.value.evaluate(t,n,{},i,void 0,void 0,o,r),l=!Na(e.value.expression)}return{filter:a,dynamicFilter:s||void 0,needGeometry:Al(i),needFeature:!!l}}function hl(e){if(!Array.isArray(e))return e;const t=function(e){if(fl.has(e[0]))for(let t=1;t<e.length;t++){if(ml(e[t]))return!0}return e}(e);return!0===t?t:t.map((e=>hl(e)))}function gl(e){let t=!1;const n=[];if("case"===e[0]){for(let i=1;i<e.length-1;i+=2)t=t||ml(e[i]),n.push(e[i+1]);n.push(e[e.length-1])}else if("match"===e[0]){t=t||ml(e[1]);for(let t=2;t<e.length-1;t+=2)n.push(e[t+1]);n.push(e[e.length-1])}else if("step"===e[0]){t=t||ml(e[1]);for(let t=1;t<e.length-1;t+=2)n.push(e[t+1])}t&&(e.length=0,e.push("any",...n));for(let t=1;t<e.length;t++)gl(e[t])}function ml(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;var t;for(let t=1;t<e.length;t++){if(ml(e[t]))return!0}return!1}const fl=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function yl(e,t){return e<t?-1:e>t?1:0}function Al(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(Al(e[t]))return!0;return!1}function vl(e){if(!e)return!0;const t=e[0];if(e.length<=1)return"any"!==t;var n;return"=="===t?Cl(e[1],e[2],"=="):"!="===t?_l(Cl(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?Cl(e[1],e[2],t):"any"===t?(n=e.slice(1),["any"].concat(n.map(vl))):"all"===t?["all"].concat(e.slice(1).map(vl)):"none"===t?["all"].concat(e.slice(1).map(vl).map(_l)):"in"===t?bl(e[1],e.slice(2)):"!in"===t?_l(bl(e[1],e.slice(2))):"has"===t?Il(e[1]):"!has"===t?_l(Il(e[1])):"within"!==t||e}function Cl(e,t,n){switch(e){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,e,t]}}function bl(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((e=>typeof e!=typeof t[0]))?["filter-in-large",e,["literal",t.sort(yl)]]:["filter-in-small",e,["literal",t]]}}function Il(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function _l(e){return["!",e]}var wl=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function El(e,t){const n={};for(const t in e)"ref"!==t&&(n[t]=e[t]);return wl.forEach((e=>{e in t&&(n[e]=t[e])})),n}function Sl(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=El(e[n],t[e[n].ref]));return e}var Pl={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},Ml=" ",xl=/(italic|oblique)$/i,Gl={},kl=cr((function(e,t,n){var i=Gl[e];if(!i){Array.isArray(e)||(e=[e]);for(var o,r,a=400,s="normal",l=[],c=0,u=e.length;c<u;++c){var d=e[c].split(" "),p=d[d.length-1].toLowerCase();for(var h in"normal"==p||"italic"==p||"oblique"==p?(s=r?s:p,r=!0,d.pop(),p=d[d.length-1].toLowerCase()):xl.test(p)&&(p=p.replace(xl,""),s=r?s:d[d.length-1].replace(p,""),r=!0),Pl){var g=d.length>1?d[d.length-2].toLowerCase():"";if(p==h||p==h.replace("-","")||g+"-"+p==h){a=o?a:Pl[h],d.pop(),g&&h.startsWith(g)&&d.pop();break}}o||"number"!=typeof p||(a=p,o=!0);var m=d.join(Ml).replace("Klokantech Noto Sans","Noto Sans");-1!==m.indexOf(Ml)&&(m='"'+m+'"'),l.push(m)}i=Gl[e]=[s,a,l]}return i[0]+Ml+i[1]+Ml+t+"px"+(n?"/"+n:"")+Ml+i[2]}));const Rl="https://api.mapbox.com";function Ll(e){const t="mapbox://";return 0!==e.indexOf(t)?"":e.slice(9)}function Ol(e,t){const n=Ll(e);if(!n)return decodeURI(new URL(e,location.href).href);const i="styles/";if(0!==n.indexOf(i))throw new Error(`unexpected style url: ${e}`);const o=n.slice(7);return`${Rl}/styles/v1/${o}?&access_token=${t}`}function Tl(e,t,n,i){const o=new URL(e,i),r=Ll(e);if(!r)return t?(o.searchParams.has(n)||o.searchParams.set(n,t),decodeURI(o.href)):decodeURI(o.href);if("mapbox.satellite"===r){return`https://api.mapbox.com/v4/${r}/{z}/{x}/{y}${window.devicePixelRatio>=1.5?"@2x":""}.webp?access_token=${t}`}return`https://{a-d}.tiles.mapbox.com/v4/${r}/{z}/{x}/{y}.vector.pbf?access_token=${t}`}const Dl={},Nl={};let Ul=0;function jl(e){return e.id||(e.id=Ul++),e.id}function Bl(e,t){return jl(e)+"."+(0,nr.getUid)(t)}function Fl(e){let t=Dl[e.id];return t||(t={},Dl[jl(e)]=t),t}function zl(e){let t=Nl[e.id];return t||(t={},Nl[jl(e)]=t),t}function Vl(e){return e*Math.PI/180}const ql=function(){const e=[];for(let t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function Wl(e,t){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);const n=document.createElement("canvas");return n.width=e,n.height=t,n}function Hl(e,t){let n=0;const i=t.length;for(;n<i;++n){if(t[n]<e&&n+1<i){const i=t[n]/t[n+1];return n+Math.log(t[n]/e)/Math.log(i)}}return i-1}function Yl(e,t){const n=Math.floor(e),i=Math.pow(2,e-n);return t[n]/i}const Zl={};function Jl(e,t,n={},i){if(t in Zl)return i&&(i.request=Zl[t][0]),Zl[t][1];const o=n.transformRequest&&n.transformRequest(t,e)||t,r=(0,Ko.toPromise)((()=>o)).then((e=>(e instanceof Request||(e=new Request(e)),e.headers.get("Accept")||e.headers.set("Accept","application/json"),i&&(i.request=e),fetch(e).then((function(e){return delete Zl[t],e.ok?e.json():Promise.reject(new Error("Error fetching source "+t))})).catch((function(e){return delete Zl[t],Promise.reject(new Error("Error fetching source "+t))})))));return Zl[t]=[o,r],r}function Xl(e,t){if("string"!=typeof e)return Promise.resolve(e);if(!e.trim().startsWith("{"))return Jl("Style",e=Ol(e,t.accessToken),t);try{const t=JSON.parse(e);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}const Kl={};function Ql(e,t,n={}){const i=[t,JSON.stringify(e)].toString();let o=Kl[i];if(!o||n.transformRequest){let r;n.transformRequest&&(r=(e,t)=>{const i=n.transformRequest&&n.transformRequest(t,"Tiles")||t;if(e instanceof er.VectorTile)e.setLoader(((t,n,o)=>{(0,Ko.toPromise)((()=>i)).then((n=>{fetch(n).then((e=>e.arrayBuffer())).then((n=>{const i=e.getFormat().readFeatures(n,{extent:t,featureProjection:o});e.setFeatures(i)})).catch((t=>e.setState($o.ERROR)))}))}));else{const t=e.getImage();(0,Ko.toPromise)((()=>i)).then((n=>{n instanceof Request?fetch(n).then((e=>e.blob())).then((e=>{const n=URL.createObjectURL(e);t.addEventListener("load",(()=>URL.revokeObjectURL(n))),t.addEventListener("error",(()=>URL.revokeObjectURL(n))),t.src=n})).catch((t=>e.setState($o.ERROR))):t.src=n}))}});const a=e.url;if(a&&!e.tiles){const i=Tl(a,n.accessToken,n.accessTokenParam||"access_token",t||location.href);if(a.startsWith("mapbox://"))o=Promise.resolve({tileJson:Object.assign({},e,{url:void 0,tiles:(0,tr.expandUrl)(i)}),tileLoadFunction:r});else{const e={};o=Jl("Source",i,n,e).then((function(t){return t.tiles=t.tiles.map((function(i){return"tms"===t.scheme&&(i=i.replace("{y}","{-y}")),Tl(i,n.accessToken,n.accessTokenParam||"access_token",e.request.url)})),Promise.resolve({tileJson:t,tileLoadFunction:r})}))}}else e=Object.assign({},e,{tiles:e.tiles.map((function(i){return"tms"===e.scheme&&(i=i.replace("{y}","{-y}")),Tl(i,n.accessToken,n.accessTokenParam||"access_token",t||location.href)}))}),o=Promise.resolve({tileJson:Object.assign({},e),tileLoadFunction:r});Kl[i]=o}return o}function $l(e,t,n,i){const o=[2*n*t.pixelRatio+t.width,2*n*t.pixelRatio+t.height],r=Wl(o[0],o[1]),a=r.getContext("2d");a.drawImage(e,t.x,t.y,t.width,t.height,n*t.pixelRatio,n*t.pixelRatio,t.width,t.height);const s=a.getImageData(0,0,o[0],o[1]);a.globalCompositeOperation="destination-over",a.fillStyle=`rgba(${255*i.r},${255*i.g},${255*i.b},${i.a})`;const l=s.data;for(let e=0,i=s.width;e<i;++e)for(let o=0,r=s.height;o<r;++o){l[4*(o*i+e)+3]>0&&a.arc(e,o,n*t.pixelRatio,0,2*Math.PI)}return a.fill(),r}function ec(e,t,n){const i=Math.max(0,Math.min(1,(n-e)/(t-e)));return i*i*(3-2*i)}function tc(e,t,n){const i=Wl(t.width,t.height),o=i.getContext("2d");o.drawImage(e,t.x,t.y,t.width,t.height,0,0,t.width,t.height);const r=o.getImageData(0,0,t.width,t.height),a=r.data;for(let e=0,t=r.width;e<t;++e)for(let i=0,o=r.height;i<o;++i){const o=4*(i*t+e),r=.75,s=.1,l=ec(r-s,r+s,a[o+3]/255);l>0?(a[o+0]=Math.round(255*n.r*l),a[o+1]=Math.round(255*n.g*l),a[o+2]=Math.round(255*n.b*l),a[o+3]=Math.round(255*l)):a[o+3]=0}return o.putImageData(r,0,0),i}const nc=Array(256).join("â€Š");function ic(e,t){if(t>=.05){let n="";const i=e.split("\n"),o=nc.slice(0,Math.round(t/.1));for(let e=0,t=i.length;e<t;++e)e>0&&(n+="\n"),n+=i[e].split("").join(o);return n}return e}let oc;function rc(){return oc||(oc=Wl(1,1).getContext("2d")),oc}function ac(e,t){return rc().measureText(e).width+(e.length-1)*t}const sc={};function lc(e,t,n,i){if(-1!==e.indexOf("\n")){const o=e.split("\n"),r=[];for(let e=0,a=o.length;e<a;++e)r.push(lc(o[e],t,n,i));return r.join("\n")}const o=n+","+t+","+e+","+i;let r=sc[o];if(!r){const a=e.split(" ");if(a.length>1){const e=rc();e.font=t;const o=e.measureText("M").width*n;let s="";const l=[];for(let e=0,t=a.length;e<t;++e){const t=a[e],n=s+(s?" ":"")+t;ac(n,i)<=o?s=n:(s&&l.push(s),s=t)}s&&l.push(s);for(let e=0,t=l.length;e<t&&t>1;++e){const n=l[e];if(ac(n,i)<.35*o){const o=e>0?ac(l[e-1],i):1/0,r=e<t-1?ac(l[e+1],i):1/0;l.splice(e,1),t-=1,o<r?(l[e-1]+=" "+n,e-=1):l[e]=n+" "+l[e]}}for(let e=0,t=l.length-1;e<t;++e){const n=l[e],r=l[e+1];if(ac(n,i)>.7*o&&ac(r,i)<.6*o){const a=n.split(" "),s=a.pop();ac(s,i)<.2*o&&(l[e]=a.join(" "),l[e+1]=s+" "+r),t-=1}}r=l.join("\n")}else r=e;r=ic(r,i),sc[o]=r}return r}const cc=/font-family: ?([^;]*);/,uc=/("|')/g;let dc;function pc(e){if(!dc){dc={};const e=document.styleSheets;for(let t=0,n=e.length;t<n;++t){const n=e[t];try{const e=n.rules||n.cssRules;if(e)for(let t=0,n=e.length;t<n;++t){const n=e[t];if(5==n.type){const e=n.cssText.match(cc);dc[e[1].replace(uc,"")]=!0}}}catch(e){}}}return e in dc}const hc={};const gc={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},mc={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},fc=function(e,t){const n=sl(e,t);if("error"===n.result)throw new Error(n.value.map((e=>`${e.key}: ${e.message}`)).join(", "));return n.value},yc={},Ac={zoom:0};let vc,Cc;function bc(e,t,n,i,o,r,a){const s=e.id;r||(r={},console.warn("No functionCache provided to getValue()")),r[s]||(r[s]={});const l=r[s];if(!l[n]){let i=(e[t]||yc)[n];const o=ul[`${t}_${e.type}`][n];void 0===i&&(i=o.default);let r=(c=i,Array.isArray(c)&&c.length>0&&"string"==typeof c[0]&&c[0]in Qs);if(!r&&tl(i)&&(i=Cr(i,o),r=!0),r){const e=fc(i,o);l[n]=e.evaluate.bind(e)}else"color"==o.type&&(i=Ar.parse(i)),l[n]=function(){return i}}var c;return Ac.zoom=i,l[n](Ac,o,a)}function Ic(e,t,n,i,o){if(!bc(e,"layout",`${i}-allow-overlap`,t,n,o))return"declutter";return bc(e,"layout",`${i}-ignore-placement`,t,n,o)?"none":"obstacle"}function _c(e,t,n,i,o){return o||console.warn("No filterCache provided to evaluateFilter()"),e in o||(o[e]=pl(t).filter),Ac.zoom=i,o[e](Ac,n)}let wc=!1;function Ec(e,t){if(e){if(!wc&&(0===e.a||0===t))return;const n=e.a;return t=void 0===t?1:t,0===n?"transparent":"rgba("+Math.round(255*e.r/n)+","+Math.round(255*e.g/n)+","+Math.round(255*e.b/n)+","+n*t+")"}return e}const Sc=/\{[^{}}]*\}/g;function Pc(e,t){return e.replace(Sc,(function(e){return t[e.slice(1,-1)]||""}))}let Mc=!1;const xc={};function Gc(e,t,n,i=ql,o=void 0,r=void 0,a=void 0,s=void 0){if("string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw new Error("glStyle version 8 required.");let l,c,u;if(xc[Bl(t,e)]=Array.from(arguments),r)if("undefined"!=typeof Image){const t=new Image;let n;(0,Ko.toPromise)((()=>r)).then((e=>{e instanceof Request?fetch(e).then((e=>e.blob())).then((e=>{n=URL.createObjectURL(e),t.src=n})).catch((()=>{})):(t.crossOrigin="anonymous",t.src=e,n&&URL.revokeObjectURL(n))})),t.onload=function(){l=t,c=[t.width,t.height],e.changed(),t.onload=null}}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){const e=self;e.postMessage({action:"loadImage",src:r}),e.addEventListener("message",(function(e){"imageLoaded"===e.data.action&&e.data.src===r&&(l=e.data.image,c=[l.width,l.height])}))}const d=Sl(t.layers),p={},h=[],g={},m={},f=Fl(t),y=zl(t);let A;for(let e=0,i=d.length;e<i;++e){const i=d[e],o=i.id;if("string"==typeof n&&i.source==n||Array.isArray(n)&&-1!==n.indexOf(o)){const n=i["source-layer"];if(A){if(i.source!==A)throw new Error(`Layer "${o}" does not use source "${A}`)}else{A=i.source;const e=t.sources[A];if(!e)throw new Error(`Source "${A}" is not defined`);const n=e.type;if("vector"!==n&&"geojson"!==n)throw new Error(`Source "${A}" is not of type "vector" or "geojson", but "${n}"`)}let r=p[n];r||(r=[],p[n]=r),r.push({layer:i,index:e}),h.push(o)}}const v=new Bt,C=new Ut,b=[],I=function(n,r,d){const h=n.getProperties(),A=p[h.layer];if(!A)return;let I=i.indexOf(r);-1==I&&(I=Hl(r,i));const _=gc[n.getGeometry().getType()],w={id:n.getId(),properties:h,type:_},E=e.get("mapbox-featurestate")[n.getId()];let S,P=-1;for(let i=0,p=A.length;i<p;++i){const p=A[i],M=p.layer,x=M.id;if(void 0!==d&&d!==x)continue;const G=M.layout||yc,k=M.paint||yc;if("none"===G.visibility||"minzoom"in M&&I<M.minzoom||"maxzoom"in M&&I>=M.maxzoom)continue;const R=M.filter;if(!R||_c(x,R,w,I,y)){let i,d,y,A,x,R;S=M;const L=p.index;if(3==_&&("fill"==M.type||"fill-extrusion"==M.type))if(d=bc(M,"paint",M.type+"-opacity",I,w,f,E),M.type+"-pattern"in k){const e=bc(M,"paint",M.type+"-pattern",I,w,f,E);if(e){const t="string"==typeof e?Pc(e,h):e.toString();if(l&&o&&o[t]){++P,R=b[P],R&&R.getFill()&&!R.getStroke()&&!R.getText()||(R=new Rt({fill:new Ut}),b[P]=R),y=R.getFill(),R.setZIndex(L);const e=t+"."+d;let n=m[e];if(!n){const i=o[t],r=Wl(i.width,i.height),a=r.getContext("2d");a.globalAlpha=d,a.drawImage(l,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n=a.createPattern(r,"repeat"),m[e]=n}y.setColor(n)}}}else i=Ec(bc(M,"paint",M.type+"-color",I,w,f,E),d),M.type+"-outline-color"in k&&(x=Ec(bc(M,"paint",M.type+"-outline-color",I,w,f,E),d)),x||(x=i),(i||x)&&(++P,R=b[P],(!R||i&&!R.getFill()||!i&&R.getFill()||x&&!R.getStroke()||!x&&R.getStroke()||R.getText())&&(R=new Rt({fill:i?new Ut:void 0,stroke:x?new Bt:void 0}),b[P]=R),i&&(y=R.getFill(),y.setColor(i)),x&&(A=R.getStroke(),A.setColor(x),A.setWidth(.5)),R.setZIndex(L));if(1!=_&&"line"==M.type){i="line-pattern"in k?void 0:Ec(bc(M,"paint","line-color",I,w,f,E),bc(M,"paint","line-opacity",I,w,f,E));const e=bc(M,"paint","line-width",I,w,f,E);i&&e>0&&(++P,R=b[P],R&&R.getStroke()&&!R.getFill()&&!R.getText()||(R=new Rt({stroke:new Bt}),b[P]=R),A=R.getStroke(),A.setLineCap(bc(M,"layout","line-cap",I,w,f,E)),A.setLineJoin(bc(M,"layout","line-join",I,w,f,E)),A.setMiterLimit(bc(M,"layout","line-miter-limit",I,w,f,E)),A.setColor(i),A.setWidth(e),A.setLineDash(k["line-dasharray"]?bc(M,"paint","line-dasharray",I,w,f,E).map((function(t){return t*e})):null),R.setZIndex(L))}let O,T,D,N,U,j,B,F,z,V=!1,q=null,W=0;if((1==_||2==_)&&"icon-image"in G){const t=bc(M,"layout","icon-image",I,w,f,E);if(t){let i;O="string"==typeof t?Pc(t,h):t.toString();const a=s?s(e,O):void 0;if(l&&o&&o[O]||a){const e=bc(M,"layout","icon-rotation-alignment",I,w,f,E);if(2==_){const t=n.getGeometry();if(t.getFlatMidpoint||t.getFlatMidpoints){const n=t.getExtent();if(Math.sqrt(Math.max(Math.pow((n[2]-n[0])/r,2),Math.pow((n[3]-n[1])/r,2)))>150){const n="MultiLineString"===t.getType()?t.getFlatMidpoints():t.getFlatMidpoint();Cc||(vc=[NaN,NaN],Cc=new Xo("Point",vc,[],2,{},void 0)),i=Cc,vc[0]=n[0],vc[1]=n[1];if("line"===bc(M,"layout","symbol-placement",I,w,f,E)&&"map"===e){const e=t.getStride(),i=t.getFlatCoordinates();for(let t=0,o=i.length-e;t<o;t+=e){const o=i[t],r=i[t+1],a=i[t+e],s=i[t+e+1],l=Math.min(o,a),c=Math.min(r,s),u=Math.max(o,a),d=Math.max(r,s);if(n[0]>=l&&n[0]<=u&&n[1]>=c&&n[1]<=d){W=Math.atan2(r-s,a-o);break}}}}}}if(2!==_||i){const t=bc(M,"layout","icon-size",I,w,f,E),n=void 0!==k["icon-color"]?bc(M,"paint","icon-color",I,w,f,E):null;if(!n||0!==n.a){const i=bc(M,"paint","icon-halo-color",I,w,f,E),r=bc(M,"paint","icon-halo-width",I,w,f,E);let s=`${O}.${t}.${r}.${i}`;if(null!==n&&(s+=`.${n}`),T=g[s],!T){const d=Ic(M,I,w,"icon",f);let p;"icon-offset"in G&&(p=bc(M,"layout","icon-offset",I,w,f,E).slice(0),p[0]*=t,p[1]*=-t);let h=n?[255*n.r,255*n.g,255*n.b,n.a]:void 0;if(a){const n={color:h,rotateWithView:"map"===e,displacement:p,declutterMode:d,scale:t};"string"==typeof a?n.src=a:(n.img=a,n.imgSize=[a.width,a.height]),T=new Dt(n)}else{const a=o[O];let s,g,m;r?a.sdf?(s=$l(tc(l,a,n||[0,0,0,1]),{x:0,y:0,width:a.width,height:a.height,pixelRatio:a.pixelRatio},r,i),h=void 0):s=$l(l,a,r,i):(a.sdf?(u||(u=tc(l,{x:0,y:0,width:c[0],height:c[1]},{r:1,g:1,b:1,a:1})),s=u):s=l,g=[a.width,a.height],m=[a.x,a.y]),T=new Dt({color:h,img:s,imgSize:c,size:g,offset:m,rotateWithView:"map"===e,scale:t/a.pixelRatio,displacement:p,declutterMode:d})}g[s]=T}}T&&(++P,R=b[P],R&&R.getImage()&&!R.getFill()&&!R.getStroke()||(R=new Rt,b[P]=R),R.setGeometry(i),T.setRotation(W+Vl(bc(M,"layout","icon-rotate",I,w,f,E))),T.setOpacity(bc(M,"paint","icon-opacity",I,w,f,E)),T.setAnchor(mc[bc(M,"layout","icon-anchor",I,w,f,E)]),R.setImage(T),q=R.getText(),R.setText(void 0),R.setZIndex(L),V=!0,D=!1)}else D=!0}}}if(1==_&&"circle"===M.type){++P,R=b[P],R&&R.getImage()&&!R.getFill()&&!R.getStroke()||(R=new Rt,b[P]=R);const e="circle-radius"in k?bc(M,"paint","circle-radius",I,w,f,E):5,t=Ec(bc(M,"paint","circle-stroke-color",I,w,f,E),bc(M,"paint","circle-stroke-opacity",I,w,f,E)),n=bc(M,"paint","circle-translate",I,w,f,E),i=Ec(bc(M,"paint","circle-color",I,w,f,E),bc(M,"paint","circle-opacity",I,w,f,E)),o=bc(M,"paint","circle-stroke-width",I,w,f,E),r=e+"."+t+"."+i+"."+o+"."+n[0]+"."+n[1];T=g[r],T||(T=new Ot({radius:e,displacement:[n[0],-n[1]],stroke:t&&o>0?new Bt({width:o,color:t}):void 0,fill:i?new Ut({color:i}):void 0,declutterMode:"none"}),g[r]=T),R.setImage(T),q=R.getText(),R.setText(void 0),R.setGeometry(void 0),R.setZIndex(L),V=!0}if("text-field"in G){B=Math.round(bc(M,"layout","text-size",I,w,f,E));const e=bc(M,"layout","text-font",I,w,f,E);j=bc(M,"layout","text-line-height",I,w,f,E),U=kl(a?a(e,t.metadata?t.metadata["ol:webfonts"]:void 0):e,B,j),U.includes("sans-serif")||(U+=",sans-serif"),F=bc(M,"layout","text-letter-spacing",I,w,f,E),z=bc(M,"layout","text-max-width",I,w,f,E);const n=bc(M,"layout","text-field",I,w,f,E);N="object"==typeof n&&n.sections?1===n.sections.length?n.toString():n.sections.reduce(((t,n,i)=>{const o=n.fontStack?n.fontStack.split(","):e,r=kl(a?a(o):o,B*(n.scale||1),j);let s=n.text;if("\n"===s)return t.push("\n",""),t;if(2!=_){s=lc(s,r,z,F).split("\n");for(let e=0,n=s.length;e<n;++e)e>0&&t.push("\n",""),t.push(s[e],r);return t}t.push(ic(s,F),r)}),[]):Pc(n,h).trim(),d=bc(M,"paint","text-opacity",I,w,f,E)}if(N&&d&&!D){V||(++P,R=b[P],R&&R.getText()&&!R.getFill()&&!R.getStroke()||(R=new Rt,b[P]=R),R.setImage(void 0),R.setGeometry(void 0));const e=Ic(M,I,w,"text",f);R.getText()||R.setText(q),q=R.getText(),(!q||"getDeclutterMode"in q&&q.getDeclutterMode()!==e)&&(q=new zt({padding:[2,2,2,2],declutterMode:e}),R.setText(q));const t=bc(M,"layout","text-transform",I,w,f,E);"uppercase"==t?N=Array.isArray(N)?N.map(((e,t)=>t%2?e:e.toUpperCase())):N.toUpperCase():"lowercase"==t&&(N=Array.isArray(N)?N.map(((e,t)=>t%2?e:e.toLowerCase())):N.toLowerCase());const n=Array.isArray(N)?N:2==_?ic(N,F):lc(N,U,z,F);q.setText(n),q.setFont(U),q.setRotation(Vl(bc(M,"layout","text-rotate",I,w,f,E)));const i=bc(M,"layout","text-anchor",I,w,f,E),o=V||1==_?"point":bc(M,"layout","symbol-placement",I,w,f,E);let r;if("line-center"===o?(q.setPlacement("line"),r="center"):q.setPlacement(o),"line"===o&&"function"==typeof q.setRepeat){const e=bc(M,"layout","symbol-spacing",I,w,f,E);q.setRepeat(2*e)}q.setOverflow("point"===o);let a=bc(M,"paint","text-halo-width",I,w,f,E);const s=bc(M,"layout","text-offset",I,w,f,E),l=bc(M,"paint","text-translate",I,w,f,E);let c=0,u=0;if("point"==o){r="center",-1!==i.indexOf("left")?(r="left",u=a):-1!==i.indexOf("right")&&(r="right",u=-a);const e=bc(M,"layout","text-rotation-alignment",I,w,f,E);q.setRotateWithView("map"==e)}else q.setMaxAngle(Vl(bc(M,"layout","text-max-angle",I,w,f,E))*N.length/n.length),q.setRotateWithView(!1);q.setTextAlign(r);let p="middle";0==i.indexOf("bottom")?(p="bottom",c=-a-.5*(j-1)*B):0==i.indexOf("top")&&(p="top",c=a+.5*(j-1)*B),q.setTextBaseline(p);const h=bc(M,"layout","text-justify",I,w,f,E);q.setJustify("auto"===h?void 0:h),q.setOffsetX(s[0]*B+u+l[0]),q.setOffsetY(s[1]*B+c+l[1]),C.setColor(Ec(bc(M,"paint","text-color",I,w,f,E),d)),q.setFill(C);const g=Ec(bc(M,"paint","text-halo-color",I,w,f,E),d);if(g&&a>0){v.setColor(g),a*=2;const e=.5*B;v.setWidth(a<=e?a:e),q.setStroke(v)}else q.setStroke(void 0);const m=bc(M,"layout","text-padding",I,w,f,E),y=q.getPadding();m!==y[0]&&(y[0]=m,y[1]=m,y[2]=m,y[3]=m),R.setZIndex(L)}}}return P>-1?(b.length=P+1,Mc&&("set"in n?n.set("mapbox-layer",S):n.getProperties()["mapbox-layer"]=S),b):void 0};return e.setStyle(I),e.set("mapbox-source",A),e.set("mapbox-layers",h),e.set("mapbox-featurestate",e.get("mapbox-featurestate")||{}),I}function kc(e,t=512){return e.getExtent()?(0,lr.createXYZ)({extent:e.getExtent(),tileSize:t,maxZoom:22}).getResolutions():ql}function Rc(e,t){if(!t.accessToken){t=Object.assign({},t);new URL(e).searchParams.forEach(((e,n)=>{t.accessToken=e,t.accessTokenParam=n}))}return t}function Lc(e,t,n="",o={},r=void 0){let a,s,l,c,u=!0;return"string"==typeof n||Array.isArray(n)?c=n:(l=n,c=l.source||l.layers,o=l),"string"==typeof o?(a=o,l={}):(a=o.styleUrl,l=o),!1===l.updateSource&&(u=!1),r||(r=l.resolutions),a||"string"!=typeof t||t.trim().startsWith("{")||(a=t),a&&(a=a.startsWith("data:")?location.href:Ol(a,l.accessToken),l=Rc(a,l)),new Promise((function(n,o){Xl(t,l).then((function(t){if(8!=t.version)return o(new Error("glStyle version 8 required."));if(!(e instanceof or||e instanceof Ji))return o(new Error("Can only apply to VectorLayer or VectorTileLayer"));const d=e instanceof Ji?"vector":"geojson";if(c?s=Array.isArray(c)?t.layers.find((function(e){return e.id===c[0]})).source:c:(s=Object.keys(t.sources).find((function(e){return t.sources[e].type===d})),c=s),!s)return o(new Error(`No ${d} source found in the glStyle.`));function p(){if(!u)return Promise.resolve();if(e instanceof Ji)return Tc(t.sources[s],a,l).then((function(t){const n=e.getSource();n?t!==n&&(n.setTileUrlFunction(t.getTileUrlFunction()),"function"==typeof n.setUrls&&"function"==typeof t.getUrls&&n.setUrls(t.getUrls()),n.format_||(n.format_=t.format_),n.getAttributions()||n.setAttributions(t.getAttributions()),n.getTileLoadFunction()===i.defaultLoadFunction&&n.setTileLoadFunction(t.getTileLoadFunction()),(0,Si.equivalent)(n.getProjection(),t.getProjection())&&(n.tileGrid=t.getTileGrid())):e.setSource(t);const o=e.getSource().getTileGrid();!isFinite(e.getMaxResolution())&&!isFinite(e.getMinZoom())&&o.getMinZoom()>0&&e.setMaxResolution(Yl(Math.max(0,o.getMinZoom()-1e-12),o.getResolutions()))}));const n=t.sources[s];let o=e.getSource();o&&o.get("mapbox-source")===n||(o=Nc(n,a,l));const r=e.getSource();return r?o!==r&&(r.getAttributions()||r.setAttributions(o.getAttributions()),r.format_||(r.format_=o.getFormat()),r.url_=o.getUrl()):e.setSource(o),Promise.resolve()}let h,g,m,f;function y(){if(f||t.sprite&&!g)f?(e.setStyle(f),p().then(n).catch(o)):o(new Error("Something went wrong trying to apply style."));else{if(l.projection&&!r){const e=(0,Si.get)(l.projection).getUnits();"m"!==e&&(r=ql.map((t=>t/ar.METERS_PER_UNIT[e])))}f=Gc(e,t,c,r,g,m,((e,t=l.webfonts)=>function(e,t="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){const n=e.toString();if(n in hc)return hc[n];const i=[];for(let t=0,n=e.length;t<n;++t){e[t]=e[t].replace("Arial Unicode MS","Arial");const n=e[t],o=kl(n,1);(0,Qo.registerFont)(o);const r=o.split(" ");i.push([r.slice(3).join(" ").replace(/"/g,""),r[1],r[0]])}for(let e=0,n=i.length;e<n;++e){const n=i[e],o=n[0];if(!pc(o)&&100!==Qo.checkedFonts.get(`${n[2]}\n${n[1]} \n${o}`)){const e=t.replace("{font-family}",o.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",o.replace(/ /g,"+")).replace("{fontweight}",n[1]).replace("{-fontstyle}",n[2].replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",n[2]);if(!document.querySelector('link[href="'+e+'"]')){const t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)}}}return hc[n]=e,e}(e,t)),l.getImage),e.getStyle()?p().then(n).catch(o):o(new Error(`Nothing to show for source [${s}]`))}}if(t.sprite){const e=new URL(function(e,t,n){const i=Ll(e);if(!i)return decodeURI(new URL(e,n).href);const o="sprites/";if(0!==i.indexOf(o))throw new Error(`unexpected sprites url: ${e}`);const r=i.slice(8);return`${Rl}/styles/v1/${r}/sprite?access_token=${t}`}(t.sprite,l.accessToken,a||location.href));h=window.devicePixelRatio>=1.5?.5:1;const n=.5==h?"@2x":"";let i=e.origin+e.pathname+n+".json"+e.search;new Promise((function(t,n){Jl("Sprite",i,l).then(t).catch((function(o){i=e.origin+e.pathname+".json"+e.search,Jl("Sprite",i,l).then(t).catch(n)}))})).then((function(t){if(void 0===t&&o(new Error("No sprites found.")),g=t,m=e.origin+e.pathname+n+".png"+e.search,l.transformRequest){const e=l.transformRequest(m,"SpriteImage")||m;(e instanceof Request||e instanceof Promise)&&(m=e)}y()})).catch((function(e){o(new Error(`Sprites cannot be loaded: ${i}: ${e.message}`))}))}else y()})).catch(o)}))}function Oc(e,t,n){const i=new Ki({tileJSON:t,tileSize:e.tileSize||t.tileSize||512}),o=i.getTileJSON(),r=i.getTileGrid(),a=(0,Si.get)(n.projection||"EPSG:3857"),s=function(e,t){const n=e.bounds;if(n){const e=(0,Si.fromLonLat)([n[0],n[1]],t),i=(0,Si.fromLonLat)([n[2],n[3]],t);return[e[0],e[1],i[0],i[1]]}return(0,Si.get)(t).getExtent()}(o,a),l=a.getExtent(),c=o.minzoom||0,u=o.maxzoom||22,d={attributions:i.getAttributions(),projection:a,tileGrid:new ir({origin:l?(0,Wn.getTopLeft)(l):r.getOrigin(0),extent:s||r.getExtent(),minZoom:c,resolutions:kc(a,t.tileSize).slice(0,u+1),tileSize:r.getTileSize(0)})};return Array.isArray(o.tiles)?d.urls=o.tiles:d.url=o.tiles,d}function Tc(e,t,n){return new Promise((function(o,r){Ql(e,t,n).then((function({tileJson:t,tileLoadFunction:r}){const a=Oc(e,t,n);a.tileLoadFunction=r,a.format=new $i,o(new i(a))})).catch(r)}))}function Dc(e){return`{bbox-${(e?e.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function Nc(e,t,n){const i=n.projection?new Ln({dataProjection:n.projection}):new Ln,o=e.data,a={};if("string"==typeof o){const a=Tl(o,n.accessToken,n.accessTokenParam||"access_token",t||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(a)){const t=(e,t,n)=>{const i=Dc(n);return a.replace(i,`${e.join(",")}`)},o=new r({attributions:e.attribution,format:i,loader:(e,i,r,a,s)=>{Jl("GeoJSON","function"==typeof t?t(e,i,r):t,n).then((e=>{const t=o.getFormat().readFeatures(e,{featureProjection:r});o.addFeatures(t),a(t)})).catch((t=>{o.removeLoadedExtent(e),s()}))},strategy:sr.bbox});return o.set("mapbox-source",e),o}const s=new r({attributions:e.attribution,format:i,url:a,loader:(e,t,i,o,r)=>{Jl("GeoJSON",a,n).then((e=>{const t=s.getFormat().readFeatures(e,{featureProjection:i});s.addFeatures(t),o(t)})).catch((t=>{s.removeLoadedExtent(e),r()}))}});return s}a.features=i.readFeatures(o,{featureProjection:(0,Si.getUserProjection)()||"EPSG:3857"});const s=new r(Object.assign({attributions:e.attribution,format:i},a));return s.set("mapbox-source",e),s}function Uc(e){return Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(e)}function jc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Bc(i.key),i)}}function Bc(e){var t=function(e,t){if("object"!=Uc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Uc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Uc(t)?t:t+""}function Fc(e,t,n){return t=qc(t),zc(e,Vc()?Reflect.construct(t,n||[],qc(e).constructor):t.apply(e,n))}function zc(e,t){if(t&&("object"==Uc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vc=function(){return!!e})()}function qc(e){return qc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qc(e)}function Wc(e,t){return Wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wc(e,t)}var Hc=function(e){function t(e,n){var i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!e.layer)throw new Error("ERROR PARAM_MISSING : layer");if("string"!=typeof e.layer)throw new Error("ERROR WRONG TYPE : layer");void 0===e.ssl&&(e.ssl=!0);var r=!1===e.ssl?"http://":"https://",a=e.configuration;if(!a){if(!ri.isConfigLoaded())throw new Error("ERROR : contract key configuration has to be loaded to load Geoportal layers.");var s=e.layer+"$GEOPORTAIL:GPP:TMS";if(!(a=ri.configuration.getLayerConf(s)))throw new Error("ERROR : Layer ID not found into the catalogue !?")}for(var l=null,c="",u=e.style,d=0;d<a.styles.length;d++){var p=a.styles[d];if(u&&p.name===u){l=p.url,c=p.title;break}if(!u&&p.current){u=p.name,l=p.url,c=p.title;break}}if(!l)throw new Error("ERROR : Style URL not found !?");l.replace(/(http|https):\/\//,r);var h=new(o())({state:"loading",format:new(eo())});h._originators=a.originators,h._legends=a.legends,h._metadata=a.metadata,h._description=a.description,h._title=a.title+" ("+c+")",h._quicklookUrl=a.quicklookUrl;var g={source:h};return nn.mergeParams(g,n),e.olParams&&!a.originators&&(h._originators=e.olParams.attributions),(i=Fc(this,t,[g])).name=e.layer,i.service="TMS",i.protocol=r,i.sourceId=e.source,i.styleUrl=l,i.setStyleMapBox(),zc(i,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wc(e,t)}(t,e),n=t,i=[{key:"setStyleMapBox",value:function(){var e=this;fetch(this.styleUrl,{credentials:"same-origin"}).then((function(t){t.ok&&t.json().then((function(t){e.onStyleMapBoxLoad(t)}))})).catch((function(t){e.onStyleMapBoxError(t)}))}},{key:"onStyleMapBoxLoad",value:function(e){var t=this;this.sourceId||(this.sourceId=Object.keys(e.sources)[0]);var n=e.sources[this.sourceId];if(n)if("vector"===n.type){var i=this.getSource();if(n.url){n.url.replace(/(http|https):\/\//,this.protocol);var o=new(Qi())({url:n.url}),r=this,a=o.on("change",(function(){if("ready"===o.getState()){var e=o.getTileJSON();if(!e)return;r.set("mapbox-extensions",e);for(var t=Array.isArray(e.tiles)?e.tiles:[e.tiles],s=0;s<n.tiles.length;s++)t[s].replace(/(http|https):\/\//,this.protocol);i.setUrls(t),(0,to.unByKey)(a)}}))}if(n.tiles){for(var s=0;s<n.tiles.length;s++)n.tiles[s].replace(/(http|https):\/\//,this.protocol);i.setUrls(n.tiles)}Lc(this,e,this.sourceId).then((function(){i.setState("ready"),t.set("mapbox-styles",e)})).catch((function(e){t.onStyleMapBoxError(e)}))}else this.onStyleMapBoxError({message:"ERROR : Source TYPE not permitted !"});else this.onStyleMapBoxError({message:"ERROR : Source ID not found !? !"})}},{key:"onStyleMapBoxError",value:function(e){this.getSource().setState("error"),console.error(e.message)}}],i&&jc(n.prototype,i),r&&jc(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(Xi());const Yc=Hc;window.ol&&window.ol.layer&&(window.ol.layer.GeoportalMapBox=Hc);const Zc=ol.control.Control;var Jc=__webpack_require__.n(Zc);function Xc(e){return Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(e)}function Kc(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function Qc(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function $c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,nu(i.key),i)}}function tu(e,t,n){return t&&eu(e.prototype,t),n&&eu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nu(e){var t=function(e,t){if("object"!=Xc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Xc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xc(t)?t:t+""}function iu(e,t,n){return t=ru(t),function(e,t){if(t&&("object"==Xc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ou()?Reflect.construct(t,n||[],ru(e).constructor):t.apply(e,n))}function ou(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ou=function(){return!!e})()}function ru(e){return ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ru(e)}function au(e,t){return au=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},au(e,t)}var su=function(e){function t(e){return $c(this,t),iu(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&au(e,t)}(t,e),tu(t,[{key:"setPosition",value:function(e){this.getMap()&&new du(this).set(e)}}])}(Jc());const lu=su;var cu=["top-left","top-right","bottom-left","bottom-right"],uu=new WeakSet,du=function(){return tu((function e(t){return $c(this,e),Kc(this,uu),this.caller=t,this.container=null,this.container=null,Qc(uu,this,hu).call(this,"top-left"),Qc(uu,this,hu).call(this,"top-right"),Qc(uu,this,hu).call(this,"bottom-left"),Qc(uu,this,hu).call(this,"bottom-right"),this}),[{key:"set",value:function(e){cu.includes(e.toLowerCase())&&(Qc(uu,this,gu).call(this,e),e.includes("bottom")?this.container.children["position-container-"+e].prepend(this.caller.element):this.container.children["position-container-"+e].appendChild(this.caller.element))}}])}();function pu(e){return!!this.container.children["position-container-"+e]}function hu(e){if(this.container=this.caller.getMap().getOverlayContainerStopEvent(),!Qc(uu,this,pu).call(this,e)){var t=document.createElement("div");t.id="position-container-"+e,t.className="position position-container-"+e,this.container.appendChild(t)}}function gu(e){var t=this,n=function(e){return t.container.children["position-container-"+e].children.length},i=function(e){return t.container.children["position-container-"+e].offsetWidth},o=function(e){return t.container.children["position-container-"+e].offsetHeight},r=function(e){e.style.top="unset",e.style.bottom="unset",e.style.left="unset",e.style.right="unset"};r(this.caller.element),this.caller.element.style.position="unset";var a=Array.from(this.caller.element.getElementsByClassName("GPpanel"));0!==a.length&&a.forEach((function(t){if("dialog"===t.nodeName.toLowerCase())switch(r(t),e.toLowerCase()){case"top-left":t.style.top=n(e)?o(e)+"px":"0px",t.style.left=i(e)+"px";break;case"bottom-left":t.style.bottom=n(e)?o(e)+"px":"0px",t.style.left=i(e)+"px";break;case"top-right":t.style.top=n(e)?o(e)+"px":"0px",t.style.right=i(e)+"px";break;case"bottom-right":t.style.bottom=n(e)?o(e)+"px":"0px",t.style.right=i(e)+"px"}}))}var mu,fu={generate:(mu=Math.floor(Date.now()),function(){return mu++}),name:function(e){var t=null,n=e.lastIndexOf("-");return t=-1===n?e:e.substring(0,n),t},index:function(e){var t=null,n=this.name(e),i=n.lastIndexOf("_");return-1!==i&&(t=n.substring(i+1)),t},uuid:function(e){var t=null,n=e.lastIndexOf("-");return-1!==n&&(t=parseInt(e.substring(n+1),10)),t}};const yu=fu;function Au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Au(Object(n),!0).forEach((function(t){bu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Au(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cu(e){return Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(e)}function bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iu(){return Iu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Iu.apply(this,arguments)}function _u(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function wu(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Eu=wu(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Su=wu(/Edge/i),Pu=wu(/firefox/i),Mu=wu(/safari/i)&&!wu(/chrome/i)&&!wu(/android/i),xu=wu(/iP(ad|od|hone)/i),Gu=wu(/chrome/i)&&wu(/android/i),ku={capture:!1,passive:!1};function Ru(e,t,n){e.addEventListener(t,n,!Eu&&ku)}function Lu(e,t,n){e.removeEventListener(t,n,!Eu&&ku)}function Ou(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function Tu(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Du(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&Ou(e,t):Ou(e,t))||i&&e===n)return e;if(e===n)break}while(e=Tu(e))}return null}var Nu,Uu=/\s+/g;function ju(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(Uu," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(Uu," ")}}function Bu(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function Fu(e,t){var n="";if("string"==typeof e)n=e;else do{var i=Bu(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function zu(e,t,n){if(e){var i=e.getElementsByTagName(t),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function Vu(){var e=document.scrollingElement;return e||document.documentElement}function qu(e,t,n,i,o){if(e.getBoundingClientRect||e===window){var r,a,s,l,c,u,d;if(e!==window&&e.parentNode&&e!==Vu()?(a=(r=e.getBoundingClientRect()).top,s=r.left,l=r.bottom,c=r.right,u=r.height,d=r.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!Eu))do{if(o&&o.getBoundingClientRect&&("none"!==Bu(o,"transform")||n&&"static"!==Bu(o,"position"))){var p=o.getBoundingClientRect();a-=p.top+parseInt(Bu(o,"border-top-width")),s-=p.left+parseInt(Bu(o,"border-left-width")),l=a+r.height,c=s+r.width;break}}while(o=o.parentNode);if(i&&e!==window){var h=Fu(o||e),g=h&&h.a,m=h&&h.d;h&&(l=(a/=m)+(u/=m),c=(s/=g)+(d/=g))}return{top:a,left:s,bottom:l,right:c,width:d,height:u}}}function Wu(e,t,n){for(var i=Xu(e,!0),o=qu(e)[t];i;){var r=qu(i)[n];if(!("top"===n||"left"===n?o>=r:o<=r))return i;if(i===Vu())break;i=Xu(i,!1)}return!1}function Hu(e,t,n,i){for(var o=0,r=0,a=e.children;r<a.length;){if("none"!==a[r].style.display&&a[r]!==tp.ghost&&(i||a[r]!==tp.dragged)&&Du(a[r],n.draggable,e,!1)){if(o===t)return a[r];o++}r++}return null}function Yu(e,t){for(var n=e.lastElementChild;n&&(n===tp.ghost||"none"===Bu(n,"display")||t&&!Ou(n,t));)n=n.previousElementSibling;return n||null}function Zu(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===tp.clone||t&&!Ou(e,t)||n++;return n}function Ju(e){var t=0,n=0,i=Vu();if(e)do{var o=Fu(e),r=o.a,a=o.d;t+=e.scrollLeft*r,n+=e.scrollTop*a}while(e!==i&&(e=e.parentNode));return[t,n]}function Xu(e,t){if(!e||!e.getBoundingClientRect)return Vu();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=Bu(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return Vu();if(i||t)return n;i=!0}}}while(n=n.parentNode);return Vu()}function Ku(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Qu(e,t){return function(){if(!Nu){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),Nu=setTimeout((function(){Nu=void 0}),t)}}}function $u(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ed(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function td(e,t,n){var i={};return Array.from(e.children).forEach((function(o){var r,a,s,l;if(Du(o,t.draggable,e,!1)&&!o.animated&&o!==n){var c=qu(o);i.left=Math.min(null!==(r=i.left)&&void 0!==r?r:1/0,c.left),i.top=Math.min(null!==(a=i.top)&&void 0!==a?a:1/0,c.top),i.right=Math.max(null!==(s=i.right)&&void 0!==s?s:-1/0,c.right),i.bottom=Math.max(null!==(l=i.bottom)&&void 0!==l?l:-1/0,c.bottom)}})),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var nd="Sortable"+(new Date).getTime();function id(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==Bu(e,"display")&&e!==tp.ghost){t.push({target:e,rect:qu(e)});var n=vu({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=Fu(e,!0);i&&(n.top-=i.f,n.left-=i.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var o=!1,r=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=qu(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=Fu(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&Ku(l,s)&&!Ku(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}(u,l,c,i.options)),Ku(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=i.options.animation),i.animate(n,u,s,t)),t&&(o=!0,r=Math.max(r,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"==typeof n&&n()}),r):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,i){if(i){Bu(e,"transition",""),Bu(e,"transform","");var o=Fu(this.el),r=o&&o.a,a=o&&o.d,s=(t.left-n.left)/(r||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,Bu(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),Bu(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),Bu(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){Bu(e,"transition",""),Bu(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i)}}}}var od=[],rd={initializeByDefault:!0},ad={mount:function(e){for(var t in rd)rd.hasOwnProperty(t)&&!(t in e)&&(e[t]=rd[t]);od.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),od.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=e+"Global";od.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][o]&&t[i.pluginName][o](vu({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](vu({sortable:t},n)))}))},initializePlugins:function(e,t,n,i){for(var o in od.forEach((function(i){var o=i.pluginName;if(e.options[o]||i.initializeByDefault){var r=new i(e,t,e.options);r.sortable=e,r.options=e.options,e[o]=r,Iu(n,r.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var r=this.modifyOption(e,o,e.options[o]);void 0!==r&&(e.options[o]=r)}},getEventProperties:function(e,t){var n={};return od.forEach((function(i){"function"==typeof i.eventProperties&&Iu(n,i.eventProperties.call(t[i.pluginName],e))})),n},modifyOption:function(e,t,n){var i;return od.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(i=o.optionListeners[t].call(e[o.pluginName],n))})),i}};function sd(e){var t=e.sortable,n=e.rootEl,i=e.name,o=e.targetEl,r=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,p=e.originalEvent,h=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[nd]){var m,f=t.options,y="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||Eu||Su?(m=document.createEvent("Event")).initEvent(i,!0,!0):m=new CustomEvent(i,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=o||n,m.clone=r,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=p,m.pullMode=h?h.lastPutMode:void 0;var A=vu(vu({},g),ad.getEventProperties(i,t));for(var v in A)m[v]=A[v];n&&n.dispatchEvent(m),f[y]&&f[y].call(t,m)}}var ld=["evt"],cd=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,o=_u(n,ld);ad.pluginEvent.bind(tp)(e,t,vu({dragEl:dd,parentEl:pd,ghostEl:hd,rootEl:gd,nextEl:md,lastDownEl:fd,cloneEl:yd,cloneHidden:Ad,dragStarted:kd,putSortable:wd,activeSortable:tp.active,originalEvent:i,oldIndex:vd,oldDraggableIndex:bd,newIndex:Cd,newDraggableIndex:Id,hideGhostForTarget:Kd,unhideGhostForTarget:Qd,cloneNowHidden:function(){Ad=!0},cloneNowShown:function(){Ad=!1},dispatchSortableEvent:function(e){ud({sortable:t,name:e,originalEvent:i})}},o))};function ud(e){sd(vu({putSortable:wd,cloneEl:yd,targetEl:dd,rootEl:gd,oldIndex:vd,oldDraggableIndex:bd,newIndex:Cd,newDraggableIndex:Id},e))}var dd,pd,hd,gd,md,fd,yd,Ad,vd,Cd,bd,Id,_d,wd,Ed,Sd,Pd,Md,xd,Gd,kd,Rd,Ld,Od,Td,Dd=!1,Nd=!1,Ud=[],jd=!1,Bd=!1,Fd=[],zd=!1,Vd=[],qd="undefined"!=typeof document,Wd=xu,Hd=Su||Eu?"cssFloat":"float",Yd=qd&&!Gu&&!xu&&"draggable"in document.createElement("div"),Zd=function(){if(qd){if(Eu)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Jd=function(e,t){var n=Bu(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=Hu(e,0,t),r=Hu(e,1,t),a=o&&Bu(o),s=r&&Bu(r),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+qu(o).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+qu(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!r||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=i&&"none"===n[Hd]||r&&"none"===n[Hd]&&l+c>i)?"vertical":"horizontal"},Xd=function(e){function t(e,n){return function(i,o,r,a){var s=i.options.group.name&&o.options.group.name&&i.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(i,o,r,a),n)(i,o,r,a);var l=(n?i:o).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=e.group;i&&"object"==Cu(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},Kd=function(){!Zd&&hd&&Bu(hd,"display","none")},Qd=function(){!Zd&&hd&&Bu(hd,"display","")};qd&&!Gu&&document.addEventListener("click",(function(e){if(Nd)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Nd=!1,!1}),!0);var $d=function(e){if(dd){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,r=e.clientY,Ud.some((function(e){var t=e[nd].options.emptyInsertThreshold;if(t&&!Yu(e)){var n=qu(e),i=o>=n.left-t&&o<=n.right+t,s=r>=n.top-t&&r<=n.bottom+t;return i&&s?a=e:void 0}})),a);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[nd]._onDragOver(n)}}var o,r,a},ep=function(e){dd&&dd.parentNode[nd]._isOutsideThisEl(e.target)};function tp(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Iu({},t),e[nd]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Jd(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==tp.supportPointer&&"PointerEvent"in window&&!Mu,emptyInsertThreshold:5};for(var i in ad.initializePlugins(this,e,n),n)!(i in t)&&(t[i]=n[i]);for(var o in Xd(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&Yd,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Ru(e,"pointerdown",this._onTapStart):(Ru(e,"mousedown",this._onTapStart),Ru(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ru(e,"dragover",this),Ru(e,"dragenter",this)),Ud.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Iu(this,id())}function np(e,t,n,i,o,r,a,s){var l,c,u=e[nd],d=u.options.onMove;return!window.CustomEvent||Eu||Su?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=o||t,l.relatedRect=r||qu(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),d&&(c=d.call(u,l,a)),c}function ip(e){e.draggable=!1}function op(){zd=!1}function rp(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function ap(e){return setTimeout(e,0)}function sp(e){return clearTimeout(e)}tp.prototype={constructor:tp,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Rd=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,dd):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,o=i.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=i.filter;if(function(e){Vd.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var i=t[n];i.checked&&Vd.push(i)}}(n),!dd&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||i.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!Mu||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=Du(s,i.draggable,n,!1))&&s.animated||fd===s)){if(vd=Zu(s),bd=Zu(s,i.draggable),"function"==typeof c){if(c.call(this,e,s,this))return ud({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),cd("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=Du(l,i.trim(),n,!1))return ud({sortable:t,rootEl:i,name:"filter",targetEl:s,fromEl:n,toEl:n}),cd("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());i.handle&&!Du(l,i.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var i,o=this,r=o.el,a=o.options,s=r.ownerDocument;if(n&&!dd&&n.parentNode===r){var l=qu(n);if(gd=r,pd=(dd=n).parentNode,md=dd.nextSibling,fd=n,_d=a.group,tp.dragged=dd,Ed={target:dd,clientX:(t||e).clientX,clientY:(t||e).clientY},xd=Ed.clientX-l.left,Gd=Ed.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,dd.style["will-change"]="all",i=function(){cd("delayEnded",o,{evt:e}),tp.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!Pu&&o.nativeDraggable&&(dd.draggable=!0),o._triggerDragStart(e,t),ud({sortable:o,name:"choose",originalEvent:e}),ju(dd,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){zu(dd,e.trim(),ip)})),Ru(s,"dragover",$d),Ru(s,"mousemove",$d),Ru(s,"touchmove",$d),Ru(s,"mouseup",o._onDrop),Ru(s,"touchend",o._onDrop),Ru(s,"touchcancel",o._onDrop),Pu&&this.nativeDraggable&&(this.options.touchStartThreshold=4,dd.draggable=!0),cd("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(Su||Eu))i();else{if(tp.eventCanceled)return void this._onDrop();Ru(s,"mouseup",o._disableDelayedDrag),Ru(s,"touchend",o._disableDelayedDrag),Ru(s,"touchcancel",o._disableDelayedDrag),Ru(s,"mousemove",o._delayedDragTouchMoveHandler),Ru(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&Ru(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){dd&&ip(dd),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Lu(e,"mouseup",this._disableDelayedDrag),Lu(e,"touchend",this._disableDelayedDrag),Lu(e,"touchcancel",this._disableDelayedDrag),Lu(e,"mousemove",this._delayedDragTouchMoveHandler),Lu(e,"touchmove",this._delayedDragTouchMoveHandler),Lu(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?Ru(document,"pointermove",this._onTouchMove):Ru(document,t?"touchmove":"mousemove",this._onTouchMove):(Ru(dd,"dragend",this),Ru(gd,"dragstart",this._onDragStart));try{document.selection?ap((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(Dd=!1,gd&&dd){cd("dragStarted",this,{evt:t}),this.nativeDraggable&&Ru(document,"dragover",ep);var n=this.options;!e&&ju(dd,n.dragClass,!1),ju(dd,n.ghostClass,!0),tp.active=this,e&&this._appendGhost(),ud({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Sd){this._lastX=Sd.clientX,this._lastY=Sd.clientY,Kd();for(var e=document.elementFromPoint(Sd.clientX,Sd.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Sd.clientX,Sd.clientY))!==t;)t=e;if(dd.parentNode[nd]._isOutsideThisEl(e),t)do{if(t[nd]){if(t[nd]._onDragOver({clientX:Sd.clientX,clientY:Sd.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Qd()}},_onTouchMove:function(e){if(Ed){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,o=e.touches?e.touches[0]:e,r=hd&&Fu(hd,!0),a=hd&&r&&r.a,s=hd&&r&&r.d,l=Wd&&Td&&Ju(Td),c=(o.clientX-Ed.clientX+i.x)/(a||1)+(l?l[0]-Fd[0]:0)/(a||1),u=(o.clientY-Ed.clientY+i.y)/(s||1)+(l?l[1]-Fd[1]:0)/(s||1);if(!tp.active&&!Dd){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(hd){r?(r.e+=c-(Pd||0),r.f+=u-(Md||0)):r={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");Bu(hd,"webkitTransform",d),Bu(hd,"mozTransform",d),Bu(hd,"msTransform",d),Bu(hd,"transform",d),Pd=c,Md=u,Sd=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!hd){var e=this.options.fallbackOnBody?document.body:gd,t=qu(dd,!0,Wd,!0,e),n=this.options;if(Wd){for(Td=e;"static"===Bu(Td,"position")&&"none"===Bu(Td,"transform")&&Td!==document;)Td=Td.parentNode;Td!==document.body&&Td!==document.documentElement?(Td===document&&(Td=Vu()),t.top+=Td.scrollTop,t.left+=Td.scrollLeft):Td=Vu(),Fd=Ju(Td)}ju(hd=dd.cloneNode(!0),n.ghostClass,!1),ju(hd,n.fallbackClass,!0),ju(hd,n.dragClass,!0),Bu(hd,"transition",""),Bu(hd,"transform",""),Bu(hd,"box-sizing","border-box"),Bu(hd,"margin",0),Bu(hd,"top",t.top),Bu(hd,"left",t.left),Bu(hd,"width",t.width),Bu(hd,"height",t.height),Bu(hd,"opacity","0.8"),Bu(hd,"position",Wd?"absolute":"fixed"),Bu(hd,"zIndex","100000"),Bu(hd,"pointerEvents","none"),tp.ghost=hd,e.appendChild(hd),Bu(hd,"transform-origin",xd/parseInt(hd.style.width)*100+"% "+Gd/parseInt(hd.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,o=n.options;cd("dragStart",this,{evt:e}),tp.eventCanceled?this._onDrop():(cd("setupClone",this),tp.eventCanceled||((yd=ed(dd)).removeAttribute("id"),yd.draggable=!1,yd.style["will-change"]="",this._hideClone(),ju(yd,this.options.chosenClass,!1),tp.clone=yd),n.cloneId=ap((function(){cd("clone",n),tp.eventCanceled||(n.options.removeCloneOnHide||gd.insertBefore(yd,dd),n._hideClone(),ud({sortable:n,name:"clone"}))})),!t&&ju(dd,o.dragClass,!0),t?(Nd=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Lu(document,"mouseup",n._onDrop),Lu(document,"touchend",n._onDrop),Lu(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,dd)),Ru(document,"drop",n),Bu(dd,"transform","translateZ(0)")),Dd=!0,n._dragStartId=ap(n._dragStarted.bind(n,t,e)),Ru(document,"selectstart",n),kd=!0,Mu&&Bu(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,o,r=this.el,a=e.target,s=this.options,l=s.group,c=tp.active,u=_d===l,d=s.sort,p=wd||c,h=this,g=!1;if(!zd){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=Du(a,s.draggable,r,!0),x("dragOver"),tp.eventCanceled)return g;if(dd.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||h._ignoreWhileAnimating===a)return k(!1);if(Nd=!1,c&&!s.disabled&&(u?d||(i=pd!==gd):wd===this||(this.lastPutMode=_d.checkPull(this,c,dd,e))&&l.checkPut(this,c,dd,e))){if(o="vertical"===this._getDirection(e,a),t=qu(dd),x("dragOverValid"),tp.eventCanceled)return g;if(i)return pd=gd,G(),this._hideClone(),x("revert"),tp.eventCanceled||(md?gd.insertBefore(dd,md):gd.appendChild(dd)),k(!0);var m=Yu(r,s.draggable);if(!m||function(e,t,n){var i=qu(Yu(n.el,n.options.draggable)),o=td(n.el,n.options,hd),r=10;return t?e.clientX>o.right+r||e.clientY>i.bottom&&e.clientX>i.left:e.clientY>o.bottom+r||e.clientX>i.right&&e.clientY>i.top}(e,o,this)&&!m.animated){if(m===dd)return k(!1);if(m&&r===e.target&&(a=m),a&&(n=qu(a)),!1!==np(gd,r,dd,t,a,n,e,!!a))return G(),m&&m.nextSibling?r.insertBefore(dd,m.nextSibling):r.appendChild(dd),pd=r,R(),k(!0)}else if(m&&function(e,t,n){var i=qu(Hu(n.el,0,n.options,!0)),o=td(n.el,n.options,hd),r=10;return t?e.clientX<o.left-r||e.clientY<i.top&&e.clientX<i.right:e.clientY<o.top-r||e.clientY<i.bottom&&e.clientX<i.left}(e,o,this)){var f=Hu(r,0,s,!0);if(f===dd)return k(!1);if(n=qu(a=f),!1!==np(gd,r,dd,t,a,n,e,!1))return G(),r.insertBefore(dd,f),pd=r,R(),k(!0)}else if(a.parentNode===r){n=qu(a);var y,A,v,C=dd.parentNode!==r,b=!function(e,t,n){var i=n?e.left:e.top,o=n?e.right:e.bottom,r=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return i===a||o===s||i+r/2===a+l/2}(dd.animated&&dd.toRect||t,a.animated&&a.toRect||n,o),I=o?"top":"left",_=Wu(a,"top","top")||Wu(dd,"top","top"),w=_?_.scrollTop:void 0;if(Rd!==a&&(A=n[I],jd=!1,Bd=!b&&s.invertSwap||C),y=function(e,t,n,i,o,r,a,s){var l=i?e.clientY:e.clientX,c=i?n.height:n.width,u=i?n.top:n.left,d=i?n.bottom:n.right,p=!1;if(!a)if(s&&Od<c*o){if(!jd&&(1===Ld?l>u+c*r/2:l<d-c*r/2)&&(jd=!0),jd)p=!0;else if(1===Ld?l<u+Od:l>d-Od)return-Ld}else if(l>u+c*(1-o)/2&&l<d-c*(1-o)/2)return function(e){return Zu(dd)<Zu(e)?1:-1}(t);if(p=p||a,p&&(l<u+c*r/2||l>d-c*r/2))return l>u+c/2?1:-1;return 0}(e,a,n,o,b?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Bd,Rd===a),0!==y){var E=Zu(dd);do{E-=y,v=pd.children[E]}while(v&&("none"===Bu(v,"display")||v===hd))}if(0===y||v===a)return k(!1);Rd=a,Ld=y;var S=a.nextElementSibling,P=!1,M=np(gd,r,dd,t,a,n,e,P=1===y);if(!1!==M)return 1!==M&&-1!==M||(P=1===M),zd=!0,setTimeout(op,30),G(),P&&!S?r.appendChild(dd):a.parentNode.insertBefore(dd,P?S:a),_&&$u(_,0,w-_.scrollTop),pd=dd.parentNode,void 0===A||Bd||(Od=Math.abs(A-qu(a)[I])),R(),k(!0)}if(r.contains(dd))return k(!1)}return!1}function x(s,l){cd(s,h,vu({evt:e,isOwner:u,axis:o?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:d,fromSortable:p,target:a,completed:k,onMove:function(n,i){return np(gd,r,dd,t,n,qu(n),e,i)},changed:R},l))}function G(){x("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function k(t){return x("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(h),h!==p&&(ju(dd,wd?wd.options.ghostClass:c.options.ghostClass,!1),ju(dd,s.ghostClass,!0)),wd!==h&&h!==tp.active?wd=h:h===tp.active&&wd&&(wd=null),p===h&&(h._ignoreWhileAnimating=a),h.animateAll((function(){x("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===dd&&!dd.animated||a===r&&!a.animated)&&(Rd=null),s.dragoverBubble||e.rootEl||a===document||(dd.parentNode[nd]._isOutsideThisEl(e.target),!t&&$d(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function R(){Cd=Zu(dd),Id=Zu(dd,s.draggable),ud({sortable:h,name:"change",toEl:r,newIndex:Cd,newDraggableIndex:Id,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Lu(document,"mousemove",this._onTouchMove),Lu(document,"touchmove",this._onTouchMove),Lu(document,"pointermove",this._onTouchMove),Lu(document,"dragover",$d),Lu(document,"mousemove",$d),Lu(document,"touchmove",$d)},_offUpEvents:function(){var e=this.el.ownerDocument;Lu(e,"mouseup",this._onDrop),Lu(e,"touchend",this._onDrop),Lu(e,"pointerup",this._onDrop),Lu(e,"touchcancel",this._onDrop),Lu(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;Cd=Zu(dd),Id=Zu(dd,n.draggable),cd("drop",this,{evt:e}),pd=dd&&dd.parentNode,Cd=Zu(dd),Id=Zu(dd,n.draggable),tp.eventCanceled||(Dd=!1,Bd=!1,jd=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),sp(this.cloneId),sp(this._dragStartId),this.nativeDraggable&&(Lu(document,"drop",this),Lu(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Mu&&Bu(document.body,"user-select",""),Bu(dd,"transform",""),e&&(kd&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),hd&&hd.parentNode&&hd.parentNode.removeChild(hd),(gd===pd||wd&&"clone"!==wd.lastPutMode)&&yd&&yd.parentNode&&yd.parentNode.removeChild(yd),dd&&(this.nativeDraggable&&Lu(dd,"dragend",this),ip(dd),dd.style["will-change"]="",kd&&!Dd&&ju(dd,wd?wd.options.ghostClass:this.options.ghostClass,!1),ju(dd,this.options.chosenClass,!1),ud({sortable:this,name:"unchoose",toEl:pd,newIndex:null,newDraggableIndex:null,originalEvent:e}),gd!==pd?(Cd>=0&&(ud({rootEl:pd,name:"add",toEl:pd,fromEl:gd,originalEvent:e}),ud({sortable:this,name:"remove",toEl:pd,originalEvent:e}),ud({rootEl:pd,name:"sort",toEl:pd,fromEl:gd,originalEvent:e}),ud({sortable:this,name:"sort",toEl:pd,originalEvent:e})),wd&&wd.save()):Cd!==vd&&Cd>=0&&(ud({sortable:this,name:"update",toEl:pd,originalEvent:e}),ud({sortable:this,name:"sort",toEl:pd,originalEvent:e})),tp.active&&(null!=Cd&&-1!==Cd||(Cd=vd,Id=bd),ud({sortable:this,name:"end",toEl:pd,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){cd("nulling",this),gd=dd=pd=hd=md=yd=fd=Ad=Ed=Sd=kd=Cd=Id=vd=bd=Rd=Ld=wd=_d=tp.dragged=tp.ghost=tp.clone=tp.active=null,Vd.forEach((function(e){e.checked=!0})),Vd.length=Pd=Md=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":dd&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,o=n.length,r=this.options;i<o;i++)Du(e=n[i],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||rp(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach((function(e,t){var o=i.children[t];Du(o,this.options.draggable,i,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Du(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=ad.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&Xd(n)},destroy:function(){cd("destroy",this);var e=this.el;e[nd]=null,Lu(e,"mousedown",this._onTapStart),Lu(e,"touchstart",this._onTapStart),Lu(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Lu(e,"dragover",this),Lu(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ud.splice(Ud.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ad){if(cd("hideClone",this),tp.eventCanceled)return;Bu(yd,"display","none"),this.options.removeCloneOnHide&&yd.parentNode&&yd.parentNode.removeChild(yd),Ad=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Ad){if(cd("showClone",this),tp.eventCanceled)return;dd.parentNode!=gd||this.options.group.revertClone?md?gd.insertBefore(yd,md):gd.appendChild(yd):gd.insertBefore(yd,dd),this.options.group.revertClone&&this.animate(dd,yd),Bu(yd,"display",""),Ad=!1}}else this._hideClone()}},qd&&Ru(document,"touchmove",(function(e){(tp.active||Dd)&&e.cancelable&&e.preventDefault()})),tp.utils={on:Ru,off:Lu,css:Bu,find:zu,is:function(e,t){return!!Du(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:Qu,closest:Du,toggleClass:ju,clone:ed,index:Zu,nextTick:ap,cancelNextTick:sp,detectDirection:Jd,getChild:Hu},tp.get=function(e){return e[nd]},tp.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(tp.utils=vu(vu({},tp.utils),e.utils)),ad.mount(e)}))},tp.create=function(e,t){return new tp(e,t)},tp.version="1.15.2";var lp,cp,up,dp,pp,hp,gp=[],mp=!1;function fp(){gp.forEach((function(e){clearInterval(e.pid)})),gp=[]}function yp(){clearInterval(hp)}var Ap=Qu((function(e,t,n,i){if(t.scroll){var o,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=Vu(),u=!1;cp!==n&&(cp=n,fp(),lp=t.scroll,o=t.scrollFn,!0===lp&&(lp=Xu(n,!0)));var d=0,p=lp;do{var h=p,g=qu(h),m=g.top,f=g.bottom,y=g.left,A=g.right,v=g.width,C=g.height,b=void 0,I=void 0,_=h.scrollWidth,w=h.scrollHeight,E=Bu(h),S=h.scrollLeft,P=h.scrollTop;h===c?(b=v<_&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX),I=C<w&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)):(b=v<_&&("auto"===E.overflowX||"scroll"===E.overflowX),I=C<w&&("auto"===E.overflowY||"scroll"===E.overflowY));var M=b&&(Math.abs(A-r)<=s&&S+v<_)-(Math.abs(y-r)<=s&&!!S),x=I&&(Math.abs(f-a)<=s&&P+C<w)-(Math.abs(m-a)<=s&&!!P);if(!gp[d])for(var G=0;G<=d;G++)gp[G]||(gp[G]={});gp[d].vx==M&&gp[d].vy==x&&gp[d].el===h||(gp[d].el=h,gp[d].vx=M,gp[d].vy=x,clearInterval(gp[d].pid),0==M&&0==x||(u=!0,gp[d].pid=setInterval(function(){i&&0===this.layer&&tp.active._onTouchMove(pp);var t=gp[this.layer].vy?gp[this.layer].vy*l:0,n=gp[this.layer].vx?gp[this.layer].vx*l:0;"function"==typeof o&&"continue"!==o.call(tp.dragged.parentNode[nd],n,t,e,pp,gp[this.layer].el)||$u(gp[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=Xu(p,!1)));mp=u}}),30),vp=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,o=e.activeSortable,r=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||o;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(r("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function Cp(){}function bp(){}Cp.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Hu(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:vp},Iu(Cp,{pluginName:"revertOnSpill"}),bp.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:vp},Iu(bp,{pluginName:"removeOnSpill"});tp.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?Ru(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ru(document,"pointermove",this._handleFallbackAutoScroll):t.touches?Ru(document,"touchmove",this._handleFallbackAutoScroll):Ru(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?Lu(document,"dragover",this._handleAutoScroll):(Lu(document,"pointermove",this._handleFallbackAutoScroll),Lu(document,"touchmove",this._handleFallbackAutoScroll),Lu(document,"mousemove",this._handleFallbackAutoScroll)),yp(),fp(),clearTimeout(Nu),Nu=void 0},nulling:function(){pp=cp=lp=mp=hp=up=dp=null,gp.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,r=document.elementFromPoint(i,o);if(pp=e,t||this.options.forceAutoScrollFallback||Su||Eu||Mu){Ap(e,this.options,r,t);var a=Xu(r,!0);!mp||hp&&i===up&&o===dp||(hp&&yp(),hp=setInterval((function(){var r=Xu(document.elementFromPoint(i,o),!0);r!==a&&(a=r,fp()),Ap(e,n.options,r,t)}),10),up=i,dp=o)}else{if(!this.options.bubbleScroll||Xu(r,!0)===Vu())return void fp();Ap(e,this.options,Xu(r,!1),!1)}}},Iu(e,{pluginName:"scroll",initializeByDefault:!0})}),tp.mount(bp,Cp);const Ip=tp;const _p=function(){return""!==getComputedStyle(document.documentElement).getPropertyValue("--blue-france-sun-113-625")};var wp={_createDraggableElement:function(e,t){var n=".GPlayerName";_p()&&(n=".GPlayerDragNDrop"),navigator.userAgent.match(/chrome|chromium|crios/i)?Ip.create(e,{handle:n,draggable:".draggable-layer",ghostClass:"GPghostLayer",animation:200,forceFallback:!0,onEnd:function(e){t._onEndDragAndDropLayerClick(e)}}):Ip.create(e,{handle:n,draggable:".draggable-layer",ghostClass:"GPghostLayer",animation:200,onEnd:function(e){t._onEndDragAndDropLayerClick(e)}})},_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPlayerSwitcher"),e.className="GPwidget gpf-widget",e},_createMainLayersShowElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowLayersList"),e.type="checkbox",e},_createMainLayersElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPlayersList"),e.className="GPpanel gpf-panel fr-modal",e},_createMainLayersDivElement:function(){var e=document.createElement("div");return e.className="GPpanelBody gpf-panel__body_ls fr-modal__body",e},_createMainPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowLayersListPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowLayersListPicto gpf-btn gpf-btn-icon gpf-btn-icon-layerswitcher fr-btn",t.htmlFor=this._addUID("GPshowLayersList"),t.title="Afficher/masquer le gestionnaire de couches",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),document.getElementById(e._addUID("GPshowLayersList")).checked=n,document.getElementById(e._addUID("GPshowLayersList")).checked&&(document.getElementById(e._addUID("GPlayerInfoPanel")).classList.remove("GPlayerInfoPanelOpened","gpf-visible"),document.getElementById(e._addUID("GPlayerInfoPanel")).classList.add("GPlayerInfoPanelClosed","gpf-hidden"))})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),document.getElementById(e._addUID("GPshowLayersList")).checked&&(document.getElementById(e._addUID("GPlayerInfoPanel")).classList.remove("GPlayerInfoPanelOpened","gpf-visible"),document.getElementById(e._addUID("GPlayerInfoPanel")).classList.add("GPlayerInfoPanelClosed","gpf-hidden"))})),t},_createMainCounterLayersElement:function(){var e=document.createElement("span");return e.id=this._addUID("GPlayerCounter"),e.className="GPlayerCounter",e.innerHTML="0",e},_createMainInfoElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPlayerInfoPanel"),e.className="GPpanel GPlayerInfoPanelClosed gpf-panel fr-modal",e},_createMainInfoDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createLayersPanelHeaderElement:function(){var e=document.createElement("div");return e.className="GPpanelHeader gpf-panel__header_ls",e},_createLayersPanelIconElement:function(){var e=document.createElement("label");return e.className="GPpanelIcon gpf-btn-header gpf-btn-icon-layers",e.title="Couches de donnÃ©es",e},_createLayersPanelTitleElement:function(){var e=document.createElement("div");return e.className="GPpanelTitle gpf-panel__title_ls",e.id=this._addUID("GPlayersHeaderTitle"),e.innerHTML="Couches de donnÃ©es",e},_createLayersPanelCloseElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPlayersPanelClose"),t.className="GPpanelClose GPlayersPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",t.title="Fermer le panneau",t.addEventListener?t.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowLayersListPicto")).click()}),!1):t.attachEvent&&t.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowLayersListPicto")).click()})),t},_createContainerLayerElement:function(e){var t=document.createElement("div");return t.id=this._addUID("GPlayerSwitcher_ID_"+e.id),t.className="GPlayerSwitcher_layer gpf-panel__content fr-modal__content draggable-layer",t.appendChild(this._createBasicToolElement(e)),t.appendChild(this._createAdvancedToolShowElement(e)),t.appendChild(this._createAdvancedToolElement(e)),t},_createBasicToolElement:function(e){var t=document.createElement("div");return t.id=this._addUID("GPbasicTools_ID_"+e.id),t.className="GPlayerBasicTools",t.appendChild(this._createBasicToolNameElement(e)),t.appendChild(this._createBasicToolVisibilityElement(e)),t.appendChild(this._createBasicToolDragNDropElement(e)),t},_createBasicToolDragNDropElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPdragndropPicto_ID_"+e.id),t.className="GPelementHidden GPlayerDragNDrop gpf-btn gpf-btn-icon gpf-btn-icon-ls-dragndrop fr-btn fr-btn--tertiary-no-outline fr-m-1w",t.title="Deplacer la couche",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!0);var n=this;return t.addEventListener?t.addEventListener("click",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),n._onStartDragAndDropLayerClick(e)})):t.attachEvent&&t.attachEvent("onclick",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),n._onStartDragAndDropLayerClick(e)})),t},_createBasicToolNameElement:function(e){var t=document.createElement("label");return t.id=this._addUID("GPname_ID_"+e.id),t.className="GPlayerName gpf-label gpf-label-name fr-label",t.title=e.description||e.title,t.innerHTML=e.title,t},_createBasicToolVisibilityElement:function(e){var t=void 0===e.visibility||e.visibility,n=document.createElement("button");n.id=this._addUID("GPvisibilityPicto_ID_"+e.id),n.className="GPlayerVisibility gpf-btn gpf-btn-icon gpf-btn-icon-ls-visibility fr-btn fr-btn--tertiary",n.title="Afficher/masquer la couche",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",t);var i=this;return n.addEventListener?n.addEventListener("click",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),i._onVisibilityLayerClick(e)})):n.attachEvent&&n.attachEvent("onclick",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),i._onVisibilityLayerClick(e)})),n},_createAdvancedToolShowElement:function(e){var t=document.createElement("button");t.id=this._addUID("GPshowAdvancedTools_ID_"+e.id),t.className="GPshowAdvancedToolPicto GPshowMoreOptionsImage GPshowMoreOptions GPshowLayerAdvancedTools gpf-btn gpf-btn-icon gpf-btn-icon-ls-collapse fr-btn--sm fr-btn--tertiary",t.title="Plus d'outils",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1);var n=this;return t.addEventListener?t.addEventListener("click",(function(t){var i="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!i);var o=document.getElementById(n._addUID("GPadvancedTools_ID_"+e.id));i?(o.classList.replace("GPelementVisible","GPelementHidden"),o.classList.replace("gpf-visible","gpf-hidden")):(o.classList.replace("GPelementHidden","GPelementVisible"),o.classList.replace("gpf-hidden","gpf-visible"))})):t.attachEvent&&t.attachEvent("onclick",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),element.classList.replace("GPelementVisible","GPelementHidden"),element.classList.replace("gpf-visible","gpf-hidden")})),t},_createAdvancedToolElement:function(e){var t=document.createElement("div");if(t.id=this._addUID("GPadvancedTools_ID_"+e.id),t.className="GPelementHidden GPlayerAdvancedTools gpf-hidden",t.appendChild(this._createAdvancedToolDeleteElement(e)),t.appendChild(this._createAdvancedToolInformationElement(e)),"feature"!==e.type)for(var n=this._createAdvancedToolOpacityElement(e),i=0;i<n.length;i++)t.appendChild(n[i]);return t.appendChild(this._createAdvancedToolExtentElement(e)),t},_createAdvancedToolDeleteElement:function(e){var t=document.createElement("button");t.id=this._addUID("GPremove_ID_"+e.id),t.className="GPlayerRemove gpf-btn gpf-btn-icon gpf-btn-icon-ls-remove fr-btn fr-btn--tertiary",t.title="Supprimer la couche",t.layerId=e.id,t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!0);var n=this;return t.addEventListener?t.addEventListener("click",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),n._onDropLayerClick(e)})):t.attachEvent&&t.attachEvent("onclick",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),n._onDropLayerClick(e)})),t},_createAdvancedToolInformationElement:function(e){var t=document.createElement("button");t.id=this._addUID("GPinfo_ID_"+e.id),t.className="GPlayerInfo GPlayerInfoClosed gpf-btn gpf-btn-icon gpf-btn-icon-ls-info fr-btn fr-btn--tertiary",e.title&&e.description?(t.style.opacity="100",t.style.visibility="visible"):(t.style.opacity="0",t.style.visibility="hidden"),t.title="Informations/lÃ©gende",t.layerId=e.id,t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!0);var n=this;return t.addEventListener?t.addEventListener("click",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),n._onOpenLayerInfoClick(e)})):t.attachEvent&&t.attachEvent("onclick",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),n._onOpenLayerInfoClick(e)})),t},_createAdvancedToolOpacityElement:function(e){var t=[],n=document.createElement("div");n.id=this._addUID("GPopacity_ID_"+e.id),n.className="GPlayerOpacity fr-range fr-range--sm",n.title="OpacitÃ©";var i=void 0!==e.opacity?e.opacity:1;i=Math.round(100*i);var o=document.createElement("input");o.id=this._addUID("GPopacityValueDiv_ID_"+e.id),o.type="range",o.value=i,o.ariaLabel="OpacitÃ©";var r=this;o.addEventListener?o.addEventListener("change",(function(e){r._onChangeLayerOpacity(e)})):o.attachEvent&&o.attachEvent("onchange",(function(e){r._onChangeLayerOpacity(e)})),o.addEventListener?o.addEventListener("input",(function(e){r._onChangeLayerOpacity(e)})):o.attachEvent&&o.attachEvent("oninput",(function(e){r._onChangeLayerOpacity(e)})),n.appendChild(o);var a=document.createElement("div");a.id=this._addUID("GPopacityValueDiv_ID_"+e.id),a.className="GPlayerOpacityValue";var s=document.createElement("span");return s.id=this._addUID("GPopacityValue_ID_"+e.id),s.className="gpf-range__output fr-range__output gpf-visible",s.innerHTML=i+"%",a.appendChild(s),t.push(n),t.push(a),t},_createAdvancedToolExtentElement:function(e){var t=document.createElement("button");t.id=this._addUID("GPextent_ID_"+e.id),t.className="GPelementHidden GPlayerExtent gpf-btn gpf-btn-icon gpf-btn-icon-ls-extent fr-btn fr-btn--tertiary",t.title="Zoomer dans l'Ã©tendue",t.layerId=e.id,t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!0);var n=this;return t.addEventListener?t.addEventListener("click",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),n._onZoomToExtentClick(e)})):t.attachEvent&&t.attachEvent("onclick",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),n._onZoomToExtentClick(e)})),t},_createContainerLayerInfoElement:function(e){var t=document.createElement("div"),n=document.createElement("div");n.className="gpf-panel__header_ls",t.appendChild(n);var i=document.createElement("label");i.className="GPlayerInfo gpf-btn-header gpf-btn-icon-ls-info",i.title="Informations",n.appendChild(i);var o=document.createElement("div");o.id=this._addUID("GPlayerInfoTitle"),o.innerHTML=e.title,o.className="gpf-panel__title_ls",n.appendChild(o);var r=document.createElement("button");r.id=this._addUID("GPlayerInfoClose"),r.className="GPpanelClose GPlayersPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",r.title="Fermer la fenÃªtre";var a=this,s=function(){document.getElementById(a._addUID("GPlayerInfoPanel")).classList.add("GPlayerInfoPanelClosed","gpf-hidden"),document.getElementById(a._addUID("GPlayerInfoPanel")).classList.remove("GPlayerInfoPanelOpened","gpf-visible"),document.getElementById(e.id).classList.add("GPlayerInfoClosed"),document.getElementById(e.id).classList.remove("GPlayerInfoOpened")};r.addEventListener?r.addEventListener("click",s):r.attachEvent&&r.attachEvent("onclick",s),n.appendChild(r),t.appendChild(n);var l=document.createElement("div");if(l.id=this._addUID("GPlayerInfoContent"),l.className="gpf-panel__content fr-modal__content",t.appendChild(l),e.quicklookUrl){var c=document.createElement("div");c.id=this._addUID("GPlayerInfoQuicklook"),c.title="Afficher un aperÃ§u de la couche";var u=document.createElement("a");u.href=e.quicklookUrl,u.appendChild(c),l.appendChild(u)}var d=document.createElement("div");if(d.id=this._addUID("GPlayerInfoDescription"),d.innerHTML=e.description,l.appendChild(d),e.metadata){var p=document.createElement("div");p.id=this._addUID("GPlayerInfoMetadata");var h=document.createElement("div");h.className="GPlayerInfoSubtitle",h.innerHTML="MÃ©tadonnÃ©es",p.appendChild(h);for(var g=0;g<e.metadata.length;g++){var m=e.metadata[g].url,f=document.createElement("div");f.className="GPlayerInfoLink";var y=document.createElement("a");y.href=m,y.innerHTML=m,f.appendChild(y),p.appendChild(f)}0!==e.metadata.length&&l.appendChild(p)}if(e.legends){var A=document.createElement("div");A.id=this._addUID("GPlayerInfoLegend");var v=document.createElement("div");v.className="GPlayerInfoSubtitle",v.innerHTML="LÃ©gende",A.appendChild(v);for(var C={},b=e.maxScaleDenominator||56e7,I=0;I<e.legends.length;I++){var _=e.legends[I].minScaleDenominator;if(_){var w=_.toString();_=Math.round(parseInt(w.substring(0,3),10)/10)*Math.pow(10,w.length-2)}else _=270;C[_]=e.legends[I]}for(var E in C)if(C.hasOwnProperty(E)){var S=C[E].url;if("string"==typeof S&&-1===S.toLowerCase().indexOf("nolegend.jpg")){var P=document.createElement("div");P.className="GPlayerInfoLink",b=C[E].maxScaleDenominator||b;var M=document.createElement("a");M.href=S,M.innerHTML="Du 1/"+E+" au 1/"+b,P.appendChild(M),A.appendChild(P)}else delete C[E]}0!==Object.keys(C).length&&l.appendChild(A)}return t}};const Ep=wp;function Sp(e){return Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(e)}function Pp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Mp(i.key),i)}}function Mp(e){var t=function(e,t){if("object"!=Sp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Sp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sp(t)?t:t+""}function xp(e,t,n){return t=Lp(t),Gp(e,kp()?Reflect.construct(t,n||[],Lp(e).constructor):t.apply(e,n))}function Gp(e,t){if(t&&("object"==Sp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function kp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kp=function(){return!!e})()}function Rp(){return Rp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Lp(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Rp.apply(null,arguments)}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lp(e)}function Op(e,t){return Op=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Op(e,t)}var Tp=yt.getLogger("layerswitcher"),Dp=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(e=e||{}).options||{},o=e.layers||[];if(!((n=xp(this,t,[{element:i.element,target:i.target,render:i.render}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!Array.isArray(o))throw new Error("ERROR WRONG_TYPE : layers should be an array");if("object"!==Sp(i))throw new Error("ERROR WRONG_TYPE : options should be an object");return n._initialize(i,o),n.container=n._initContainer(i),n.element?n.element.appendChild(n.container):n.element=n.container,Gp(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Op(e,t)}(t,e),n=t,i=[{key:"setMap",value:function(e){var n=this;if(e)this._addMapLayers(e),this.collapsed||this._showLayerSwitcherButton.setAttribute("aria-pressed",!0),this._listeners.onMoveListener=e.on("moveend",(function(){return n._onMapMoveEnd(e)})),this._listeners.onAddListener=e.getLayers().on("add",(function(e){var t,i=e.element;i.hasOwnProperty("gpLayerId")?t=i.gpLayerId:(t=n._layerId,i.gpLayerId=t,n._layerId++),n._layers[t]||n.addLayer(i)})),this._listeners.onRemoveListener=e.getLayers().on("remove",(function(e){var t=e.element,i=t.gpLayerId;n._layers[i]&&n.removeLayer(t)}));else{(0,to.unByKey)(this._listeners.onMoveListener),(0,to.unByKey)(this._listeners.onAddListener),(0,to.unByKey)(this._listeners.onRemoveListener);for(var i=this._layersOrder.length-1;i>=0;i--)this._layersOrder[i].layer.setZIndex(0)}Rp(Lp(t.prototype),"setMap",this).call(this,e),this.options.position&&this.setPosition(this.options.position)}},{key:"addLayer",value:function(e,t){var n=this,i=this.getMap();if(t=t||{},e){var o=e.gpLayerId;if(void 0!==o){var r=!1;if(i.getLayers().forEach((function(e){e.gpLayerId===o&&(r=!0)})),r){if(this._layers[o]){for(var a in t)t.hasOwnProperty(a)&&(this._layers[o][a]=t[a]);if(t.title){var s=document.getElementById(this._addUID("GPname_ID_"+o));s&&(s.innerHTML=t.title,s.title=t.description||t.title)}var l=document.getElementById(this._addUID("GPinfo_ID_"+o));if(!document.getElementById(this._addUID("GPinfo_ID_"+o))&&t.description){var c=document.getElementById(this._addUID("GPadvancedTools_ID_"+o));c&&c.appendChild(this._createAdvancedToolInformationElement({id:o}))}l&&"GPlayerInfoOpened"===l.className&&document.getElementById(this._addUID("GPlayerInfoPanel")).classList.add("GPlayerInfoPanelClosed","gpf-hidden")}else{var u=this.getLayerInfo(e)||{},d=e.getOpacity(),p=e.getVisible(),h=this.isInRange(e,i),g={layer:e,id:o,name:e.name,service:e.service,opacity:null!=d?d:1,visibility:null==p||p,inRange:null==h||h,title:null!=t.title?t.title:u._title||o,description:t.description||u._description||null,legends:t.legends||u._legends||[],metadata:t.metadata||u._metadata||[],quicklookUrl:t.quicklookUrl||u._quicklookUrl||null};this._layers[o]=g;var m=this._createLayerDiv(g);this._layers[o].div=m,e.getZIndex&&0!==e.getZIndex()&&void 0!==e.getZIndex()||e._forceNullzIndex?this._updateLayersOrder():(this._layersOrder.unshift(g),this._lastZIndex++,e.setZIndex(this._lastZIndex),this._layerListContainer.insertBefore(m,this._layerListContainer.firstChild)),this._listeners.updateLayerOpacity=e.on("change:opacity",(function(e){return n._updateLayerOpacity(e)})),this._listeners.updateLayerVisibility=e.on("change:visible",(function(e){return n._updateLayerVisibility(e)})),null==this._layers[o].onZIndexChangeEvent&&(this._layers[o].onZIndexChangeEvent=e.on("change:zIndex",(function(){return n._updateLayersOrder()})))}this._updateLayerCounter(),this.dispatchEvent({type:"layerswitcher:add",layer:this._layers[o]})}else Tp.log("[ERROR] LayerSwitcher:addLayer - configuration cannot be set for ",e," layer (layer is not in map.getLayers() )")}else Tp.trace("[WARN] LayerSwitcher:addLayer - configuration cannot be set for this layer (layer id not found)",e)}else Tp.log("[ERROR] LayerSwitcher:addLayer - missing layer parameter")}},{key:"removeLayer",value:function(e){if(e){(0,to.unByKey)(this._listeners.updateLayerOpacity),(0,to.unByKey)(this._listeners.updateLayerVisibility),Tp.trace(e);var t=e.gpLayerId,n=document.getElementById(this._addUID("GPinfo_ID_"+t));n&&"GPlayerInfoOpened"===n.className&&document.getElementById(this._addUID("GPlayerInfoPanel")).classList.add("GPlayerInfoPanelClosed","gpf-hidden");var i=document.getElementById(this._addUID("GPlayerSwitcher_ID_"+t));i&&this._layerListContainer.removeChild(i);var o=Math.abs(e.getZIndex()-this._lastZIndex);this._layersOrder.splice(o,1),this._lastZIndex--;for(var r=this._layersOrder,a=0;a<r.length;a++)r[a].layer.setZIndex(this._lastZIndex-a);this.dispatchEvent({type:"layerswitcher:remove",layer:this._layers[t]}),delete this._layers[t],this._updateLayerCounter()}}},{key:"setCollapsed",value:function(e){if(void 0!==e){var t=!document.getElementById(this._addUID("GPshowLayersList")).checked;e&&t||!e&&!t||(t||document.getElementById(this._addUID("GPlayerInfoPanel")).classList.add("GPlayerInfoPanelClosed","gpf-hidden"),document.getElementById(this._addUID("GPshowLayersList")).checked=!e)}else Tp.log("[ERROR] LayerSwitcher:setCollapsed - missing collapsed parameter")}},{key:"getCollapsed",value:function(){return this.collapsed}},{key:"setRemovable",value:function(e,t){if(e){var n=e.gpLayerId;if(null!=n){var i=document.getElementById(this._addUID("GPremove_ID_"+n));i&&(!1===t?i.style.display="none":!0===t&&(i.style.display="block"))}else Tp.log("[LayerSwitcher:setRemovable] layer should be added to map before calling setRemovable method")}}},{key:"_initialize",value:function(e,t){this._uid=yu.generate(),this.options=e,this.options.layers=t,this._layers={},this._layersOrder=[],this._layersIndex={},this._lastZIndex=0,this._layerId=0,this.collapsed=void 0===e.collapsed||e.collapsed,this._layerListContainer=null,this._listeners={};for(var n=0;n<t.length;n++){var i=t[n].layer;if(i){var o;i.hasOwnProperty("gpLayerId")?o=i.gpLayerId:(o=this._layerId,i.gpLayerId=o,this._layerId++);var r=t[n].config||{},a=i.getOpacity(),s=i.getVisible(),l={layer:i,id:o,name:i.name,service:i.service,opacity:null!=a?a:1,visibility:null==s||s,title:null!=r.title?r.title:r.id?r.id:o,description:r.description||null,legends:r.legends||[],metadata:r.metadata||[],quicklookUrl:r.quicklookUrl||null};this._layers[o]=l}}}},{key:"_initContainer",value:function(){var e=this._createMainContainerElement(),t=this._createMainLayersShowElement();e.appendChild(t),this.collapsed?this.collapsed=!0:(t.checked="checked",this.collapsed=!1);var n=this,i=function(e){this.collapsed=!e.target.checked,this.dispatchEvent("change:collapsed")};t.addEventListener("click",(function(e){i.call(n,e)}));var o=this._showLayerSwitcherButton=this._createMainPictoElement();if(e.appendChild(o),this.options.counter){var r=this._layerSwitcherCounter=this._createMainCounterLayersElement();o.appendChild(r)}var a=this._createMainLayersElement();if(e.appendChild(a),this.options.panel){var s=this._createLayersPanelHeaderElement();a.appendChild(s);var l=this._createLayersPanelIconElement();s.appendChild(l);var c=this._createLayersPanelTitleElement();s.appendChild(c);var u=this._createLayersPanelCloseElement();s.appendChild(u)}var d=this._layerListContainer=this._createMainLayersDivElement();a.appendChild(d),this._createDraggableElement(d,this);var p=this._createMainInfoElement(),h=this._createMainInfoDivElement();return p.appendChild(h),e.appendChild(p),e}},{key:"_addMapLayers",value:function(e){var t=this;for(var n in this._layersIndex={},e.getLayers().forEach((function(n){var i=null;n.hasOwnProperty("gpLayerId")?i=n.gpLayerId:(i=t._layerId,n.gpLayerId=i,t._layerId++);var o=t.getLayerInfo(n)||{};if(t._layers[i])t._layers[i].opacity=n.getOpacity(),t._layers[i].visibility=n.getVisible(),t._layers[i].inRange=t.isInRange(n,e);else{var r=n.getOpacity(),a=n.getVisible(),s=t.isInRange(n,e),l={layer:n,id:i,name:n.name,service:n.service,opacity:null!=r?r:1,visibility:null==a||a,inRange:null==s||s,title:o._title||i,description:o._description||null,legends:o._legends||[],metadata:o._metadata||[],quicklookUrl:o._quicklookUrl||null};t._layers[i]=l}if(t._updateLayerCounter(),t._listeners.updateLayerOpacity=n.on("change:opacity",(function(e){return t._updateLayerOpacity(e)})),t._listeners._updateLayerVisibility=n.on("change:visible",(function(e){return t._updateLayerVisibility(e)})),void 0!==n.getZIndex){var c=n.getZIndex()||0;t._layersIndex[c]&&Array.isArray(t._layersIndex[c])||(t._layersIndex[c]=[]),t._layersIndex[c].push(t._layers[i])}})),this._layersIndex)if(this._layersIndex.hasOwnProperty(n))for(var i=this._layersIndex[n],o=0;o<i.length;o++)this._layersOrder.unshift(i[o]),this._lastZIndex++,i[o].layer.setZIndex(this._lastZIndex),null==this._layers[i[o].layer.gpLayerId].onZIndexChangeEvent&&(this._layers[i[o].layer.gpLayerId].onZIndexChangeEvent=i[o].layer.on("change:zIndex",(function(){return t._updateLayersOrder()})));for(var r=0;r<this._layersOrder.length;r++){var a=this._layersOrder[r],s=this._createLayerDiv(a);this._layerListContainer.appendChild(s),this._layers[a.id].div=s}}},{key:"_createLayerDiv",value:function(e){var t=e.legends&&0!==e.legends.length,n=e.metadata&&0!==e.metadata.length,i=e.quicklookUrl;(t||n||i)&&(e.displayInformationElement=!0);var o=this._createContainerLayerElement(e);return e.inRange||o.classList.add("outOfRange"),o}},{key:"_updateLayerCounter",value:function(){this._layerSwitcherCounter&&(this._layerSwitcherCounter.innerHTML=Object.keys(this._layers).length)}},{key:"_onChangeLayerOpacity",value:function(e){var t=e.target.id,n=yu.index(t),i=this._layers[n].layer,o=e.target.value;document.getElementById(this._addUID("GPopacityValue_ID_"+n)).innerHTML=o+"%",i.setOpacity(o/100)}},{key:"_updateLayerOpacity",value:function(e){var t=e.target.getOpacity();t>1&&(t=1),t<0&&(t=0);var n=e.target.gpLayerId,i=document.getElementById(this._addUID("GPopacityValueDiv_ID_"+n));i&&(i.value=Math.round(100*t));var o=document.getElementById(this._addUID("GPopacityValue_ID_"+n));o&&(o.innerHTML=Math.round(100*t)+"%"),this.dispatchEvent({type:"layerswitcher:change:opacity",opacity:t,layer:this._layers[n]})}},{key:"_onVisibilityLayerClick",value:function(e){var t=e.target.id,n=yu.index(t);this._layers[n].layer.setVisible("true"===e.target.ariaPressed)}},{key:"_updateLayerVisibility",value:function(e){var t=e.target.getVisible(),n=e.target.gpLayerId,i=document.getElementById(this._addUID("GPvisibilityPicto_ID_"+n));i&&(i.ariaPressed=t),this.dispatchEvent({type:"layerswitcher:change:visibility",visibility:t,layer:this._layers[n]})}},{key:"_updateLayersOrder",value:function(){var e=this,t=this.getMap();if(t){var n,i;for(var o in this._layersIndex={},t.getLayers().forEach((function(t){i=t.gpLayerId,(0,to.unByKey)(e._layers[i].onZIndexChangeEvent),e._layers[i].onZIndexChangeEvent=null,n=null,void 0!==t.getZIndex&&(n=t.getZIndex(),e._layersIndex[n]&&Array.isArray(e._layersIndex[n])||(e._layersIndex[n]=[]),e._layersIndex[n].push(e._layers[i]))})),this._lastZIndex=0,this._layersOrder=[],this._layersIndex)if(this._layersIndex.hasOwnProperty(o))for(var r=this._layersIndex[o],a=0;a<r.length;a++)this._layersOrder.unshift(r[a]),this._lastZIndex++,null==this._layers[r[a].layer.gpLayerId].onZIndexChangeEvent&&(this._layers[r[a].layer.gpLayerId].onZIndexChangeEvent=r[a].layer.on("change:zIndex",(function(){return e._updateLayersOrder()})));if(this._layerListContainer){for(var s=0;s<this._layerListContainer.childNodes.length;s++){var l=this._layerListContainer.childNodes[s];""!==l.id&&l.remove()}for(var c=0;c<this._layersOrder.length;c++){var u=this._layersOrder[c];this._layerListContainer.appendChild(u.div)}}else Tp.log("[ol.control.LayerSwitcher] _updateLayersOrder : layer list container not found to update layers order ?!")}}},{key:"_onOpenLayerInfoClick",value:function(e){var t,n,i=e.target.id,o=yu.index(i),r=this._layers[o],a=document.getElementById(e.target.id);if(a.classList.contains("GPlayerInfoOpened"))return a.classList.remove("GPlayerInfoOpened"),a.classList.add("GPlayerInfoClosed"),(t=document.getElementById(this._addUID("GPlayerInfoPanel"))).classList.remove("GPlayerInfoPanelOpened","gpf-visible"),t.classList.add("GPlayerInfoPanelClosed","gpf-hidden"),void((n=document.getElementById(this._addUID("GPlayerInfoContent")))&&n.parentNode.remove());a.classList.contains("GPlayerInfoClosed")&&(a.classList.remove("GPlayerInfoClosed"),a.classList.add("GPlayerInfoOpened")),(t=document.getElementById(this._addUID("GPlayerInfoPanel"))).classList.remove("GPlayerInfoPanelClosed","gpf-hidden"),t.classList.add("GPlayerInfoPanelOpened","gpf-visible"),(n=document.getElementById(this._addUID("GPlayerInfoContent")))&&n.parentNode.remove();var s={id:i,title:r.title,description:r.description,quicklookUrl:r.quicklookUrl,metadata:r.metadata,legends:r.legends},l=r.layer.getMaxResolution();s._maxScaleDenominator=l===1/0?56e7:Math.round(l/28e-5);var c=this._createContainerLayerInfoElement(s);t.firstChild.appendChild(c)}},{key:"_onDropLayerClick",value:function(e){var t=e.target.id,n=yu.index(t),i=this._layers[n].layer;this.getMap().getLayers().remove(i)}},{key:"_onEndDragAndDropLayerClick",value:function(){var e=this,t=this.getMap(),n=document.querySelectorAll("div.GPlayerSwitcher_layer"),i=n.length;this._layersOrder=[];for(var o=0;o<n.length;o++){var r=n[o].id,a=yu.index(r),s=this._layers[a].layer;(0,to.unByKey)(this._layers[a].onZIndexChangeEvent),this._layers[a].onZIndexChangeEvent=null,s.setZIndex&&(s.setZIndex(i),this._layersOrder.push(this._layers[a]),i--),null==this._layers[a].onZIndexChangeEvent&&(this._layers[a].onZIndexChangeEvent=s.on("change:zIndex",(function(){return e._updateLayersOrder()})))}t.updateSize()}},{key:"_onStartDragAndDropLayerClick",value:function(e){Tp.debug(e)}},{key:"_onZoomToExtentClick",value:function(e){Tp.debug(e);var t=e.target.id,n=yu.index(t),i=this._layers[n],o=null,r=null;try{if(!ri.isConfigLoaded())throw"ERROR : contract key configuration has to be loaded to load Geoportal layers.";if(!i.layer.hasOwnProperty("gpLayerId"))throw"WARN : User data not yet implemented !";var a=i.layer.name||i.layer.getSource().name,s=i.layer.service||i.layer.getSource().service,l=ri.configuration.getLayerId(a,s);if(!l)throw"ERROR : Layer ID not found into the catalogue !?";var c=ri.configuration.getGlobalConstraints(l);if(c){var u=this.getMap();if(!u||!u.getView())return;var d=u.getView(),p=d.getProjection(),h=[c.extent.left,c.extent.bottom,c.extent.right,c.extent.top],g=c.crs;g||(g="EPSG:4326"),(o=(0,Si.transformExtent)(h,g,p))&&d.fit(o)}}catch(e){r=e}this.dispatchEvent({type:"layerswitcher:extent",extent:o,layer:i,error:r})}},{key:"_onMapMoveEnd",value:function(e){var t=this;e.getLayers().forEach((function(n){var i=n.gpLayerId;if(t._layers[i]){var o=t._layers[i];t.isInRange(n,e)&&!o.inRange?(o.inRange=!0,document.getElementById(t._addUID("GPlayerSwitcher_ID_"+i)).classList.remove("outOfRange")):!t.isInRange(n,e)&&o.inRange&&(o.inRange=!1,document.getElementById(t._addUID("GPlayerSwitcher_ID_"+i)).classList.add("outOfRange"))}}))}},{key:"getLayerDOMId",value:function(e){var t=null;return this.getMap().getLayers().forEach((function(n){n===e&&(t=n.hasOwnProperty("gpLayerId")?n.gpLayerId:null)})),null!==t?this._addUID("GPlayerSwitcher_ID_"+t):null}},{key:"isInRange",value:function(e,t){if(t){var n=t.getView().getResolution();if(n>e.getMaxResolution()||n<e.getMinResolution())return!1;var i=t.getView().calculateExtent(t.getSize()),o=e.getExtent();return!(o&&!(0,Wn.intersects)(i,o))}}},{key:"getLayerInfo",value:function(e){var t={};if(void 0!==e.getProperties&&void 0!==e.getSource){var n=e.getProperties(),i=n.source;i&&(t._title=i._title||n.id||"",t._description=i._description||"",t._quicklookUrl=i._quicklookUrl||"",t._metadata=i._metadata||[],t._legends=i._legends||[])}return t}}],i&&Pp(n.prototype,i),o&&Pp(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(lu);Object.assign(Dp.prototype,Ep);const Np=Dp;window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=Dp);var Up={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPgetFeatureInfo"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createMainPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPgetFeatureInfoPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPgetFeatureInfoPicto gpf-btn gpf-btn-icon gpf-btn-icon-getfeatureinfo fr-btn",t.title="activer/desactiver l'interrogation des couches",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onActivateGetFeatureInfoElementChange(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onActivateGetFeatureInfoElementChange(t)})),t}};const jp=Up;function Bp(e){return Bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(e)}function Fp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,zp(i.key),i)}}function zp(e){var t=function(e,t){if("object"!=Bp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Bp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bp(t)?t:t+""}function Vp(e,t,n){return t=Yp(t),qp(e,Wp()?Reflect.construct(t,n||[],Yp(e).constructor):t.apply(e,n))}function qp(e,t){if(t&&("object"==Bp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Wp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Wp=function(){return!!e})()}function Hp(){return Hp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Yp(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Hp.apply(null,arguments)}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yp(e)}function Zp(e,t){return Zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zp(e,t)}var Jp=yt.getLogger("getfeatureinfo"),Xp=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(e=e||{}).options||{},o=e.layers||[];if(!((n=Vp(this,t,[{element:i.element,target:i.target,render:i.render}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!Array.isArray(o))throw new Error("ERROR WRONG_TYPE : layers should be an array");if("object"!==Bp(i))throw new Error("ERROR WRONG_TYPE : options should be an object");return n._initialize(i,o),n._container=n._initContainer(i),n.element?n.element.appendChild(n._container):n.element=n._container,qp(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zp(e,t)}(t,e),n=t,i=[{key:"_initialize",value:function(e,t){if(this._uid=yu.generate(),this.options=e,this.options.layers=t,this._events={dblclick:!1,singleclick:!1,contextmenu:!1},this._eventsHandler={},void 0===e.auto||"boolean"==typeof e.auto)if(this._auto=e.auto||!1,void 0===e.active||"boolean"==typeof e.active)if(this._active=void 0===e.active||e.active,e.defaultEvent&&"string"!=typeof e.defaultEvent)Jp.log("[ERROR] GetFeatureInfo:_initialize - defaultEvent parameter should be a string");else if(this._defaultEvent=e.defaultEvent||"singleclick",this._isValidEvent(this._defaultEvent))if(e.defaultInfoFormat&&"string"!=typeof e.defaultInfoFormat)Jp.log("[ERROR] GetFeatureInfo:_initialize - defaultInfoFormat parameter should be a string");else if(this._defaultInfoFormat=e.defaultInfoFormat||"text/html",e.cursorStyle&&"string"!=typeof e.cursorStyle)Jp.log("[ERROR] GetFeatureInfo:_initialize - cursorStyle parameter should be a string");else{if(this._cursorStyle=e.cursorStyle||"pointer",e.proxyUrl){if("string"!=typeof e.proxyUrl)return void Jp.log("[ERROR] GetFeatureInfo:_initialize - proxyUrl parameter should be a string");this._proxyUrl=e.proxyUrl}if(e.noProxyDomains){if(!Array.isArray(e.noProxyDomains))return void Jp.log("[ERROR] GetFeatureInfo:_initialize - noProxyDomains parameter should be a array");this._noProxyDomains=e.noProxyDomains}if(void 0===e.autoPan||"boolean"==typeof e.autoPan){if(this._autoPan=void 0===e.autoPan||e.autoPan,e.autoPanAnimation){if(e.autoPanAnimation.duration&&"number"!=typeof e.autoPanAnimation.duration)return void Jp.log("[ERROR] GetFeatureInfo:_initialize - autoPanAnimation parameter is invalid : duration should be a number.");if(e.autoPanAnimation.easing&&"function"!=typeof e.autoPanAnimation.easing)return void Jp.log("[ERROR] GetFeatureInfo:_initialize - autoPanAnimation parameter is invalid : easing should be a ol.easing function or a custom function.");this._autoPanAnimation=e.autoPanAnimation}if(e.autoPanMargin){if("number"!=typeof e.autoPanMargin)return void Jp.log("[ERROR] GetFeatureInfo:_initialize - autoPanMargin parameter should be a number");this._autoPanMargin=e.autoPanMargin}Array.isArray(t)?(this._setLayers(t),this._activateGetFeatureInfoButton=null):Jp.log("[ERROR] GetFeatureInfo:_initialize - layers parameter should be an array")}else Jp.log("[ERROR] GetFeatureInfo:_initialize - autoPan parameter should be a boolean")}else Jp.log("[ERROR] GetFeatureInfo:_initialize - _defaultEvent '"+this._defaultEvent+"' is not a valid event");else Jp.log("[ERROR] GetFeatureInfo:_initialize - active parameter should be a boolean");else Jp.log("[ERROR] GetFeatureInfo:_initialize - auto parameter should be a boolean")}},{key:"setMap",value:function(e){var n=this;if(e){if(this._updateEvents(e),this._cursorStyle&&this._active&&this._activateCursor(!0,e),e.getLayers().on("remove",(function(t){for(var i=0;i<n._layers.length;++i)if(n._layers[i].obj===t.element){n._layers.splice(i,1);break}n._updateEvents(e)})),this._auto){var i=!1;e.getLayers().forEach((function(e){var t=_t.getLayerFormat(e);n._hasLayer(e)||"vector"!==t||(n._layers.push({obj:e}),i=!0)})),i&&this._updateEvents(e),e.getLayers().on("add",(function(t){"vector"===_t.getLayerFormat(t.element)&&n._layers.push({obj:t.element}),n._updateEvents(e)}))}}else this._clearEvents(),this._activateCursor(!1);Hp(Yp(t.prototype),"setMap",this).call(this,e),this.options.position&&this.setPosition(this.options.position)}},{key:"getLayers",value:function(){return this._layers}},{key:"setDefaultEvent",value:function(e){"string"==typeof e?e&&this._isValidEvent(e)?(this._defaultEvent=e,this._updateEvents()):Jp.log("[ERROR] GetFeatureInfo:setDefaultEvent - event '"+e+"' is not allowed."):Jp.log("[ERROR] GetFeatureInfo:setDefaultEvent - eventName parameter should be a string")}},{key:"setCursorStyle",value:function(e){"string"==typeof e?(this._active&&(!this._cursorStyle&&e?this._activateCursor(!0):this._cursorStyle&&!e&&this._activateCursor(!1)),this._cursorStyle=e):Jp.log("[ERROR] GetFeatureInfo:setCursorStyle - cursorStyle parameter should be a string")}},{key:"setActive",value:function(e){this._setActive(e),this._activateGetFeatureInfoButton.setAttribute("aria-pressed",e)}},{key:"_setActive",value:function(e){"boolean"==typeof e?this._active!==e&&(this._active=e,this._cursorStyle&&this._activateCursor(e)):Jp.log("[ERROR] GetFeatureInfo:_setActive - active parameter should be a boolean")}},{key:"isActive",value:function(){return this._active}},{key:"setHidden",value:function(e){this.element.style.visibility=e?"hidden":""}},{key:"isHidden",value:function(){return"hidden"===this.element.style.visibility}},{key:"setLayers",value:function(e){this._setLayers(e),this._updateEvents()}},{key:"_isValidEvent",value:function(e){return Object.keys(this._events).indexOf(e)>-1}},{key:"_activateEvent",value:function(e,t){var n=this,i=function(e){_t.onDisplayFeatureInfo(e,n)};"contextmenu"===e?t.getViewport().addEventListener(e,i):t.on(e,i),this._eventsHandler[e]=i,this._events[e]=!0}},{key:"_deactivateEvent",value:function(e,t){"contextmenu"===e?t.getViewport().removeEventListener(e,this._eventsHandler[e]):t.un(e,this._eventsHandler[e]),delete this._eventsHandler[e],this._events[e]=!1}},{key:"_updateEvents",value:function(e){e||(e=this.getMap());for(var t=[],n=0;n<this._layers.length;++n){var i=this._layers[n].event?this._layers[n].event:this._defaultEvent;t.indexOf(i)<0&&t.push(i)}for(var o in this._events)!this._events[o]&&t.indexOf(o)>=0?this._activateEvent(o,e):this._events[o]&&t.indexOf(o)<0&&this._deactivateEvent(o,e)}},{key:"_clearEvents",value:function(){var e=this.getMap();for(var t in this._events)this._events[t]&&this._deactivateEvent(t,e)}},{key:"_hasLayer",value:function(e){for(var t=0;t<this._layers.length;++t)if(this._layers[t].obj===e)return!0;return!1}},{key:"_activateCursor",value:function(e,t){if(t||(t=this.getMap()),e){if(this._eventsHandler.hasOwnProperty("pointermove"))return void Jp.log("[ERROR] _activateCursor - inconsistent state: pointermove event handler already registered");var n=this,i=function(e){var i=t.forEachFeatureAtPixel(e.pixel,(function(e,t){for(var i=n.getLayers(),o=0;o<i.length;++o)if(i[o].obj===t)return!0}));t.getTargetElement().style.cursor=i?n._cursorStyle:""};this._eventsHandler.pointermove=i,t.on("pointermove",i)}else this._eventsHandler.hasOwnProperty("pointermove")&&(t.un("pointermove",this._eventsHandler.pointermove),delete this._eventsHandler.pointermove),t.getTargetElement().style.cursor=""}},{key:"_setLayers",value:function(e){if(e&&Array.isArray(e)){this._layers=[];for(var t=0;t<e.length;++t){var n=this._layers.push({})-1;e[t].event&&(this._isValidEvent(e[t].event)?this._layers[n].event=e[t].event:Jp.log("[ERROR] GetFeatureInfo:setLayers - layer event '"+this._layers[t].event+"' is not allowed.")),e[t].infoFormat&&(this._layers[n].infoFormat=e[t].infoFormat),this._layers[n].obj=e[t].obj}}else Jp.log("[ERROR] GetFeatureInfo:setLayers - gfiLayers parameter should be a array")}},{key:"onActivateGetFeatureInfoElementChange",value:function(e){var t=e.target.getAttribute("aria-pressed");this._setActive("true"===t)}},{key:"_initContainer",value:function(e){var t=this._createMainContainerElement(),n=this._createMainPictoElement();if(t.appendChild(n),void 0!==e.hidden){if("boolean"!=typeof e.hidden)return void Jp.log("[ERROR] GetFeatureInfo:_initContainer - hidden parameter should be a boolean");e.hidden&&(t.style.visibility="hidden")}return t}}],i&&Fp(n.prototype,i),o&&Fp(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(lu);Object.assign(Xp.prototype,jp);const Kp=Xp;window.ol&&window.ol.control&&(window.ol.control.GetFeatureInfo=Xp);var Qp=yt.getLogger("interactions");const $p={_extensions:["Measures","ElevationPath","Drawing"],_options:{current:null,clean:null},unset:function(e,t){Qp.trace("unset()");var n={};nn.mergeParams(n,this._options),nn.mergeParams(n,t);for(var i=e.getInteractions().getArray(),o=0;o<i.length;o++)if(i[o].getActive()&&(i[o]instanceof h.Draw||i[o]instanceof h.Select||i[o]instanceof h.Modify)){var r=i[o].getProperties(),a=r.name;if(void 0!==a&&this._extensions.indexOf(a)>-1){if(n.current&&n.current===a)continue;i[o].setActive(!1);var s=r.source;if(void 0!==s&&s instanceof Jc())for(var l in n)if(n.hasOwnProperty(l)){if("current"===l)continue;if("function"==typeof s[l]){var c=Array.isArray(n[l])?n[l]:[n[l]];s[l].apply(s,c)}}}else i[o].setActive(!1)}}};var eh={modulo:function(e,t){var n=e%t;return n*t<0?n+t:n},decimalToDMS:function(e,t,n){var i=this.modulo(e+180,360)-180,o=Math.abs(3600*i),r=n||0,a=Math.pow(10,r),s=Math.floor(o/3600),l=Math.floor((o-3600*s)/60),c=o-3600*s-60*l;return(c=Math.ceil(c*a)/a)>=60&&(c=0,l+=1),l>=60&&(l=0,s+=1),{d:s,m:l,s:c,direction:t.charAt(i<0?1:0)}},dmsToDecimal:function(e,t,n,i){var o=e+t/60+n/3600;return"S"!=i&&"O"!=i||(o*=-1),o},coordinateToDecimal:function(e){var t={};return t.lat=e[1].toFixed(6),t.lng=e[0].toFixed(6),t.unit="Â°",t},coordinateToDMS:function(e){return{lng:eh.decimalToDMS(e[0],"EO",2),lat:eh.decimalToDMS(e[1],"NS",2),unit:"DMS"}},coordinateToRad:function(e){var t={},n=.017453292519943295;return t.lng=e[0]*n,t.lng=t.lng.toFixed(8),t.lat=e[1]*n,t.lat=t.lat.toFixed(8),t.unit="rad",t},coordinateToGon:function(e){var t={},n=1.1111111111111112;return t.lng=e[0]*n,t.lng=t.lng.toFixed(8),t.lat=e[1]*n,t.lat=t.lat.toFixed(8),t.unit="gon",t},coordinateToMeter:function(e){var t={};return t.x=e[0].toFixed(2),t.y=e[1].toFixed(2),t.unit="m",t},coordinateToKMeter:function(e){var t={};return t.x=(e[0]/1e3).toFixed(2),t.y=(e[1]/1e3).toFixed(2),t.unit="km",t},toInteger:function(e,t){var n=parseInt(e,t||10);return!isNaN(n)&&isFinite(n)?n:null},isInteger:function(e){if(isNaN(e))return!1;var t=parseFloat(e);return(0|t)===t},toFloat:function(e){var t=parseFloat(e);return!isNaN(t)&&isFinite(t)?t:null}};const th=eh;const nh={advancedSearchFiltersByDefault:{PositionOfInterest:[{name:"category",title:"Type",value:["cimetiÃ¨re","aÃ©rodrome","rÃ©servoir","administratif","construction linÃ©aire","construction ponctuelle","construction surfacique","cours d'eau","dÃ©tail hydrographique","dÃ©tail orographique","Ã©quipement de transport","plan d'eau","poste de transformation","terrain de sport","transport par cÃ¢ble","zone d'activitÃ© ou d'intÃ©rÃªt","zone d'habitation","lieu-dit non habitÃ©"]},{name:"postcode",title:"Code postal"},{name:"citycode",title:"Code INSEE"}],StreetAddress:[{name:"city",title:"Ville"},{name:"postcode",title:"Code postal"},{name:"citycode",title:"Code INSEE"}],CadastralParcel:[{name:"departmentcode",title:"Code dÃ©partement (INSEE)",description:"Code INSEE du dÃ©partement (ex: 01, 94)"},{name:"municipalitycode",title:"Code commune (INSEE)",description:"Code INSEE de la commune : 3 chiffres (ex: 067)"},{name:"oldmunicipalitycode",title:"Commune absorbÃ©e",description:"Commune absorbÃ©e : 3 chiffres (ex: 000, 001)"},{name:"districtcode",title:"Arrondissement",description:"Arrondissement : 3 chiffres (ex: 004, 012)"},{name:"section",title:"Section",description:"Section Cadastrale : 2 caractÃ¨res (chiffre et/ou lettre)"},{name:"number",title:"NumÃ©ro",description:"NumÃ©ro de la parcelle : 4 chiffres (ex: 0041, 0250)"},{name:"sheet",title:"Feuille",description:"NumÃ©ro de la feuille cadastrale"}]},zoomToResultsByDefault:function(e){var t=15,n=e.service,i=e.fields,o=e.type,r={1:11,2:12,3:13,4:14,5:15,6:16,7:17,8:17};return"SuggestedLocation"===n&&"PositionOfInterest"===o&&(t=r[i.classification]),"GeocodedLocation"===n&&"PositionOfInterest"===o&&(t=r[i.importance]||14),"StreetAddress"===o&&(t=17),"CadastralParcel"===o&&(t=17),t}};const ih={getGeocodedLocationFreeform:function(e){var t=e.placeAttributes;if(t.label)return t.label;if("PositionOfInterest"===e.type){var n=t.toponym;return t.category&&Array.isArray(t.category)&&t.category.length>=2&&"administratif"===t.category[0]?n=n+", "+t.category[1]:t.postcode&&(n=n+", "+t.postcode[0],t.city&&(n=n+" "+t.city[0])),n}return"StreetAddress"===e.type?(t.housenumber?t.housenumber+" ":"")+t.street+" "+(t.postcode?t.postcode+", ":"")+t.city:"CadastralParcel"===e.type?t.id:"..."},getSuggestedLocationFreeform:function(e){if(e.fullText)return e.fullText;var t=[];return t.push(e.street||""),t.push(e.postalCode||""),t.push(e.commune||""),"PositionOfInterest"===e.type&&(t.push(e.poi||""),t.push(e.kind||"")),t.join(" - ")}};var oh=1,rh=2,ah=3,sh=5,lh=6378137,ch=6356752.314,uh=.0066943799901413165,dh=484813681109536e-20,ph=Math.PI/2,hh=.16666666666666666,gh=.04722222222222222,mh=.022156084656084655,fh=1e-10,yh=.017453292519943295,Ah=57.29577951308232,vh=Math.PI/4,Ch=2*Math.PI,bh=3.14159265359,Ih={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const _h={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var wh=/[\s_\-\/\(\)]/g;function Eh(e,t){if(e[t])return e[t];for(var n,i=Object.keys(e),o=t.toLowerCase().replace(wh,""),r=-1;++r<i.length;)if((n=i[r]).toLowerCase().replace(wh,"")===o)return e[n]}function Sh(e){var t,n,i,o={},r=e.split("+").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e}),{}),a={proj:"projName",datum:"datumCode",rf:function(e){o.rf=parseFloat(e)},lat_0:function(e){o.lat0=e*yh},lat_1:function(e){o.lat1=e*yh},lat_2:function(e){o.lat2=e*yh},lat_ts:function(e){o.lat_ts=e*yh},lon_0:function(e){o.long0=e*yh},lon_1:function(e){o.long1=e*yh},lon_2:function(e){o.long2=e*yh},alpha:function(e){o.alpha=parseFloat(e)*yh},gamma:function(e){o.rectified_grid_angle=parseFloat(e)},lonc:function(e){o.longc=e*yh},x_0:function(e){o.x0=parseFloat(e)},y_0:function(e){o.y0=parseFloat(e)},k_0:function(e){o.k0=parseFloat(e)},k:function(e){o.k0=parseFloat(e)},a:function(e){o.a=parseFloat(e)},b:function(e){o.b=parseFloat(e)},r:function(e){o.a=o.b=parseFloat(e)},r_a:function(){o.R_A=!0},zone:function(e){o.zone=parseInt(e,10)},south:function(){o.utmSouth=!0},towgs84:function(e){o.datum_params=e.split(",").map((function(e){return parseFloat(e)}))},to_meter:function(e){o.to_meter=parseFloat(e)},units:function(e){o.units=e;var t=Eh(_h,e);t&&(o.to_meter=t.to_meter)},from_greenwich:function(e){o.from_greenwich=e*yh},pm:function(e){var t=Eh(Ih,e);o.from_greenwich=(t||parseFloat(e))*yh},nadgrids:function(e){"@null"===e?o.datumCode="none":o.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&-1!==t.indexOf(e.substr(0,1))&&-1!==t.indexOf(e.substr(1,1))&&-1!==t.indexOf(e.substr(2,1))&&(o.axis=e)},approx:function(){o.approx=!0}};for(t in r)n=r[t],t in a?"function"==typeof(i=a[t])?i(n):o[i]=n:o[t]=n;return"string"==typeof o.datumCode&&"WGS84"!==o.datumCode&&(o.datumCode=o.datumCode.toLowerCase()),o}const Ph=function(e){var t=new Oh(e);return t.output()};var Mh=1,xh=/\s/,Gh=/[A-Za-z]/,kh=/[A-Za-z84_]/,Rh=/[,\]]/,Lh=/[\d\.E\-\+]/;function Oh(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Mh}function Th(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var i=t?{}:e,o=n.reduce((function(e,t){return Dh(t,e),e}),i);t&&(e[t]=o)}function Dh(e,t){if(Array.isArray(e)){var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void Dh(e[0],t[n])):void(t[n]=e[0]);if(e.length)if("TOWGS84"!==n){if("AXIS"===n)return n in t||(t[n]=[]),void t[n].push(e);var i;switch(Array.isArray(n)||(t[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&Dh(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&Dh(e[3],t[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void Th(t,n,e);default:for(i=-1;++i<e.length;)if(!Array.isArray(e[i]))return Dh(e,t[n]);return Th(t,n,e)}}else t[n]=e;else t[n]=!0}else t[e]=!0}Oh.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;xh.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case Mh:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},Oh.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=4);if(Rh.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},Oh.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=Mh)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=Mh,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},Oh.prototype.number=function(e){if(!Lh.test(e)){if(Rh.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},Oh.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=5},Oh.prototype.keyword=function(e){if(kh.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=Mh)}if(!Rh.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},Oh.prototype.neutral=function(e){if(Gh.test(e))return this.word=e,void(this.state=2);if('"'===e)return this.word="",void(this.state=4);if(Lh.test(e))return this.word=e,void(this.state=3);if(!Rh.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},Oh.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var Nh=.017453292519943295;function Uh(e){return e*Nh}function jh(e){var t=Ph(e),n=t.shift(),i=t.shift();t.unshift(["name",i]),t.unshift(["type",n]);var o={};return Dh(t,o),function(e){if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",n=0,i=e.AXIS.length;n<i;++n){var o=[e.AXIS[n][0].toLowerCase(),e.AXIS[n][1].toLowerCase()];-1!==o[0].indexOf("north")||("y"===o[0]||"lat"===o[0])&&"north"===o[1]?t+="n":-1!==o[0].indexOf("south")||("y"===o[0]||"lat"===o[0])&&"south"===o[1]?t+="s":-1!==o[0].indexOf("east")||("x"===o[0]||"lon"===o[0])&&"east"===o[1]?t+="e":-1===o[0].indexOf("west")&&("x"!==o[0]&&"lon"!==o[0]||"west"!==o[1])||(t+="w")}2===t.length&&(t+="u"),3===t.length&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var r=e.GEOGCS;function a(t){return t*(e.to_meter||1)}"GEOGCS"===e.type&&(r=e),r&&(r.DATUM?e.datumCode=r.DATUM.name.toLowerCase():e.datumCode=r.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"!==e.datumCode&&"world_geodetic_system_1984"!==e.datumCode||("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),r.DATUM&&r.DATUM.SPHEROID&&(e.ellps=r.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=r.DATUM.SPHEROID.a,e.rf=parseFloat(r.DATUM.SPHEROID.rf,10)),r.DATUM&&r.DATUM.TOWGS84&&(e.datum_params=r.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Uh],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Uh],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",Uh],["lat0","latitude_of_origin",Uh],["lat0","standard_parallel_1",Uh],["lat1","standard_parallel_1",Uh],["lat2","standard_parallel_2",Uh],["azimuth","Azimuth"],["alpha","azimuth",Uh],["srsCode","name"]].forEach((function(t){return function(e,t){var n=t[0],i=t[1];!(n in e)&&i in e&&(e[n]=e[i],3===t.length&&(e[n]=t[2](e[n])))}(e,t)})),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName?!e.lat_ts&&e.lat0&&"Polar_Stereographic"===e.projName&&(e.lat_ts=e.lat0,e.lat0=Uh(e.lat0>0?90:-90)):(e.lat0=Uh(e.lat1>0?90:-90),e.lat_ts=e.lat1)}(o),o}function Bh(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?Bh[e]=Sh(arguments[1]):Bh[e]=jh(arguments[1]):Bh[e]=n}else if(1===arguments.length){if(Array.isArray(e))return e.map((function(e){Array.isArray(e)?Bh.apply(t,e):Bh(e)}));if("string"==typeof e){if(e in Bh)return Bh[e]}else"EPSG"in e?Bh["EPSG:"+e.EPSG]=e:"ESRI"in e?Bh["ESRI:"+e.ESRI]=e:"IAU2000"in e?Bh["IAU2000:"+e.IAU2000]=e:console.log(e);return}}!function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}(Bh);const Fh=Bh;var zh=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var Vh=["3857","900913","3785","102113"];const qh=function(e){if(!function(e){return"string"==typeof e}(e))return e;if(function(e){return e in Fh}(e))return Fh[e];if(function(e){return zh.some((function(t){return e.indexOf(t)>-1}))}(e)){var t=jh(e);if(function(e){var t=Eh(e,"authority");if(t){var n=Eh(t,"epsg");return n&&Vh.indexOf(n)>-1}}(t))return Fh["EPSG:3857"];var n=function(e){var t=Eh(e,"extension");if(t)return Eh(t,"proj4")}(t);return n?Sh(n):t}return function(e){return"+"===e[0]}(e)?Sh(e):void 0};function Wh(e,t){var n,i;if(e=e||{},!t)return e;for(i in t)void 0!==(n=t[i])&&(e[i]=n);return e}function Hh(e,t,n){var i=e*t;return n/Math.sqrt(1-i*i)}function Yh(e){return e<0?-1:1}function Zh(e){return Math.abs(e)<=bh?e:e-Yh(e)*Ch}function Jh(e,t,n){var i=e*n,o=.5*e;return i=Math.pow((1-i)/(1+i),o),Math.tan(.5*(ph-t))/i}function Xh(e,t){for(var n,i,o=.5*e,r=ph-2*Math.atan(t),a=0;a<=15;a++)if(n=e*Math.sin(r),r+=i=ph-2*Math.atan(t*Math.pow((1-n)/(1+n),o))-r,Math.abs(i)<=1e-10)return r;return-9999}function Kh(e){return e}var Qh=[{init:function(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Hh(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(e){var t,n,i=e.x,o=e.y;if(o*Ah>90&&o*Ah<-90&&i*Ah>180&&i*Ah<-180)return null;if(Math.abs(Math.abs(o)-ph)<=fh)return null;if(this.sphere)t=this.x0+this.a*this.k0*Zh(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(vh+.5*o));else{var r=Math.sin(o),a=Jh(this.e,o,r);t=this.x0+this.a*this.k0*Zh(i-this.long0),n=this.y0-this.a*this.k0*Math.log(a)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,i=e.x-this.x0,o=e.y-this.y0;if(this.sphere)n=ph-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var r=Math.exp(-o/(this.a*this.k0));if(-9999===(n=Xh(this.e,r)))return null}return t=Zh(this.long0+i/(this.a*this.k0)),e.x=t,e.y=n,e},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:Kh,inverse:Kh,names:["longlat","identity"]}],$h={},eg=[];function tg(e,t){var n=eg.length;return e.names?(eg[n]=e,e.names.forEach((function(e){$h[e.toLowerCase()]=n})),this):(console.log(t),!0)}const ng={start:function(){Qh.forEach(tg)},add:tg,get:function(e){if(!e)return!1;var t=e.toLowerCase();return void 0!==$h[t]&&eg[$h[t]]?eg[$h[t]]:void 0}};var ig={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},og=ig.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};ig.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var rg={};rg.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},rg.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},rg.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},rg.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},rg.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},rg.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},rg.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},rg.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},rg.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},rg.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},rg.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rg.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},rg.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},rg.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},rg.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},rg.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},rg.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rg.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};const ag=function(e,t,n,i,o,r,a){var s={};return s.datum_type=void 0===e||"none"===e?sh:4,t&&(s.datum_params=t.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=oh),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=rh,s.datum_params[3]*=dh,s.datum_params[4]*=dh,s.datum_params[5]*=dh,s.datum_params[6]=s.datum_params[6]/1e6+1))),a&&(s.datum_type=ah,s.grids=a),s.a=n,s.b=i,s.es=o,s.ep2=r,s};var sg={};function lg(e){if(0===e.length)return null;var t="@"===e[0];return t&&(e=e.slice(1)),"null"===e?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:sg[e]||null,isNull:!1}}function cg(e){return e/3600*Math.PI/180}function ug(e,t,n){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,n)))}function dg(e){return e.map((function(e){return[cg(e.longitudeShift),cg(e.latitudeShift)]}))}function pg(e,t,n){return{name:ug(e,t+8,t+16).trim(),parent:ug(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,n),upperLatitude:e.getFloat64(t+88,n),lowerLongitude:e.getFloat64(t+104,n),upperLongitude:e.getFloat64(t+120,n),latitudeInterval:e.getFloat64(t+136,n),longitudeInterval:e.getFloat64(t+152,n),gridNodeCount:e.getInt32(t+168,n)}}function hg(e,t,n,i){for(var o=t+176,r=[],a=0;a<n.gridNodeCount;a++){var s={latitudeShift:e.getFloat32(o+16*a,i),longitudeShift:e.getFloat32(o+16*a+4,i),latitudeAccuracy:e.getFloat32(o+16*a+8,i),longitudeAccuracy:e.getFloat32(o+16*a+12,i)};r.push(s)}return r}function gg(e,t){if(!(this instanceof gg))return new gg(e);t=t||function(e){if(e)throw e};var n=qh(e);if("object"==typeof n){var i=gg.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var o=Eh(rg,n.datumCode);o&&(n.datum_params=n.datum_params||(o.towgs84?o.towgs84.split(","):null),n.ellps=o.ellipse,n.datumName=o.datumName?o.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var r,a,s,l,c,u,d,p=function(e,t,n,i,o){if(!e){var r=Eh(ig,i);r||(r=og),e=r.a,t=r.b,n=r.rf}return n&&!t&&(t=(1-1/n)*e),(0===n||Math.abs(e-t)<fh)&&(o=!0,t=e),{a:e,b:t,rf:n,sphere:o}}(n.a,n.b,n.rf,n.ellps,n.sphere),h=(r=p.a,a=p.b,p.rf,s=n.R_A,u=((l=r*r)-(c=a*a))/l,d=0,s?(l=(r*=1-u*(hh+u*(gh+u*mh)))*r,u=0):d=Math.sqrt(u),{es:u,e:d,ep2:(l-c)/c}),g=function(e){return void 0===e?null:e.split(",").map(lg)}(n.nadgrids),m=n.datum||ag(n.datumCode,n.datum_params,p.a,p.b,h.es,h.ep2,g);Wh(this,n),Wh(this,i),this.a=p.a,this.b=p.b,this.rf=p.rf,this.sphere=p.sphere,this.es=h.es,this.e=h.e,this.ep2=h.ep2,this.datum=m,this.init(),t(null,this)}else t(e)}else t(e)}gg.projections=ng,gg.projections.start();const mg=gg;function fg(e,t,n){var i,o,r,a,s=e.x,l=e.y,c=e.z?e.z:0;if(l<-ph&&l>-1.001*ph)l=-ph;else if(l>ph&&l<1.001*ph)l=ph;else{if(l<-ph)return{x:-1/0,y:-1/0,z:e.z};if(l>ph)return{x:1/0,y:1/0,z:e.z}}return s>Math.PI&&(s-=2*Math.PI),o=Math.sin(l),a=Math.cos(l),r=o*o,{x:((i=n/Math.sqrt(1-t*r))+c)*a*Math.cos(s),y:(i+c)*a*Math.sin(s),z:(i*(1-t)+c)*o}}function yg(e,t,n,i){var o,r,a,s,l,c,u,d,p,h,g,m,f,y,A,v=1e-12,C=e.x,b=e.y,I=e.z?e.z:0;if(o=Math.sqrt(C*C+b*b),r=Math.sqrt(C*C+b*b+I*I),o/n<v){if(y=0,r/n<v)return A=-i,{x:e.x,y:e.y,z:e.z}}else y=Math.atan2(b,C);a=I/r,d=(s=o/r)*(1-t)*(l=1/Math.sqrt(1-t*(2-t)*s*s)),p=a*l,f=0;do{f++,c=t*(u=n/Math.sqrt(1-t*p*p))/(u+(A=o*d+I*p-u*(1-t*p*p))),m=(g=a*(l=1/Math.sqrt(1-c*(2-c)*s*s)))*d-(h=s*(1-c)*l)*p,d=h,p=g}while(m*m>1e-24&&f<30);return{x:y,y:Math.atan(g/Math.abs(h)),z:A}}function Ag(e){return e===oh||e===rh}function vg(e,t,n){if(function(e,t){return e.datum_type===t.datum_type&&!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===oh?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==rh||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])}(e,t))return n;if(e.datum_type===sh||t.datum_type===sh)return n;var i=e.a,o=e.es;if(e.datum_type===ah){if(0!==Cg(e,!1,n))return;i=lh,o=uh}var r=t.a,a=t.b,s=t.es;if(t.datum_type===ah&&(r=lh,a=ch,s=uh),o===s&&i===r&&!Ag(e.datum_type)&&!Ag(t.datum_type))return n;if((n=fg(n,o,i),Ag(e.datum_type)&&(n=function(e,t,n){if(t===oh)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===rh){var i=n[0],o=n[1],r=n[2],a=n[3],s=n[4],l=n[5],c=n[6];return{x:c*(e.x-l*e.y+s*e.z)+i,y:c*(l*e.x+e.y-a*e.z)+o,z:c*(-s*e.x+a*e.y+e.z)+r}}}(n,e.datum_type,e.datum_params)),Ag(t.datum_type)&&(n=function(e,t,n){if(t===oh)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===rh){var i=n[0],o=n[1],r=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=(e.x-i)/c,d=(e.y-o)/c,p=(e.z-r)/c;return{x:u+l*d-s*p,y:-l*u+d+a*p,z:s*u-a*d+p}}}(n,t.datum_type,t.datum_params)),n=yg(n,s,r,a),t.datum_type===ah)&&0!==Cg(t,!0,n))return;return n}function Cg(e,t,n){if(null===e.grids||0===e.grids.length)return console.log("Grid shift grids not found"),-1;var i={x:-n.x,y:n.y},o={x:Number.NaN,y:Number.NaN},r=[];e:for(var a=0;a<e.grids.length;a++){var s=e.grids[a];if(r.push(s.name),s.isNull){o=i;break}if(s.mandatory,null!==s.grid)for(var l=s.grid.subgrids,c=0,u=l.length;c<u;c++){var d=l[c],p=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,h=d.ll[0]-p,g=d.ll[1]-p,m=d.ll[0]+(d.lim[0]-1)*d.del[0]+p,f=d.ll[1]+(d.lim[1]-1)*d.del[1]+p;if(!(g>i.y||h>i.x||f<i.y||m<i.x)&&(o=bg(i,t,d),!isNaN(o.x)))break e}else if(s.mandatory)return console.log("Unable to find mandatory grid '"+s.name+"'"),-1}return isNaN(o.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*Ah+" "+i.y*Ah+" tried: '"+r+"'"),-1):(n.x=-o.x,n.y=o.y,0)}function bg(e,t,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return i;var o={x:e.x,y:e.y};o.x-=n.ll[0],o.y-=n.ll[1],o.x=Zh(o.x-Math.PI)+Math.PI;var r=Ig(o,n);if(t){if(isNaN(r.x))return i;r.x=o.x-r.x,r.y=o.y-r.y;var a,s,l=9;do{if(s=Ig(r,n),isNaN(s.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}a={x:o.x-(s.x+r.x),y:o.y-(s.y+r.y)},r.x+=a.x,r.y+=a.y}while(l--&&Math.abs(a.x)>1e-12&&Math.abs(a.y)>1e-12);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=Zh(r.x+n.ll[0]),i.y=r.y+n.ll[1]}else isNaN(r.x)||(i.x=e.x+r.x,i.y=e.y+r.y);return i}function Ig(e,t){var n,i={x:e.x/t.del[0],y:e.y/t.del[1]},o=Math.floor(i.x),r=Math.floor(i.y),a=i.x-1*o,s=i.y-1*r,l={x:Number.NaN,y:Number.NaN};if(o<0||o>=t.lim[0])return l;if(r<0||r>=t.lim[1])return l;n=r*t.lim[0]+o;var c=t.cvs[n][0],u=t.cvs[n][1];n++;var d=t.cvs[n][0],p=t.cvs[n][1];n+=t.lim[0];var h=t.cvs[n][0],g=t.cvs[n][1];n--;var m=t.cvs[n][0],f=t.cvs[n][1],y=a*s,A=a*(1-s),v=(1-a)*(1-s),C=(1-a)*s;return l.x=v*c+A*d+C*m+y*h,l.y=v*u+A*p+C*f+y*g,l}function _g(e,t,n){var i,o,r,a=n.x,s=n.y,l=n.z||0,c={};for(r=0;r<3;r++)if(!t||2!==r||void 0!==n.z)switch(0===r?(i=a,o=-1!=="ew".indexOf(e.axis[r])?"x":"y"):1===r?(i=s,o=-1!=="ns".indexOf(e.axis[r])?"y":"x"):(i=l,o="z"),e.axis[r]){case"e":case"n":c[o]=i;break;case"w":case"s":c[o]=-i;break;case"u":void 0!==n[o]&&(c.z=i);break;case"d":void 0!==n[o]&&(c.z=-i);break;default:return null}return c}function wg(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function Eg(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!=e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function Sg(e,t,n,i){var o,r=void 0!==(n=Array.isArray(n)?wg(n):{x:n.x,y:n.y,z:n.z,m:n.m}).z;if(function(e){Eg(e.x),Eg(e.y)}(n),e.datum&&t.datum&&function(e,t){return(e.datum.datum_type===oh||e.datum.datum_type===rh||e.datum.datum_type===ah)&&"WGS84"!==t.datumCode||(t.datum.datum_type===oh||t.datum.datum_type===rh||t.datum.datum_type===ah)&&"WGS84"!==e.datumCode}(e,t)&&(n=Sg(e,o=new mg("WGS84"),n,i),e=o),i&&"enu"!==e.axis&&(n=_g(e,!1,n)),"longlat"===e.projName)n={x:n.x*yh,y:n.y*yh,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),!(n=e.inverse(n)))return;if(e.from_greenwich&&(n.x+=e.from_greenwich),n=vg(e.datum,t.datum,n))return t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),"longlat"===t.projName?n={x:n.x*Ah,y:n.y*Ah,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),i&&"enu"!==t.axis?_g(t,!0,n):(n&&!r&&delete n.z,n)}var Pg=mg("WGS84");function Mg(e,t,n,i){var o,r,a;return Array.isArray(n)?(o=Sg(e,t,n,i)||{x:NaN,y:NaN},n.length>2?void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name?"number"==typeof o.z?[o.x,o.y,o.z].concat(n.splice(3)):[o.x,o.y,n[2]].concat(n.splice(3)):[o.x,o.y].concat(n.splice(2)):[o.x,o.y]):(r=Sg(e,t,n,i),2===(a=Object.keys(n)).length||a.forEach((function(i){if(void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name){if("x"===i||"y"===i||"z"===i)return}else if("x"===i||"y"===i)return;r[i]=n[i]})),r)}function xg(e){return e instanceof mg?e:e.oProj?e.oProj:mg(e)}const Gg=function(e,t,n){e=xg(e);var i,o=!1;return void 0===t?(t=e,e=Pg,o=!0):(void 0!==t.x||Array.isArray(t))&&(n=t,t=e,e=Pg,o=!0),t=xg(t),n?Mg(e,t,n):(i={forward:function(n,i){return Mg(e,t,n,i)},inverse:function(n,i){return Mg(t,e,n,i)}},o&&(i.oProj=t),i)};var kg=6,Rg="AJSAJS",Lg="AFAFAF",Og=65,Tg=73,Dg=79,Ng=86,Ug=90;const jg={forward:Bg,inverse:function(e){var t=qg(Yg(e.toUpperCase()));if(t.lat&&t.lon)return[t.lon,t.lat,t.lon,t.lat];return[t.left,t.bottom,t.right,t.top]},toPoint:Fg};function Bg(e,t){return t=t||5,function(e,t){var n="00000"+e.easting,i="00000"+e.northing;return e.zoneNumber+e.zoneLetter+(o=e.easting,r=e.northing,a=e.zoneNumber,s=Hg(a),l=Math.floor(o/1e5),c=Math.floor(r/1e5)%20,function(e,t,n){var i=n-1,o=Rg.charCodeAt(i),r=Lg.charCodeAt(i),a=o+e-1,s=r+t,l=!1;return a>Ug&&(a=a-Ug+Og-1,l=!0),(a===Tg||o<Tg&&a>Tg||(a>Tg||o<Tg)&&l)&&a++,(a===Dg||o<Dg&&a>Dg||(a>Dg||o<Dg)&&l)&&++a===Tg&&a++,a>Ug&&(a=a-Ug+Og-1),s>Ng?(s=s-Ng+Og-1,l=!0):l=!1,(s===Tg||r<Tg&&s>Tg||(s>Tg||r<Tg)&&l)&&s++,(s===Dg||r<Dg&&s>Dg||(s>Dg||r<Dg)&&l)&&++s===Tg&&s++,s>Ng&&(s=s-Ng+Og-1),String.fromCharCode(a)+String.fromCharCode(s)}(l,c,s))+n.substr(n.length-5,t)+i.substr(i.length-5,t);var o,r,a,s,l,c}(function(e){var t,n,i,o,r,a,s,l,c=e.lat,u=e.lon,d=6378137,p=.00669438,h=.9996,g=zg(c),m=zg(u);l=Math.floor((u+180)/6)+1,180===u&&(l=60);c>=56&&c<64&&u>=3&&u<12&&(l=32);c>=72&&c<84&&(u>=0&&u<9?l=31:u>=9&&u<21?l=33:u>=21&&u<33?l=35:u>=33&&u<42&&(l=37));s=zg(6*(l-1)-180+3),t=p/(1-p),n=d/Math.sqrt(1-p*Math.sin(g)*Math.sin(g)),i=Math.tan(g)*Math.tan(g),o=t*Math.cos(g)*Math.cos(g),r=Math.cos(g)*(m-s),a=d*((1-p/4-3*p*p/64-5*p*p*p/256)*g-(3*p/8+3*p*p/32+45*p*p*p/1024)*Math.sin(2*g)+(15*p*p/256+45*p*p*p/1024)*Math.sin(4*g)-35*p*p*p/3072*Math.sin(6*g));var f=h*n*(r+(1-i+o)*r*r*r/6+(5-18*i+i*i+72*o-58*t)*r*r*r*r*r/120)+5e5,y=h*(a+n*Math.tan(g)*(r*r/2+(5-i+9*o+4*o*o)*r*r*r*r/24+(61-58*i+i*i+600*o-330*t)*r*r*r*r*r*r/720));c<0&&(y+=1e7);return{northing:Math.round(y),easting:Math.round(f),zoneNumber:l,zoneLetter:Wg(c)}}({lat:e[1],lon:e[0]}),t)}function Fg(e){var t=qg(Yg(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function zg(e){return e*(Math.PI/180)}function Vg(e){return e/Math.PI*180}function qg(e){var t=e.northing,n=e.easting,i=e.zoneLetter,o=e.zoneNumber;if(o<0||o>60)return null;var r,a,s,l,c,u,d,p,h,g=.9996,m=6378137,f=.00669438,y=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),A=n-5e5,v=t;i<"N"&&(v-=1e7),d=6*(o-1)-180+3,r=.006739496752268451,h=(p=v/g/6367449.145945056)+(3*y/2-27*y*y*y/32)*Math.sin(2*p)+(21*y*y/16-55*y*y*y*y/32)*Math.sin(4*p)+151*y*y*y/96*Math.sin(6*p),a=m/Math.sqrt(1-f*Math.sin(h)*Math.sin(h)),s=Math.tan(h)*Math.tan(h),l=r*Math.cos(h)*Math.cos(h),c=.99330562*m/Math.pow(1-f*Math.sin(h)*Math.sin(h),1.5),u=A/(a*g);var C=h-a*Math.tan(h)/c*(u*u/2-(5+3*s+10*l-4*l*l-9*r)*u*u*u*u/24+(61+90*s+298*l+45*s*s-1.6983531815716497-3*l*l)*u*u*u*u*u*u/720);C=Vg(C);var b,I=(u-(1+2*s+l)*u*u*u/6+(5-2*l+28*s-3*l*l+8*r+24*s*s)*u*u*u*u*u/120)/Math.cos(h);if(I=d+Vg(I),e.accuracy){var _=qg({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});b={top:_.lat,right:_.lon,bottom:C,left:I}}else b={lat:C,lon:I};return b}function Wg(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function Hg(e){var t=e%kg;return 0===t&&(t=kg),t}function Yg(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,i=null,o="",r=0;!/[A-Z]/.test(t=e.charAt(r));){if(r>=2)throw"MGRSPoint bad conversion from: "+e;o+=t,r++}var a=parseInt(o,10);if(0===r||r+3>n)throw"MGRSPoint bad conversion from: "+e;var s=e.charAt(r++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+e;i=e.substring(r,r+=2);for(var l=Hg(a),c=function(e,t){var n=Rg.charCodeAt(t-1),i=1e5,o=!1;for(;n!==e.charCodeAt(0);){if(++n===Tg&&n++,n===Dg&&n++,n>Ug){if(o)throw"Bad character: "+e;n=Og,o=!0}i+=1e5}return i}(i.charAt(0),l),u=function(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;var n=Lg.charCodeAt(t-1),i=0,o=!1;for(;n!==e.charCodeAt(0);){if(++n===Tg&&n++,n===Dg&&n++,n>Ng){if(o)throw"Bad character: "+e;n=Og,o=!0}i+=1e5}return i}(i.charAt(1),l);u<Zg(s);)u+=2e6;var d=n-r;if(d%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var p,h,g,m=d/2,f=0,y=0;return m>0&&(p=1e5/Math.pow(10,m),h=e.substring(r,r+m),f=parseFloat(h)*p,g=e.substring(r+m),y=parseFloat(g)*p),{easting:f+c,northing:y+u,zoneLetter:s,zoneNumber:a,accuracy:p}}function Zg(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Jg(e,t,n){if(!(this instanceof Jg))return new Jg(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&void 0===t){var i=e.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Jg.fromMGRS=function(e){return new Jg(Fg(e))},Jg.prototype.toMGRS=function(e){return Bg([this.x,this.y],e)};const Xg=Jg;var Kg=1,Qg=.25,$g=.046875,em=.01953125,tm=.01068115234375,nm=.75,im=.46875,om=.013020833333333334,rm=.007120768229166667,am=.3645833333333333,sm=.005696614583333333,lm=.3076171875;function cm(e){var t=[];t[0]=Kg-e*(Qg+e*($g+e*(em+e*tm))),t[1]=e*(nm-e*($g+e*(em+e*tm)));var n=e*e;return t[2]=n*(im-e*(om+e*rm)),n*=e,t[3]=n*(am-e*sm),t[4]=n*e*lm,t}function um(e,t,n,i){return n*=t,t*=t,i[0]*e-n*(i[1]+t*(i[2]+t*(i[3]+t*i[4])))}var dm=20;function pm(e,t,n){for(var i=1/(1-t),o=e,r=dm;r;--r){var a=Math.sin(o),s=1-t*a*a;if(o-=s=(um(o,a,Math.cos(o),n)-e)*(s*Math.sqrt(s))*i,Math.abs(s)<fh)return o}return o}const hm={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=cm(this.es),this.ml0=um(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(e){var t,n,i,o=e.x,r=e.y,a=Zh(o-this.long0),s=Math.sin(r),l=Math.cos(r);if(this.es){var c=l*a,u=Math.pow(c,2),d=this.ep2*Math.pow(l,2),p=Math.pow(d,2),h=Math.abs(l)>fh?Math.tan(r):0,g=Math.pow(h,2),m=Math.pow(g,2);t=1-this.es*Math.pow(s,2),c/=Math.sqrt(t);var f=um(r,s,l,this.en);n=this.a*(this.k0*c*(1+u/6*(1-g+d+u/20*(5-18*g+m+14*d-58*g*d+u/42*(61+179*m-m*g-479*g)))))+this.x0,i=this.a*(this.k0*(f-this.ml0+s*a*c/2*(1+u/12*(5-g+9*d+4*p+u/30*(61+m-58*g+270*d-330*g*d+u/56*(1385+543*m-m*g-3111*g))))))+this.y0}else{var y=l*Math.sin(a);if(Math.abs(Math.abs(y)-1)<fh)return 93;if(n=.5*this.a*this.k0*Math.log((1+y)/(1-y))+this.x0,i=l*Math.cos(a)/Math.sqrt(1-Math.pow(y,2)),(y=Math.abs(i))>=1){if(y-1>fh)return 93;i=0}else i=Math.acos(i);r<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return e.x=n,e.y=i,e},inverse:function(e){var t,n,i,o,r=(e.x-this.x0)*(1/this.a),a=(e.y-this.y0)*(1/this.a);if(this.es)if(n=pm(t=this.ml0+a/this.k0,this.es,this.en),Math.abs(n)<ph){var s=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>fh?Math.tan(n):0,u=this.ep2*Math.pow(l,2),d=Math.pow(u,2),p=Math.pow(c,2),h=Math.pow(p,2);t=1-this.es*Math.pow(s,2);var g=r*Math.sqrt(t)/this.k0,m=Math.pow(g,2);i=n-(t*=c)*m/(1-this.es)*.5*(1-m/12*(5+3*p-9*u*p+u-4*d-m/30*(61+90*p-252*u*p+45*h+46*u-m/56*(1385+3633*p+4095*h+1574*h*p)))),o=Zh(this.long0+g*(1-m/6*(1+2*p+u-m/20*(5+28*p+24*h+8*u*p+6*u-m/42*(61+662*p+1320*h+720*h*p))))/l)}else i=ph*Yh(a),o=0;else{var f=Math.exp(r/this.k0),y=.5*(f-1/f),A=this.lat0+a/this.k0,v=Math.cos(A);t=Math.sqrt((1-Math.pow(v,2))/(1+Math.pow(y,2))),i=Math.asin(t),a<0&&(i=-i),o=0===y&&0===v?0:Zh(Math.atan2(y,v)+this.long0)}return e.x=o,e.y=i,e},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function gm(e){var t=Math.exp(e);return t=(t-1/t)/2}function mm(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),i=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function fm(e){var t=Math.abs(e);return t=function(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n}(t*(1+t/(mm(1,t)+1))),e<0?-t:t}function ym(e,t){for(var n,i=2*Math.cos(2*t),o=e.length-1,r=e[o],a=0;--o>=0;)n=i*r-a+e[o],a=r,r=n;return t+n*Math.sin(2*t)}function Am(e,t,n){for(var i,o,r=Math.sin(t),a=Math.cos(t),s=gm(n),l=function(e){var t=Math.exp(e);return(t+1/t)/2}(n),c=2*a*l,u=-2*r*s,d=e.length-1,p=e[d],h=0,g=0,m=0;--d>=0;)i=g,o=h,p=c*(g=p)-i-u*(h=m)+e[d],m=u*g-o+c*h;return[(c=r*l)*p-(u=a*s)*m,c*m+u*p]}const vm={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(hm.init.apply(this),this.forward=hm.forward,this.inverse=hm.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),n*=t,this.cgb[1]=n*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var i=ym(this.cbg,this.lat0);this.Zb=-this.Qn*(i+function(e,t){for(var n,i=2*Math.cos(t),o=e.length-1,r=e[o],a=0;--o>=0;)n=i*r-a+e[o],a=r,r=n;return Math.sin(t)*n}(this.gtu,2*i))},forward:function(e){var t=Zh(e.x-this.long0),n=e.y;n=ym(this.cbg,n);var i=Math.sin(n),o=Math.cos(n),r=Math.sin(t),a=Math.cos(t);n=Math.atan2(i,a*o),t=Math.atan2(r*o,mm(i,o*a)),t=fm(Math.tan(t));var s,l,c=Am(this.gtu,2*n,2*t);return n+=c[0],t+=c[1],Math.abs(t)<=2.623395162778?(s=this.a*(this.Qn*t)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(s=1/0,l=1/0),e.x=s,e.y=l,e},inverse:function(e){var t,n,i=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(o=(o-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var r=Am(this.utg,2*o,2*i);o+=r[0],i+=r[1],i=Math.atan(gm(i));var a=Math.sin(o),s=Math.cos(o),l=Math.sin(i),c=Math.cos(i);o=Math.atan2(a*c,mm(l,c*s)),t=Zh((i=Math.atan2(l,c*s))+this.long0),n=ym(this.cgb,o)}else t=1/0,n=1/0;return e.x=t,e.y=n,e},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"]};const Cm={init:function(){var e=function(e,t){if(void 0===e){if((e=Math.floor(30*(Zh(t)+Math.PI)/Math.PI)+1)<0)return 0;if(e>60)return 60}return e}(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*yh,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,vm.init.apply(this),this.forward=vm.forward,this.inverse=vm.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function bm(e,t){return Math.pow((1-e)/(1+e),t)}const Im={init:function(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+vh)/(Math.pow(Math.tan(.5*this.lat0+vh),this.C)*bm(this.e*e,this.ratexp))},forward:function(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+vh),this.C)*bm(this.e*Math.sin(n),this.ratexp))-ph,e.x=this.C*t,e},inverse:function(e){for(var t=e.x/this.C,n=e.y,i=Math.pow(Math.tan(.5*n+vh)/this.K,1/this.C),o=20;o>0&&(n=2*Math.atan(i*bm(this.e*Math.sin(e.y),-.5*this.e))-ph,!(Math.abs(n-e.y)<1e-14));--o)e.y=n;return o?(e.x=t,e.y=n,e):null},names:["gauss"]};const _m={init:function(){Im.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(e){var t,n,i,o;return e.x=Zh(e.x-this.long0),Im.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),i=Math.cos(e.x),o=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*i),e.x=o*n*Math.sin(e.x),e.y=o*(this.cosc0*t-this.sinc0*n*i),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){var t,n,i,o,r;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,r=mm(e.x,e.y)){var a=2*Math.atan2(r,this.R2);t=Math.sin(a),n=Math.cos(a),o=Math.asin(n*this.sinc0+e.y*t*this.cosc0/r),i=Math.atan2(e.x*t,r*this.cosc0*n-e.y*this.sinc0*t)}else o=this.phic0,i=0;return e.x=i,e.y=o,Im.inverse.apply(this,[e]),e.x=Zh(e.x+this.long0),e},names:["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};const wm={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=fh&&(this.k0=.5*(1+Yh(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=fh&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=fh&&Math.abs(Math.cos(this.lat_ts))>fh&&(this.k0=.5*this.cons*Hh(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Jh(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Hh(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-ph,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(e){var t,n,i,o,r,a,s=e.x,l=e.y,c=Math.sin(l),u=Math.cos(l),d=Zh(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=fh&&Math.abs(l+this.lat0)<=fh?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*c+this.coslat0*u*Math.cos(d)),e.x=this.a*t*u*Math.sin(d)+this.x0,e.y=this.a*t*(this.coslat0*c-this.sinlat0*u*Math.cos(d))+this.y0,e):(n=2*Math.atan(this.ssfn_(l,c,this.e))-ph,o=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=fh?(r=Jh(this.e,l*this.con,this.con*c),a=2*this.a*this.k0*r/this.cons,e.x=this.x0+a*Math.sin(s-this.long0),e.y=this.y0-this.con*a*Math.cos(s-this.long0),e):(Math.abs(this.sinlat0)<fh?(t=2*this.a*this.k0/(1+o*Math.cos(d)),e.y=t*i):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*o*Math.cos(d))),e.y=t*(this.cosX0*i-this.sinX0*o*Math.cos(d))+this.y0),e.x=t*o*Math.sin(d)+this.x0,e))},inverse:function(e){var t,n,i,o,r;e.x-=this.x0,e.y-=this.y0;var a=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return t=this.long0,n=this.lat0,a<=fh?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(s)*this.sinlat0+e.y*Math.sin(s)*this.coslat0/a),t=Math.abs(this.coslat0)<fh?this.lat0>0?Zh(this.long0+Math.atan2(e.x,-1*e.y)):Zh(this.long0+Math.atan2(e.x,e.y)):Zh(this.long0+Math.atan2(e.x*Math.sin(s),a*this.coslat0*Math.cos(s)-e.y*this.sinlat0*Math.sin(s))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=fh){if(a<=fh)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,i=a*this.cons/(2*this.a*this.k0),n=this.con*Xh(this.e,i),t=this.con*Zh(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else o=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,a<=fh?r=this.X0:(r=Math.asin(Math.cos(o)*this.sinX0+e.y*Math.sin(o)*this.cosX0/a),t=Zh(this.long0+Math.atan2(e.x*Math.sin(o),a*this.cosX0*Math.cos(o)-e.y*this.sinX0*Math.sin(o)))),n=-1*Xh(this.e,Math.tan(.5*(ph+r)));return e.x=t,e.y=n,e},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"],ssfn_:function(e,t,n){return t*=n,Math.tan(.5*(ph+e))*Math.pow((1-t)/(1+t),.5*n)}};const Em={init:function(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,i=1/this.rf,o=2*i-Math.pow(i,2),r=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(t,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+e/2)),l=Math.log((1+r*t)/(1-r*t));this.K=a-this.alpha*s+this.alpha*r/2*l},forward:function(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),i=-this.alpha*(t+n)+this.K,o=2*(Math.atan(Math.exp(i))-Math.PI/4),r=this.alpha*(e.x-this.lambda0),a=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(r))),s=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(r));return e.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,e.x=this.R*a+this.x0,e},inverse:function(e){for(var t=e.x-this.x0,n=e.y-this.y0,i=t/this.R,o=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),r=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(i)),a=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(o))),s=this.lambda0+a/this.alpha,l=0,c=r,u=-1e3,d=0;Math.abs(c-u)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+r/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=s,e.y=c,e},names:["somerc"]};var Sm=1e-7;const Pm={init:function(){var e,t,n,i,o,r,a,s,l,c,u,d,p,h=0,g=0,m=0,f=0,y=0,A=0,v=0;this.no_off=(p="object"==typeof(d=this).PROJECTION?Object.keys(d.PROJECTION)[0]:d.PROJECTION,"no_uoff"in d||"no_off"in d||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(p)),this.no_rot="no_rot"in this;var C=!1;"alpha"in this&&(C=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),C&&(v=this.alpha),b&&(h=this.rectified_grid_angle*yh),C||b)g=this.longc;else if(m=this.long1,y=this.lat1,f=this.long2,A=this.lat2,Math.abs(y-A)<=Sm||(e=Math.abs(y))<=Sm||Math.abs(e-ph)<=Sm||Math.abs(Math.abs(this.lat0)-ph)<=Sm||Math.abs(Math.abs(A)-ph)<=Sm)throw new Error;var I=1-this.es;t=Math.sqrt(I),Math.abs(this.lat0)>fh?(s=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*s*s,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/I),this.A=this.B*this.k0*t/e,(o=(i=this.B*t/(n*Math.sqrt(e)))*i-1)<=0?o=0:(o=Math.sqrt(o),this.lat0<0&&(o=-o)),this.E=o+=i,this.E*=Math.pow(Jh(this.e,this.lat0,s),this.B)):(this.B=1/t,this.A=this.k0,this.E=i=o=1),C||b?(C?(u=Math.asin(Math.sin(v)/i),b||(h=v)):(u=h,v=Math.asin(i*Math.sin(u))),this.lam0=g-Math.asin(.5*(o-1/o)*Math.tan(u))/this.B):(r=Math.pow(Jh(this.e,y,Math.sin(y)),this.B),a=Math.pow(Jh(this.e,A,Math.sin(A)),this.B),o=this.E/r,l=(a-r)/(a+r),c=((c=this.E*this.E)-a*r)/(c+a*r),(e=m-f)<-Math.pi?f-=Ch:e>Math.pi&&(f+=Ch),this.lam0=Zh(.5*(m+f)-Math.atan(c*Math.tan(.5*this.B*(m-f))/l)/this.B),u=Math.atan(2*Math.sin(this.B*Zh(m-this.lam0))/(o-1/o)),h=v=Math.asin(i*Math.sin(u))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(h),this.cosrot=Math.cos(h),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(v))),this.lat0<0&&(this.u_0=-this.u_0)),o=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(vh-o)),this.v_pole_s=this.ArB*Math.log(Math.tan(vh+o))},forward:function(e){var t,n,i,o,r,a,s,l,c={};if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-ph)>fh){if(t=.5*((r=this.E/Math.pow(Jh(this.e,e.y,Math.sin(e.y)),this.B))-(a=1/r)),n=.5*(r+a),o=Math.sin(this.B*e.x),i=(t*this.singam-o*this.cosgam)/n,Math.abs(Math.abs(i)-1)<fh)throw new Error;l=.5*this.ArB*Math.log((1-i)/(1+i)),a=Math.cos(this.B*e.x),s=Math.abs(a)<Sm?this.A*e.x:this.ArB*Math.atan2(t*this.cosgam+o*this.singam,a)}else l=e.y>0?this.v_pole_n:this.v_pole_s,s=this.ArB*e.y;return this.no_rot?(c.x=s,c.y=l):(s-=this.u_0,c.x=l*this.cosrot+s*this.sinrot,c.y=s*this.cosrot-l*this.sinrot),c.x=this.a*c.x+this.x0,c.y=this.a*c.y+this.y0,c},inverse:function(e){var t,n,i,o,r,a,s,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,t=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),o=.5*((i=Math.exp(-this.BrA*n))-1/i),r=.5*(i+1/i),s=((a=Math.sin(this.BrA*t))*this.cosgam+o*this.singam)/r,Math.abs(Math.abs(s)-1)<fh)l.x=0,l.y=s<0?-ph:ph;else{if(l.y=this.E/Math.sqrt((1+s)/(1-s)),l.y=Xh(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(o*this.cosgam-a*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};const Mm={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<fh)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),i=Hh(this.e,t,n),o=Jh(this.e,this.lat1,t),r=Math.sin(this.lat2),a=Math.cos(this.lat2),s=Hh(this.e,r,a),l=Jh(this.e,this.lat2,r),c=Jh(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>fh?this.ns=Math.log(i/s)/Math.log(o/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=i/(this.ns*Math.pow(o,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=fh&&(n=Yh(n)*(ph-2*fh));var i,o,r=Math.abs(Math.abs(n)-ph);if(r>fh)i=Jh(this.e,n,Math.sin(n)),o=this.a*this.f0*Math.pow(i,this.ns);else{if((r=n*this.ns)<=0)return null;o=0}var a=this.ns*Zh(t-this.long0);return e.x=this.k0*(o*Math.sin(a))+this.x0,e.y=this.k0*(this.rh-o*Math.cos(a))+this.y0,e},inverse:function(e){var t,n,i,o,r,a=(e.x-this.x0)/this.k0,s=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(a*a+s*s),n=1):(t=-Math.sqrt(a*a+s*s),n=-1);var l=0;if(0!==t&&(l=Math.atan2(n*a,n*s)),0!==t||this.ns>0){if(n=1/this.ns,i=Math.pow(t/(this.a*this.f0),n),-9999===(o=Xh(this.e,i)))return null}else o=-ph;return r=Zh(l/this.ns+this.long0),e.x=r,e.y=o,e},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]};const xm={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(e){var t,n,i,o,r,a,s,l=e.x,c=e.y,u=Zh(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),i=-u*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),r=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(o)),a=this.n*r,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),e.y=s*Math.cos(a)/1,e.x=s*Math.sin(a)/1,this.czech||(e.y*=-1,e.x*=-1),e},inverse:function(e){var t,n,i,o,r,a,s,l=e.x;e.x=e.y,e.y=l,this.czech||(e.y*=-1,e.x*=-1),r=Math.sqrt(e.x*e.x+e.y*e.y),o=Math.atan2(e.y,e.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/r,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(o)),n=Math.asin(Math.cos(i)*Math.sin(o)/Math.cos(t)),e.x=this.long0-n/this.alfa,a=t,s=0;var c=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(s=1),a=e.y,c+=1}while(0===s&&c<15);return c>=15?null:e},names:["Krovak","krovak"]};function Gm(e,t,n,i,o){return e*o-t*Math.sin(2*o)+n*Math.sin(4*o)-i*Math.sin(6*o)}function km(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function Rm(e){return.375*e*(1+.25*e*(1+.46875*e))}function Lm(e){return.05859375*e*e*(1+.75*e)}function Om(e){return e*e*e*(35/3072)}function Tm(e,t,n){var i=t*n;return e/Math.sqrt(1-i*i)}function Dm(e){return Math.abs(e)<ph?e:e-Yh(e)*Math.PI}function Nm(e,t,n,i,o){var r,a;r=e/t;for(var s=0;s<15;s++)if(r+=a=(e-(t*r-n*Math.sin(2*r)+i*Math.sin(4*r)-o*Math.sin(6*r)))/(t-2*n*Math.cos(2*r)+4*i*Math.cos(4*r)-6*o*Math.cos(6*r)),Math.abs(a)<=1e-10)return r;return NaN}const Um={init:function(){this.sphere||(this.e0=km(this.es),this.e1=Rm(this.es),this.e2=Lm(this.es),this.e3=Om(this.es),this.ml0=this.a*Gm(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(e){var t,n,i=e.x,o=e.y;if(i=Zh(i-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(o)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(o),Math.cos(i))-this.lat0);else{var r=Math.sin(o),a=Math.cos(o),s=Tm(this.a,this.e,r),l=Math.tan(o)*Math.tan(o),c=i*Math.cos(o),u=c*c,d=this.es*a*a/(1-this.es);t=s*c*(1-u*l*(1/6-(8-l+8*d)*u/120)),n=this.a*Gm(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*r/a*u*(.5+(5-l+6*d)*u/24)}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,i=e.x/this.a,o=e.y/this.a;if(this.sphere){var r=o+this.lat0;t=Math.asin(Math.sin(r)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(r))}else{var a=Nm(this.ml0/this.a+o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-ph)<=fh)return e.x=this.long0,e.y=ph,o<0&&(e.y*=-1),e;var s=Tm(this.a,this.e,Math.sin(a)),l=s*s*s/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(a),2),u=i*this.a/s,d=u*u;t=a-s*Math.tan(a)/l*u*u*(.5-(1+3*c)*u*u/24),n=u*(1-d*(c/3+(1+3*c)*c*d/15))/Math.cos(a)}return e.x=Zh(n+this.long0),e.y=Dm(t),e},names:["Cassini","Cassini_Soldner","cass"]};function jm(e,t){var n;return e>1e-7?(1-e*e)*(t/(1-(n=e*t)*n)-.5/e*Math.log((1-n)/(1+n))):2*t}var Bm=.3333333333333333,Fm=.17222222222222222,zm=.10257936507936508,Vm=.06388888888888888,qm=.0664021164021164,Wm=.016415012942191543;const Hm={init:function(){var e,t=Math.abs(this.lat0);if(Math.abs(t-ph)<fh?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<fh?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=jm(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(e){var t,n=[];return n[0]=e*Bm,t=e*e,n[0]+=t*Fm,n[1]=t*Vm,t*=e,n[0]+=t*zm,n[1]+=t*qm,n[2]=t*Wm,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=jm(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(e){var t,n,i,o,r,a,s,l,c,u,d=e.x,p=e.y;if(d=Zh(d-this.long0),this.sphere){if(r=Math.sin(p),u=Math.cos(p),i=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+u*i:1+this.sinph0*r+this.cosph0*u*i)<=fh)return null;t=(n=Math.sqrt(2/n))*u*Math.sin(d),n*=this.mode===this.EQUIT?r:this.cosph0*r-this.sinph0*u*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(p+this.lat0)<fh)return null;n=vh-.5*p,t=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(d),n*=i}}else{switch(s=0,l=0,c=0,i=Math.cos(d),o=Math.sin(d),r=Math.sin(p),a=jm(this.e,r),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:c=1+this.sinb1*s+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=ph+p,a=this.qp-a;break;case this.S_POLE:c=p-ph,a=this.qp+a}if(Math.abs(c)<fh)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*s-this.sinb1*l*i):(c=Math.sqrt(2/(1+l*i)))*s*this.ymf,t=this.xmf*c*l*o;break;case this.N_POLE:case this.S_POLE:a>=0?(t=(c=Math.sqrt(a))*o,n=i*(this.mode===this.S_POLE?c:-c)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,i,o,r,a,s,l,c,u,d=e.x/this.a,p=e.y/this.a;if(this.sphere){var h,g=0,m=0;if((n=.5*(h=Math.sqrt(d*d+p*p)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(m=Math.sin(n),g=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(h)<=fh?0:Math.asin(p*m/h),d*=m,p=g*h;break;case this.OBLIQ:n=Math.abs(h)<=fh?this.lat0:Math.asin(g*this.sinph0+p*m*this.cosph0/h),d*=m*this.cosph0,p=(g-Math.sin(n)*this.sinph0)*h;break;case this.N_POLE:p=-p,n=ph-n;break;case this.S_POLE:n-=ph}t=0!==p||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(d,p):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(d/=this.dd,p*=this.dd,(a=Math.sqrt(d*d+p*p))<fh)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*a/this.rq),i=Math.cos(o),d*=o=Math.sin(o),this.mode===this.OBLIQ?(s=i*this.sinb1+p*o*this.cosb1/a,r=this.qp*s,p=a*this.cosb1*i-p*this.sinb1*o):(s=p*o/a,r=this.qp*s,p=a*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),!(r=d*d+p*p))return e.x=this.long0,e.y=this.lat0,e;s=1-r/this.qp,this.mode===this.S_POLE&&(s=-s)}t=Math.atan2(d,p),l=Math.asin(s),c=this.apa,u=l+l,n=l+c[0]*Math.sin(u)+c[1]*Math.sin(u+u)+c[2]*Math.sin(u+u+u)}return e.x=Zh(this.long0+t),e.y=n,e},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function Ym(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}const Zm={init:function(){Math.abs(this.lat1+this.lat2)<fh||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Hh(this.e3,this.sin_po,this.cos_po),this.qs1=jm(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Hh(this.e3,this.sin_po,this.cos_po),this.qs2=jm(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=jm(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>fh?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=jm(this.e3,this.sin_phi),o=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,r=this.ns0*Zh(t-this.long0),a=o*Math.sin(r)+this.x0,s=this.rh-o*Math.cos(r)+this.y0;return e.x=a,e.y=s,e},inverse:function(e){var t,n,i,o,r,a;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),i=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),i=-1),o=0,0!==t&&(o=Math.atan2(i*e.x,i*e.y)),i=t*this.ns0/this.a,this.sphere?a=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,a=this.phi1z(this.e3,n)),r=Zh(o/this.ns0+this.long0),e.x=r,e.y=a,e},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(e,t){var n,i,o,r,a=Ym(.5*t);if(e<fh)return a;for(var s=e*e,l=1;l<=25;l++)if(a+=r=.5*(o=1-(i=e*(n=Math.sin(a)))*i)*o/Math.cos(a)*(t/(1-s)-n/o+.5/e*Math.log((1-i)/(1+i))),Math.abs(r)<=1e-7)return a;return null}};const Jm={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(e){var t,n,i,o,r,a,s,l=e.x,c=e.y;return i=Zh(l-this.long0),t=Math.sin(c),n=Math.cos(c),o=Math.cos(i),(r=this.sin_p14*t+this.cos_p14*n*o)>0||Math.abs(r)<=fh?(a=this.x0+1*this.a*n*Math.sin(i)/r,s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*o)/r):(a=this.x0+this.infinity_dist*n*Math.sin(i),s=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*o)),e.x=a,e.y=s,e},inverse:function(e){var t,n,i,o,r,a;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(o=Math.atan2(t,this.rc),n=Math.sin(o),a=Ym((i=Math.cos(o))*this.sin_p14+e.y*n*this.cos_p14/t),r=Math.atan2(e.x*n,t*this.cos_p14*i-e.y*this.sin_p14*n),r=Zh(this.long0+r)):(a=this.phic0,r=0),e.x=r,e.y=a,e},names:["gnom"]};const Xm={init:function(){this.sphere||(this.k0=Hh(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(e){var t,n,i=e.x,o=e.y,r=Zh(i-this.long0);if(this.sphere)t=this.x0+this.a*r*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(o)/Math.cos(this.lat_ts);else{var a=jm(this.e,Math.sin(o));t=this.x0+this.a*this.k0*r,n=this.y0+this.a*a*.5/this.k0}return e.x=t,e.y=n,e},inverse:function(e){var t,n;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=Zh(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*ph:ph;for(var i,o,r,a,s=Math.asin(.5*t),l=0;l<30;l++)if(o=Math.sin(s),r=Math.cos(s),a=e*o,s+=i=Math.pow(1-a*a,2)/(2*r)*(t/(1-e*e)-o/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),Math.abs(i)<=1e-10)return s;return NaN}(this.e,2*e.y*this.k0/this.a),t=Zh(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e},names:["cea"]};const Km={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(e){var t=e.x,n=e.y,i=Zh(t-this.long0),o=Dm(n-this.lat0);return e.x=this.x0+this.a*i*this.rc,e.y=this.y0+this.a*o,e},inverse:function(e){var t=e.x,n=e.y;return e.x=Zh(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Dm(this.lat0+(n-this.y0)/this.a),e},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};const Qm={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=km(this.es),this.e1=Rm(this.es),this.e2=Lm(this.es),this.e3=Om(this.es),this.ml0=this.a*Gm(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var t,n,i,o=e.x,r=e.y,a=Zh(o-this.long0);if(i=a*Math.sin(r),this.sphere)Math.abs(r)<=fh?(t=this.a*a,n=-1*this.a*this.lat0):(t=this.a*Math.sin(i)/Math.tan(r),n=this.a*(Dm(r-this.lat0)+(1-Math.cos(i))/Math.tan(r)));else if(Math.abs(r)<=fh)t=this.a*a,n=-1*this.ml0;else{var s=Tm(this.a,this.e,Math.sin(r))/Math.tan(r);t=s*Math.sin(i),n=this.a*Gm(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+s*(1-Math.cos(i))}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){var t,n,i,o,r,a,s,l,c;if(i=e.x-this.x0,o=e.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=fh)t=Zh(i/this.a+this.long0),n=0;else{var u;for(a=this.lat0+o/this.a,s=i*i/this.a/this.a+a*a,l=a,r=20;r;--r)if(l+=c=-1*(a*(l*(u=Math.tan(l))+1)-l-.5*(l*l+s)*u)/((l-a)/u-1),Math.abs(c)<=fh){n=l;break}t=Zh(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(o+this.ml0)<=fh)n=0,t=Zh(this.long0+i/this.a);else{var d,p,h,g,m;for(a=(this.ml0+o)/this.a,s=i*i/this.a/this.a+a*a,l=a,r=20;r;--r)if(m=this.e*Math.sin(l),d=Math.sqrt(1-m*m)*Math.tan(l),p=this.a*Gm(this.e0,this.e1,this.e2,this.e3,l),h=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=c=(a*(d*(g=p/this.a)+1)-g-.5*d*(g*g+s))/(this.es*Math.sin(2*l)*(g*g+s-2*a*g)/(4*d)+(a-g)*(d*h-2/Math.sin(2*l))-h),Math.abs(c)<=fh){n=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=Zh(this.long0+Math.asin(i*d/this.a)/Math.sin(n))}return e.x=t,e.y=n,e},names:["Polyconic","poly"]};const $m={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(e){var t,n=e.x,i=e.y-this.lat0,o=n-this.long0,r=i/dh*1e-5,a=o,s=1,l=0;for(t=1;t<=10;t++)s*=r,l+=this.A[t]*s;var c,u=l,d=a,p=1,h=0,g=0,m=0;for(t=1;t<=6;t++)c=h*u+p*d,p=p*u-h*d,h=c,g=g+this.B_re[t]*p-this.B_im[t]*h,m=m+this.B_im[t]*p+this.B_re[t]*h;return e.x=m*this.a+this.x0,e.y=g*this.a+this.y0,e},inverse:function(e){var t,n,i=e.x,o=e.y,r=i-this.x0,a=(o-this.y0)/this.a,s=r/this.a,l=1,c=0,u=0,d=0;for(t=1;t<=6;t++)n=c*a+l*s,l=l*a-c*s,c=n,u=u+this.C_re[t]*l-this.C_im[t]*c,d=d+this.C_im[t]*l+this.C_re[t]*c;for(var p=0;p<this.iterations;p++){var h,g=u,m=d,f=a,y=s;for(t=2;t<=6;t++)h=m*u+g*d,g=g*u-m*d,m=h,f+=(t-1)*(this.B_re[t]*g-this.B_im[t]*m),y+=(t-1)*(this.B_im[t]*g+this.B_re[t]*m);g=1,m=0;var A=this.B_re[1],v=this.B_im[1];for(t=2;t<=6;t++)h=m*u+g*d,g=g*u-m*d,m=h,A+=t*(this.B_re[t]*g-this.B_im[t]*m),v+=t*(this.B_im[t]*g+this.B_re[t]*m);var C=A*A+v*v;u=(f*A+y*v)/C,d=(y*A-f*v)/C}var b=u,I=d,_=1,w=0;for(t=1;t<=9;t++)_*=b,w+=this.D[t]*_;var E=this.lat0+w*dh*1e5,S=this.long0+I;return e.x=S,e.y=E,e},names:["New_Zealand_Map_Grid","nzmg"]};const ef={init:function(){},forward:function(e){var t=e.x,n=e.y,i=Zh(t-this.long0),o=this.x0+this.a*i,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=o,e.y=r,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=Zh(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e},names:["Miller_Cylindrical","mill"]};const tf={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=cm(this.es)},forward:function(e){var t,n,i=e.x,o=e.y;if(i=Zh(i-this.long0),this.sphere){if(this.m)for(var r=this.n*Math.sin(o),a=20;a;--a){var s=(this.m*o+Math.sin(o)-r)/(this.m+Math.cos(o));if(o-=s,Math.abs(s)<fh)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;t=this.a*this.C_x*i*(this.m+Math.cos(o)),n=this.a*this.C_y*o}else{var l=Math.sin(o),c=Math.cos(o);n=this.a*um(o,l,c,this.en),t=this.a*i*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,i;return e.x-=this.x0,n=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,n/=this.C_x*(this.m+Math.cos(t)),this.m?t=Ym((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=Ym(Math.sin(t)/this.n)),n=Zh(n+this.long0),t=Dm(t)):(t=pm(e.y/this.a,this.es,this.en),(i=Math.abs(t))<ph?(i=Math.sin(t),n=Zh(this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(t)))):i-fh<ph&&(n=this.long0)),e.x=n,e.y=t,e},names:["Sinusoidal","sinu"]};const nf={init:function(){},forward:function(e){for(var t=e.x,n=e.y,i=Zh(t-this.long0),o=n,r=Math.PI*Math.sin(n);;){var a=-(o+Math.sin(o)-r)/(1+Math.cos(o));if(o+=a,Math.abs(a)<fh)break}o/=2,Math.PI/2-Math.abs(n)<fh&&(i=0);var s=.900316316158*this.a*i*Math.cos(o)+this.x0,l=1.4142135623731*this.a*Math.sin(o)+this.y0;return e.x=s,e.y=l,e},inverse:function(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var i=Zh(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var o=Math.asin(n);return e.x=i,e.y=o,e},names:["Mollweide","moll"]};const of={init:function(){Math.abs(this.lat1+this.lat2)<fh||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=km(this.es),this.e1=Rm(this.es),this.e2=Lm(this.es),this.e3=Om(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Hh(this.e,this.sinphi,this.cosphi),this.ml1=Gm(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<fh?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Hh(this.e,this.sinphi,this.cosphi),this.ml2=Gm(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Gm(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(e){var t,n=e.x,i=e.y;if(this.sphere)t=this.a*(this.g-i);else{var o=Gm(this.e0,this.e1,this.e2,this.e3,i);t=this.a*(this.g-o)}var r=this.ns*Zh(n-this.long0),a=this.x0+t*Math.sin(r),s=this.y0+this.rh-t*Math.cos(r);return e.x=a,e.y=s,e},inverse:function(e){var t,n,i,o;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var r=0;return 0!==n&&(r=Math.atan2(t*e.x,t*e.y)),this.sphere?(o=Zh(this.long0+r/this.ns),i=Dm(this.g-n/this.a),e.x=o,e.y=i,e):(i=Nm(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),o=Zh(this.long0+r/this.ns),e.x=o,e.y=i,e)},names:["Equidistant_Conic","eqdc"]};const rf={init:function(){this.R=this.a},forward:function(e){var t,n,i=e.x,o=e.y,r=Zh(i-this.long0);Math.abs(o)<=fh&&(t=this.x0+this.R*r,n=this.y0);var a=Ym(2*Math.abs(o/Math.PI));(Math.abs(r)<=fh||Math.abs(Math.abs(o)-ph)<=fh)&&(t=this.x0,n=o>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/r-r/Math.PI),l=s*s,c=Math.sin(a),u=Math.cos(a),d=u/(c+u-1),p=d*d,h=d*(2/c-1),g=h*h,m=Math.PI*this.R*(s*(d-g)+Math.sqrt(l*(d-g)*(d-g)-(g+l)*(p-g)))/(g+l);r<0&&(m=-m),t=this.x0+m;var f=l+d;return m=Math.PI*this.R*(h*f-s*Math.sqrt((g+l)*(l+1)-f*f))/(g+l),n=o>=0?this.y0+m:this.y0-m,e.x=t,e.y=n,e},inverse:function(e){var t,n,i,o,r,a,s,l,c,u,d,p;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,r=(i=e.x/d)*i+(o=e.y/d)*o,d=3*(o*o/(l=-2*(a=-Math.abs(o)*(1+r))+1+2*o*o+r*r)+(2*(s=a-2*o*o+i*i)*s*s/l/l/l-9*a*s/l/l)/27)/(c=(a-s*s/3/l)/l)/(u=2*Math.sqrt(-c/3)),Math.abs(d)>1&&(d=d>=0?1:-1),p=Math.acos(d)/3,n=e.y>=0?(-u*Math.cos(p+Math.PI/3)-s/3/l)*Math.PI:-(-u*Math.cos(p+Math.PI/3)-s/3/l)*Math.PI,t=Math.abs(i)<fh?this.long0:Zh(this.long0+Math.PI*(r-1+Math.sqrt(1+2*(i*i-o*o)+r*r))/2/i),e.x=t,e.y=n,e},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};const af={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(e){var t,n,i,o,r,a,s,l,c,u,d,p,h,g,m,f,y,A,v,C,b,I,_=e.x,w=e.y,E=Math.sin(e.y),S=Math.cos(e.y),P=Zh(_-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=fh?(e.x=this.x0+this.a*(ph-w)*Math.sin(P),e.y=this.y0-this.a*(ph-w)*Math.cos(P),e):Math.abs(this.sin_p12+1)<=fh?(e.x=this.x0+this.a*(ph+w)*Math.sin(P),e.y=this.y0+this.a*(ph+w)*Math.cos(P),e):(A=this.sin_p12*E+this.cos_p12*S*Math.cos(P),y=(f=Math.acos(A))?f/Math.sin(f):1,e.x=this.x0+this.a*y*S*Math.sin(P),e.y=this.y0+this.a*y*(this.cos_p12*E-this.sin_p12*S*Math.cos(P)),e):(t=km(this.es),n=Rm(this.es),i=Lm(this.es),o=Om(this.es),Math.abs(this.sin_p12-1)<=fh?(r=this.a*Gm(t,n,i,o,ph),a=this.a*Gm(t,n,i,o,w),e.x=this.x0+(r-a)*Math.sin(P),e.y=this.y0-(r-a)*Math.cos(P),e):Math.abs(this.sin_p12+1)<=fh?(r=this.a*Gm(t,n,i,o,ph),a=this.a*Gm(t,n,i,o,w),e.x=this.x0+(r+a)*Math.sin(P),e.y=this.y0+(r+a)*Math.cos(P),e):(s=E/S,l=Tm(this.a,this.e,this.sin_p12),c=Tm(this.a,this.e,E),u=Math.atan((1-this.es)*s+this.es*l*this.sin_p12/(c*S)),v=0===(d=Math.atan2(Math.sin(P),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(P)))?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(d)-Math.PI)<=fh?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(P)*Math.cos(u)/Math.sin(d)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),f=l*v*(1-(C=v*v)*(m=(h=this.e*this.cos_p12*Math.cos(d)/Math.sqrt(1-this.es))*h)*(1-m)/6+(b=C*v)/8*(g=p*h)*(1-2*m)+(I=b*v)/120*(m*(4-7*m)-3*p*p*(1-7*m))-I*v/48*g),e.x=this.x0+f*Math.sin(d),e.y=this.y0+f*Math.cos(d),e))},inverse:function(e){var t,n,i,o,r,a,s,l,c,u,d,p,h,g,m,f,y,A,v,C,b,I,_;if(e.x-=this.x0,e.y-=this.y0,this.sphere){if((t=Math.sqrt(e.x*e.x+e.y*e.y))>2*ph*this.a)return;return n=t/this.a,i=Math.sin(n),o=Math.cos(n),r=this.long0,Math.abs(t)<=fh?a=this.lat0:(a=Ym(o*this.sin_p12+e.y*i*this.cos_p12/t),s=Math.abs(this.lat0)-ph,r=Math.abs(s)<=fh?this.lat0>=0?Zh(this.long0+Math.atan2(e.x,-e.y)):Zh(this.long0-Math.atan2(-e.x,e.y)):Zh(this.long0+Math.atan2(e.x*i,t*this.cos_p12*o-e.y*this.sin_p12*i))),e.x=r,e.y=a,e}return l=km(this.es),c=Rm(this.es),u=Lm(this.es),d=Om(this.es),Math.abs(this.sin_p12-1)<=fh?(a=Nm(((p=this.a*Gm(l,c,u,d,ph))-(t=Math.sqrt(e.x*e.x+e.y*e.y)))/this.a,l,c,u,d),r=Zh(this.long0+Math.atan2(e.x,-1*e.y)),e.x=r,e.y=a,e):Math.abs(this.sin_p12+1)<=fh?(p=this.a*Gm(l,c,u,d,ph),a=Nm(((t=Math.sqrt(e.x*e.x+e.y*e.y))-p)/this.a,l,c,u,d),r=Zh(this.long0+Math.atan2(e.x,e.y)),e.x=r,e.y=a,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),m=Math.atan2(e.x,e.y),h=Tm(this.a,this.e,this.sin_p12),f=Math.cos(m),A=-(y=this.e*this.cos_p12*f)*y/(1-this.es),v=3*this.es*(1-A)*this.sin_p12*this.cos_p12*f/(1-this.es),I=1-A*(b=(C=t/h)-A*(1+A)*Math.pow(C,3)/6-v*(1+3*A)*Math.pow(C,4)/24)*b/2-C*b*b*b/6,g=Math.asin(this.sin_p12*Math.cos(b)+this.cos_p12*Math.sin(b)*f),r=Zh(this.long0+Math.asin(Math.sin(m)*Math.sin(b)/Math.cos(g))),_=Math.sin(g),a=Math.atan2((_-this.es*I*this.sin_p12)*Math.tan(g),_*(1-this.es)),e.x=r,e.y=a,e)},names:["Azimuthal_Equidistant","aeqd"]};const sf={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(e){var t,n,i,o,r,a,s,l=e.x,c=e.y;return i=Zh(l-this.long0),t=Math.sin(c),n=Math.cos(c),o=Math.cos(i),((r=this.sin_p14*t+this.cos_p14*n*o)>0||Math.abs(r)<=fh)&&(a=1*this.a*n*Math.sin(i),s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*o)),e.x=a,e.y=s,e},inverse:function(e){var t,n,i,o,r,a,s;return e.x-=this.x0,e.y-=this.y0,n=Ym((t=Math.sqrt(e.x*e.x+e.y*e.y))/this.a),i=Math.sin(n),o=Math.cos(n),a=this.long0,Math.abs(t)<=fh?(s=this.lat0,e.x=a,e.y=s,e):(s=Ym(o*this.sin_p14+e.y*i*this.cos_p14/t),r=Math.abs(this.lat0)-ph,Math.abs(r)<=fh?(a=this.lat0>=0?Zh(this.long0+Math.atan2(e.x,-e.y)):Zh(this.long0-Math.atan2(-e.x,e.y)),e.x=a,e.y=s,e):(a=Zh(this.long0+Math.atan2(e.x*i,t*this.cos_p14*o-e.y*this.sin_p14*i)),e.x=a,e.y=s,e))},names:["ortho"]};var lf=1,cf=2,uf=3,df=4,pf=5,hf=6,gf={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function mf(e,t,n,i){var o;return e<fh?(i.value=gf.AREA_0,o=0):(o=Math.atan2(t,n),Math.abs(o)<=vh?i.value=gf.AREA_0:o>vh&&o<=ph+vh?(i.value=gf.AREA_1,o-=ph):o>ph+vh||o<=-(ph+vh)?(i.value=gf.AREA_2,o=o>=0?o-bh:o+bh):(i.value=gf.AREA_3,o+=ph)),o}function ff(e,t){var n=e+t;return n<-bh?n+=Ch:n>+bh&&(n-=Ch),n}const yf={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=ph-vh/2?this.face=pf:this.lat0<=-(ph-vh/2)?this.face=hf:Math.abs(this.long0)<=vh?this.face=lf:Math.abs(this.long0)<=ph+vh?this.face=this.long0>0?cf:df:this.face=uf,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(e){var t,n,i,o,r,a,s={x:0,y:0},l={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===pf)o=ph-t,n>=vh&&n<=ph+vh?(l.value=gf.AREA_0,i=n-ph):n>ph+vh||n<=-(ph+vh)?(l.value=gf.AREA_1,i=n>0?n-bh:n+bh):n>-(ph+vh)&&n<=-vh?(l.value=gf.AREA_2,i=n+ph):(l.value=gf.AREA_3,i=n);else if(this.face===hf)o=ph+t,n>=vh&&n<=ph+vh?(l.value=gf.AREA_0,i=-n+ph):n<vh&&n>=-vh?(l.value=gf.AREA_1,i=-n):n<-vh&&n>=-(ph+vh)?(l.value=gf.AREA_2,i=-n-ph):(l.value=gf.AREA_3,i=n>0?-n+bh:-n-bh);else{var c,u,d,p,h,g;this.face===cf?n=ff(n,+ph):this.face===uf?n=ff(n,+bh):this.face===df&&(n=ff(n,-ph)),p=Math.sin(t),h=Math.cos(t),g=Math.sin(n),c=h*Math.cos(n),u=h*g,d=p,this.face===lf?i=mf(o=Math.acos(c),d,u,l):this.face===cf?i=mf(o=Math.acos(u),d,-c,l):this.face===uf?i=mf(o=Math.acos(-c),d,-u,l):this.face===df?i=mf(o=Math.acos(-u),d,c,l):(o=i=0,l.value=gf.AREA_0)}return a=Math.atan(12/bh*(i+Math.acos(Math.sin(i)*Math.cos(vh))-ph)),r=Math.sqrt((1-Math.cos(o))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===gf.AREA_1?a+=ph:l.value===gf.AREA_2?a+=bh:l.value===gf.AREA_3&&(a+=1.5*bh),s.x=r*Math.cos(a),s.y=r*Math.sin(a),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,e.x=s.x,e.y=s.y,e},inverse:function(e){var t,n,i,o,r,a,s,l,c,u,d,p,h={lam:0,phi:0},g={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?g.value=gf.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(g.value=gf.AREA_1,t-=ph):e.x<0&&-e.x>=Math.abs(e.y)?(g.value=gf.AREA_2,t=t<0?t+bh:t-bh):(g.value=gf.AREA_3,t+=ph),c=bh/12*Math.tan(t),r=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),a=Math.atan(r),(s=1-(i=Math.cos(t))*i*(o=Math.tan(n))*o*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?s=-1:s>1&&(s=1),this.face===pf)l=Math.acos(s),h.phi=ph-l,g.value===gf.AREA_0?h.lam=a+ph:g.value===gf.AREA_1?h.lam=a<0?a+bh:a-bh:g.value===gf.AREA_2?h.lam=a-ph:h.lam=a;else if(this.face===hf)l=Math.acos(s),h.phi=l-ph,g.value===gf.AREA_0?h.lam=-a+ph:g.value===gf.AREA_1?h.lam=-a:g.value===gf.AREA_2?h.lam=-a-ph:h.lam=a<0?-a-bh:-a+bh;else{var m,f,y;c=(m=s)*m,f=(c+=(y=c>=1?0:Math.sqrt(1-c)*Math.sin(a))*y)>=1?0:Math.sqrt(1-c),g.value===gf.AREA_1?(c=f,f=-y,y=c):g.value===gf.AREA_2?(f=-f,y=-y):g.value===gf.AREA_3&&(c=f,f=y,y=-c),this.face===cf?(c=m,m=-f,f=c):this.face===uf?(m=-m,f=-f):this.face===df&&(c=m,m=f,f=-c),h.phi=Math.acos(-y)-ph,h.lam=Math.atan2(f,m),this.face===cf?h.lam=ff(h.lam,-ph):this.face===uf?h.lam=ff(h.lam,-bh):this.face===df&&(h.lam=ff(h.lam,+ph))}return 0!==this.es&&(u=h.phi<0?1:0,d=Math.tan(h.phi),p=this.b/Math.sqrt(d*d+this.one_minus_f_squared),h.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),u&&(h.phi=-h.phi)),h.lam+=this.long0,e.x=h.lam,e.y=h.phi,e},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var Af=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],vf=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Cf=.8487,bf=1.3523,If=Ah/5,_f=1/If,wf=18,Ef=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))};const Sf={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(e){var t=Zh(e.x-this.long0),n=Math.abs(e.y),i=Math.floor(n*If);i<0?i=0:i>=wf&&(i=17);var o={x:Ef(Af[i],n=Ah*(n-_f*i))*t,y:Ef(vf[i],n)};return e.y<0&&(o.y=-o.y),o.x=o.x*this.a*Cf+this.x0,o.y=o.y*this.a*bf+this.y0,o},inverse:function(e){var t={x:(e.x-this.x0)/(this.a*Cf),y:Math.abs(e.y-this.y0)/(this.a*bf)};if(t.y>=1)t.x/=Af[18][0],t.y=e.y<0?-ph:ph;else{var n=Math.floor(t.y*wf);for(n<0?n=0:n>=wf&&(n=17);;)if(vf[n][0]>t.y)--n;else{if(!(vf[n+1][0]<=t.y))break;++n}var i=vf[n],o=5*(t.y-i[0])/(vf[n+1][0]-i[0]);o=function(e,t,n,i){for(var o=t;i;--i){var r=e(o);if(o-=r,Math.abs(r)<n)break}return o}((function(e){return(Ef(i,e)-t.y)/function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])}(i,e)}),o,fh,100),t.x/=Ef(Af[n],o),t.y=(5*n+o)*yh,e.y<0&&(t.y=-t.y)}return t.x=Zh(t.x+this.long0),t},names:["Robinson","robin"]};const Pf={init:function(){this.name="geocent"},forward:function(e){return fg(e,this.es,this.a)},inverse:function(e){return yg(e,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var Mf=0,xf=1,Gf=2,kf=3,Rf={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const Lf={init:function(){if(Object.keys(Rf).forEach(function(e){if(void 0===this[e])this[e]=Rf[e].def;else{if(Rf[e].num&&isNaN(this[e]))throw new Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);Rf[e].num&&(this[e]=parseFloat(this[e]))}Rf[e].degrees&&(this[e]=this[e]*yh)}.bind(this)),Math.abs(Math.abs(this.lat0)-ph)<fh?this.mode=this.lat0<0?xf:Mf:Math.abs(this.lat0)<fh?this.mode=Gf:(this.mode=kf,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)},forward:function(e){e.x-=this.long0;var t,n,i,o,r=Math.sin(e.y),a=Math.cos(e.y),s=Math.cos(e.x);switch(this.mode){case kf:n=this.sinph0*r+this.cosph0*a*s;break;case Gf:n=a*s;break;case xf:n=-r;break;case Mf:n=r}switch(t=(n=this.pn1/(this.p-n))*a*Math.sin(e.x),this.mode){case kf:n*=this.cosph0*r-this.sinph0*a*s;break;case Gf:n*=r;break;case Mf:n*=-a*s;break;case xf:n*=a*s}return o=1/((i=n*this.cg+t*this.sg)*this.sw*this.h1+this.cw),t=(t*this.cg-n*this.sg)*this.cw*o,n=i*o,e.x=t*this.a,e.y=n*this.a,e},inverse:function(e){e.x/=this.a,e.y/=this.a;var t,n,i,o={x:e.x,y:e.y};i=1/(this.pn1-e.y*this.sw),t=this.pn1*e.x*i,n=this.pn1*e.y*this.cw*i,e.x=t*this.cg+n*this.sg,e.y=n*this.cg-t*this.sg;var r=mm(e.x,e.y);if(Math.abs(r)<fh)o.x=0,o.y=e.y;else{var a,s;switch(s=1-r*r*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/r+r/this.pn1),a=Math.sqrt(1-s*s),this.mode){case kf:o.y=Math.asin(a*this.sinph0+e.y*s*this.cosph0/r),e.y=(a-this.sinph0*Math.sin(o.y))*r,e.x*=s*this.cosph0;break;case Gf:o.y=Math.asin(e.y*s/r),e.y=a*r,e.x*=s;break;case Mf:o.y=Math.asin(a),e.y=-e.y;break;case xf:o.y=-Math.asin(a)}o.x=Math.atan2(e.x,e.y)}return e.x=o.x+this.long0,e.y=o.y,e},names:["Tilted_Perspective","tpers"]};const Of={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(e){var t,n,i,o,r=e.x,a=e.y;if(r-=this.long0,"ellipse"===this.shape){a=Math.atan(this.radius_p2*Math.tan(a));var s=this.radius_p/mm(this.radius_p*Math.cos(a),Math.sin(a));if(n=s*Math.cos(r)*Math.cos(a),i=s*Math.sin(r)*Math.cos(a),o=s*Math.sin(a),(this.radius_g-n)*n-i*i-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(i/mm(o,t)),e.y=this.radius_g_1*Math.atan(o/t)):(e.x=this.radius_g_1*Math.atan(i/t),e.y=this.radius_g_1*Math.atan(o/mm(i,t)))}else"sphere"===this.shape&&(t=Math.cos(a),n=Math.cos(r)*t,i=Math.sin(r)*t,o=Math.sin(a),t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(i/mm(o,t)),e.y=this.radius_g_1*Math.atan(o/t)):(e.x=this.radius_g_1*Math.atan(i/t),e.y=this.radius_g_1*Math.atan(o/mm(i,t))));return e.x=e.x*this.a,e.y=e.y*this.a,e},inverse:function(e){var t,n,i,o,r=-1,a=0,s=0;if(e.x=e.x/this.a,e.y=e.y/this.a,"ellipse"===this.shape){this.flip_axis?(s=Math.tan(e.y/this.radius_g_1),a=Math.tan(e.x/this.radius_g_1)*mm(1,s)):(a=Math.tan(e.x/this.radius_g_1),s=Math.tan(e.y/this.radius_g_1)*mm(1,a));var l=s/this.radius_p;if(t=a*a+l*l+r*r,(i=(n=2*this.radius_g*r)*n-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;o=(-n-Math.sqrt(i))/(2*t),r=this.radius_g+o*r,a*=o,s*=o,e.x=Math.atan2(a,r),e.y=Math.atan(s*Math.cos(e.x)/r),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if("sphere"===this.shape){if(this.flip_axis?(s=Math.tan(e.y/this.radius_g_1),a=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+s*s)):(a=Math.tan(e.x/this.radius_g_1),s=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+a*a)),t=a*a+s*s+r*r,(i=(n=2*this.radius_g*r)*n-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;o=(-n-Math.sqrt(i))/(2*t),r=this.radius_g+o*r,a*=o,s*=o,e.x=Math.atan2(a,r),e.y=Math.atan(s*Math.cos(e.x)/r)}return e.x=e.x+this.long0,e},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};var Tf=1.340264,Df=-.081106,Nf=893e-6,Uf=.003796,jf=Math.sqrt(3)/2;const Bf={init:function(){this.es=0,this.long0=void 0!==this.long0?this.long0:0},forward:function(e){var t=Zh(e.x-this.long0),n=e.y,i=Math.asin(jf*Math.sin(n)),o=i*i,r=o*o*o;return e.x=t*Math.cos(i)/(jf*(Tf+3*Df*o+r*(7*Nf+9*Uf*o))),e.y=i*(Tf+Df*o+r*(Nf+Uf*o)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t,n,i,o,r=e.y;for(o=0;o<12&&(r-=i=(r*(Tf+Df*(t=r*r)+(n=t*t*t)*(Nf+Uf*t))-e.y)/(Tf+3*Df*t+n*(7*Nf+9*Uf*t)),!(Math.abs(i)<1e-9));++o);return n=(t=r*r)*t*t,e.x=jf*e.x*(Tf+3*Df*t+n*(7*Nf+9*Uf*t))/Math.cos(r),e.y=Math.asin(Math.sin(r)/jf),e.x=Zh(e.x+this.long0),e},names:["eqearth","Equal Earth","Equal_Earth"]};Gg.defaultDatum="WGS84",Gg.Proj=mg,Gg.WGS84=new Gg.Proj("WGS84"),Gg.Point=Xg,Gg.toPoint=wg,Gg.defs=Fh,Gg.nadgrid=function(e,t){var n=new DataView(t),i=function(e){var t=e.getInt32(8,!1);if(11===t)return!1;t=e.getInt32(8,!0),11!==t&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");return!0}(n),o=function(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:ug(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}(n,i),r=function(e,t,n){for(var i=176,o=[],r=0;r<t.nSubgrids;r++){var a=pg(e,i,n),s=hg(e,i,a,n),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),c=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);o.push({ll:[cg(a.lowerLongitude),cg(a.lowerLatitude)],del:[cg(a.longitudeInterval),cg(a.latitudeInterval)],lim:[l,c],count:a.gridNodeCount,cvs:dg(s)}),i+=176+16*a.gridNodeCount}return o}(n,o,i),a={header:o,subgrids:r};return sg[e]=a,a},Gg.transform=Sg,Gg.mgrs=jg,Gg.version="__VERSION__",function(e){e.Proj.projections.add(hm),e.Proj.projections.add(vm),e.Proj.projections.add(Cm),e.Proj.projections.add(_m),e.Proj.projections.add(wm),e.Proj.projections.add(Em),e.Proj.projections.add(Pm),e.Proj.projections.add(Mm),e.Proj.projections.add(xm),e.Proj.projections.add(Um),e.Proj.projections.add(Hm),e.Proj.projections.add(Zm),e.Proj.projections.add(Jm),e.Proj.projections.add(Xm),e.Proj.projections.add(Km),e.Proj.projections.add(Qm),e.Proj.projections.add($m),e.Proj.projections.add(ef),e.Proj.projections.add(tf),e.Proj.projections.add(nf),e.Proj.projections.add(of),e.Proj.projections.add(rf),e.Proj.projections.add(af),e.Proj.projections.add(sf),e.Proj.projections.add(yf),e.Proj.projections.add(Sf),e.Proj.projections.add(Pf),e.Proj.projections.add(Lf),e.Proj.projections.add(Of),e.Proj.projections.add(Bf)}(Gg);const Ff=Gg,zf=ol.proj.transforms,Vf=ol.proj.Projection;var qf=__webpack_require__.n(Vf),Wf=yt.getLogger("CRS");function Hf(e){var t=Object.keys(e.defs);Wf.trace("proj. codes :",t);var n,i,o=t.length;for(n=0;n<o;++n){var r=t[n];if(!(0,Si.get)(r)){var a=e.defs(r);(0,Si.addProjection)(new(qf())({code:r,axisOrientation:a.axis,metersPerUnit:a.to_meter,units:a.units}))}}for(n=0;n<o;++n){var s=t[n],l=(0,Si.get)(s);for(i=0;i<o;++i){var c=t[i],u=(0,Si.get)(c);if(!(0,zf.get)(s,c))if(e.defs[s]===e.defs[c])(0,Si.addEquivalentProjections)([l,u]);else{var d=e(s,c);(0,Si.addCoordinateTransforms)(l,u,d.forward,d.inverse)}}}}var Yf={isLoaded:!1,get:function(e){if(""!==e&&null!=e){var t=e.split(":");if(2===t.length){var n=t[0],i=t[1];if(this.hasOwnProperty(n)&&this[n].hasOwnProperty(i))return this[n][i]}}},exist:function(e){if(""===e||null==e)return!1;var t=e.split(":");if(2!==t.length)return!1;var n=t[0],i=t[1];return!!this.hasOwnProperty(n)&&!!this[n].hasOwnProperty(i)},load:function(e){if(!this.isLoaded){for(var t=["IGNF","EPSG","CRS"],n=0;n<t.length;n++){var i=t[n],o=this[i];for(var r in o)if(o.hasOwnProperty(r)){var a=i+":"+r;e.defs(a,this.get(a))}}this.isLoaded=!0}},loadByDefault:function(e){var t={EPSG:{2154:Yf.EPSG[2154],27571:Yf.EPSG[27571],27572:Yf.EPSG[27572],27573:Yf.EPSG[27573],27574:Yf.EPSG[27574]},CRS:{84:Yf.CRS[84]},IGNF:{LAMB93:Yf.IGNF.LAMB93,LAMBE:Yf.IGNF.LAMBE,LAMB1:Yf.IGNF.LAMB1,LAMB2:Yf.IGNF.LAMB2,LAMB3:Yf.IGNF.LAMB3,LAMB4:Yf.IGNF.LAMB4,RGF93G:Yf.IGNF.RGF93G,WGS84G:Yf.IGNF.WGS84G}};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];for(var o in i)if(i.hasOwnProperty(o)){var r=n+":"+o;e.defs(r,i[o])}}},loadByName:function(e,t){if(!this.exist(t))return!1;try{e.defs(t,this.get(t))}catch(e){return!1}return!0},EPSG:{4978:"+proj=geocent +datum=WGS84 +units=m +no_defs ",3857:"+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",3785:"+title=WGS 84 / Pseudo-Mercator (deprecated) +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",4149:"+title=CH1903 +proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ",4150:"+title=CH1903plus +proj=longlat +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +no_defs ",4151:"+title=CHTRF95 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4171:"+title=RGF93 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4230:"+title=ED50 +proj=longlat +ellps=intl +no_defs ",4235:"+title=Guyane Francaise +proj=longlat +ellps=intl +no_defs ",4258:"+title=ETRS89 +proj=longlat +ellps=GRS80 +no_defs ",4275:"+title=NTF +proj=longlat +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +no_defs ",4322:"+title=WGS 72 +proj=longlat +ellps=WGS72 +no_defs ",4326:"+title=WGS 84 +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs ",4467:"+proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4470:"+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4471:"+proj=utm +zone=38 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4474:"+proj=utm +zone=38 +south +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +units=m +no_defs ",4558:"+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4559:"+proj=utm +zone=20 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",4621:"+title=Fort Marigot +proj=longlat +ellps=intl +towgs84=137,248,-430,0,0,0,0 +no_defs ",4622:"+title=Guadeloupe 1948 +proj=longlat +ellps=intl +no_defs ",4623:"+title=CSG67 +proj=longlat +ellps=intl +towgs84=-186,230,110,0,0,0,0 +no_defs ",4624:"+title=RGFG95 +proj=longlat +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +no_defs ",4625:"+title=Martinique 1938 +proj=longlat +ellps=intl +no_defs ",4626:"+title=Reunion 1947 +proj=longlat +ellps=intl +no_defs ",4627:"+title=RGR92 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4628:"+title=Tahiti 52 +proj=longlat +ellps=intl +towgs84=162,117,154,0,0,0,0 +no_defs ",4629:"+title=Tahaa 54 +proj=longlat +ellps=intl +no_defs ",4630:"+title=IGN72 Nuku Hiva +proj=longlat +ellps=intl +no_defs ",4632:"+title=Combani 1950 +proj=longlat +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +no_defs ",4633:"+title=IGN56 Lifou +proj=longlat +ellps=intl +no_defs ",4634:"+title=IGN72 Grand Terre +proj=longlat +ellps=intl +no_defs ",4637:"+title=Perroud 1950 +proj=longlat +ellps=intl +towgs84=325,154,172,0,0,0,0 +no_defs ",4638:"+title=Saint Pierre et Miquelon 1950 +proj=longlat +ellps=clrk66 +towgs84=30,430,368,0,0,0,0 +no_defs ",4640:"+title=RRAF 1991 +proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs ",4641:"+title=IGN53 Mare +proj=longlat +ellps=intl +no_defs ",4645:"+title=RGNC 1991 +proj=longlat +ellps=intl +towgs84=0,0,0,0,0,0,0 +no_defs ",4687:"+proj=longlat +ellps=GRS80 +no_defs ",4662:"+title=IGN72 Grande Terre +proj=longlat +ellps=intl +no_defs ",4689:"+title=IGN63 Hiva Oa +proj=longlat +ellps=intl +no_defs ",4690:"+title=Tahiti 79 +proj=longlat +ellps=intl +no_defs ",4691:"+title=Moorea 87 +proj=longlat +ellps=intl +towgs84=215.525,149.593,176.229,-3.2624,-1.692,-1.1571,10.4773 +no_defs ",4692:"+title=Maupiti 83 +proj=longlat +ellps=intl +towgs84=217.037,86.959,23.956,0,0,0,0 +no_defs ",4698:"+title=IGN 1962 Kerguelen +proj=longlat +ellps=intl +towgs84=145,-187,103,0,0,0,0 +no_defs ",4749:"+title=RGNC91-93 +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs ",4750:"+title=ST87 Ouvea +proj=longlat +ellps=WGS84 +towgs84=-56.263,16.136,-22.856,0,0,0,0 +no_defs ",4807:"+title=NTF (Paris) +proj=longlat +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +no_defs ",2056:"+title=CH1903+ / LV95 +proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +x_0=2600000 +y_0=1200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs ",2154:"+title=RGF93 / Lambert-93 +proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2213:"+title=ETRS89 / TM 30 NE +proj=tmerc +lat_0=0 +lon_0=30 +k=0.9996 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs ",2969:"+title=Fort Marigot / UTM zone 20N +proj=utm +zone=20 +ellps=intl +towgs84=137,248,-430,0,0,0,0 +units=m +no_defs ",2970:"+title=Guadeloupe 1948 / UTM zone 20N +proj=utm +zone=20 +ellps=intl +units=m +no_defs ",2971:"+title=CSG67 / UTM zone 22N +proj=utm +zone=22 +ellps=intl +towgs84=-186,230,110,0,0,0,0 +units=m +no_defs ",2972:"+title=RGFG95 / UTM zone 22N +proj=utm +zone=22 +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +units=m +no_defs ",2973:"+title=Martinique 1938 / UTM zone 20N +proj=utm +zone=20 +ellps=intl +units=m +no_defs ",2975:"+title=RGR92 / UTM zone 40S +proj=utm +zone=40 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2976:"+title=Tahiti 52 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +towgs84=162,117,154,0,0,0,0 +units=m +no_defs ",2977:"+title=Tahaa 54 / UTM zone 5S +proj=utm +zone=5 +south +ellps=intl +units=m +no_defs ",2978:"+title=IGN72 Nuku Hiva / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +units=m +no_defs ",2980:"+title=Combani 1950 / UTM zone 38S +proj=utm +zone=38 +south +ellps=intl +towgs84=-382,-59,-262,0,0,0,0 +units=m +no_defs ",2981:"+title=IGN56 Lifou / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",2982:"+title=IGN72 Grand Terre / UTM zone 58S (deprecated) +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",2984:"+title=RGNC 1991 / Lambert New Caledonia (deprecated) +proj=lcc +lat_1=-20.66666666666667 +lat_2=-22.33333333333333 +lat_0=-21.5 +lon_0=166 +x_0=400000 +y_0=300000 +ellps=intl +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2986:"+title=Terre Adelie 1950 +proj=stere +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +lat_0=-90.000000000 +lon_0=140.000000000 +lat_ts=-67.000000000 +k=0.96027295 +x_0=300000.000 +y_0=-2299363.482 +units=m +no_defs",2987:"+title=Saint Pierre et Miquelon 1950 / UTM zone 21N +proj=utm +zone=21 +ellps=clrk66 +towgs84=30,430,368,0,0,0,0 +units=m +no_defs ",2989:"+title=RRAF 1991 / UTM zone 20N +proj=utm +zone=20 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",2990:"+title=Reunion 1947 / TM Reunion (deprecated) +proj=tmerc +lat_0=-21.11666666666667 +lon_0=55.53333333333333 +k=1 +x_0=50000 +y_0=160000 +ellps=intl +units=m +no_defs ",2995:"+title=IGN53 Mare / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",3038:"+proj=utm +zone=26 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3039:"+proj=utm +zone=27 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3040:"+proj=utm +zone=28 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3041:"+proj=utm +zone=29 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3045:"+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3046:"+proj=utm +zone=34 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3047:"+proj=utm +zone=35 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3048:"+proj=utm +zone=36 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3049:"+proj=utm +zone=37 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3050:"+proj=utm +zone=38 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3051:"+proj=utm +zone=39 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3034:"+title=ETRS89 / ETRS-LCC +proj=lcc +lat_1=35 +lat_2=65 +lat_0=52 +lon_0=10 +x_0=4000000 +y_0=2800000 +ellps=GRS80 +units=m +no_defs ",3035:"+title=ETRS89 / ETRS-LAEA +proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80 +units=m +no_defs ",3042:"+title=ETRS89 / ETRS-TM30 +proj=utm +zone=30 +ellps=GRS80 +units=m +no_defs ",3043:"+title=ETRS89 / ETRS-TM31 +proj=utm +zone=31 +ellps=GRS80 +units=m +no_defs ",3044:"+title=ETRS89 / ETRS-TM32 +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs ",25828:"+proj=utm +zone=28 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25829:"+proj=utm +zone=29 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25833:"+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25834:"+proj=utm +zone=34 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25835:"+proj=utm +zone=35 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25836:"+proj=utm +zone=36 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25837:"+proj=utm +zone=37 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",25838:"+proj=utm +zone=38 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3060:"+title=IGN72 Grande Terre / UTM zone 58S +proj=utm +zone=58 +south +ellps=intl +units=m +no_defs ",3163:"+title=RGNC91-93 / Lambert New Caledonia +proj=lcc +lat_1=-20.66666666666667 +lat_2=-22.33333333333333 +lat_0=-21.5 +lon_0=166 +x_0=400000 +y_0=300000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3164:"+title=ST87 Ouvea / UTM zone 58S +proj=utm +zone=58 +south +ellps=WGS84 +towgs84=-56.263,16.136,-22.856,0,0,0,0 +units=m +no_defs ",3165:"+title=NEA74 Noumea / Noumea Lambert +proj=lcc +lat_1=-22.24469175 +lat_2=-22.29469175 +lat_0=-22.26969175 +lon_0=166.44242575 +x_0=0.66 +y_0=1.02 +ellps=intl +units=m +no_defs ",3166:"+title=NEA74 Noumea / Noumea Lambert 2 +proj=lcc +lat_1=-22.24472222222222 +lat_2=-22.29472222222222 +lat_0=-22.26972222222222 +lon_0=166.4425 +x_0=8.313000000000001 +y_0=-2.354 +ellps=intl +units=m +no_defs ",3169:"+title=RGNC91-93 / UTM zone 57S +proj=utm +zone=57 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3170:"+title=RGNC91-93 / UTM zone 58S +proj=utm +zone=58 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3171:"+title=RGNC91-93 / UTM zone 59S +proj=utm +zone=59 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs ",3172:"+title=IGN53 Mare / UTM zone 59S +proj=utm +zone=59 +south +ellps=intl +units=m +no_defs ",3296:"+title=RGPF / UTM zone 5S +proj=utm +zone=5 +south +ellps=GRS80 +units=m +no_defs ",3297:"+title=RGPF / UTM zone 6S +proj=utm +zone=6 +south +ellps=GRS80 +units=m +no_defs ",3298:"+title=RGPF / UTM zone 7S +proj=utm +zone=7 +south +ellps=GRS80 +units=m +no_defs ",3299:"+title=RGPF / UTM zone 8S +proj=utm +zone=8 +south +ellps=GRS80 +units=m +no_defs ",3302:"+title=IGN63 Hiva Oa / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +units=m +no_defs ",3303:"+title=Fatu Iva 72 / UTM zone 7S +proj=utm +zone=7 +south +ellps=intl +towgs84=347.103,1078.12,2623.92,-33.8875,70.6773,-9.3943,186.074 +units=m +no_defs ",3304:"+title=Tahiti 79 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +units=m +no_defs ",3305:"+title=Moorea 87 / UTM zone 6S +proj=utm +zone=6 +south +ellps=intl +towgs84=215.525,149.593,176.229,-3.2624,-1.692,-1.1571,10.4773 +units=m +no_defs ",3306:"+title=Maupiti 83 / UTM zone 5S +proj=utm +zone=5 +south +ellps=intl +towgs84=217.037,86.959,23.956,0,0,0,0 +units=m +no_defs ",3312:"+title=CSG67 / UTM zone 21N +proj=utm +zone=21 +ellps=intl +towgs84=-186,230,110,0,0,0,0 +units=m +no_defs ",3313:"+title=RGFG95 / UTM zone 21N +proj=utm +zone=21 +ellps=GRS80 +towgs84=2,2,-2,0,0,0,0 +units=m +no_defs ",3336:"+title=IGN 1962 Kerguelen / UTM zone 42S +proj=utm +zone=42 +south +ellps=intl +towgs84=145,-187,103,0,0,0,0 +units=m +no_defs ",3395:"+title=WGS 84 / World Mercator +proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",3727:"+title=Reunion 1947 / TM Reunion +proj=tmerc +lat_0=-21.11666666666667 +lon_0=55.53333333333333 +k=1 +x_0=160000 +y_0=50000 +ellps=intl +units=m +no_defs ",21781:"+title=CH1903 / LV03 +proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs ",25830:"+title=ETRS89 / UTM zone 30N +proj=utm +zone=30 +ellps=GRS80 +units=m +no_defs ",25831:"+title=ETRS89 / UTM zone 31N +proj=utm +zone=31 +ellps=GRS80 +units=m +no_defs ",25832:"+title=ETRS89 / UTM zone 32N +proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs ",27561:"+title=NTF (Paris) / Lambert Nord France +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27562:"+title=NTF (Paris) / Lambert Centre France +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27563:"+title=NTF (Paris) / Lambert Sud France +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27564:"+title=NTF (Paris) / Lambert Corse +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27571:"+title=NTF (Paris) / Lambert zone I +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=1200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27572:"+title=NTF (Paris) / Lambert zone II +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27573:"+title=NTF (Paris) / Lambert zone III +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=3200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27574:"+title=NTF (Paris) / Lambert zone IV +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=4185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27581:"+title=NTF (Paris) / France I (deprecated) +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=1200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27582:"+title=NTF (Paris) / France II (deprecated) +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27583:"+title=NTF (Paris) / France III (deprecated) +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=3200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27584:"+title=NTF (Paris) / France IV (deprecated) +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=4185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27591:"+title=NTF (Paris) / Nord France (deprecated) +proj=lcc +lat_1=49.50000000000001 +lat_0=49.50000000000001 +lon_0=0 +k_0=0.999877341 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27592:"+title=NTF (Paris) / Centre France (deprecated) +proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27593:"+title=NTF (Paris) / Sud France (deprecated) +proj=lcc +lat_1=44.10000000000001 +lat_0=44.10000000000001 +lon_0=0 +k_0=0.9998774990000001 +x_0=600000 +y_0=200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",27594:"+title=NTF (Paris) / Corse (deprecated) +proj=lcc +lat_1=42.16500000000001 +lat_0=42.16500000000001 +lon_0=0 +k_0=0.9999447100000001 +x_0=234.358 +y_0=185861.369 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs ",32601:"+proj=utm +zone=1 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32602:"+proj=utm +zone=2 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32603:"+proj=utm +zone=3 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32604:"+proj=utm +zone=4 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32605:"+proj=utm +zone=5 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32606:"+proj=utm +zone=6 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32607:"+proj=utm +zone=7 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32608:"+proj=utm +zone=8 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32609:"+proj=utm +zone=9 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32610:"+proj=utm +zone=10 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32611:"+proj=utm +zone=11 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32612:"+proj=utm +zone=12 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32613:"+proj=utm +zone=13 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32614:"+proj=utm +zone=14 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32615:"+proj=utm +zone=15 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32616:"+proj=utm +zone=16 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32617:"+proj=utm +zone=17 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32618:"+proj=utm +zone=18 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32619:"+proj=utm +zone=19 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32620:"+proj=utm +zone=20 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32621:"+proj=utm +zone=21 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32622:"+proj=utm +zone=22 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32623:"+proj=utm +zone=23 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32624:"+proj=utm +zone=24 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32625:"+proj=utm +zone=25 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32626:"+proj=utm +zone=26 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32627:"+proj=utm +zone=27 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32628:"+proj=utm +zone=28 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32629:"+proj=utm +zone=29 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32630:"+proj=utm +zone=30 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32631:"+proj=utm +zone=31 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32632:"+proj=utm +zone=32 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32633:"+proj=utm +zone=33 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32634:"+proj=utm +zone=34 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32635:"+proj=utm +zone=35 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32636:"+proj=utm +zone=36 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32637:"+proj=utm +zone=37 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32638:"+proj=utm +zone=38 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32639:"+proj=utm +zone=39 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32640:"+proj=utm +zone=40 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32641:"+proj=utm +zone=41 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32642:"+proj=utm +zone=42 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32643:"+proj=utm +zone=43 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32644:"+proj=utm +zone=44 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32645:"+proj=utm +zone=45 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32646:"+proj=utm +zone=46 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32647:"+proj=utm +zone=47 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32648:"+proj=utm +zone=48 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32649:"+proj=utm +zone=49 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32650:"+proj=utm +zone=50 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32651:"+proj=utm +zone=51 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32652:"+proj=utm +zone=52 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32653:"+proj=utm +zone=53 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32654:"+proj=utm +zone=54 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32655:"+proj=utm +zone=55 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32656:"+proj=utm +zone=56 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32657:"+proj=utm +zone=57 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32658:"+proj=utm +zone=58 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32659:"+proj=utm +zone=59 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32660:"+proj=utm +zone=60 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32661:"+proj=stere +lat_0=90 +lat_ts=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32662:"+title=WGS 84 / Plate Carree +proj=eqc +lat_ts=0 +lon_0=0 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32701:"+proj=utm +zone=1 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32702:"+proj=utm +zone=2 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32703:"+proj=utm +zone=3 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32704:"+proj=utm +zone=4 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32705:"+proj=utm +zone=5 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32706:"+proj=utm +zone=6 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32707:"+proj=utm +zone=7 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32708:"+proj=utm +zone=8 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32709:"+proj=utm +zone=9 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32710:"+proj=utm +zone=10 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32711:"+proj=utm +zone=11 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32712:"+proj=utm +zone=12 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32713:"+proj=utm +zone=13 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32714:"+proj=utm +zone=14 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32715:"+proj=utm +zone=15 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32716:"+proj=utm +zone=16 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32717:"+proj=utm +zone=17 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32718:"+proj=utm +zone=18 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32719:"+proj=utm +zone=19 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32720:"+proj=utm +zone=20 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32721:"+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32722:"+proj=utm +zone=22 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32723:"+proj=utm +zone=23 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32724:"+proj=utm +zone=24 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32725:"+proj=utm +zone=25 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32726:"+proj=utm +zone=26 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32727:"+proj=utm +zone=27 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32728:"+proj=utm +zone=28 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32729:"+proj=utm +zone=29 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32730:"+proj=utm +zone=30 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32731:"+proj=utm +zone=31 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32732:"+proj=utm +zone=32 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32733:"+proj=utm +zone=33 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32734:"+proj=utm +zone=34 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32735:"+proj=utm +zone=35 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32736:"+proj=utm +zone=36 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32737:"+proj=utm +zone=37 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32738:"+proj=utm +zone=38 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32739:"+proj=utm +zone=39 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32740:"+proj=utm +zone=40 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32741:"+proj=utm +zone=41 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32742:"+proj=utm +zone=42 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32743:"+proj=utm +zone=43 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32744:"+proj=utm +zone=44 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32745:"+proj=utm +zone=45 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32746:"+proj=utm +zone=46 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32747:"+proj=utm +zone=47 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32748:"+proj=utm +zone=48 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32749:"+proj=utm +zone=49 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32750:"+proj=utm +zone=50 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32751:"+proj=utm +zone=51 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32752:"+proj=utm +zone=52 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32753:"+proj=utm +zone=53 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32754:"+proj=utm +zone=54 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32755:"+proj=utm +zone=55 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32756:"+proj=utm +zone=56 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32757:"+proj=utm +zone=57 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32758:"+proj=utm +zone=58 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32759:"+proj=utm +zone=59 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32760:"+proj=utm +zone=60 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",32761:"+proj=stere +lat_0=-90 +lat_ts=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ",310024802:"+title=Geoportail - France metropolitaine +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=46.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310915814:"+title=Geoportail - Antilles francaises +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310486805:"+title=Geoportail - Guyane +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=4.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310700806:"+title=Geoportail - Reunion et dependances +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-21.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310702807:"+title=Geoportail - Mayotte +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-12.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310706808:"+title=Geoportail - Saint-Pierre et Miquelon +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=47.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310547809:"+title=Geoportail - Nouvelle-Caledonie +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-22.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642810:"+title=Geoportail - Wallis et Futuna +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-14.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310032811:"+title=Geoportail - Polynesie francaise +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642812:"+title=Geoportail - Kerguelen +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-49.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642801:"+title=Geoportail - Crozet +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-46.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642813:"+title=Geoportail - Amsterdam et Saint-Paul +proj=eqc +nadgrids=null +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-38.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",310642901:"+title=Geoportail - Monde +proj=mill +towgs84=0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.000000 +a=6378137.0000 +rf=298.2572221010000 +lon_0=0.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",5489:"+title=RGAF09 geographiques (dms) +proj=longlat +nadgrids=@null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137 +rf=298.257222101 +units=m +no_defs",5490:"+title=RGAF09 UTM Nord Fuseau 20 +proj=tmerc +nadgrids=@null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137 +rf=298.257222101 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs"},CRS:{84:"+title=WGS 84 longitude-latitude +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs "},IGNF:{AMST63:"+title=Amsterdam 1963 +proj=geocent +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CROZ63:"+title=Crozet 1963 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CSG67:"+title=Guyane CSG67 +proj=geocent +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ED50:"+title=ED50 +proj=geocent +towgs84=-84.0000,-97.0000,-117.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ETRS89:"+title=Systeme de reference terrestre Europeen (1989) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",GUAD48:"+title=Guadeloupe Ste Anne +proj=geocent +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUADFM49:"+title=Guadeloupe Fort Marigot +proj=geocent +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN63:"+title=IGN 1963 (Hiva Oa, Tahuata, Mohotani) +proj=geocent +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN72:"+title=IGN 1972 Grande-Terre / Ile des Pins +proj=geocent +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",KERG62CAR:"+title=Kerguelen - K0 +proj=geocent +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MART38:"+title=Martinique Fort-Desaix +proj=geocent +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MAYO50:"+title=Mayotte Combani +proj=geocent +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MOOREA87:"+title=Moorea 1987 +proj=geocent +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",NTF:"+title=Nouvelle Triangulation Francaise +proj=geocent +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +units=m +no_defs",NUKU72:"+title=IGN 1972 Nuku Hiva +proj=geocent +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",REUN47:"+title=Reunion 1947 +proj=geocent +towgs84=789.5240,-626.4860,-89.9040,0.6006,76.7946,-10.5788,-32.324100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",RGF93:"+title=Reseau geodesique francais 1993 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGFG95:"+title=Reseau geodesique francais de Guyane 1995 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGM04:"+title=RGM04 (Reseau Geodesique de Mayotte 2004) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGNC:"+title=Reseau Geodesique de Nouvelle-Caledonie +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGPF:"+title=RGPF (Reseau Geodesique de Polynesie Francaise) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGR92:"+title=Reseau geodesique Reunion 1992 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGSPM06:"+title=Reseau Geodesique Saint-Pierre-et-Miquelon (2006) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGTAAF07:"+title=Reseau Geodesique des TAAF (2007) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RRAF91:"+title=RRAF 1991 (Reseau de Reference des Antilles Francaises) +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",STPL69:"+title=Saint-Paul 1969 +proj=geocent +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",STPM50:"+title=St Pierre et Miquelon 1950 +proj=geocent +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +units=m +no_defs",TAHAA:"+title=Raiatea - Tahaa 51-54 (Tahaa, Base Terme Est) +proj=geocent +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TAHI79:"+title=IGN79 (Tahiti) Iles de la Societe +proj=geocent +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TERA50:"+title=Pointe Geologie - Perroud 1950 +proj=geocent +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WALL78:"+title=Wallis-Uvea 1978 (MOP78) +proj=geocent +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WGS72:"+title=World Geodetic System 1972 +proj=geocent +towgs84=0.0000,12.0000,6.0000 +a=6378135.0000 +rf=298.2600000000000 +units=m +no_defs",WGS84:"+title=World Geodetic System 1984 +proj=geocent +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",AMST63GEO:"+title=Amsterdam 1963 +proj=longlat +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CROZ63GEO:"+title=Crozet 1963 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",CSG67GEO:"+title=Guyane CSG67 +proj=longlat +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",ED50G:"+title=ED50 +proj=longlat +towgs84=-84.0000,-97.0000,-117.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUAD48GEO:"+title=Guadeloupe Ste Anne +proj=longlat +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",GUADFM49GEO:"+title=Guadeloupe Fort Marigot +proj=longlat +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN63GEO:"+title=IGN 1963 (Hiva Oa, Tahuata, Mohotani) +proj=longlat +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",IGN72GEO:"+title=IGN 1972 Grande-Terre / Ile des Pins +proj=longlat +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",KERG62GEO:"+title=Kerguelen - K0 +proj=longlat +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MART38GEO:"+title=Martinique Fort-Desaix +proj=longlat +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MAYO50GEO:"+title=Mayotte Combani +proj=longlat +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",MOOREA87GEO:"+title=Moorea 1987 +proj=longlat +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",NTFG:"+title=Nouvelle Triangulation Francaise Greenwich degres sexagesimaux +proj=longlat +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +units=m +no_defs",NTFP:"+title=Nouvelle Triangulation Francaise Paris grades +proj=longlat +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +units=m +no_defs",NUKU72GEO:"+title=IGN 1972 Nuku Hiva +proj=longlat +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",REUN47GEO:"+title=Reunion 1947 +proj=longlat +towgs84=789.5240,-626.4860,-89.9040,0.6006,76.7946,-10.5788,-32.324100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",RGF93G:"+title=Reseau geodesique francais 1993 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGFG95GEO:"+title=Reseau geodesique francais de Guyane 1995 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGM04GEO:"+title=RGM04 (Reseau Geodesique de Mayotte 2004) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGNCGEO:"+title=Reseau Geodesique de Nouvelle-Caledonie +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGPFGEO:"+title=RGPF (Reseau Geodesique de Polynesie Francaise) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGR92GEO:"+title=Reseau geodesique de la Reunion 1992 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGSPM06GEO:"+title=Saint-Pierre-et-Miquelon (2006) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",RGTAAF07G:"+title=Reseau Geodesique des TAAF (2007) (dms) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",STPL69GEO:"+title=Saint-Paul 1969 +proj=longlat +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",STPM50GEO:"+title=St Pierre et Miquelon 1950  +proj=longlat +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +units=m +no_defs",TAHAAGEO:"+title=Raiatea - Tahaa 51-54 (Tahaa, Base Terme Est) +proj=longlat +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TAHI79GEO:"+title=IGN79 (Tahiti) Iles de la Societe +proj=longlat +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",TERA50G:"+title=Pointe Geologie - Perroud 1950 +proj=longlat +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WALL78GEO:"+title=Wallis - Uvea 1978 (MOP78) +proj=longlat +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +units=m +no_defs",WGS72G:"+title=WGS72 +proj=longlat +towgs84=0.0000,12.0000,6.0000 +a=6378135.0000 +rf=298.2600000000000 +units=m +no_defs",WGS84G:"+title=World Geodetic System 1984 +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",WGS84RRAFGEO:"+title=Reseau de reference des Antilles francaises (1988-1991) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",XGEO:"+title=Systeme CIO-BIH +proj=longlat +towgs84=0.0000,0.0000,0.5000,0.0000,0.0000,0.0140,-0.100000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",AMST63UTM43S:"+title=Amsterdam 1963 UTM fuseau 43 Sud +proj=tmerc +towgs84=109.753,-528.133,-362.244,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",CROZ63UTM39S:"+title=Crozet 1963 +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",CSG67UTM21:"+title=Guyane CSG67 UTM fuseau 21 +proj=tmerc +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",CSG67UTM22:"+title=Guyane CSG67 UTM fuseau 22 +proj=tmerc +towgs84=-193.0660,236.9930,105.4470,0.4814,-0.8074,0.1276,1.564900 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",GEOPORTALANF:"+title=Geoportail - Antilles francaises +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALASP:"+title=Geoportail - Amsterdam et Saint-Paul +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-38.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALCRZ:"+title=Geoportail - Crozet +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-46.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALFXX:"+title=Geoportail - France metropolitaine +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=46.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALGUF:"+title=Geoportail - Guyane +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=4.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALKER:"+title=Geoportail - Kerguelen +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-49.500000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALMYT:"+title=Geoportail - Mayotte +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-12.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALNCL:"+title=Geoportail - Nouvelle-Caledonie +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-22.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALPYF:"+title=Geoportail - Polynesie francaise +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-15.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALREU:"+title=Geoportail - Reunion et dependances +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-21.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALSPM:"+title=Geoportail - Saint-Pierre et Miquelon +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=47.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GEOPORTALWLF:"+title=Geoportail - Wallis et Futuna +proj=eqc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=0.000000000 +lat_ts=-14.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",GUAD48UTM20:"+title=Guadeloupe Ste Anne +proj=tmerc +towgs84=-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",GUADFM49U20:"+title=Guadeloupe Fort Marigot  +proj=tmerc +towgs84=136.5960,248.1480,-429.7890 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",IGN63UTM7S:"+title=IGN 1963 - Hiva Oa, Tahuata, Mohotani - UTM fuseau 7 Sud +proj=tmerc +towgs84=410.7210,55.0490,80.7460,-2.5779,-2.3514,-0.6664,17.331100 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",IGN72UTM58S:"+title=IGN 1972 - UTM fuseau 58 Sud +proj=tmerc +towgs84=-11.6400,-348.6000,291.6800 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=165.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",KERG62UTM42S:"+title=Kerguelen 1962 +proj=tmerc +towgs84=144.8990,-186.7700,100.9230 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=69.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",LAMB1:"+title=Lambert I +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=49.500000000 +lon_0=0.000000000 +k_0=0.99987734 +lat_1=49.500000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB1C:"+title=Lambert I Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=49.500000000 +lon_0=0.000000000 +k_0=0.99987734 +lat_1=49.500000000 +x_0=600000.000 +y_0=1200000.000 +units=m +no_defs",LAMB2:"+title=Lambert II +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB2C:"+title=Lambert II Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=2200000.000 +units=m +no_defs",LAMB3:"+title=Lambert III +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=44.100000000 +lon_0=0.000000000 +k_0=0.99987750 +lat_1=44.100000000 +x_0=600000.000 +y_0=200000.000 +units=m +no_defs",LAMB3C:"+title=Lambert III Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=44.100000000 +lon_0=0.000000000 +k_0=0.99987750 +lat_1=44.100000000 +x_0=600000.000 +y_0=3200000.000 +units=m +no_defs",LAMB4:"+title=Lambert IV +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=42.165000000 +lon_0=0.000000000 +k_0=0.99994471 +lat_1=42.165000000 +x_0=234.358 +y_0=185861.369 +units=m +no_defs",LAMB4C:"+title=Lambert IV Carto +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=42.165000000 +lon_0=0.000000000 +k_0=0.99994471 +lat_1=42.165000000 +x_0=234.358 +y_0=4185861.369 +units=m +no_defs",LAMB93:"+title=Lambert 93 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=46.500000000 +lon_0=3.000000000 +lat_1=44.000000000 +lat_2=49.000000000 +x_0=700000.000 +y_0=6600000.000 +units=m +no_defs",RGF93CC42:"+title=Lambert conique conforme Zone 1 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=42.000000000 +lon_0=3.000000000 +lat_1=41.200000000 +lat_2=42.800000000 +x_0=1700000.000 +y_0=1200000.000 +units=m +no_defs",RGF93CC43:"+title=Lambert conique conforme Zone 2 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=43.000000000 +lon_0=3.000000000 +lat_1=42.200000000 +lat_2=43.800000000 +x_0=1700000.000 +y_0=2200000.000 +units=m +no_defs",RGF93CC44:"+title=Lambert conique conforme Zone 3 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=44.000000000 +lon_0=3.000000000 +lat_1=43.200000000 +lat_2=44.800000000 +x_0=1700000.000 +y_0=3200000.000 +units=m +no_defs",RGF93CC45:"+title=Lambert conique conforme Zone 4 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=45.000000000 +lon_0=3.000000000 +lat_1=44.200000000 +lat_2=45.800000000 +x_0=1700000.000 +y_0=4200000.000 +units=m +no_defs",RGF93CC46:"+title=Lambert conique conforme Zone 5 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=46.000000000 +lon_0=3.000000000 +lat_1=45.200000000 +lat_2=46.800000000 +x_0=1700000.000 +y_0=5200000.000 +units=m +no_defs",RGF93CC47:"+title=Lambert conique conforme Zone 6 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=47.000000000 +lon_0=3.000000000 +lat_1=46.200000000 +lat_2=47.800000000 +x_0=1700000.000 +y_0=6200000.000 +units=m +no_defs",RGF93CC48:"+title=Lambert conique conforme Zone 7 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=48.000000000 +lon_0=3.000000000 +lat_1=47.200000000 +lat_2=48.800000000 +x_0=1700000.000 +y_0=7200000.000 +units=m +no_defs",RGF93CC49:"+title=Lambert conique conforme Zone 8 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=49.000000000 +lon_0=3.000000000 +lat_1=48.200000000 +lat_2=49.800000000 +x_0=1700000.000 +y_0=8200000.000 +units=m +no_defs",RGF93CC50:"+title=Lambert conique conforme Zone 9 +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=50.000000000 +lon_0=3.000000000 +lat_1=49.200000000 +lat_2=50.800000000 +x_0=1700000.000 +y_0=9200000.000 +units=m +no_defs",LAMBE:"+title=Lambert II etendu +proj=lcc +nadgrids=ntf_r93.gsb,null +wktext +towgs84=-168.0000,-60.0000,320.0000 +a=6378249.2000 +rf=293.4660210000000 +pm=2.337229167 +lat_0=46.800000000 +lon_0=0.000000000 +k_0=0.99987742 +lat_1=46.800000000 +x_0=600000.000 +y_0=2200000.000 +units=m +no_defs",MART38UTM20:"+title=Martinique Fort-Desaix +proj=tmerc +towgs84=126.9260,547.9390,130.4090,-2.7867,5.1612,-0.8584,13.822650 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",MAYO50UTM38S:"+title=Mayotte Combani +proj=tmerc +towgs84=-599.9280,-275.5520,-195.6650,-0.0835,-0.4715,0.0602,49.281400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",MILLER:"+title=Geoportail - Monde +proj=mill +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lon_0=0.000000000 +x_0=0.000 +y_0=0.000 +units=m +no_defs",MOOREA87U6S:"+title=Moorea 1987 - UTM fuseau 6 Sud +proj=tmerc +towgs84=215.9820,149.5930,176.2290,3.2624,1.6920,1.1571,10.477300 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",NUKU72U7S:"+title=IGN 1972 Nuku Hiva - UTM fuseau 7 Sud +proj=tmerc +towgs84=165.7320,216.7200,180.5050,-0.6434,-0.4512,-0.0791,7.420400 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGM04UTM38S:"+title=UTM fuseau 38 Sud (Reseau Geodesique de Mayotte 2004) +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM57S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 57 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=159.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM58S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 58 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=165.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGNCUTM59S:"+title=Reseau Geodesique de Nouvelle-Caledonie - UTM fuseau 59 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=171.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM5S:"+title=RGPF - UTM fuseau 5 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-153.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM6S:"+title=RGPF - UTM fuseau 6 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGPFUTM7S:"+title=RGPF - UTM fuseau 7 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-141.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGR92UTM40S:"+title=RGR92 UTM fuseau 40 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",RGSPM06U21:"+title=Saint-Pierre-et-Miquelon (2006) UTM Fuseau 21 Nord +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",STPL69UTM43S:"+title=Saint-Paul 1969 UTM fuseau 43 Sud +proj=tmerc +towgs84=225.571,-346.608,-46.567,0,0,0,0 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",STPM50UTM21:"+title=St Pierre et Miquelon 1950 +proj=tmerc +towgs84=-95.5930,573.7630,173.4420,-0.9602,1.2510,-1.3918,42.626500 +a=6378206.4000 +rf=294.9786982000000 +lat_0=0.000000000 +lon_0=-57.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",TAHAAUTM05S:"+title=Tahaa 1951 +proj=tmerc +towgs84=72.4380,345.9180,79.4860,-1.6045,-0.8823,-0.5565,1.374600 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-153.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TAHI51UTM06S:"+title=Tahiti-Terme Nord UTM fuseau 6 Sud +proj=tmerc +towgs84=162.0000,117.0000,154.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TAHI79UTM6S:"+title=Tahiti 1979 +proj=tmerc +towgs84=221.5250,152.9480,176.7680,2.3847,1.3896,0.8770,11.474100 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-147.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",TERA50STEREO:"+title=Terre Adelie 1950 +proj=stere +towgs84=324.9120,153.2820,172.0260 +a=6378388.0000 +rf=297.0000000000000 +lat_0=-90.000000000 +lon_0=140.000000000 +lat_ts=-67 +k=0.96027295 +x_0=300000.000 +y_0=-2299363.482 +units=m +no_defs",UTM01SW84:"+title=World Geodetic System 1984 UTM fuseau 01 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-177.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM20W84GUAD:"+title=World Geodetic System 1984 UTM fuseau 20 Nord-Guadeloupe +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM20W84MART:"+title=World Geodetic System 1984 UTM fuseau 20 Nord-Martinique +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-63.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM22RGFG95:"+title=RGFG95 UTM fuseau 22 Nord-Guyane +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM39SW84:"+title=World Geodetic System 1984 UTM fuseau 39 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=51.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM42SW84:"+title=World Geodetic System 1984 UTM fuseau 42 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=69.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",UTM43SW84:"+title=World Geodetic System 1984 UTM fuseau 43 Sud +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=75.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",WALL78UTM1S:"+title=Wallis-Uvea 1978 (MOP78) UTM 1 SUD +proj=tmerc +towgs84=253.0000,-133.0000,-127.0000 +a=6378388.0000 +rf=297.0000000000000 +lat_0=0.000000000 +lon_0=-177.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=10000000.000 +units=m +no_defs",ETRS89GEO:"+title=ETRS89 geographiques (dms) +proj=longlat +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +units=m +no_defs",ETRS89LAEA:"+title=ETRS89 Lambert Azimutal Equal Area +proj=laea +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=52.000000000 +lon_0=10.000000000 +x_0=4321000.000 +y_0=3210000.000 +units=m +no_defs",ETRS89LCC:"+title=ETRS89 Lambert Conformal Conic +proj=lcc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=52.000000000 +lon_0=9.999999995 +lat_1=35.000000000 +lat_2=65.000000000 +x_0=4000000.000 +y_0=2800000.000 +units=m +no_defs",UTM26ETRS89:"+title=Europe - de 30d a 24d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-27.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM27ETRS89:"+title=Europe - de 24d a 18d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-21.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM28ETRS89:"+title=Europe - de 18d a 12d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-15.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM29ETRS89:"+title=Europe - de 12d a 6d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-9.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM30ETRS89:"+title=Europe - de -6d a 0d Ouest +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=-3.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM31ETRS89:"+title=Europe - de 0d a 6d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=3.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM32ETRS89:"+title=Europe - de 6d a 12d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=9.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM33ETRS89:"+title=Europe - de 12d a 18d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=15.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM34ETRS89:"+title=Europe - de 18d a 24d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=21.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM35ETRS89:"+title=Europe - de 24d a 30d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=27.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM36ETRS89:"+title=Europe - de 30d a 36d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=33.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM37ETRS89:"+title=Europe - de 36d a 42d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=39.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs",UTM38ETRS89:"+title=Europe - de 42d a 48d Est +proj=tmerc +nadgrids=null +wktext +towgs84=0.0000,0.0000,0.0000 +a=6378137.0000 +rf=298.2572221010000 +lat_0=0.000000000 +lon_0=45.000000000 +k_0=0.99960000 +x_0=500000.000 +y_0=0.000 +units=m +no_defs"}};const Zf=Yf;var Jf=yt.getLogger("CRS"),Xf={projectionsExtent:{"EPSG:2154":{left:-9.62,bottom:41.18,right:10.3,top:51.54},"EPSG:27572":{left:-4.87,bottom:42.33,right:8.23,top:51.14}},load:function(){if(Jf.trace("Loading custom definitions projections"),!Zf.isLoaded){Zf.load(Ff);try{Hf(Ff),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=Hf,window.ol.proj.proj4.register(Ff))}catch(e){Jf.error(e)}}},loadByDefault:function(){if(Jf.trace("Loading custom definitions projections by default"),!Zf.isLoaded){Zf.loadByDefault(Ff);try{Hf(Ff),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=Hf,window.ol.proj.proj4.register(Ff))}catch(e){Jf.error(e)}}},loadByName:function(e){if(Jf.trace("Loading a custom definition projection : ",e),!Zf.isLoaded){Zf.loadByName(Ff,e);try{Hf(Ff),window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=Hf,window.ol.proj.proj4.register(Ff))}catch(e){Jf.error(e)}}},overload:function(){for(var e in Jf.trace("Loading projections aera (extent)"),this.projectionsExtent)if(this.projectionsExtent.hasOwnProperty(e)){var t=this.projectionsExtent[e],n=(0,Si.get)(e),i=(0,Si.getTransform)("EPSG:4326",n),o=(0,Wn.applyTransform)([t.bottom,t.right,t.top,t.left],i);n.setExtent(o),(0,Si.addProjection)(n),window.ol&&window.ol.proj&&window.ol.proj.addProjection&&window.ol.proj.addProjection(n)}}};const Kf=Xf;window.ol&&window.ol.proj&&window.ol.proj.proj4&&(window.ol.proj.proj4.register=Hf);var Qf=__webpack_require__(6701),$f={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPsearchEngine"),e.className="GPwidget gpf-widget",e},_createSearchDivElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPshowSearchDiv"),e},_createShowSearchEnginePictoElement:function(e){var t=this;_p()&&(e=!0);var n=document.createElement("button");return n.id=this._addUID("GPshowSearchEnginePicto"),n.className="GPshowOpen GPshowAdvancedToolPicto GPshowSearchEnginePicto gpf-btn gpf-btn-icon-search fr-btn",n.title="Afficher/masquer la recherche par lieux",_p()&&(n.title="Rechercher"),n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!e),n.disabled=!e,n.addEventListener("click",(function(e){if(_p()){var n=document.getElementById(t._addUID("GPautocompleteResults")),i=n.getElementsByClassName("GPautoCompleteProposal gpf-panel__items current"),o=n.getElementsByClassName("GPautoCompleteProposal gpf-panel__items");if(!o.length)return;var r=null;return i.length?r=i[0]:((r=o[0]).className="GPautoCompleteProposal gpf-panel__items current",r.style.color="#000000",r.style["background-color"]="#CEDBEF"),void r.click()}var a="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!a),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden");var s=document.getElementById(t._addUID("GPshowAdvancedSearch"));s&&(s.style.display=null,document.getElementById(t._addUID("GPadvancedSearchPanel")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPadvancedSearchPanel")).classList.replace("gpf-visible","gpf-hidden"));var l=document.getElementById(t._addUID("GPshowGeolocate"));l&&(l.style.display=null);var c=document.getElementById(t._addUID("GPshowSearchByCoordinate"));c&&(c.style.display=null);var u="#GPsearchInput-"+t._uid;document.querySelector(u+" input").disabled=!1,t.onShowSearchEngineClick()})),n},_createSearchInputElement:function(e){var t=this,n=document.createElement("form");n.id=this._addUID("GPsearchInput"),n.className="gpf-panel__content fr-modal__content",n.addEventListener("submit",(function(e){return e.preventDefault(),""===document.getElementById(t._addUID("GPsearchInputText")).value||(document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-hidden","gpf-visible"),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden"),t.onGeocodingSearchSubmit(e)),!1}));var i=document.createElement("input");return i.id=this._addUID("GPsearchInputText"),i.className="GPsearchInputText gpf-input fr-input",i.type="text",i.placeholder=e,i.autocomplete="off",i.addEventListener("keyup",(function(e){var n=e.which||e.keyCode;13!==n&&10!==n&&38!==n&&40!==n&&(document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),i.value.length>2?(document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("gpf-hidden","gpf-visible")):(document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden")),t.onAutoCompleteSearchText(e))})),i.addEventListener("keydown",(function(e){var n=e.which||e.keyCode;13===n&&e.preventDefault();var i=document.getElementById(t._addUID("GPautocompleteResults"));if(i){var o=i.getElementsByClassName("GPautoCompleteProposal gpf-panel__items current"),r=i.getElementsByClassName("GPautoCompleteProposal gpf-panel__items"),a=r.length;if(a){var s=null;if(o.length)s=o[0];else if((s=r[0]).className="GPautoCompleteProposal gpf-panel__items current",s.style.color="#000000",s.style["background-color"]="#CEDBEF",13!==n)return;var l=parseInt(yu.index(s.id),10),c=l===a-1?r[0]:r[l+1],u=0===l?r[a-1]:r[l-1];switch(s.style["background-color"]="",s.style.color="",u.style["background-color"]="",u.style.color="",c.style["background-color"]="",c.style.color="",n){case 38:s.className="GPautoCompleteProposal gpf-panel__items",u.className="GPautoCompleteProposal gpf-panel__items current",u.style.color="#000000",u.style["background-color"]="#CEDBEF",s.scrollIntoView();break;case 40:s.className="GPautoCompleteProposal gpf-panel__items",c.className="GPautoCompleteProposal gpf-panel__items current",c.style.color="#000000",c.style["background-color"]="#CEDBEF",s.scrollIntoView();break;case 13:e.preventDefault(),s.click(e)}s.focus()}}})),n.appendChild(i),n},_createSearchResetElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPsearchInputReset"),t.className="GPshowOpen GPsearchInputReset gpf-btn gpf-btn-icon-reset gpf-btn-icon-search-reset fr-btn fr-btn--secondary",t.setAttribute("aria-label","Supprimer la recherche"),t.addEventListener("click",(function(t){document.getElementById(e._addUID("GPsearchInputText")).value="",document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),e.onSearchResetClick()})),t},_createButtonsElement:function(){var e=document.createElement("div");return e.className="GPbuttonsContainer",e},_createFirstLineWrapper:function(){var e=document.createElement("div");return e.className="GPsearchFirstLineWrapper",e},_createRadioContainer:function(){var e=document.createElement("div");return e.className="GPsearchRadioContainer",e},_createRadioElements:function(){var e=document.createElement("div");e.className="GPsearchRadioElements";var t=document.createElement("div");t.className="GPsearchSplitChoice gpf-flex gpf-radio-group fr-radio-group fr-my-1w";var n=document.createElement("input");n.id=this._addUID("GPsearchSplitLocations"),n.type="radio",n.name="GPsearchSplit",n.value="address",n.checked=!0,t.appendChild(n);var i=document.createElement("label");i.className="gpf-label fr-label",i.htmlFor=this._addUID("GPsearchSplitLocations"),i.title="Adresses",i.innerHTML="Adresses",t.appendChild(i),n.addEventListener?n.addEventListener("change",(function(){n.checked?(document.querySelector("[id^='GPautocompleteResultsSuggest']").classList.add("gpf-hidden","GPelementHidden"),document.querySelector("[id^='GPautocompleteResultsLocation']").classList.remove("gpf-hidden","GPelementHidden")):(document.querySelector("[id^='GPautocompleteResultsSuggest']").classList.remove("gpf-hidden","GPelementHidden"),document.querySelector("[id^='GPautocompleteResultsLocation']").classList.add("gpf-hidden","GPelementHidden"))})):n.attachEvent&&n.attachEvent("onchange",(function(){n.checked?(document.querySelector("[id^='GPautocompleteResultsSuggest']").classList.add("gpf-hidden","GPelementHidden"),document.querySelector("[id^='GPautocompleteResultsLocation']").classList.remove("gpf-hidden","GPelementHidden")):(document.querySelector("[id^='GPautocompleteResultsSuggest']").classList.remove("gpf-hidden","GPelementHidden"),document.querySelector("[id^='GPautocompleteResultsLocation']").classList.add("gpf-hidden","GPelementHidden"))}));var o=document.createElement("div");o.className="GPsearchSplitChoice gpf-flex gpf-radio-group fr-radio-group fr-my-1w";var r=document.createElement("input");r.id=this._addUID("GPsearchSplitData"),r.type="radio",r.name="GPsearchSplit",r.value="data",o.appendChild(r);var a=document.createElement("label");return a.className="gpf-label fr-label",a.htmlFor=this._addUID("GPsearchSplitData"),a.title="Cartes et donnÃ©es",a.innerHTML="Cartes et donnÃ©es",o.appendChild(a),r.addEventListener?r.addEventListener("change",(function(){r.checked?(document.querySelector("[id^='GPautocompleteResultsSuggest']").classList.remove("gpf-hidden","GPelementHidden"),document.querySelector("[id^='GPautocompleteResultsLocation']").classList.add("gpf-hidden","GPelementHidden")):(document.querySelector("[id^='GPautocompleteResultsSuggest']").classList.add("gpf-hidden","GPelementHidden"),document.querySelector("[id^='GPautocompleteResultsLocation']").classList.remove("gpf-hidden","GPelementHidden"))})):r.attachEvent&&r.attachEvent("onchange",(function(){r.checked?(document.querySelector("[id^='GPautocompleteResultsSuggest']").classList.remove("gpf-hidden","GPelementHidden"),document.querySelector("[id^='GPautocompleteResultsLocation']").classList.remove("gpf-hidden","GPelementHidden")):(document.querySelector("[id^='GPautocompleteResultsSuggest']").classList.remove("gpf-hidden","GPelementHidden"),document.querySelector("[id^='GPautocompleteResultsLocation']").classList.add("gpf-hidden","GPelementHidden"))})),e.appendChild(t),e.appendChild(o),[e,n,r]},_createShowAdvancedSearchElement:function(){var e=this,t=document.createElement("span");return t.id=this._addUID("GPshowAdvancedSearch"),t.className="GPshowOpen  GPshowAdvancedSearch fr-m-1w",t.innerText="Recherche avancÃ©e",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n);var i="#GPsearchInput-"+e._uid;n?(document.getElementById(e._addUID("GPadvancedSearchPanel")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPadvancedSearchPanel")).classList.replace("gpf-visible","gpf-hidden"),document.querySelector(i+" input").disabled=!1):(document.getElementById(e._addUID("GPadvancedSearchPanel")).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(e._addUID("GPadvancedSearchPanel")).classList.replace("gpf-hidden","gpf-visible"),document.querySelector(i+" input").disabled=!0),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPcoordinateSearchPanel")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPcoordinateSearchPanel")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPshowSearchByCoordinate")).setAttribute("aria-pressed",!1)})),t},_createShowGeolocateElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowGeolocate"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowGeolocate gpf-btn gpf-btn-icon-search-geolocate fr-btn fr-btn--secondary fr-m-1w",t.title="Activer la geolocalisation",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowSearchGeolocateClick()})),t},_createShowSearchByCoordinateElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowSearchByCoordinate"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowSearchByCoordinate gpf-btn gpf-btn-icon-search-coordinate fr-btn fr-btn--secondary fr-m-1w",t.title="Ouvrir la recherche par coordonnÃ©es",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n);var i="#GPsearchInput-"+e._uid;n?(document.getElementById(e._addUID("GPcoordinateSearchPanel")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPcoordinateSearchPanel")).classList.replace("gpf-visible","gpf-hidden"),document.querySelector(i+" input").disabled=!1):(document.getElementById(e._addUID("GPcoordinateSearchPanel")).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(e._addUID("GPcoordinateSearchPanel")).classList.replace("gpf-hidden","gpf-visible"),document.querySelector(i+" input").disabled=!0),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPadvancedSearchPanel")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPadvancedSearchPanel")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPshowAdvancedSearch")).setAttribute("aria-pressed",!1)})),t},_createAdvancedSearchPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPadvancedSearchPanel"),e.className="GPpanel GPelementHidden gpf-panel gpf-hidden fr-modal",e},_createAdvancedSearchPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createGeocodeResultsElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPgeocodeResultsList"),e.className="GPpanel GPelementHidden gpf-panel gpf-hidden fr-modal",e.appendChild(this._createGeocodeResultsHeaderElement()),e},_createGeocodeResultsDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createAutoCompleteElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPautoCompleteList"),e.className="GPautoCompleteList GPelementHidden gpf-panel fr-modal gpf-hidden ",e},_createCoordinateSearchPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPcoordinateSearchPanel"),e.className="GPpanel GPelementHidden gpf-panel gpf-hidden fr-modal",e},_createCoordinateSearchPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createAutoCompleteListElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPautocompleteResults"),t.className="",t.addEventListener?t.addEventListener("click",(function(t){document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden")}),!1):t.attachEvent&&t.attachEvent("onclick",(function(t){document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPautoCompleteList")).classList.replace("gpf-visible","gpf-hidden")})),t},_createAutoCompletedLocationContainer:function(){var e=document.createElement("select");return e.id=this._addUID("GPautocompleteResultsLocation"),e.className="GPelementHidden gpf-hidden gpf-select",e.size=6,e.autofocus=!0,e},_createAutoCompletedLocationTitleElement:function(){var e=document.getElementById(this._addUID("GPautocompleteResultsLocation")),t=document.createElement("option");t.className="GPlabel GPlabelTitle gpf-label fr-label",t.innerHTML="Lieux et adresses",e.appendChild(t)},_createAutoCompletedLocationElement:function(e,t){var n=this,i=document.getElementById(this._addUID("GPautocompleteResultsLocation")),o=document.createElement("option");o.id=this._addUID("AutoCompletedLocation_"+t),o.className="GPautoCompleteProposal gpf-panel__items";var r=ih.getSuggestedLocationFreeform(e);o.innerHTML=r,o.title=r,o.addEventListener?o.addEventListener("click",(function(e){n.onAutoCompletedResultsItemClick(e)}),!1):o.attachEvent&&o.attachEvent("onclick",(function(e){n.onAutoCompletedResultsItemClick(e)})),i.appendChild(o)},_createSearchedSuggestContainer:function(){var e=document.createElement("select");return e.id=this._addUID("GPautocompleteResultsSuggest"),e.className="GPelementHidden gpf-hidden gpf-select",e.size=6,e.autofocus=!0,e},_createSearchedSuggestTitleElement:function(){var e=document.getElementById(this._addUID("GPautocompleteResultsSuggest")),t=document.createElement("option");t.className="GPlabel GPlabelTitle gpf-label fr-label",t.innerHTML="Cartes et donnÃ©es",e.appendChild(t)},_createSearchedSuggestElement:function(e,t){var n=this,i=document.getElementById(this._addUID("GPautocompleteResultsSuggest")),o=document.createElement("option");o.id=this._addUID("AutoCompletedSuggest_"+t),o.className="GPautoCompleteProposal gpf-panel__items",o.innerHTML=e.title+" ("+e.service+")",o.dataset.layer=e.name,o.title=e.description,o.addEventListener?o.addEventListener("click",(function(e){n.onSearchedResultsItemClick(e)}),!1):o.attachEvent&&o.attachEvent("onclick",(function(e){n.onSearchedResultsItemClick(e)})),i.appendChild(o)},_createAdvancedSearchPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title fr-pt-4w",n.innerHTML="Recherche avancÃ©e",t.appendChild(n);var i=document.createElement("button");i.id=this._addUID("GPadvancedSearchClose"),i.className="GPpanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",i.title="Fermer la recherche avancÃ©e",i.addEventListener?i.addEventListener("click",(function(){var t="#GPsearchInput-"+e._uid;document.querySelector(t+" input").disabled=!1,document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPshowAdvancedSearch")).setAttribute("aria-pressed",!1),document.getElementById(e._addUID("GPadvancedSearchPanel")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPadvancedSearchPanel")).classList.replace("gpf-visible","gpf-hidden")}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){var t="#GPsearchInput-"+e._uid;document.querySelector(t+" input").disabled=!1,document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden"),document.getElementById(e._addUID("GPshowAdvancedSearch")).setAttribute("aria-pressed",!1),document.getElementById(e._addUID("GPadvancedSearchPanel")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPadvancedSearchPanel")).classList.replace("gpf-visible","gpf-hidden")}));var o=document.createElement("span");return o.className="GPelementHidden gpf-visible",o.innerText="Fermer",i.appendChild(o),t.appendChild(i),t},_createAdvancedSearchPanelFormElement:function(e){var t=this,n=document.createElement("form");n.id=this._addUID("GPadvancedSearchForm"),n.className="gpf-panel__content fr-modal__content",n.addEventListener("submit",(function(e){e.preventDefault();for(var n=[],i="#GPadvancedSearchFilters-"+t._uid,o=document.querySelectorAll(i+" > div > div > input"),r=0;r<o.length;r++){var a=o[r];n.push({key:a.name,value:a.value})}return t.onGeocodingAdvancedSearchSubmit(e,n),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPgeocodeResultsList")).classList.replace("gpf-hidden","gpf-visible"),!1}));var i=document.createElement("div");i.className="GPflexInput gpf-flex-column ";var o=document.createElement("label");o.className="GPadvancedSearchCodeLabel gpf-label fr-label",o.innerHTML="Recherche par",i.appendChild(o);var r=this._createAdvancedSearchFormCodeElement(e);return i.appendChild(r),n.appendChild(i),n},_createAdvancedSearchFormCodeElement:function(e){var t=this,n=document.createElement("select");n.id=this._addUID("GPadvancedSearchCode"),n.title="Choisir un type de recherche",n.className="GPadvancedSearchCode gpf-select fr-select",n.addEventListener("change",(function(e){t.onGeocodingAdvancedSearchCodeChange(e)}),!1),e||(e=[{id:"PositionOfInterest",title:"Lieux/toponymes"},{id:"StreetAddress",title:"Adresses"},{id:"CadastralParcel",title:"Parcelles cadastrales"}]);for(var i=0;i<e.length;i++){var o=document.createElement("option");o.value=e[i].id,o.text=e[i].title,n.appendChild(o)}return n},_createAdvancedSearchFormInputElement:function(){var e=document.createElement("input");return e.type="submit",e.id=this._addUID("GPadvancedSearchSubmit"),e.className="GPsubmit gpf-btn gpf-btn-icon-submit  fr-btn fr-btn--secondary",e.value="Chercher",e},_createAdvancedSearchFormFiltersElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPadvancedSearchFilters"),e},_createAdvancedSearchFiltersTableElement:function(e,t){var n=document.createElement("div");return n.id=this._addUID(e),t||(n.style.display="none"),n},_createAdvancedSearchFiltersAttributElement:function(e){var t=null,n=e.name,i=e.title,o=e.description,r=e.code,a=e.value,s=document.createElement("div");s.className="GPflexInput gpf-flex-column ";var l=document.createElement("label");l.className="GPadvancedSearchFilterLabel gpf-label fr-label",l.htmlFor=n,l.title=o||i,l.innerHTML=i,s.appendChild(l);var c=document.createElement("input");if(c.id=n,c.className="GPadvancedSearchFilterInput gpf-input fr-input",c.type="text",c.name=n,a)if(Array.isArray(a)){var u=n+"_list";c.setAttribute("list",u);var d=document.createElement("datalist");d.id=u;for(var p=0;p<a.length;++p){var h=document.createElement("option");h.value=a[p],d.appendChild(h)}s.appendChild(d)}else c.value=a;return s.appendChild(c),(t=document.getElementById(this._addUID(r)))?t.appendChild(s):t=s,t},_createGeocodeResultsHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title fr-pt-4w",n.innerHTML="RÃ©sultats de la recherche",t.appendChild(n);var i=document.createElement("button");i.id=this._addUID("GPgeocodeResultsClose"),i.className="GPpanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",i.title="Fermer la fenÃªtre de rÃ©sultats",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden")}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden")}));var o=document.createElement("span");return o.className="GPelementHidden gpf-visible",o.innerText="Fermer",i.appendChild(o),t.appendChild(i),t},_createGeocodeResultsListElement:function(){var e=this,t=document.createElement("div");return t.id=this._addUID("GPgeocodeResults"),t.className="gpf-panel__list",t.setAttribute("tabindex","0"),t.addEventListener?t.addEventListener("click",(function(t){t.ctrlKey||(document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden")),e.onGeocodedResultsItemClick(t)}),!1):t.attachEvent&&t.attachEvent("onclick",(function(t){t.ctrlKey||(document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPgeocodeResultsList")).classList.replace("gpf-visible","gpf-hidden")),e.onGeocodedResultsItemClick(t)})),t},_createGeocodedLocationElement:function(e,t){var n=document.getElementById(this._addUID("GPgeocodeResults")),i=document.createElement("div");i.id=this._addUID("GeocodedLocation_"+t),i.className="GPautoCompleteProposal gpf-panel__items",i.innerHTML="string"==typeof e?e:ih.getGeocodedLocationFreeform(e),n.appendChild(i)},_createCoordinateSearchPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title fr-pt-4w",n.innerHTML="Recherche par coordonnÃ©es",t.appendChild(n);var i=document.createElement("button");i.id=this._addUID("GPcoordinateSearchClose"),i.className="GPpanelClose GPcoordinateSearchClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",i.title="Fermer la recherche par coordonnÃ©es",i.addEventListener?i.addEventListener("click",(function(){var t="#GPsearchInput-"+e._uid;document.querySelector(t+" input").disabled=!1,document.getElementById(e._addUID("GPshowSearchByCoordinate")).setAttribute("aria-pressed",!1),document.getElementById(e._addUID("GPcoordinateSearchPanel")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPcoordinateSearchPanel")).classList.replace("gpf-visible","gpf-hidden"),e.onCoordinateSearchClose()}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){var t="#GPsearchInput-"+e._uid;document.querySelector(t+" input").disabled=!1,document.getElementById(e._addUID("GPshowSearchByCoordinate")).setAttribute("aria-pressed",!1),document.getElementById(e._addUID("GPcoordinateSearchPanel")).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(e._addUID("GPcoordinateSearchPanel")).classList.replace("gpf-visible","gpf-hidden"),e.onCoordinateSearchClose()}));var o=document.createElement("span");return o.className="GPelementHidden gpf-visible",o.innerText="Fermer",i.appendChild(o),t.appendChild(i),t},_createCoordinateSearchPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPcoordinateSearchForm"),t.className="gpf-panel__content fr-modal__content",t.addEventListener("submit",(function(t){return t.preventDefault(),e.onShowSearchByCoordinateClick(),!1})),t},__createCoordinateSearchDivElement:function(){var e=document.createElement("div");return e.className="GPflexInput gpf-flex-column ",e},_createCoordinateSearchSystemsLabelElement:function(){var e=document.createElement("label");return e.className="GPcoordinateSearchSystemsLabel gpf-label fr-label",e.innerHTML="SystÃ¨me de rÃ©fÃ©rence",e},_setCoordinateSearchSystemsSelectElement:function(e){document.getElementById(this._addUID("GPcoordinateSearchSystem"))&&document.getElementById(this._addUID("GPcoordinateSearchSystem")).remove();var t=this,n=document.createElement("select");n.id=this._addUID("GPcoordinateSearchSystem"),n.title="Choisir un systÃ¨me de rÃ©ference",n.className="GPselect GPcoordinateSearchSystemsSelect gpf-select fr-select",n.addEventListener("change",(function(e){t.onCoordinateSearchSystemChange(e)}));for(var i=0;i<e.length;i++){var o=e[i],r=document.createElement("option");r.value=o.code,r.text=o.label||i,n.appendChild(r)}return n},_createCoordinateSearchUnitsLabelElement:function(){var e=document.createElement("label");return e.className="GPcoordinateSearchUnitsLabel gpf-label fr-label",e.innerHTML="UnitÃ©s",e},_setCoordinateSearchUnitsSelectElement:function(e){document.getElementById(this._addUID("GPcoordinateSearchUnits"))&&document.getElementById(this._addUID("GPcoordinateSearchUnits")).remove();var t=this,n=document.createElement("select");n.id=this._addUID("GPcoordinateSearchUnits"),n.title="Choisir un type d'unitÃ©",n.className="GPselect GPcoordinateSearchUnitsSelect gpf-select fr-select",n.addEventListener("change",(function(e){t.onCoordinateSearchUnitsChange(e)}));for(var i=0;i<e.length;i++){var o=e[i],r=document.createElement("option");r.value=o.code?o.code:i,r.text=o.label||i,n.appendChild(r)}return n},_setCoordinateSearchLngLabelElement:function(e){document.getElementById(this._addUID("GPcoordinateSearchLngLabel"))&&document.getElementById(this._addUID("GPcoordinateSearchLngLabel")).remove();var t=document.createElement("label");return t.className="GPcoordinateSearchLabel gpf-label fr-label",t.id=this._addUID("GPcoordinateSearchLngLabel"),t.htmlFor="coordinate-lng",t.innerHTML="Geographical"===e?"Longitude :":"Y :",t},_setCoordinateSearchLngInputElement:function(e){document.getElementById(this._addUID("GPcoordinateSearchLngInput"))&&document.getElementById(this._addUID("GPcoordinateSearchLngInput")).remove(),document.getElementById(this._addUID("GPcoordinateSearchLngDMS"))&&document.getElementById(this._addUID("GPcoordinateSearchLngDMS")).remove();var t=document.createElement("input");switch(t.id=this._addUID("GPcoordinateSearchLngInput"),t.className="GPcoordinateSearchInput gpf-input fr-input",t.title="Saisir des coordonnÃ©es",t.name="coordinate-lng",t.required="",e){case"DMS":return t.title+=" gÃ©ographiques (en sexa)",t.className="GPelementHidden gpf-hidden",this._setCoordinateSearchLngDMSElement();case"DEC":t.title+=" gÃ©ographiques (en decimal)",t.type="number",t.min="-180",t.max="180";break;case"M":t.title+=" cartÃ©siennes (en mÃ¨tre)",t.type="number";break;case"KM":t.title+=" cartÃ©siennes (en kilomÃ¨tre)",t.type="number"}return t},_setCoordinateSearchLngDMSElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPcoordinateSearchLngDMS"),e.innerHTML='\n        <div class="GPflexInput gpf-flex">\n            <input step="1"\n                id="GPcoordinatSearchInputSexLonDeg"\n                class="gpf-input fr-input"\n                name="inputSexLonDeg"\n                title="Saisir une valeur de degrÃ© entre 0Â° et 180Â°"\n                type="number"\n                required=""\n                min="0"\n                max="180">\n            <label>Â°</label>\n            <input step="1"\n                id="GPcoordinatSearchInputSexLonMin"\n                class="gpf-input fr-input"\n                name="inputSexLonMin"\n                title="Saisir une valeur de minute entre 0\' et 59\'"\n                type="number"\n                required=""\n                min="0"\n                max="59">\n            <label>\'</label>\n            <input step="any"\n                id="GPcoordinatSearchInputSexLonSec"\n                class="gpf-input fr-input"\n                name="inputSexLonSec"\n                title="Saisir une valeur de seconde entre 0\'\' et 59\'\'"\n                type="number"\n                required=""\n                min="0"\n                max="59.9999">\n            <label>"</label>\n            <select\n                id="GPcoordinatSearchInputSexLonToward"\n                class="GPselect gpf-select fr-select"\n                title="Saisir une direction pour Est et 0uest"\n                name="inputSexLonToward">\n                <option value="O">O</option>\n                <option value="E" selected="">E</option>\n            </select>\n        </div>\n        ',e},_setCoordinateSearchLatLabelElement:function(e){document.getElementById(this._addUID("GPcoordinateSearchLatLabel"))&&document.getElementById(this._addUID("GPcoordinateSearchLatLabel")).remove();var t=document.createElement("label");return t.className="GPcoordinateSearchLabel gpf-label fr-label",t.id=this._addUID("GPcoordinateSearchLatLabel"),t.htmlFor="coordinate-lat",t.innerHTML="Geographical"===e?"Latitude :":"X :",t},_setCoordinateSearchLatInputElement:function(e){document.getElementById(this._addUID("GPcoordinateSearchLatInput"))&&document.getElementById(this._addUID("GPcoordinateSearchLatInput")).remove(),document.getElementById(this._addUID("GPcoordinateSearchLatDMS"))&&document.getElementById(this._addUID("GPcoordinateSearchLatDMS")).remove();var t=document.createElement("input");switch(t.id=this._addUID("GPcoordinateSearchLatInput"),t.className="GPcoordinateSearchInput gpf-input fr-input",t.title="Saisir des coordonnÃ©es",t.name="coordinate-lat",t.required="",e){case"DMS":return t.title+=" gÃ©ographiques (en sexa)",t.className="GPelementHidden gpf-hidden",this._setCoordinateSearchLatDMSElement();case"DEC":t.title+=" gÃ©ographiques (en decimal)",t.type="number",t.min="-180",t.max="180";break;case"M":t.title+=" cartÃ©siennes (en mÃ¨tre)",t.type="number";break;case"KM":t.title+=" cartÃ©siennes (en kilomÃ¨tre)",t.type="number"}return t},_setCoordinateSearchLatDMSElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPcoordinateSearchLatDMS"),e.innerHTML='\n        <div class="GPflexInput gpf-flex">\n            <input step="1"\n                id="GPcoordinatSearchInputSexLatDeg"\n                class="gpf-input fr-input"\n                name="inputSexLatDeg"\n                title="Saisir une valeur de degrÃ© entre 0Â° et 85Â°"\n                type="number"\n                required=""\n                min="0"\n                max="85">\n            <label>Â°</label>\n            <input step="1"\n                id="GPcoordinatSearchInputSexLatMin"\n                class="gpf-input fr-input"\n                name="inputSexLatMin"\n                title="Saisir une valeur de minute entre 0\' et 59\'"\n                type="number"\n                required=""\n                min="0"\n                max="59">\n            <label>\'</label>\n            <input step="any"\n                id="GPcoordinatSearchInputSexLatSec"\n                class="gpf-input fr-input"\n                name="inputSexLatSec"\n                title="Saisir une valeur de seconde entre 0\' et 59\'"\n                type="number"\n                required=""\n                min="0"\n                max="59.9999">\n            <label>"</label>\n            <select\n                id="GPcoordinatSearchInputSexLatToward"\n                class="GPselect gpf-select fr-select"\n                title="Saisir une direction pour Nord et Sud"\n                name="inputSexLatToward">\n                <option value="N">N</option>\n                <option value="S">S</option>\n            </select>\n        </div>\n        ',e},_createCoordinateSearchSubmitElement:function(){var e=document.createElement("input");return e.type="submit",e.id=this._addUID("GPcoordinateSearchSubmit"),e.className="GPsubmit gpf-btn gpf-btn-icon-submit  fr-btn fr-btn--secondary",e.value="Chercher",e}};const ey=$f;function ty(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,s=[],l=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=r.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ny(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ny(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ny(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function iy(e){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(e)}function oy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ry(i.key),i)}}function ry(e){var t=function(e,t){if("object"!=iy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=iy(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iy(t)?t:t+""}function ay(e,t,n){return t=uy(t),sy(e,ly()?Reflect.construct(t,n||[],uy(e).constructor):t.apply(e,n))}function sy(e,t){if(t&&("object"==iy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ly(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ly=function(){return!!e})()}function cy(){return cy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=uy(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},cy.apply(null,arguments)}function uy(e){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uy(e)}function dy(e,t){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dy(e,t)}var py=yt.getLogger("searchengine"),hy=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=ay(this,t,[{element:(e=e||{}).element,target:e.target,render:e.render}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.initialize(e),n.container=n._initContainer(),n.element?n.element.appendChild(n.container):n.element=n.container,sy(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dy(e,t)}(t,e),i=t,o=[{key:"setMap",value:function(e){e||this._clearResults(),this.collapsed||this._showSearchEngineButton.setAttribute("aria-pressed",!0),cy(uy(t.prototype),"setMap",this).call(this,e),this.options.position&&this.setPosition(this.options.position)}},{key:"getCollapsed",value:function(){return this.collapsed}},{key:"setCollapsed",value:function(e){void 0!==e?this.options.collapsible&&(e&&this.collapsed||!e&&!this.collapsed||(this._showSearchEngineButton.click(),this.collapsed=e)):py.log("[ERROR] SearchEngine:setCollapsed - missing collapsed parameter")}},{key:"getData",value:function(){return this._geocodedLocations}},{key:"initialize",value:function(e){var t=this;this._checkInputOptions(e),this.options={collapsed:!0,collapsible:!0,zoomTo:"",resources:{geocode:[],autocomplete:[],search:!1},displayButtonClose:!0,displayButtonAdvancedSearch:!1,displayButtonGeolocate:!1,displayButtonCoordinateSearch:!1,advancedSearch:{},coordinateSearch:{},searchOptions:{addToMap:!0,serviceOptions:{maximumResponses:5}},geocodeOptions:{serviceOptions:{}},autocompleteOptions:{serviceOptions:{maximumResponses:5},triggerGeocode:!1,triggerDelay:1e3},displayMarker:!0,markerStyle:"lightOrange",placeholder:"Rechercher un lieu, une adresse",splitResults:!0},nn.mergeParams(this.options,e),""===this.options.resources.geocode&&(this.options.resources.geocode=["PositionOfInterest","StreetAddress"]),0===this.options.resources.autocomplete.length&&(this.options.resources.autocomplete=["PositionOfInterest","StreetAddress"]),this.options.resources.search&&(this.options.searchOptions&&(this.options.searchOptions.serviceOptions&&(this.options.searchOptions.serviceOptions.url&&Qf.A.setUrl(this.options.searchOptions.serviceOptions.url),this.options.searchOptions.serviceOptions.fields&&Qf.A.setFields(this.options.searchOptions.serviceOptions.fields),this.options.searchOptions.serviceOptions.index&&Qf.A.setIndex(this.options.searchOptions.serviceOptions.index),this.options.searchOptions.serviceOptions.size&&Qf.A.setSize(this.options.searchOptions.serviceOptions.size),this.options.searchOptions.serviceOptions.maximumResponses&&Qf.A.setMaximumResponses(this.options.searchOptions.serviceOptions.maximumResponses)),this.options.searchOptions.filterServices&&Qf.A.setFiltersByService(this.options.searchOptions.filterServices),this.options.searchOptions.filterVectortiles&&Qf.A.setFiltersByTMS(this.options.searchOptions.filterVectortiles),this.options.searchOptions.updateVectortiles&&Qf.A.updateFilterByTMS()),Qf.A.target.addEventListener("suggest",(function(e){py.debug(e),t._fillSearchedSuggestListContainer(e.detail)}))),this.options.collapsible||(this.options.collapsed=!1),this.collapsed=this.options.collapsed,this._uid=yu.generate(),this._showSearchEngineButton=null,this._inputSearchContainer=null,this._autocompleteContainer=null,this._containerResultsLocation=null,this._containerResultsSuggest=null,this._radioButtonLocation=null,this._radioButtonSuggest=null,this._suggestedLocations=[],this._geocodedContainer=null,this._geocodedLocations=[],this._filterContainer=null,this._currentGeocodingCode=null,this._currentGeocodingLocation=null,this._advancedSearchFilters={},this._initAdvancedSearchFilters(),this._advancedSearchCodes=[],this._initAdvancedSearchCodes(),this._coordinateSearchSystems=[],this.options.displayButtonCoordinateSearch&&(this._initCoordinateSearchSystems(),this._currentCoordinateSearchSystems=this._coordinateSearchSystems[0],this._currentCoordinateSearchType=this._coordinateSearchSystems[0].type),this._coordinateSearchUnits=[],this.options.displayButtonCoordinateSearch&&(this._initCoordinateSearchUnits(),this._currentCoordinateSearchUnits=this._coordinateSearchUnits[this._currentCoordinateSearchType][0].code),this._coordinateSearchLngInput=null,this._coordinateSearchLatInput=null,this._marker=null;var n=this.options.markerStyle;this._markerUrl=-1===Object.keys(xt).indexOf(n)?xt.lightOrange:xt[n],this._displayMarker=this.options.displayMarker,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null,this._triggerHandler=null}},{key:"_checkInputOptions",value:function(e){var t;if(e.resources)if("object"===iy(e.resources)){var n=e.resources.geocode;if(n)if(Array.isArray(n)){var i=["StreetAddress","PositionOfInterest","CadastralParcel","Administratif"];for(t=0;t<n.length;t++)-1===i.indexOf(n[t])&&py.log("[SearchEngine] options.resources.geocode : "+n[t]+" is not a resource for geocode")}else py.log("[SearchEngine] 'options.resources.geocode' parameter should be an array"),n=null;var o=e.resources.autocomplete;if(o)if(Array.isArray(o)){var r=["StreetAddress","PositionOfInterest"];for(t=0;t<o.length;t++)-1===r.indexOf(o[t])&&py.log("[SearchEngine] options.resources.autocomplete : "+o[t]+" is not a resource for autocomplete")}else py.log("[SearchEngine] 'options.resources.autocomplete' parameter should be an array"),o=null}else py.log("[SearchEngine] 'resources' parameter should be an object"),e.resources=null}},{key:"_initAdvancedSearchCodes",value:function(){var e=this.options.resources.geocode;"location"===e&&(e=["PositionOfInterest","StreetAddress","CadastralParcel"]),Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++)switch(e[t]){case"PositionOfInterest":this._advancedSearchCodes.push({id:"PositionOfInterest",title:"Lieux/toponymes"});break;case"StreetAddress":this._advancedSearchCodes.push({id:"StreetAddress",title:"Adresses"});break;case"CadastralParcel":this._advancedSearchCodes.push({id:"CadastralParcel",title:"Parcelles cadastrales"})}0===this._advancedSearchCodes.length&&(this._advancedSearchCodes=[{id:"StreetAddress",title:"Adresses"},{id:"PositionOfInterest",title:"Lieux/toponymes"},{id:"CadastralParcel",title:"Cadastre"}]),py.log("advancedSearchCodes",this._advancedSearchCodes)}},{key:"_initAdvancedSearchFilters",value:function(){this._advancedSearchFilters=nh.advancedSearchFiltersByDefault;var e=this.options.advancedSearch;nn.assign(this._advancedSearchFilters,e),py.log("advancedSearchFilters",this._advancedSearchFilters)}},{key:"_initCoordinateSearchSystems",value:function(){var e=[{label:"GÃ©ographique",crs:"EPSG:4326",type:"Geographical"},{label:"Web Mercator",crs:"EPSG:3857",type:"Metric"},{label:"Lambert 93",crs:"EPSG:2154",type:"Metric"}],t=this.options.coordinateSearch.systems;if(t)for(var n=0;n<t.length;n++){var i=t[n];this._setSystem(i)}if(0===this._coordinateSearchSystems.length)for(var o=0;o<e.length;o++)this._setSystem(e[o])}},{key:"_initCoordinateSearchUnits",value:function(){var e={Geographical:[{code:"DEC",label:"degrÃ©s dÃ©cimaux",format:th.coordinateToDecimal},{code:"DMS",label:"degrÃ©s sexagÃ©simaux",format:th.coordinateToDMS}],Metric:[{code:"M",label:"mÃ¨tres",format:th.coordinateToMeter},{code:"KM",label:"kilomÃ¨tres",format:th.coordinateToKMeter}]},t=this.options.coordinateSearch.units;if(t)for(var n in e)if(e.hasOwnProperty(n)){for(var i=!1,o=0;o<e[n].length;o++)for(var r=e[n][o],a=0;a<t.length;a++){var s=t[a];r.code===s&&(i=!0,this._coordinateSearchUnits[n]||(this._coordinateSearchUnits[n]=[]),this._coordinateSearchUnits[n].push(r))}i||(this._coordinateSearchUnits[n]=e[n])}"object"===iy(this._coordinateSearchUnits)&&0===Object.keys(this._coordinateSearchUnits).length&&(this._coordinateSearchUnits=e)}},{key:"_initPopupDiv",value:function(){var e=this,t=document.createElement("div");t.className="gp-feature-info-div";var n=document.createElement("input");return n.type="button",n.className="gp-styling-button closer",n.onclick=function(){return null!=e._popupOverlay&&e._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",this._popupContent.style["min-width"]="200px",t.appendChild(this._popupContent),t.appendChild(n),t}},{key:"_initContainer",value:function(){var e=this._createMainContainerElement(),t=this._createSearchDivElement(),n=this._showSearchEngineButton=this._createShowSearchEnginePictoElement(this.options.collapsible);t.appendChild(n),this.options.collapsible||e.classList.add("gpf-widget-color","gpf-widget-padding");var i=this._inputSearchContainer=this._createSearchInputElement(this.options.placeholder);this.options.displayButtonClose&&i.appendChild(this._createSearchResetElement());var o=this;i.addEventListener?i.addEventListener("click",(function(){o.onAutoCompleteInputClick()})):i.attachEvent&&i.attachEvent("onclick",(function(){o.onAutoCompleteInputClick()})),t.appendChild(i);var r=this._createButtonsElement(),a=this._createFirstLineWrapper();a.appendChild(t),a.appendChild(r),e.appendChild(a);var s=this._createRadioContainer();if(e.appendChild(s),_p()&&this.options.splitResults){var l,c=ty(this._createRadioElements(),3);l=c[0],this._radioButtonLocation=c[1],this._radioButtonSuggest=c[2],s.appendChild(l)}if(this.options.displayButtonAdvancedSearch){var u=this._createShowAdvancedSearchElement();s.appendChild(u);var d=this._createAdvancedSearchPanelElement(),p=this._createAdvancedSearchPanelDivElement(),h=this._createAdvancedSearchPanelHeaderElement(),g=this._createAdvancedSearchPanelFormElement(this._advancedSearchCodes),m=this._filterContainer=this._createAdvancedSearchFormFiltersElement();this._setFilter(this._advancedSearchCodes[0].id);var f=this._createAdvancedSearchFormInputElement();g.appendChild(m),g.appendChild(f),p.appendChild(h),p.appendChild(g),d.appendChild(p),e.appendChild(d)}if(this.options.displayButtonGeolocate){var y=this._createShowGeolocateElement();r.appendChild(y)}if(this.options.displayButtonCoordinateSearch){var A=this._createShowSearchByCoordinateElement();r.appendChild(A);var v=this._createCoordinateSearchPanelElement(),C=this._createCoordinateSearchPanelDivElement(),b=this._createCoordinateSearchPanelHeaderElement(),I=this._createCoordinateSearchPanelFormElement(),_=null;_=this._containerSystems=this.__createCoordinateSearchDivElement(),I.appendChild(_);var w=this._createCoordinateSearchSystemsLabelElement(),E=this._setCoordinateSearchSystemsSelectElement(this._coordinateSearchSystems);_.appendChild(w),_.appendChild(E),_=this._containerUnits=this.__createCoordinateSearchDivElement(),I.appendChild(_);var S=this._createCoordinateSearchUnitsLabelElement(),P=this._setCoordinateSearchUnitsSelectElement(this._coordinateSearchUnits[this._currentCoordinateSearchType]);_.appendChild(S),_.appendChild(P),_=this._containerCoordinateLng=this.__createCoordinateSearchDivElement(),I.appendChild(_);var M=this._setCoordinateSearchLngLabelElement(this._currentCoordinateSearchType),x=this._coordinateSearchLngInput=this._setCoordinateSearchLngInputElement(this._currentCoordinateSearchUnits);_.appendChild(M),_.appendChild(x),_=this._containerCoordinateLat=this.__createCoordinateSearchDivElement(),I.appendChild(_);var G=this._setCoordinateSearchLatLabelElement(this._currentCoordinateSearchType),k=this._coordinateSearchLatInput=this._setCoordinateSearchLatInputElement(this._currentCoordinateSearchUnits);_.appendChild(G),_.appendChild(k);var R=this._createCoordinateSearchSubmitElement();I.appendChild(R),C.appendChild(b),C.appendChild(I),v.appendChild(C),e.appendChild(v)}var L=this._autocompleteContainer=this._createAutoCompleteElement(),O=this._createAutoCompleteListElement(),T=this._containerResultsLocation=this._createAutoCompletedLocationContainer(),D=this._containerResultsSuggest=this._createSearchedSuggestContainer();O.appendChild(T),O.appendChild(D),L.appendChild(O),e.appendChild(L);var N=this._createGeocodeResultsElement(),U=this._createGeocodeResultsDivElement();N.appendChild(U);var j=this._geocodedContainer=this._createGeocodeResultsListElement();return U.appendChild(j),e.appendChild(N),e}},{key:"_setFilter",value:function(e){for(var t=this._filterContainer,n=!1,i=0;i<this._advancedSearchCodes.length;i++)if(this._advancedSearchCodes[i].id===e){n=!0;break}if(n){for(this._currentGeocodingCode=e;t.firstChild;)t.removeChild(t.firstChild);var o=this._advancedSearchFilters[e];if(o&&0!==o.length){for(var r=this._createAdvancedSearchFiltersTableElement(e,!0),a=0;a<o.length;a++){var s=this._createAdvancedSearchFiltersAttributElement(o[a]);r.appendChild(s)}return t.appendChild(r),t}}else for(;t.firstChild;)t.removeChild(t.firstChild)}},{key:"_requestAutoComplete",value:function(e){if(e&&("object"!==iy(e)||0!==Object.keys(e).length)&&e.text){py.log(e);var t={};nn.assign(t,this.options.autocompleteOptions.serviceOptions),nn.assign(t,e);var n=this.options.resources.autocomplete;n&&Array.isArray(n)&&(t.type||(t.type=n)),t.apiKey=t.apiKey||this.options.apiKey,"boolean"!=typeof t.ssl&&("boolean"==typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),py.log(t),ft.Services.autoComplete(t)}}},{key:"_fillAutoCompletedLocationListContainer",value:function(e){if(e&&0!==e.length){var t=this._containerResultsLocation;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild);if(t.classList.add("GPelementHidden","gpf-hidden"),e.length){(!this._radioButtonLocation||this._radioButtonLocation&&this._radioButtonLocation.checked)&&t.classList.remove("GPelementHidden","gpf-hidden"),this._displaySuggestedLocation(),_p()&&this.options.splitResults||this._createAutoCompletedLocationTitleElement();for(var n=0;n<e.length;n++)this._createAutoCompletedLocationElement(e[n],n)}}}},{key:"_fillSearchedSuggestListContainer",value:function(e){var t=this._containerResultsSuggest;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild);if(t.classList.add("GPelementHidden","gpf-hidden"),e.length){(!this._radioButtonSuggest||this._radioButtonSuggest&&this._radioButtonSuggest.checked)&&t.classList.remove("GPelementHidden","gpf-hidden"),_p()&&this.options.splitResults||this._createSearchedSuggestTitleElement();for(var n=0;n<e.length;n++){var i=e[n];this._createSearchedSuggestElement(i,n)}}}},{key:"_requestGeocoding",value:function(e){if(e&&("object"!==iy(e)||0!==Object.keys(e).length)&&null!==e.query){py.log(e);var t={};nn.assign(t,this.options.geocodeOptions.serviceOptions),nn.assign(t,e);var n=this,i=!(null===this.options.geocodeOptions.serviceOptions.onFailure||"function"!=typeof this.options.geocodeOptions.serviceOptions.onFailure);null!==this.options.geocodeOptions.serviceOptions.onSuccess&&"function"==typeof this.options.geocodeOptions.serviceOptions.onSuccess&&(t.onSuccess=function(t){e.onSuccess.call(n,t),n.options.geocodeOptions.serviceOptions.onSuccess.call(n,t)}),i&&(t.onFailure=function(t){e.onFailure.call(n,t),n.options.geocodeOptions.serviceOptions.onFailure.call(n,t)});var o=this.options.resources.geocode;o&&(t.index||(t.index=o)),t.apiKey=t.apiKey||this.options.apiKey,"boolean"!=typeof t.ssl&&("boolean"==typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),py.log(t),ft.Services.geocode(t)}}},{key:"_fillGeocodedLocationListContainer",value:function(e){if(e&&0!==e.length){var t=this._geocodedContainer;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild);for(var n=0;n<e.length;n++)py.log(e[n]),this._createGeocodedLocationElement(e[n],n);this._geocodedLocations=e}else this._clearGeocodedLocation()}},{key:"_setLabel",value:function(e){document.getElementById("GPsearchInputText-"+this._uid).value=e}},{key:"_setPosition",value:function(e,t){var n=this.getMap().getView();n.setCenter(e),n.setZoom(t)}},{key:"_setMarker",value:function(e,t){var i=this.getMap(),o=this;if(null!=this._marker&&(i.removeOverlay(this._marker),this._marker=null),e){var r=document.createElement("img");r.src=this._markerUrl,r.addEventListener?r.addEventListener("click",(function(){o._onResultMarkerSelect(t)})):r.attachEvent&&r.attachEvent("onclick",(function(){o._onResultMarkerSelect(t)})),this._marker=new(n())({position:e,offset:[-25.5,-38],element:r,stopEvent:!1}),i.addOverlay(this._marker)}}},{key:"_getZoom",value:function(e){var t=this.getMap(),n=this.options.zoomTo,i=null;if("function"==typeof n&&(py.trace("zoom function"),i=n.call(this,e)),"number"==typeof n&&(py.trace("zoom level"),i=n),"string"==typeof n)if("auto"===n)py.trace("zoom auto"),i=nh.zoomToResultsByDefault(e);else{py.trace("zoom level parsing");var o=parseInt(n,10);isNaN(o)||(py.trace("zoom parsing"),i=o)}Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},i&&""!==i&&Number.isInteger(i)||(py.trace("zoom not found, current zoom..."),i=t.getView().getZoom());var r=t.minZoom,a=t.maxZoom;return i<r&&(py.trace("zoom level min..."),i=r),i>a&&(py.trace("zoom level max..."),i=a),py.trace("zoom",i),i}},{key:"_onResultMarkerSelect",value:function(e){var t=this.getMap(),i="";if("string"!=typeof e)if("GeocodedLocation"===e.service){i="<ul>";var o=e.location.placeAttributes;for(var r in o)o.hasOwnProperty(r)&&"trueGeometry"!==r&&"extraFields"!==r&&"houseNumberInfos"!==r&&"_count"!==r&&(i+="<li>",i+='<span class="gp-attname-others-span">'+r.toUpperCase()+" : </span>",i+=o[r],i+=" </li>");i+=" </ul>"}else i="SuggestedLocation"===e.service?ih.getSuggestedLocationFreeform(e.location):"sans informations.";else i=e;this._popupContent.innerHTML=i,this._popupOverlay?this._popupOverlay.setPosition(this._marker.getPosition()):(this._popupOverlay=new(n())({element:this._popupDiv,positioning:"bottom-center",position:this._marker.getPosition(),offset:[0,-42]}),t.addOverlay(this._popupOverlay))}},{key:"_setSystem",value:function(e){if("object"===iy(e))if(e.crs)if(e.label||(py.warn("crs label not defined, use crs code by default."),e.label=e.crs),e.type||(py.warn("type srs not defined, use 'Metric' by default."),e.type="Metric"),Kf.loadByName(e.crs),(0,Si.get)(e.crs)){for(var t=0;t<this._coordinateSearchSystems.length;t++){var n=this._coordinateSearchSystems[t];e.crs===n.crs&&py.info("crs '{}' already configured",n.crs)}e.code=this._coordinateSearchSystems.length,this._coordinateSearchSystems.push(e)}else py.error("crs '{}' not available into proj4 definitions !",e.crs);else py.error("crs not defined !");else py.log("[ERROR] MousePosition:addSystem - system parameter should be an object")}},{key:"onShowSearchEngineClick",value:function(){var e=this.getMap();$p.unset(e);var t=this._showSearchEngineButton.ariaPressed;this.collapsed=!("true"===t),this.dispatchEvent("change:collapsed"),this.collapsed&&this._clearResults()}},{key:"onSearchResetClick",value:function(){this._clearResults()}},{key:"onShowSearchGeolocateClick",value:function(){var e=this;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(t){var n=e.getMap().getView().getProjection().getCode(),i=[t.coords.longitude,t.coords.latitude];"EPSG:4326"!==n&&(i=(0,Si.transform)(i,"EPSG:4326",n)),isNaN(i[0])||isNaN(i[1])?e._setMarker():(e._setPosition(i,10),e._displayMarker&&e._setMarker(i,"sans information"))}))}},{key:"onShowSearchByCoordinateClick",value:function(){var e=null,t=null;if(this._coordinateSearchLngInput&&"DIV"===this._coordinateSearchLngInput.nodeName&&this._coordinateSearchLatInput&&"DIV"===this._coordinateSearchLatInput.nodeName?(e=this._getCoordinateSearchDMS(this._coordinateSearchLngInput),t=this._getCoordinateSearchDMS(this._coordinateSearchLatInput)):(e=this._coordinateSearchLngInput.value,t=this._coordinateSearchLatInput.value),e&&t){var n=[e,t],i=this.getMap().getView().getProjection().getCode();"EPSG:4326"!==i&&(n=(0,Si.transform)(n,"EPSG:4326",i)),isNaN(n[0])||isNaN(n[1])?this._setMarker():(this._setPosition(n,10),this._displayMarker&&this._setMarker(n,"sans information"))}}},{key:"_getCoordinateSearchDMS",value:function(e){if(e&&"DIV"===e.nodeName){var t=e.querySelectorAll("[name]");if(t){var n=th.toInteger(t[0].value),i=th.toInteger(t[1].value),o=th.toInteger(t[2].value),r=t[3].options[t[3].selectedIndex].text;if(!(n&&i&&o&&r))return;return th.dmsToDecimal(n,i,o,r)}}}},{key:"onAutoCompleteInputClick",value:function(){var e=document.getElementById("GPsearchInputText-"+this._uid);e&&!e.disabled&&e.value.length>2&&this._displaySuggestedLocation()}},{key:"onAutoCompleteSearchText",value:function(e){var t=e.target.value;if(t)if(this._currentGeocodingLocation=t,t.length<3)this._clearSuggestedLocation();else{var n=this.options.autocompleteOptions.triggerGeocode,i=this.options.autocompleteOptions.triggerDelay,o=this;this._requestAutoComplete({text:t,onSuccess:function(e){if(py.log("request from AutoComplete",e),e){o._suggestedLocations=e.suggestedLocations,o._locationsToBeDisplayed=[];for(var t=0;t<o._suggestedLocations.length;t++){var n=o._suggestedLocations[t];n.position&&0===n.position.x&&0===n.position.y&&n.fullText?o._getGeocodeCoordinatesFromFullText(n,t):o._locationsToBeDisplayed.push(n)}o._fillAutoCompletedLocationListContainer(o._locationsToBeDisplayed),o._triggerHandler&&(clearTimeout(o._triggerHandler),o._triggerHandler=null,py.warn("Cancel a geocode request !"))}},onFailure:function(e){o._clearSuggestedLocation(),py.log(e.message),"No suggestion matching the search"===e.message&&n&&(o._triggerHandler&&(clearTimeout(o._triggerHandler),py.warn("Cancel the last geocode request !")),o._triggerHandler=setTimeout((function(){py.warn("Launch a geocode request !"),o._requestGeocoding({location:t,onSuccess:function(e){if(py.log("request from Geocoding",e),e){o._locationsToBeDisplayed=[];for(var t=e.locations,n=0;n<t.length;n++){var i=t[n];i.fullText=ih.getGeocodedLocationFreeform(i),i.position={x:i.position.lon,y:i.position.lat},o._locationsToBeDisplayed.push(i)}o._fillAutoCompletedLocationListContainer(t)}},onFailure:function(e){py.log(e.message)}})}),i))}}),this.options.resources.search&&Qf.A.suggest(t);var r=this.getMap();r.on("click",this._hideSuggestedLocation,this),r.on("pointerdrag",this._hideSuggestedLocation,this)}}},{key:"_getGeocodeCoordinatesFromFullText",value:function(e,t){var n=this;ft.Services.geocode({apiKey:this.options.apiKey,ssl:this.options.ssl,q:ih.getSuggestedLocationFreeform(e),index:e.type,onSuccess:function(e){py.log("request from Geocoding (coordinates null)",e),e.locations&&0!==e.locations.length&&e.locations[0].position&&n._suggestedLocations&&n._suggestedLocations[t]&&(n._suggestedLocations[t].position={lon:e.locations[0].position.y,lat:e.locations[0].position.x},n._locationsToBeDisplayed.unshift(n._suggestedLocations[t]),n._fillAutoCompletedLocationListContainer(n._locationsToBeDisplayed))},onFailure:function(){n._suggestedLocations&&n._suggestedLocations[t]&&n._createAutoCompletedLocationElement(n._suggestedLocations[t],t)}})}},{key:"onAutoCompletedResultsItemClick",value:function(e){var t=yu.index(e.target.id);if(py.log(t),py.log(this._locationsToBeDisplayed[t]),t){var n=[this._locationsToBeDisplayed[t].position.x,this._locationsToBeDisplayed[t].position.y],i={service:"SuggestedLocation",location:this._locationsToBeDisplayed[t]},o=ih.getSuggestedLocationFreeform(this._locationsToBeDisplayed[t]);this._setLabel(o),this._currentGeocodingLocation=o;var r=this.getMap().getView().getProjection().getCode();"EPSG:4326"!==r&&(n=(0,Si.transform)(n,"EPSG:4326",r));var a=this._getZoom(i);this._setPosition(n,a),this._displayMarker&&this._setMarker(n,i),this.dispatchEvent({type:"searchengine:autocomplete:click",location:this._locationsToBeDisplayed[t]})}}},{key:"onSearchedResultsItemClick",value:function(e){var t=yu.index(e.target.id),n=null;try{var i=Qf.A.getSuggestions()[t];if(!i)throw"No suggestions found !";if(this.options.searchOptions.addToMap){if(!ri.isConfigLoaded())throw"ERROR : contract key configuration has to be loaded to load Geoportal layers.";var o=i.service,r=i.name,a=null;switch(o){case"WMS":a=new Zi({layer:r});break;case"WMTS":a=new Ui({layer:r});break;case"TMS":a=new Yc({layer:r})}a&&this.getMap().addLayer(a)}}catch(e){n=e}this.dispatchEvent({type:"searchengine:search:click",suggest:i,error:n})}},{key:"onGeocodingSearchSubmit",value:function(e){var t=e.target[0].value;if(t){this._currentGeocodingLocation=t;var n=this;this._requestGeocoding({query:t,onSuccess:function(e){if(py.log("request from Geocoding",e),e){var t=e.locations;n._fillGeocodedLocationListContainer(t)}},onFailure:function(e){n._clearGeocodedLocation(),py.log(e.message)}})}}},{key:"onGeocodedResultsItemClick",value:function(e){var t=yu.index(e.target.id);if(t){var n=[this._geocodedLocations[t].position.lon,this._geocodedLocations[t].position.lat],i={service:"GeocodedLocation",location:this._geocodedLocations[t]},o=ih.getGeocodedLocationFreeform(this._geocodedLocations[t]);this._setLabel(o);var r=this.getMap().getView().getProjection().getCode();"EPSG:4326"!==r&&(n=(0,Si.transform)(n,"EPSG:4326",r));var a=this._getZoom(this.options.zoomTo);this._setPosition(n,a),this._displayMarker&&this._setMarker(n,i),this.dispatchEvent({type:"searchengine:geocode:click",location:this._geocodedLocations[t]})}}},{key:"onGeocodingAdvancedSearchCodeChange",value:function(e){py.log(e);var t=e.target.selectedIndex,n=e.target.options[t].value;n&&this._setFilter(n)}},{key:"onGeocodingAdvancedSearchSubmit",value:function(e,t){if(py.log(t),t&&0!==t.length){for(var n,i={},o=0;o<t.length;o++){var r=t[o];r.value&&("section"===r.key&&(r.value=r.value.toUpperCase()),i[r.key]=r.value)}n=document.getElementById("GPsearchInputText-"+this._uid).value,"CadastralParcel"===this._currentGeocodingCode&&(n="");var a=this;this._requestGeocoding({query:n,index:this._currentGeocodingCode,filters:i,onSuccess:function(e){if(py.log(e),e){var t=e.locations;a._fillGeocodedLocationListContainer(t)}},onFailure:function(e){a._clearGeocodedLocation(),py.log(e.message)}})}}},{key:"_getCadastralParcelRequestParams",value:function(e){var t,n="",i=e.department;n=i?2===(t=i.length)?i:1===t?"0"+i:i.substring(0,2):"__";var o=e.commune;n+=o?3===(t=o.length)?o:2===t?"_"+o:1===t?"__"+o:o.substring(0,3):"___";var r=e.insee;r&&5===r.length&&(n=r);var a=e.absorbedCity;a?3===(t=a.length)?n+=a:t<3?2===t?n+="_"+a:1===t&&(n+="__"+a):n+=a.substring(0,3):n+="___";var s=e.section;n+=s?2===(t=s.length)?s:1===t?"_"+s:s.substring(0,2):"__";var l=e.number;return n+=l?4===(t=l.length)?l:3===t?"_"+l:2===t?"__"+l:1===t?"___"+l:l.substring(0,4):"___",py.log("location : "+n),n}},{key:"onCoordinateSearchSystemChange",value:function(e){var t=e.target.selectedIndex,n=e.target.options[t].value;this._coordinateSearchLngInput.value="",this._coordinateSearchLatInput.value="";for(var i=null,o=0;o<this._coordinateSearchSystems.length;++o)if(this._coordinateSearchSystems[o].code===Number(n)){i=this._coordinateSearchSystems[o].type;break}i?(this._currentCoordinateSearchSystems=this._coordinateSearchSystems[Number(n)],i!==this._currentCoordinateSearchType&&(this._currentCoordinateSearchType=i,this._currentCoordinateSearchUnits=this._coordinateSearchUnits[i][0].code,this._containerUnits.appendChild(this._setCoordinateSearchUnitsSelectElement(this._coordinateSearchUnits[i])),this._updateCoordinateSearchElements())):py.log("system not found in projection systems container")}},{key:"onCoordinateSearchUnitsChange",value:function(e){var t=e.target.selectedIndex,n=e.target.options[t].value;this._coordinateSearchLngInput.value="",this._coordinateSearchLatInput.value="",this._currentCoordinateSearchUnits=n,this._updateCoordinateSearchElements()}},{key:"onCoordinateSearchClose",value:function(){this._setMarker(),this._coordinateSearchLngInput.value="",this._coordinateSearchLatInput.value=""}},{key:"_updateCoordinateSearchElements",value:function(){var e=this._setCoordinateSearchLngLabelElement(this._currentCoordinateSearchType),t=this._coordinateSearchLngInput=this._setCoordinateSearchLngInputElement(this._currentCoordinateSearchUnits);this._containerCoordinateLng.appendChild(e),this._containerCoordinateLng.appendChild(t),e=this._setCoordinateSearchLatLabelElement(this._currentCoordinateSearchType),t=this._coordinateSearchLatInput=this._setCoordinateSearchLatInputElement(this._currentCoordinateSearchUnits),this._containerCoordinateLat.appendChild(e),this._containerCoordinateLat.appendChild(t)}},{key:"_clearResults",value:function(){var e=this.getMap();this._currentGeocodingLocation=null,this._clearSuggestedLocation(),this._clearGeocodedLocation(),this._setMarker(),null!=this._popupOverlay&&(e.removeOverlay(this._popupOverlay),this._popupOverlay=null)}},{key:"_clearSuggestedLocation",value:function(){if(this._suggestedLocations=[],this._containerResultsLocation)for(;this._containerResultsLocation.firstChild;)this._containerResultsLocation.removeChild(this._containerResultsLocation.firstChild);if(this.options.resources.search&&(Qf.A.clear(),this._containerResultsSuggest))for(;this._containerResultsSuggest.firstChild;)this._containerResultsSuggest.removeChild(this._containerResultsSuggest.firstChild)}},{key:"_hideSuggestedLocation",value:function(){this._autocompleteContainer&&(this._autocompleteContainer.classList.replace("GPelementVisible","GPelementHidden"),this._autocompleteContainer.classList.replace("gpf-visible","gpf-hidden"))}},{key:"_displaySuggestedLocation",value:function(){this._autocompleteContainer&&(this._autocompleteContainer.classList.replace("GPelementHidden","GPelementVisible"),this._autocompleteContainer.classList.replace("gpf-hidden","gpf-visible"))}},{key:"_clearGeocodedLocation",value:function(){if(this._geocodedLocations=[],this._geocodedContainer)for(;this._geocodedContainer.firstChild;)this._geocodedContainer.removeChild(this._geocodedContainer.firstChild)}}],o&&oy(i.prototype,o),r&&oy(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o,r}(lu);Object.assign(hy.prototype,ey);const gy=hy;window.ol&&window.ol.control&&(window.ol.control.SearchEngine=hy);var my=yt.getLogger("draggable"),fy={dragElement:function(e,t,n){var i,o,r=!1,a={x:0,y:0};function s(t){(t=t||window.event).preventDefault(),r=!0,t._pageX=t._pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),t._pageY=t._pageY||t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop),a.x=t._pageX-e.offsetLeft,a.y=t._pageY-e.offsetTop,document.addEventListener("mouseup",l,!0),document.addEventListener("mousemove",c,!0)}function l(){r=!1,document.removeEventListener("mouseup",l,!0),document.removeEventListener("mousemove",c,!0)}function c(t){if(t=t||window.event,r){t._pageX=t._pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),t._pageY=t._pageY||t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);var s=n?n.offsetLeft:e.parentElement.offsetLeft,l=n?n.offsetTop:e.parentElement.parentElement.offsetTop;my.trace("parent offset",s,l),i=t._pageX-a.x<0-s?0-s:t._pageX-a.x+e.clientWidth>document.body.clientWidth?document.body.clientWidth-e.clientWidth:t._pageX-a.x,my.trace("left/right constraint",i),o=t._pageY-a.y<0-l?0-l:t._pageY-a.y+e.clientHeight>document.body.clientHeight?document.body.clientHeight-e.clientHeight:t._pageY-a.y,my.trace("top/bottom constraint",o),e.style.top=o+"px",e.style.bottom="unset",e.style.left=i+"px",e.style.right="unset"}}t?t.addEventListener("mousedown",s,!0):e.addEventListener("mousedown",s,!0)}};const yy=fy;function Ay(e){return Ay="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(e)}var vy={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmousePosition"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowMousePositionPictoElement:function(e){var t=this,n=document.createElement("button");return n.id=this._addUID("GPshowMousePositionPicto"),n.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn gpf-btn-icon gpf-btn-icon-position fr-btn",n.title="Afficher les coordonnÃ©es du curseur",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!1),n.addEventListener?n.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowMousePositionClick()})):n.attachEvent&&n.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowMousePositionClick()})),n},_createMousePositionPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPmousePositionPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createMousePositionPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createMapCenter:function(){var e=document.createElement("div");return e.id="GPmapCenter",e.className="",e},_createMousePositionPanelTitleElement:function(){var e=document.createElement("div");return e.className="GPpanelTitle gpf-panel__title fr-modal__title fr-pt-4w",e.id=this._addUID("GPmousePositionHeaderTitle"),e.innerHTML="CoordonnÃ©es",e},_createMousePositionPanelHeaderElement:function(){var e=document.createElement("div");return e.className="GPpanelHeader gpf-panel__header fr-modal__header",e},_createMousePositionPanelCloseElement:function(){var e=this,t=document.createElement("button");t.id=this._addUID("GPmousePositionPanelClose"),t.className="GPpanelClose gpf-btn gpf-btn-icon-close  fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",t.title="Fermer le panneau",t.addEventListener?(t.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowMousePositionPicto")).click()}),!1),t.addEventListener("keydown",(function(t){13===t.keyCode&&document.getElementById(e._addUID("GPshowMousePositionPicto")).click()}),!1)):t.attachEvent&&(t.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowMousePositionPicto")).click()})),t.attachEvent("onkeydown",(function(t){13===t.keyCode&&document.getElementById(e._addUID("GPshowMousePositionPicto")).click()})));var n=document.createElement("span");return n.className="GPelementHidden gpf-visible",n.innerText="Fermer",t.appendChild(n),t},_createMousePositionPanelBasicElement:function(e,t,n,i){e=void 0===e||e,t=void 0===t||t,n=void 0!==n&&n;var o=document.createElement("div");return o.id=this._addUID("GPmousePositionBasicPanel"),o.classList.add("fr-mx-1w"),o.appendChild(this._createMousePositionPanelBasicCoordinateElement(t,n,i)),o.appendChild(this._createMousePositionPanelEditToolsElement(n)),o.appendChild(this._createMousePositionPanelBasicAltitudeElement(e)),o},_createCoordinateElement:function(e,t){var n=this;if(-1===["Lon","Lat"].indexOf(e))return[];var i=[],o=document.createElement("input");o.id=this._addUID("GPmousePosition"+e),o.title=!0===t?"Cliquer pour saisir des coordonnÃ©es":"",o.readOnly=!0,t&&(o.addEventListener("click",(function(){n.onMousePositionEditModeClick(!0)})),o.addEventListener("change",(function(t){this.classList.remove("error"),n.validateExtentCoordinate(e,this.value,t)?this.classList.remove("error"):this.classList.add("error")}))),i.push(o);var r=document.createElement("span");return r.className="GPmousePositionUnits",i.push(r),i},_createDMSCoordinateElement:function(e,t){if(-1===["Lon","Lat"].indexOf(e))return[];var n=this,i=[],o=document.createElement("input");o.id=this._addUID("GPmousePosition"+e+"Degrees"),o.className="GPSexagesimal",o.setAttribute("name","degrees"),o.title=!0===t?"Cliquer pour saisir des coordonnÃ©es":"",o.readOnly=!0,o.dataset.min=0,o.dataset.max="Lon"===e?180:90,t&&(o.addEventListener("click",(function(){n.onMousePositionEditModeClick(!0)})),o.addEventListener("change",(function(){this.classList.remove("error"),n._checkDMSDegrees(e,this)?this.classList.remove("error"):this.classList.add("error")}))),i.push(o);var r=document.createElement("span");r.className="GPmousePositionSexagesimalLabel",r.innerHTML="Â°",i.push(r);var a=document.createElement("input");a.id=this._addUID("GPmousePosition"+e+"Minutes"),a.className="GPSexagesimal",a.setAttribute("name","minutes"),a.title=!0===t?"Cliquer pour saisir des coordonnÃ©es":"",a.readOnly=!0,a.dataset.min=0,a.dataset.max=59,t&&(a.addEventListener("click",(function(){n.onMousePositionEditModeClick(!0)})),a.addEventListener("change",(function(){this.classList.remove("error"),n._checkDMSElement(this)?this.classList.remove("error"):this.classList.add("error")}))),i.push(a);var s=document.createElement("span");s.className="GPmousePositionSexagesimalLabel",s.innerHTML="'",i.push(s);var l=document.createElement("input");l.id=this._addUID("GPmousePosition"+e+"Seconds"),l.className="GPSexagesimalsec",l.setAttribute("name","seconds"),l.title=!0===t?"Cliquer pour saisir des coordonnÃ©es":"",l.readOnly=!0,l.dataset.min=0,l.dataset.max=59,t&&(l.addEventListener("click",(function(){n.onMousePositionEditModeClick(!0)})),l.addEventListener("change",(function(){this.classList.remove("error"),n._checkDMSElement(this,!0)?this.classList.remove("error"):this.classList.add("error")}))),i.push(l);var c=document.createElement("span");c.className="GPmousePositionSexagesimalLabel",c.innerHTML="''",i.push(c);var u=document.createElement("select");u.id=this._addUID("GPmousePosition"+e+"Direction"),u.className="GPmousePositionDirection",u.setAttribute("name","direction"),u.disabled=!0;var d=document.createElement("option");d.value="Lon"===e?"E":"N",d.innerHTML="Lon"===e?"E":"N",u.appendChild(d);var p=document.createElement("option");return p.value="Lon"===e?"O":"S",p.innerHTML="Lon"===e?"O":"S",u.appendChild(p),i.push(u),i},_createMousePositionPanelBasicCoordinateElement:function(e,t,n){var i=document.createElement("div");i.id=this._addUID("GPmousePositionCoordinate"),i.style.display=e?"block":"none";var o=document.createElement("div");o.classList.add("fr-mb-1w");var r=document.createElement("span");r.className="GPmousePositionLabel",r.id=this._addUID("GPmousePositionLatLabel"),r.innerHTML="Latitude : ",o.appendChild(r);var a,s=document.createElement("span");s.id=this._addUID("GPmousePositionLatCoordinate"),a="DMS"===n?this._createDMSCoordinateElement("Lat",t):this._createCoordinateElement("Lat",t);for(var l=0;l<a.length;l++)s.appendChild(a[l]);o.appendChild(s),i.appendChild(o);var c=document.createElement("div");c.classList.add("fr-mb-1w");var u=document.createElement("span");u.className="GPmousePositionLabel",u.id=this._addUID("GPmousePositionLonLabel"),u.innerHTML="Longitude : ",c.appendChild(u);var d,p=document.createElement("span");p.id=this._addUID("GPmousePositionLonCoordinate"),d="DMS"===n?this._createDMSCoordinateElement("Lon",t):this._createCoordinateElement("Lon",t);for(var h=0;h<d.length;h++)p.appendChild(d[h]);return c.appendChild(p),i.appendChild(c),i},_createMousePositionPanelBasicAltitudeElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPmousePositionAltitude"),t.classList.add("fr-mb-1w"),t.style.display=e?"block":"none";var n=document.createElement("span");n.className="GPmousePositionLabel",n.innerHTML="Altitude : ",t.appendChild(n);var i=document.createElement("span");i.className="GPmousePositionCoords",i.id=this._addUID("GPmousePositionAlt"),i.innerHTML="...",t.appendChild(i);var o=document.createElement("span");return o.className="GPmousePositionAltitudeUnits",o.innerHTML="m",t.appendChild(o),t},_createMousePositionPanelEditToolsElement:function(e){var t=this,n=document.createElement("div");n.className="GPmousePositionPanelEditTools",n.id=this._addUID("GPmousePositionPanelEditTools"),e||(n.style.display="none");var i=document.createElement("span");i.className="GPmousePositionEditTool",i.id=this._addUID("GPmousePositionLocate"),i.title=!0===e?"Cliquer pour saisir des coordonnÃ©es":"",e&&i.addEventListener("click",(function(){t.onMousePositionEditModeLocateClick()})),n.appendChild(i);var o=document.createElement("span");return o.className="GPmousePositionEditTool",o.id=this._addUID("GPmousePositionCloseEdit"),o.title="Quitter la saisie des coordonnÃ©es",o.style.display="none",e&&o.addEventListener("click",(function(){t.onMousePositionEditModeClick(!1)})),n.appendChild(o),n},_createShowMousePositionSettingsElement:function(e){var t=this,n=document.createElement("button");return n.id=this._addUID("GPshowMousePositionSettings"),n.className="GPelementHidden GPshowAdvancedToolPicto GPshowMoreOptionsImage GPshowMoreOptions GPshowMousePositionSettingsPicto gpf-hidden gpf-btn fr-btn--sm fr-btn--secondary fr-icon-arrow-down-fill",n.title="RÃ©glages",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!0),n.addEventListener?n.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowMousePositionSettingsClick(e)})):n.attachEvent&&n.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.onShowMousePositionSettingsClick(e)})),n},_createMousePositionSettingsElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPmousePositionSettings"),t.style.display=void 0===e||e?"block":"none",t.classList.add("fr-m-1w");var n=document.createElement("span");return n.className="GPmousePositionSettingsLabel",n.innerHTML="SystÃ¨me de rÃ©fÃ©rence",t.appendChild(n),t},_createMousePositionSettingsSystemsElement:function(e){var t=this,n=document.createElement("select");n.id=this._addUID("GPmousePositionProjectionSystem"),n.className="GPselect GPmousePositionSettingsSelect gpf-select fr-select fr-my-1w",n.addEventListener("change",(function(e){t.onMousePositionProjectionSystemChange(e)})),n.addEventListener("mouseover",(function(e){"OPTION"!==e.target.nodeName&&t.onMousePositionProjectionSystemMouseOver(e)}));for(var i=0;i<e.length;i++){var o=e[i],r=document.createElement("option");r.value=o.code,r.text=o.label||i,n.appendChild(r)}return n},_createMousePositionSettingsUnitsElement:function(e){var t=this,n=document.createElement("select");n.id=this._addUID("GPmousePositionProjectionUnits"),n.className="GPselect GPmousePositionSettingsSelect gpf-select fr-select",n.addEventListener("change",(function(e){t.onMousePositionProjectionUnitsChange(e)}));for(var i=0;i<e.length;i++){var o=e[i],r=document.createElement("option");r.value=o.code?o.code:i,r.text=o.label||i,n.appendChild(r)}return n},_resetLabelElements:function(e){document.getElementById(this._addUID("GPmousePositionLatLabel")).innerHTML="Geographical"===e?"Latitude :":"X :",document.getElementById(this._addUID("GPmousePositionLonLabel")).innerHTML="Geographical"===e?"Longitude :":"Y :"},_resetUnitElements:function(e){var t="";"M"!==e&&"KM"!==e||(t=e.toLowerCase());for(var n=document.getElementsByClassName("GPmousePositionUnits"),i=0;i<n.length;i++)n[i].innerHTML=t},_resetCoordinateElements:function(e,t,n){for(var i,o=document.getElementById(this._addUID("GPmousePositionLatCoordinate"));o.firstChild;)o.removeChild(o.firstChild);i="DMS"===n?this._createDMSCoordinateElement("Lat",e):this._createCoordinateElement("Lat",e);for(var r=0;r<i.length;r++)o.appendChild(i[r]);for(var a,s=document.getElementById(this._addUID("GPmousePositionLonCoordinate"));s.firstChild;)s.removeChild(s.firstChild);a="DMS"===n?this._createDMSCoordinateElement("Lon",e):this._createCoordinateElement("Lon",e);for(var l=0;l<a.length;l++)s.appendChild(a[l])},_setEditMode:function(e){document.getElementById(this._addUID("GPmousePositionLocate")).title=e?"Aller Ã  la position ...":"Cliquer pour saisir des coordonnÃ©es",document.getElementById(this._addUID("GPmousePositionCloseEdit")).style.display=e?"inline-block":"none";for(var t="div[id^="+this._addUID("GPmousePositionCoordinate")+"]",n=document.querySelectorAll(t+" input"),i=0;i<n.length;i++)n[i].readOnly=!e,e&&(n[i].value="",n[i].classList.remove("error"));for(var o=document.querySelectorAll(t+" select"),r=0;r<o.length;r++)o[r].disabled=!e},_checkDMSElement:function(e,t){var n=void 0!==t,i=e.value;if(n&&(i=i.replace(",",".")),isNaN(i))return!1;var o=parseFloat(i);if(!n&&(0|o)!==o)return!1;var r=Number(e.dataset.min),a=Number(e.dataset.max);return o>=r&&o<=a},_checkDMSDegrees:function(e,t){if(isNaN(t.value))return!1;var n=parseFloat(t.value);if((0|n)!==n)return!1;var i=Number(t.dataset.min),o=Number(t.dataset.max);if(n<i||n>o)return!1;var r=document.getElementById(this._addUID("GPmousePosition"+e+"Minutes")),a=document.getElementById(this._addUID("GPmousePosition"+e+"Seconds"));return n>=o?(r.dataset.max=0,a.dataset.max=0):(r.dataset.max=59,a.dataset.max=59.9999),!0},GPdisplayCoords:function(e){if(e){var t=document.getElementById(this._addUID("GPmousePositionLonLabel")),n=document.getElementById(this._addUID("GPmousePositionLatLabel"));if(e.x||e.y?(n.innerHTML="X : ",t.innerHTML="Y : "):e.e||e.n?(n.innerHTML="E : ",t.innerHTML="N : "):(n.innerHTML="Latitude : ",t.innerHTML="Longitude : "),"object"===Ay(e.lat)&&"object"===Ay(e.lng)){var i={lng:"Lon",lat:"Lat"},o=["Degrees","Minutes","Seconds"];for(var r in i)for(var a=0;a<o.length;++a){var s="GPmousePosition"+i[r]+o[a],l=document.getElementById(this._addUID(s)),c=o[a].charAt(0).toLowerCase();l.value=e[r][c]}document.getElementById(this._addUID("GPmousePositionLonDirection")).value=e.lng.direction,document.getElementById(this._addUID("GPmousePositionLatDirection")).value=e.lat.direction}else{var u=document.getElementById(this._addUID("GPmousePositionLat")),d=document.getElementById(this._addUID("GPmousePositionLon"));u.value=e.x||e.lat||e.e||"0",d.value=e.y||e.lng||e.lon||e.n||"0";for(var p=void 0===e.unit?"":e.unit,h=document.getElementsByClassName("GPmousePositionUnits"),g=0;g<h.length;++g)h[g].innerHTML=p}}},GPdisplayElevation:function(e,t,n,i){var o,r=this;t||(t=500),clearTimeout(o),document.getElementById(this._addUID("GPmousePositionAlt")).innerHTML="...",null==n&&(n=-99999),null==i&&(i=99980);var a=n+i,s=n-i;e&&document.getElementById(this._addUID("GPmousePositionAltitude"))&&(o=setTimeout((function(){r.onRequestAltitude(e,(function(e){s<e&&e<a?r.GPresetElevation():document.getElementById(r._addUID("GPmousePositionAlt")).innerHTML=e}))}),t))},GPresetElevation:function(){document.getElementById(this._addUID("GPmousePositionAltitude"))&&(document.getElementById(this._addUID("GPmousePositionAlt")).innerHTML="---")}};const Cy=vy;function by(e){return by="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(e)}function Iy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_y(i.key),i)}}function _y(e){var t=function(e,t){if("object"!=by(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=by(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==by(t)?t:t+""}function wy(e,t,n){return t=My(t),Ey(e,Sy()?Reflect.construct(t,n||[],My(e).constructor):t.apply(e,n))}function Ey(e,t){if(t&&("object"==by(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Sy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Sy=function(){return!!e})()}function Py(){return Py="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=My(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Py.apply(null,arguments)}function My(e){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},My(e)}function xy(e,t){return xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xy(e,t)}var Gy=yt.getLogger("GeoportalMousePosition"),ky=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=wy(this,t,[{element:(e=e||{}).element,target:e.target,render:e.render}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");n._initialize(e);var i=n._initContainer(n.options);return n.element?n.element.appendChild(i):n.element=i,Ey(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xy(e,t)}(t,e),i=t,o=[{key:"setMap",value:function(e){var i=this,o=this;if(e){var r=this._createMapCenter();if(e.getViewport().appendChild(r),this.collapsed||this._isDesktop||(r.className="GPmapCenterVisible"),this.draggable&&yy.dragElement(this._panelMousePositionContainer,this._panelHeaderMousePositionContainer,this.options.position?null:e.getTargetElement()),this.collapsed||(this._isDesktop?this.listenerKey=e.on("pointermove",(function(e){i.onMouseMove(e)})):this.listenerKey=e.on("moveend",(function(e){return i.onMapMove(e)})),this._showMousePositionButton.setAttribute("aria-pressed",!0)),this.options.editCoordinates){var a=document.createElement("img");a.id=this._addUID("GPmousePositionMarker"),a.src=this._markerUrl,a.title="Cliquer pour supprimer",a.addEventListener("click",(function(){o._markerOverlay.setPosition(void 0)})),this._markerOverlay=new(n())({offset:this._markerOffset,element:a,stopEvent:!1}),e.addOverlay(this._markerOverlay)}}else(0,to.unByKey)(this.listenerKey);Py(My(t.prototype),"setMap",this).call(this,e),null!==e&&(this.options.position&&this.setPosition(this.options.position),this.collapsed||(document.getElementById("GPshowMousePosition-"+this._uid).checked="checked",this._setElevationPanel(this.options.displayAltitude),this._setCoordinatesPanel(this.options.displayCoordinates),this.options.displayCoordinates||this._setSettingsPanel(!1)))}},{key:"addSystem",value:function(e){if("object"===by(e))if(e.crs)if(e.label||(Gy.warn("crs label not defined, use crs code by default."),e.label=e.crs),e.type||(Gy.warn("type srs not defined, use 'Metric' by default."),e.type="Metric"),Kf.loadByName(e.crs),(0,Si.get)(e.crs)){for(var t=0;t<this._projectionSystems.length;t++){var n=this._projectionSystems[t];e.crs===n.crs&&Gy.info("crs '{}' already configured",n.crs)}e.code=this._projectionSystems.length,this._projectionSystems.push(e);var i=document.getElementById("GPmousePositionProjectionSystem-"+this._uid);if(i){var o=document.createElement("option");o.value=e.code,o.text=e.label,i.appendChild(o)}}else Gy.error("crs '{}' not available into proj4 definitions !",e.crs);else Gy.error("crs not defined !");else Gy.log("[ERROR] MousePosition:addSystem - system parameter should be an object")}},{key:"addSystems",value:function(e){if(e)if(Array.isArray(e))for(var t=0;t<e.length;t++)this.addSystem(e[t]);else Gy.log("[ERROR] MousePosition:addSystems - systems parameter should be an array")}},{key:"removeSystem",value:function(e){if(e&&"string"==typeof e){for(var t=document.getElementById("GPmousePositionProjectionSystem-"+this._uid),n=null,i=0;i<this._projectionSystems.length;i++){var o=this._projectionSystems[i];if(e===o.crs){n=o.code,this._projectionSystems.splice(i,1);break}}if(null!=n){for(var r=[],a=0;a<this._projectionSystems.length;a++)r[Number(this._projectionSystems[a].code)]=a,this._projectionSystems[a].code=a;for(var s=null,l=0;l<t.childNodes.length;l++)n!==t.childNodes[a].value?t.childNodes[a].value=r[Number(t.childNodes[a].value)]:s=l;null!=s&&t.removeChild(t.childNodes[s]),this._currentProjectionSystems.code===Number(n)&&(t.childNodes[0].setAttribute("selected","selected"),this._setCurrentSystem(t.childNodes[0].value))}else Gy.log("[WARN] MousePosition:removeSystem - system not found")}else Gy.log("[ERROR] MousePosition:removeSystem - systemCode parameter should be a string")}},{key:"setUnits",value:function(e){e&&Array.isArray(e)&&(this.options.units=e,this._projectionUnits=[],this._initProjectionUnits(),this._currentProjectionType&&this._setTypeUnitsPanel(this._currentProjectionType))}},{key:"setAltitudeOptions",value:function(e){if(e&&"object"===by(e)&&(this.options.altitude.triggerDelay=e.triggerDelay,this.options.altitude.responseDelay=e.responseDelay,e.serviceOptions))for(var t in e.serviceOptions)e.serviceOptions.hasOwnProperty(t)&&(this.options.altitude.serviceOptions[t]=e.serviceOptions[t])}},{key:"displayAltitude",value:function(e){void 0!==e&&(this.options.displayAltitude=e,this._setElevationPanel(e))}},{key:"displayCoordinates",value:function(e){void 0!==e&&(this.options.displayCoordinates=e,this._setCoordinatesPanel(e),this._setSettingsPanel(e))}},{key:"setCollapsed",value:function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(this._isDesktop||(document.getElementById("GPmapCenter").className=e?"":"GPmapCenterVisible"),this.onShowMousePositionClick(),this._showMousePositionContainer.checked=!e):Gy.log("[ERROR] MousePosition:setCollapsed - missing collapsed parameter")}},{key:"_initialize",value:function(e){if(e=e||{},this.options=e,this.options.collapsed=void 0===e.collapsed||e.collapsed,this.collapsed=this.options.collapsed,this.options.draggable=void 0!==e.draggable&&e.draggable,this.draggable=this.options.draggable,this._markerOverlay=null,this._markerUrl=null,this._markerOffset=[0,0],this._hideMarker=!1,this._initMarker(e.positionMarker),this.options.units=e.units||[],this.options.displayAltitude=void 0===e.displayAltitude||e.displayAltitude,this.options.displayCoordinates=void 0===e.displayCoordinates||e.displayCoordinates,this.options.displayCoordinates?this.options.editCoordinates=void 0!==e.editCoordinates&&e.editCoordinates:this.options.editCoordinates=!1,this.editing=!1,this.options.systems=e.systems||[],e.altitude){var t=e.altitude;this.options.altitude={triggerDelay:void 0!==t.triggerDelay?t.triggerDelay:200,responseDelay:void 0!==t.responseDelay?t.responseDelay:500,serviceOptions:t.serviceOptions||{},noDataValue:void 0!==t.noDataValue?t.noDataValue:-99999,noDataValueTolerance:void 0!==t.noDataValueTolerance?t.noDataValueTolerance:9e4}}else this.options.altitude={triggerDelay:200,responseDelay:500,serviceOptions:{}};this._uid=yu.generate(),this._projectionSystems=[],this._initProjectionSystems(),this._projectionUnits={},this._initProjectionUnits(),this._isDesktop=nn.detectSupport(),this.options.altitude.triggerDelay<100&&(this.options.altitude.triggerDelay=100),this._timer=this.options.altitude.triggerDelay,this._currentProjectionSystems=this._projectionSystems[0],this._currentProjectionType=this._projectionSystems[0].type,this._currentProjectionUnits=this._projectionUnits[this._currentProjectionType][0].code,this._projectionUnitsContainer=null,this._showMousePositionContainer=null,this._panelMousePositionContainer=null,this._panelHeaderMousePositionContainer=null,this.options.displayAltitude||this.options.displayCoordinates||(this.options.displayCoordinates=!0),this.listenerKey=null}},{key:"_initMarker",value:function(e){if(this.options.editCoordinates){if(!e)return this._markerUrl=xt.lightOrange,void(this._markerOffset=xt.defaultOffset);this._hideMarker=void 0!==e.hide&&e.hide,e.offset?Array.isArray(e.offset)&&2===e.offset.length?this._markerOffset=e.offset:(Gy.log("positionMarker.offset should be an array. e.g. : [0,0]"),this._markerOffset=xt.defaultOffset):this._markerOffset=xt.defaultOffset;var t=e.url;t?t.match(/^[a-zA-Z]+$/)?this._markerUrl=void 0!==xt[t]?xt[t]:xt.lightOrange:this._markerUrl=t:this._markerUrl=xt.lightOrange}}},{key:"_initProjectionSystems",value:function(){for(var e=[{label:"GÃ©ographique",crs:(0,Si.get)("EPSG:4326").getCode(),type:"Geographical"},{label:"Web Mercator",crs:(0,Si.get)("EPSG:3857").getCode(),type:"Metric"},{label:"Lambert 93",crs:(0,Si.get)("EPSG:2154").getCode(),type:"Metric",geoBBox:{left:-9.86,bottom:41.15,right:10.38,top:51.56}},{label:"Lambert II Ã©tendu",crs:(0,Si.get)("EPSG:27572").getCode(),type:"Metric",geoBBox:{left:-4.87,bottom:42.33,right:8.23,top:51.14}}],t=this.options.systems,n=0;n<t.length;n++){var i=t[n];this.addSystem(i)}if(0===this._projectionSystems.length)for(var o=0;o<e.length;o++)this.addSystem(e[o])}},{key:"_initProjectionUnits",value:function(){var e={Geographical:[{code:"DEC",label:"degrÃ©s dÃ©cimaux",format:th.coordinateToDecimal},{code:"DMS",label:"degrÃ©s sexagÃ©simaux",format:th.coordinateToDMS},{code:"RAD",label:"radians",format:th.coordinateToRad},{code:"GON",label:"grades",format:th.coordinateToGon}],Metric:[{code:"M",label:"mÃ¨tres",format:th.coordinateToMeter},{code:"KM",label:"kilomÃ¨tres",format:th.coordinateToKMeter}]},t=this.options.units;for(var n in e)if(e.hasOwnProperty(n)){for(var i=!1,o=0;o<e[n].length;o++)for(var r=e[n][o],a=0;a<t.length;a++){var s=t[a];r.code===s&&(i=!0,this._projectionUnits[n]||(this._projectionUnits[n]=[]),this._projectionUnits[n].push(r))}i||(this._projectionUnits[n]=e[n])}"object"===by(this._projectionUnits)&&0===Object.keys(this._projectionUnits).length&&(this._projectionUnits=e)}},{key:"_getCurrentProjectionInformation",value:function(){for(var e=[this._currentProjectionSystems.label,"en"],t=this._projectionUnits[this._currentProjectionType],n=0;n<t.length;++n)if(t[n].code===this._currentProjectionUnits){e.push(t[n].label);break}return e.join(" ")}},{key:"_initContainer",value:function(){var e=this._createMainContainerElement(),t=this._showMousePositionButton=this._createShowMousePositionPictoElement();e.appendChild(t);var n=this._panelMousePositionContainer=this._createMousePositionPanelElement(),i=this._createMousePositionPanelDivElement();n.appendChild(i);var o=this._panelHeaderContainer=this._createMousePositionPanelHeaderElement(),r=this._panelTitleContainer=this._createMousePositionPanelTitleElement();o.appendChild(r);var a=this._panelCloseButton=this._createMousePositionPanelCloseElement();o.appendChild(a),i.appendChild(o);var s=this._createMousePositionPanelBasicElement(this.options.displayAltitude,this.options.displayCoordinates,this.options.editCoordinates,this._currentProjectionUnits);i.appendChild(s);var l=this._createShowMousePositionSettingsElement(this.options.displayCoordinates);i.appendChild(l);var c=this._createMousePositionSettingsElement(),u=this._projectionSystemsContainer=this._createMousePositionSettingsSystemsElement(this._projectionSystems),d=this._projectionUnitsContainer=this._createMousePositionSettingsUnitsElement(this._projectionUnits[this._currentProjectionType]);return c.appendChild(u),c.appendChild(d),i.appendChild(c),e.appendChild(n),e}},{key:"_setElevationPanel",value:function(e){document.getElementById("GPmousePositionAltitude-"+this._uid).style.display=e?"":"none"}},{key:"_setCoordinatesPanel",value:function(e){var t=document.getElementById("GPmousePositionCoordinate-"+this._uid);t.style.display=e?"":"none"}},{key:"_setSettingsPanel",value:function(e){var t=document.getElementById("GPshowMousePositionSettingsPicto-"+this._uid),n=document.getElementById("GPmousePositionSettings-"+this._uid);e?(t.style.display="",n.style.display=""):(t.style.display="none",n.style.display="none")}},{key:"_setTypeUnitsPanel",value:function(e){for(var t=this._projectionUnitsContainer;t.firstChild;)t.removeChild(t.firstChild);for(var n=this._projectionUnits[e],i=0;i<n.length;i++){var o=n[i],r=document.createElement("option");r.value=o.code?o.code:i,r.text=o.label||i,t.appendChild(r)}var a=this._projectionUnits[e][0].code;"DMS"!==this._currentProjectionUnits&&"DMS"!==a||(this._resetCoordinateElements(this.options.editCoordinates,e,a),this._setEditMode(this.editing)),this._currentProjectionType=e,this._resetLabelElements(e),this._resetUnitElements(a),this._currentProjectionUnits=a}},{key:"_setCoordinate",value:function(e,t){var n={},i=this._currentProjectionSystems.crs;if(i){e=(0,Si.transform)(e,t,i);for(var o=this._currentProjectionSystems.type,r=null,a=this._projectionUnits[o],s=0;s<a.length;s++)if(a[s].code===this._currentProjectionUnits){r=a[s].format;break}r&&"function"==typeof r?(n=r(e))&&0!==Object.keys(n).length&&this.GPdisplayCoords(n):Gy.log("WARNING : coordinates format function not found")}else Gy.log("ERROR : system crs not found")}},{key:"_setElevation",value:function(e){var t=this.options.altitude.responseDelay,n=this.options.altitude.noDataValue,i=this.options.altitude.noDataValueTolerance;this.GPdisplayElevation(e,t,n,i)}},{key:"onMoveStopped",value:function(e,t){var n=(0,Si.transform)(e,t,"EPSG:4326");this._setElevation(n)}},{key:"onMouseMove",value:function(e){var t=this,n=e.coordinate;if(e.map&&e.map.getView()){var i=e.map.getView().getProjection();this._setCoordinate(n,i),clearTimeout(this._timer),this._timer=setTimeout((function(){t.onMoveStopped(n,i)}),this.options.altitude.triggerDelay)}}},{key:"onMapMove",value:function(){var e=this,t=this.getMap();if(t&&t.getView()){var n=t.getView(),i=n.getCenter(),o=n.getProjection();this._setCoordinate(i,o),clearTimeout(this._timer),this._timer=setTimeout((function(){e.onMoveStopped(i,o)}),this.options.altitude.triggerDelay)}}},{key:"onRequestAltitude",value:function(e,t){if(e&&0!==Object.keys(e).length&&this.options.displayAltitude){var n=this.options.altitude.serviceOptions||{},i=n.protocol||"XHR",o=n.timeOut||0;"JSONP"===i&&0===o&&(o=15e3);var r=n.outputFormat||"json",a=!0;a=!1!==n.zonly||n.zonly;var s,l=n.measures||!1,c=[{lon:e[0],lat:e[1]}],u=n.resource,d=n.rawResponse||!1,p=n.onSuccess||null,h=null;h=d?function(e){p&&p.call(this,e),Gy.log("alti service raw response : ",e)}:function(e){e&&Object.keys(e).length&&(p&&p.call(this,e),t.call(this,e.elevations[0].z))},s=function(e){Gy.log("[getAltitude] ERROR : "+e.message)};var g=n.apiKey||this.options.apiKey;"boolean"!=typeof n.ssl&&("boolean"==typeof this.options.ssl?n.ssl=this.options.ssl:n.ssl=!0);var m=n.ssl;ft.Services.getAltitude({apiKey:g,protocol:i,ssl:m,timeOut:o,scope:this,outputFormat:r,rawResponse:d,onSuccess:h,onFailure:s,zonly:a,measures:l,resource:u,positions:c})}}},{key:"onShowMousePositionClick",value:function(){var e=this,t=this.getMap();$p.unset(t);var n=this._showMousePositionButton.ariaPressed;this.collapsed=!("true"===n),this.dispatchEvent("change:collapsed"),"false"===n?(0,to.unByKey)(this.listenerKey):this.editing||(this._isDesktop?this.listenerKey=t.on("pointermove",(function(t){e.onMouseMove(t)})):(this.listenerKey=t.on("moveend",(function(t){return e.onMapMove(t)})),this.onMapMove())),this._setElevationPanel(this.options.displayAltitude),this._setCoordinatesPanel(this.options.displayCoordinates),this.options.displayCoordinates||this._setSettingsPanel(!1)}},{key:"onShowMousePositionSettingsClick",value:function(e){this.draggable||e.target.ariaPressed}},{key:"onMousePositionEditModeClick",value:function(e){var t=this;if(this.options.editCoordinates&&this.editing!==e){this.editing=e,this._setEditMode(this.editing);var n=this.getMap();this._isDesktop?this.editing?(0,to.unByKey)(this.listenerKey):(this.listenerKey=n.on("pointermove",(function(e){t.onMouseMove(e)})),this.onMapMove()):this.editing?(0,to.unByKey)(this.listenerKey):(this.listenerKey=n.on("moveend",(function(e){return t.onMapMove(e)})),this.onMapMove()),!this.editing&&this._markerOverlay&&this._markerOverlay.setPosition(void 0)}}},{key:"getCoordinate",value:function(e){var t=document.getElementById(this._addUID("GPmousePosition"+e+"Degrees")),n=t.value;if(!n)return null;if(n=n.replace(",","."),!th.isInteger(n))return null;var i=th.toInteger(n);if(i<Number(t.dataset.min)||i>Number(t.dataset.max))return null;var o=document.getElementById(this._addUID("GPmousePosition"+e+"Direction")).value,r=document.getElementById(this._addUID("GPmousePosition"+e+"Minutes")),a=r.value;if(a&&(a=a.replace(",","."),th.isInteger(a))){var s=th.toInteger(a);s>=Number(r.dataset.min)&&s<=Number(r.dataset.max)&&(i+=s/60)}var l=document.getElementById(this._addUID("GPmousePosition"+e+"Seconds")),c=l.value;if(c){c=c.replace(",",".");var u=th.toFloat(c);u&&u>=Number(l.dataset.min)&&u<=Number(l.dataset.max)&&(i+=u/3600)}return"O"!==o&&"S"!==o||(i=-i),i}},{key:"locateDMSCoordinates",value:function(){var e=[this.getCoordinate("Lon"),this.getCoordinate("Lat")];if(null!==e[0]&&null!==e[1]){var t=this._currentProjectionSystems.crs;if(t){var n=this.getMap().getView(),i=(0,Si.transform)(e,t,n.getProjection());n.setCenter(i),this._markerOverlay&&!this._hideMarker&&this._markerOverlay.setPosition(i)}else Gy.log("ERROR : system crs not found")}}},{key:"locateCoordinates",value:function(){var e=document.getElementById(this._addUID("GPmousePositionLon")).value;if(e=e.replace(",","."),null!==(e=th.toFloat(e))){var t=document.getElementById(this._addUID("GPmousePositionLat")).value;if(t=t.replace(",","."),null!==(t=th.toFloat(t))){var n=this._currentProjectionSystems.crs;if(n){var i;i="Geographical"===this._currentProjectionSystems.type?[this.convert(e),this.convert(t)]:[this.convert(t),this.convert(e)];var o=(0,Si.transform)(i,this._currentProjectionSystems.crs,"EPSG:4326"),r=this._currentProjectionSystems.geoBBox;if(r){var a=[r.left,r.bottom,r.right,r.top];if(o[0]<a[0]||o[0]>a[2])return;if(o[1]<a[1]||o[1]>a[3])return}var s=this.getMap().getView(),l=(0,Si.transform)(i,n,s.getProjection());s.setCenter(l),this._markerOverlay&&!this._hideMarker&&this._markerOverlay.setPosition(l)}else Gy.log("ERROR : system crs not found")}}}},{key:"onMousePositionEditModeLocateClick",value:function(){if(this.options.editCoordinates)if(this.editing){"DMS"===this._currentProjectionUnits?this.locateDMSCoordinates():this.locateCoordinates();var e=this.options.mapCenterCallback;if("function"==typeof e){var t=this.getMap().getView().getCenter();e.call(this,t)}}else this.onMousePositionEditModeClick(!0)}},{key:"onMousePositionProjectionSystemChange",value:function(e){var t=e.target.selectedIndex,n=e.target.options[t].value;this._setCurrentSystem(n)}},{key:"_setCurrentSystem",value:function(e){for(var t=null,n=0;n<this._projectionSystems.length;++n)if(this._projectionSystems[n].code===Number(e)){t=this._projectionSystems[n].type;break}t?(this._currentProjectionSystems=this._projectionSystems[Number(e)],t!==this._currentProjectionType&&this._setTypeUnitsPanel(t),this._isDesktop||this.onMapMove()):Gy.log("system not found in projection systems container")}},{key:"onMousePositionProjectionSystemMouseOver",value:function(e){Gy.trace(e);var t=this.getMap();if(t&&t.getView()){var n=t.getView(),i=n.getProjection(),o=n.calculateExtent(t.getSize());o=(0,Si.transformExtent)(o,i,"EPSG:4326");var r=document.getElementById(this._addUID("GPmousePositionProjectionSystem"));r.innerHTML="";for(var a=0;a<this._projectionSystems.length;a++){var s=this._projectionSystems[a],l=null;if(s.geoBBox&&(o[0]>s.geoBBox.right||o[1]>s.geoBBox.top||o[2]<s.geoBBox.left||o[3]<s.geoBBox.bottom))s===this._currentProjectionSystems&&((l=document.createElement("option")).value=s.code,l.text=s.label||a,l.setAttribute("selected","selected"),l.setAttribute("disabled","disabled"),r.appendChild(l));else{var c=document.createElement("option");c.value=s.code,c.text=s.label||a,s===this._currentProjectionSystems&&c.setAttribute("selected","selected"),r.appendChild(c)}}}}},{key:"onMousePositionProjectionUnitsChange",value:function(e){var t=e.target.selectedIndex,n=e.target.options[t].value,i=this._currentProjectionUnits;this._currentProjectionUnits=n,this._resetLabelElements(this._currentProjectionType),this._resetUnitElements(this._currentProjectionUnits),"DMS"!==i&&"DMS"!==this._currentProjectionUnits||(this._resetCoordinateElements(this.options.editCoordinates,this._currentProjectionType,this._currentProjectionUnits),this._setEditMode(this.editing)),this._isDesktop||this.onMapMove()}},{key:"convert",value:function(e){var t;return"M"===this._currentProjectionUnits||"DEC"===this._currentProjectionUnits?t=e:"KM"===this._currentProjectionUnits?t=1e3*e:"RAD"===this._currentProjectionUnits?t=(e*(180/Math.PI).toFixed(20)).toFixed(20):"GON"===this._currentProjectionUnits&&(t=(e*.9.toFixed(20)).toFixed(20)),t}},{key:"validateExtentCoordinate",value:function(e,t){if(-1===["Lon","Lat"].indexOf(e))return!1;var n=t.replace(",",".");if(null===(n=th.toFloat(n)))return!1;n=this.convert(n);var i=this._currentProjectionSystems.geoBBox;if(void 0===i)return!0;var o=[i.left,i.bottom,i.right,i.top];return o=(0,Si.transformExtent)(o,"EPSG:4326",this._currentProjectionSystems.crs),!("Lat"===e&&(n<o[0]||n>o[2])||"Lon"===e&&(n<o[1]||n>o[3]))}}],o&&Iy(i.prototype,o),r&&Iy(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o,r}(lu);Object.assign(ky.prototype,Cy);const Ry=ky;window.ol&&window.ol.control&&(window.ol.control.GeoportalMousePosition=ky);const Ly=ol.Collection;var Oy=__webpack_require__.n(Ly);const Ty=ol.geom,Dy=ol.events.condition,Ny=ol.sphere;const Uy={drawing_portail:[{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD//////////////////////////////////////////////////////////fv/+fL//////////////////////////////////////////////////////////////////////////////////////v7//////fr/////+vL//////////////////Pj//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////9+v/9ej/9+z/7tT/3q3/y3//v2D/uU//+O7/5L3/xW//piH/mQH/mAD//v7/79f/yXj/oxr/lwD/mQD//fv/58T/tkr/mQL//v3/58P/sTz/79b/tUf/x3X/mQP/5Lv/oRX/ng3/s0H/w2n/u1b/4rf/8Nr/9eb/7tX/pBv/x3P/8d7/3av/79j///7/zH//mgX/2qP//vz/9+3/wGH/qyz/6Mb/vFj/sj//7NH/wGL/rTP/6sr/+fH/yXf/oBP/37H/2aH/6sz/nw//oBT/0pD/+vT/9OX/uE7/pB3/y33/7ND//Pj/26b/mwj/nAn/sT7/w2r/zYL/8+P/ulT/mwb/5Lz/qCj/+/b/1JT/nQz/nQ3/9uj/w2j/mAH/9un/6sv/skH/lwH/3Kf/pB7/pR7/3Kj/nAj/y37/+/f/8t//mQT/rDD/rDH/1JX/7tb/4LT/pR//z4j/z4n/vFn/7dP/4rn//fq31ydlAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKnVAysoAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDM6MjIrMDA6MDB1WI3HAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACplBMVEUAAAD//////////////////////////////////////////////////////////fz/9/P//////////////////////////////////////////////////////////////////////////////////////v7//////Pr/////////////////////+/n//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////8+3/8er/9O7/5dj/zrX/s4z/oHH/lmL/9fD/2MT/qX7/ejj/Zxz/Zhn/Zhr//v7/59z/rof/djL/ZBf/Zxv//fz/3Mr/k13/aBz/ZRn//f3/i1D/5tr/kVr/ZRj/rIP//v3/1sL/cy3/byf/jVX/pnn/aB3/mmf/077/6d7/8On/5tn/dzT/q4H/6+H/zbP/lmH/s43/ah//yK3/9O//oXL/gUP/3cz/m2n/jVT/5Nb/onP/hkn/4ND/9vL/rob/cSv/0Ln/x6r/Zxr/Yxb/pXn/8+7/4NH/cCj/ciz/vZz/+PX/7+f/lWH/eDT/sov/49X/+/n/ya//ayH/bCP/jFL/pnr/tJD/7ub/mWb/ZBb/aiD/18P/fj3/+vf/vp//bSX/bib/v5//pXj/8uv/yrD/eDX/eTb/y7H/bCL/soz/7OL/18T/g0b/hEb/v6D/cy7/wKH/9vP/5tv/jlX/59v/0rz/ejf/uJX/nGr/aR//nGv/g0X/1cD//PvyoJNrAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAA0JJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/oBAICvLzcnOykyTExRhh8pJSRcUlpWWFheVgUFhYVlpSXCQlCVHBKC0jW1FZVV1TjgRqqqsqK2RlpEEq5OQVaivrygrLUUBhWV1lrYK8HNAALp6k+oZGNHmgisaG+iQeLkYGQXHF1KZ8mO2NZWUwtYX5TamK4oIMXErNLa0FEKGatvbMzPa2GoiSgtaWZiUuBmWV5I5GiHxnV3dPb29Pd1cnREVjR7KKMoOqWl9/IcTICROLkoCgaOIEiJWF/X1qqgzqGpPA3MKyycVgeaCK4slgTxXmT9JQZ9AUmAJRPnVaRRIUVEybChGbIqDJoDV9BpjTOHNWEhzMmgl2VuGM6VoMScmzwQrK5sxFKJg7pwysYHZyEoP29HkQE+YvQChYMB9iwrzp2gw6CxeBFRQsXlIEky9ashgcMoWLFuow6OotBXOWLV+xEqZg5Yrly8CalurpMugbrFoNMWLN2nUQ+XVr10AMWL3KQJ/B0Gj9BkhINm7ctBkkv3nTRqjAhvVGhgzGJlu2boMG7fYdO3ft2rljOzTot23dYmLMYGqmvXvPXmgE7i3bt69sLzQ69+7ZrW1mysBpblGx/0AjLLGBAITdeGB/hYU5JwOjpaHVwUOHMRPMkaMHrQwtgWmO0dpGO+VYAXqSK+g4bmtnDU61nPYOjgvaURNdYWP7Kkcne05Ispdzdqk4cbIGSUVhzanTFa7OcrCMIejmfnDTmQKEgoIzZw+6eyCyFqenl/e5PeVwIwrL95zz9vLkRMqcPr5J5y/AHFpYcPG8qK8Pavb2k026dBkaGo2XryTJ+qPIMzAE2KlcXbEN7IyCbR1XVQIDUOUZGIOC+a61VwMtKay+foMvJAjNAKCK0LCkm7dAIX3rZlJYOIY8UIVkRMXtI4WFR25XREhikQcGeWRU8p27d+8lR0VaY1MAdEa0bdr9+2m20UFY5YEqYmJrHzyojY3BIQ+M+bj4hw/j4yxxKQA6IyExMQHVAQBpWLIaKI0lIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDQ6MDYrMDA6MDAh7rXQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD/////////////////////////////////////////////////////////+/v/8vL//////////////////////////////////////////////////////////////////////////////////////v7/////+vr/////////////////////+Pj//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////6+v/6Oj/7Oz/1NT/ra3/f3//YGD/T0//7u7/vb3/b2//ISH/AQH/AAD//v7/19f/eHj/Ghr/+/v/xMT/Skr/AgL//f3/w8P/PDz/1tb/R0f/dXX/AwP/u7v/FRX/DQ3/QUH/aWn/Vlb/t7f/2tr/5ub/1dX/Gxv/c3P/3t7/q6v/2Nj/BQX/o6P//Pz/7e3/YWH/LCz/xsb/WFj/Pz//0dH/YmL/MzP/ysr/8fH/d3f/ExP/sbH/oaH/zMz/Dw//FBT/kJD/9PT/5eX/Tk7/HR3/fX3/0ND/+Pj/pqb/CAj/CQn/Pj7/amr/goL/4+P/VFT/Bgb/vLz/KCj/9vb/lJT/DAz/aGj/6en/y8v/p6f/Hh7/qKj/fn7/9/f/39//BAT/MDD/MTH/lZX/tLT/Hx//iIj/iYn/WVn/09P/ubn/+vpgzcAPAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo0NDoxOSswMDowMBsMxacAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACf1BMVEUAAAD//////////////////////////////////////////////////////////P3/9Pn//////////////////////////////////////////////////////////////////////////////////////v7/////+/3/////9fr/////////////////+vz//////////////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7/////////////7/f/7PX/8Pf/3O7/vd7/mcv/gL//c7n/8fj/yuT/jMX/Tab/NJn/MZj/Mpj//v7/3+//k8n/R6P/L5f/M5n//P3/0Of/brb//f7/z+f/Y7H/MJf/bLX/kcf/yeT/Q6H/PZ7/ZrP/h8P/d7v/xeL/4fD/6/X/3e7/SaT/j8f/5PH/u93/crn//v//mMz/N5r/tdr/gcD/Vqv/0ej/ebz/ZrL/2uz/gsD/XK3/1er/8/n/ksn/QaD/wN//tNn/1ur/P5//QqD/ptL/9vr/6vT/cbj/l8v/+vz/t9v/OJv/Opz/ZLH/iMP/m83/6fP/d7r/N5v/Uqj/Mpn/+Pv/qdT/PJ3/7fb/Z7L/uNz/SqT/S6X/udz/OZz/mMv/5fL/drr/Waz/Wqz/qtT/RKH/q9T/9Pn/3u7/Z7P/w+D/TKX/oM//PZ3/erz/Npr/3O3/x+L/+/0F2pMDAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM4SURBVDjLdZNnWxNBFIVnEZGEGpBeROkSuoIUwS4KFkTFQp+wFEWzk+AmEFhEDBZQlA5ioxcRsCDYELADSvlBbnY2kACeTztz3r1znztnAOBEEAYbDDcabTKG0HiT0UbDDQYEAXRECIQmpmbmFpaS7GyJpYW5mamJUKBDECIr6802ZE5uXv6lS/l5uTmkzWZrK9EyQdja2cPLBVeuSinEipJevVJwGdrb2RJa38FRJi+8RiOk4IQQfa1QLnN0wATh5OyiLCqWUgodUdLiIqWLs5OGcN3ipiopZZBCT4gpLVG5bXFlCwhNobxsta8hyuTQVEgAkd1W8rpUezrDSvstvU5utRMB4TZV+Q18PqIqbubn36ygMELdKFdtEwJ3D4ma4X+pvHX7zp3btyr5goxa4uEOPL3uViHsV9+TQVaye9WYQFV3vTyBt899bomYGvkDyOmBvIZrBEnv+3gD3+0PMV5bp4K8VHW1eO/hdl/gR9ZzC6ahES6rsYFrC9WTfgBKmjiAbm5ZAVqaaQ5okkAgJltxhUdtK0DbI1yhlRQD/8dPOIB6+kym9WXPnnKTQU8e+4OAwOe4IVpNagFSTeO954EBICi4vQOvOru6sd/d1Yl3OtqDg0BIaE8vnjRT1dfCniJr6avCo6V6e0JDwI6d/QMv+NEOvhwaHh56OciP/sVA/84dICxcPPKK5i+Qpl+/pmn+OulXI+LwMCDYFaEsf8PH6a0mk2/5UL0pV0bsEgAiMiRq9N3Y2sCMvRuNColkM0dE7xaPq6nVkaPU4zGx0VxqBXv27mtr1g8dYt637du/R4Bj73rgoPLDR90aiPr0WXnogKv2YYgOx432Tejknhr8Mhp3ZOVpCY7GJ0xOKZZLIMXUZEL8UYHO4zx2HBZMaw9B1NcCm+PH9J/3CRf47Tt/CPX9B3Q5qecDkBjr8VON26Amhn56nErU9wGRdNr8129NfJH0t9z8TNKqAixxNhnOzGpGPTsDk8+t8VnC4bxybgyhP3PK8w7r+OzIL1yU/J2f/yu5eCF6PYBtIyVmYXp6ISYlaV2fJVLTVIuLqrTU//jszadnLC1lpEf+D2DbyMzKytRv4B+n7ayGbXJj1gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDQ6MjkrMDA6MDCVg8JEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACslBMVEUAAAD////////////////////////////////////////////////////////+/fz79/T////////////////////////////////////////////////////////////////////////////////////+/v7////9/Pv////79/X////////////////9+/r////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////58+/48ez69PDz5dzpzr3cspnUoIDQlXP69PHt18rYqIzDeU27ZjS6ZTG6ZTL+/v7059/brpPCdUe6Yy+7ZjP+/fzv29DOkm67ZzS6ZDH+/f3v28/LiWO6YzD05t/OkGy6ZDDarJH+/v3t1snAckO+bj3MjWbUn4DXpYfRmXfr08X16eH48Ovz5t3CdknZqo/26+TozLvQlXL//v7dspi8aTfmyLXUoIHGgFbv3NHSm3m5Yy/LjGby49rVoYLIhVzx39X79vPbrZK/cEHq0MDmxrS6ZjK5Yi/58/Dx4Na+bz/AcULhvab8+Pb47+rPlHHCd0ncsZf9+/rnybe9aji9azrLi2TXpojdtJv37unt18nFfVK7ZTL8+vjivqm+bTziv6n58e3WpIfWpYfx4NXMjWfnyrjCd0rDeEvoyrm9azncsZj27OXRmHbHg1nIg1rt2Mriv6rAckTjwKv79vS8ajm9ajnXpYj05t7r0sPDeUzfuKC+bT3Sm3q8aTbIglns1cf9/Pua7OXrAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANISURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlRUUVYFBUVF5WWlIsJQlRwSgtI1tZVV1TW4EEamuqqyplZaRBKuTkFerqGxqLKlBAUWNDfZ2CvBzQAC6e5KbmFjR5oIqW5qZkHi5GBkFxxbTWApjtLY2NMLVFBa1piuKCDFxKbe0dhRCh2s6u7u6uzlqIksKO9jYlLgZllZSeFoh8TW9f/4QJ/X29NRAVLT0pKsoMqmoTJxVBjJw8pTgZCIqnTIZYWTRpopoqg7rGVDC3qHFayfRkMJheMg3sqaKCqRrqDJpaMyDKZ86qS4aCulkzIWIztDQZtNNmgzktc+Ymw8HcOWBnFc1O02ZITpkHVjB/wUKEgoUL5oMVzEtJZtBJWwQxYfEShIIliyEmLErTYdBdugysoHD5imKYfPGK5eCQKVq2VJdBT38lWMGq1T1rYArW9KxeBVawUl+PwcBw7TqIk9dv2AiR37hhPURk3VpDAwYj402bITHdsmXrQqAtxQu3boEEbe3mTcZGDCam27bvgAbtzl279+zZvWsnNOh3bN9masJgZq6zt3c+NALnz585c/58aHTO792rY27GwGlhWblvPzQ5HQClyQPQRLV/X6WlBScDo5WR9cFDhzETzOEjB62NrIBpjtHGVufosUL0JFd4/KidvQ041XI6ODqd6EJNdEUtJ084OTtwQpK9nItr5anTtUgqimrPnK10c5GDZQxBd4+DW88VIhQU7jx/0MMTkbU4vbx9LlysgBtRVHHxgo+3FydS5vT1S869BHNoUeHlK6J+vqjZ2182+eo1aGjUXrueLBuAIs/AEGivcqPnJtgZhbdu31AJCkSVZ2AMDuG7cxKU3otqTpbwhQajGQBUERaefPceKKjv3U0Oj8CQB6qQjKy8f7io6MH9ykhJLPLAII+KTnn46NHDlOgoG2wKgM6IsUt//DjdLiYYqzxQRWxc3ZMndXGxOOSBMR+f8PRpQrwVLgVAZyQmJSWiOgAArqa4BP2YBKMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ0OjQ2KzAwOjAwpaS7KgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAChVBMVEUAAAD//////////////////////////////////////////////////////////vv//fL//////////////////////////////////////////////////////////////////////////////////////v7//////vr//////////////////////vj//////v///////////////////////////////////////////////////////////////////v7//////////////////////////////////////v7//////////////////////////////////////////////////////////////////////////////v7//////////////Ov/++j//Oz/+dT/863/7X//6mD/50///O7/9r3/62//4SH/3QH/3AD//v7/+df/7Xj/4Br/3QD//vv/98T/5kr/3QL//v3/98P/5Tz/+db/5kf/7HX/3QP/9rv/4BX/3g3/5UH/6WD/62n/6Fb/9bf/+tr/++b/+dX/4Bv/7HP/+t7///7/86v/+dj/3QX/8qP//vz//O3/6mH/4iz/98b/6Fj/5T//+dH/6mL/4zP/+Mr//fH/7Hf/3xP/9LH/8qH/6mn/+Mz/3g//3xT/8JD//fT/++X/507/4B3/7X3/+ND//vj/86b/3Qj/3gn/5T7/62r/7oL/++P/6FT/3Qb/9rz/4ij//fb/8ZT/3gz//Oj/62j/3AH//On/+Mv/86f/4R7/86j/7n7//vf/+t//3QT/4zD/4zH/8JX/3xX/3gj/9bT/4R//74j/74n/6Fn/+dP/9bn//vrsMn7uAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAxZJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSVAqVIwADJKiosKpSQhKhilZWTLyisqobJQNZUV5WWyMtIgFXLyClXVNQUo8iBTaqqrFOTlgAZw8STV1qHLg1TU1SbxcDEyCIorptY3IGxHuKShPlVRXJCBS6mqsakAKt3c0tra0gxVUtDUWKXExaCsktwGFahs7+js6ursaIc6uKAtWUWZQVWtuwfML8jv7etPAoL+vt58iEhPt5oqg7rGBDC3oCBrYmESGBROzALbUpA/QUOdQVMgA6J80uQpSVAwZfIkiFiGgCaD1tRpEM70GUlwMGM6RGzaVC2GpOSZEM6s2QgFs2dBxGYmJzFoT50D4cydh1Awby5EbM5UbQad+QsgnIWLCmHyhYsWQsQWzNdh0NVbDPX1klSYgtQlUKHFeroM+gZLl0GUL1+xEiK/csVyiMiypQb6DIZGq1ZD1a9Zuw5oS+G6tWugAqtXGRkyGJus37ARKrBp85atW7ds3gTlbtyw3sSYwdRMe9t2RGTu2IGIzu3btM1MGTjNLcp27oIlB0Rslxbs2llmYc7JwGhpaLV7z17MBNO8Z7eVoSUwzTFa22jv238APckd2HLQ1s4anGo57R0cD7Wgqig40HLI0cmeE5Ls5Zxdyg4fQVZQUHDkaJmrsxwsYwi6ue9euxFJRcGmY8fdPRBZi9PTy/vE9pNwFQUnt5/w9vLkRMqcPr5JOacQOet0jqivD2r29pNNOnMWpuDsmSRZfxR5BoYAO5X5becgcbSpbb5KYACqPANjUDBfbQsoAxU0tBTxhQShGQBUERqWdP4CKKgvnE8KC8eQB6qQjCi7uLegYO+lsghJLPLAII+MSr48adLl5KhIa2wKgM6Itr1y6tQV2+ggrPJAFTGxU65enRIbg0MeGPNx8deuxcdZ4lIAdEZCYmICqgMA6f6os3UKuXAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ0OjU4KzAwOjAwOTHA6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACr1BMVEUAAAD////////////////////////////////////////////////////////7/v3y+/n////////////////////////////////////////////////////////////////////////////////////+/v7////6/f3////y+/r////////////////4/fz//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r+ffo+PXs+ffU8+2t591/28tg0r5Pzbju+vi97ORv1sQhwKUBt5gAtpf+/v7X9O942ckavqIAtZYAt5j7/v3E7udKy7UCt5j9/v7D7uY8x7DW8+5Hy7QAtpZ118cDt5i77OQVvKANup1BybJg0b5p1cJWz7q36uLa9PDm9/XV8u4bvqNz18be9fGr59zY8+9/2ssFuJmj5dr8/v7t+fdh0r8sw6rG7+hYz7s/ybHR8uxi0r8zxazK8Onx+/l32MgTvJ+x6N+h5Nlp1MLM8OoPu54UvJ+Q39L0/Prl9/ROzbcdv6N92srQ8ez4/fym5tsIuJoJuZs+yLBq1cOC28zj9/NUz7oGuJq87OMowaf2/PuU4NQMupwNupyU4dTo+PZo1MIBtpdq1cLp+fbL8OoBtpan5tsev6Mev6So5twIuZt+2sv3/Pvf9fJUzroEt5gwxKsxxKuV4NQVvaCV4dTW8+/X8++06eEfv6T7/f2I3c6J3c9Zz7wFuJrT8u256+L6/f3ow7cxAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMvSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN/QiCYPVNHYUJ/Mw8XIICiumNbUDLO9sawMprawuSlNUVyQgUuppqW1EOq4tvaOjvY2qGMLW1tqlLgYlFVSOhuhDuvq7unt7enugjq4sTNFRZlBVa2vH8wvLJgwsSgZCIomTiiAiPT3qakyqGtMAnMLG7Mng+WBKiZngx1SWDBJQ51BU2sKRPnUadOToWD6tKkQsSlamgzaM2aCOY2zZifDwexZYGcVzpyhzZCcMgesoGzuPISCeXPLwArmpCQz6MyYDzFhwUKEgoULICbMn6HDoLtoMcS+JUuLYPJFS5dAxBYv0mXQ018G4ZQtT4MpSFsOiZrCZfp6DAaGK1ZCeKtWr4HIr1m9CiKycoWhAYOR8dp10IBbv2Ej0JaijRvWQ4N23VpjIwYT002bt0BVbN22fceO7du2QuW3bN5kasJgZq6zc1cZLBGU7d5dBksaZbt26pibMXBaWFbs2QtLDqAkCWPu3VNhacHJwGhlZL1v/wHMBHPw0D5rIytgmmO0sdU5fOQoepI7euy4nb0NONVyOjg6nWg/iZpoT7afcHJ24IQkezkX14pTpwuRVBQWnjlb4eYiB8sYgu4e+zacQ1aw9fwFD09E1uL08va5eOkyXEXh5UsXfby9OJEyp69fcu4VRM66mivq54uavf1lk6+1whRcv5EsG4Aiz8AQaK+yaDnEGYVbly9SCQpElWdgDA7hu9kOykCFze23+EKD0QwAqggLT759BxTUd24nh0dgyANVSEbevXegsPDA/buRkljkgUEeFZ3y4OHDBynRUTbYFACdEWP36MqVR3YxwVjlgSpi46Y/fjw9LhaHPDDm4xOePEmIt8KlAOiMxKSkRFQHAAAsgrQ2sknLAAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDU6MTIrMDA6MDD2yfpjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACfFBMVEUAAAD////////////////////////////////////////////////////////8/vz0/fT////////////////////////////////////////////////////////////////////////////////////+/v7////7/vv////1/fX////////////////6/vr//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////v/O/s++zw/PDc+dy9872Z7ZmA6oBz53Px/PHK9sqM64xN4U003TQx3DEy3DL+/v7f+d+T7ZNH4Ecv3C8z3TP8/vzQ99Bu5m79/v3P989j5WMw3DBs5myR7JHJ9slD4EM93j1m5WaA6YCH64d36HfF9cXh+uHr++vd+d1J4EmP7I/k+uT+//6787ty53KY7Zg33Te18rWB6oFW4lbR99F56Hna+dqC6oJc41zV+NXz/fOS7JJB30HA9MC08rQy3TKH6ofW+NY/3j9C30Km8Kb2/fbq++px53GX7Zfa+Nr6/vq387c43Tg63jpk5WSI64ib7pvp++lS4lL4/fip8ak83jzt/O1n5We487hK4UpL4Uu587k53TmY7pj4/vjl+uV26HZZ41la41qq8KpE30Sr8Kv0/fQ53jne+d7D9cNM4Uyg76B66Ho23TbH9cf7/vts+qXUAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM8SURBVDjLdZP3X9NQFMVfFIUWLJRpVcoeYlVEQEUExIUyFFFRcfJqqiyb12paDQQKpQXZorJXARcbFRC3oohb/yHTJIUW8fyU5Hxz7/3cdx4ArDBs2XK7FSvtHSB0sF+5wm75MgwDVsIEQkenVSJnF/mlS3IXZ9EqJ0ehwIrAxK5u7h644vKVnNzcnCuXFbiHu5ureJ7APL1Ww7z8gqtKAjEilFcL8vPgai9PzOJL1qjU166TCGlYIURev6ZWrZFwBLZ2nbf2xk0lobESobx5Q+u9bq2ZkPr4UoVFNNLYCNFFhZSvj5QpIHSC6uLFvpkoVkMnIQbEXn54idLSnWZkeVaW4H5eYiD0p3SlXH9ElOnLy/VlBIcQpTrKXwgCAuUGmv/FWFF561ZlhZEvSBvkgQEgKLiqGnF+TW0dZFRXW8MRqLoqOAiEhNazr4huUKsgK5W6gR0EKetDQ8D6sNsc3niHgryoO43ct9th68EG/C77Qt9rgvNquseOhe7iGwCUN7MAqW9ZAFr0JAs0yyGQ4a1chbb2BaC9javQisvAxo5OFiC6ulUWX9XdxW4GdXZsBJs297CAiezFLQDeS5pYoGfzJhC+pa+fG/n+g4ec//DBfe5Lf9+WcBCx9dFjbtN09cAg00U1OFDNrZZ4/GhrBIiMGhoe4Vc7Ojb+5Mn42Ci/+pHhoahIEL1N9tRI8gdIko2NJMkfJ2l8KtsWDQTbd2h1z/g4mcyZNPGheqbT7tguAFhMxM6Jyal/AzM1ObEzIobJHBa7S/bcQCyOHGF4Hhcfy6ZWkLA7sV1vGzpET7cn7kkQcLGX7t2nffGSMFn//+q1dv9eqeViiA8kTQy8sco9Mfr2XdLBhaslOJSc8v6DZr4J0nx4n5J8SGB1OVPTYP6MZVBEfMz3SEu1vd6HveGnWb4JMfsZeh+x8QFIjw+cM3xhCeLL+Fzg0XRbH2AZx0Rfp83xRcppteh4xqICDHEiE377bl71928w8+Q/PkNITml/TCFU9kN7SrKEz6z8dJb8569fP+VZp2OXApgxzsQpZmYUcWcylvQZ4uw56vdv6tzZ//jMyZ+/8OfPhfMx/wOYMS5mZ1+0HeAvs9msMpv5tz0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ1OjQxKzAwOjAwj8HumgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACr1BMVEUAAAD////////////////////////////////////////////////////////9/vv5+/L////////////////////////////////////////////////////////////////////////////////////+/v7////9/fr////5+/P////////////////8/fn////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////3+uz1+en3+u3t9Nbd6rHK34W912i20lj4+u/j7sDD23ajxyyWvw6VvguVvgz+/v7u9drH3X+gxSWUvgmWvw39/vvm8Me00VP+/v3m8MauzkXu9Nmz0FDG3HyUvgrj7r+exCCbwhqwz0rB2XGWvw+51F7h7Lrv9dz0+Oft9NehxifF3Hrx9t/c6a+201j+//7K3oaYwBHZ56j+/vy+12moyjfn8Mn2+uy61WCwzkns89P3+u6+12qryz7p8c35+/HH3X6dwx7e67XY56aVvg2UvQjq8s6cwhuexB/R45b6/PT0+Oa20leVvgqhxijJ3oT8/fna6KqYwBOZwRavzkfB2XLL34nz+OS41F2UvQmYwBKmyDGWvwz7/PfS5JmawRebwhjT5JrB2XD1+erp8s79/vzb6ayiximixir7/PbJ3oOZwRXK3oTx9+Cpyzuqyzvj7sGexCH5+/KZwBSwz0vu9dng7LijxivO4Y6awRjO4Y+61WGXwBHt89Wpyzri7bz9/frM0I39AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANESURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlhUUVYFBUWF5WWlIsJQlRwSgtI1tZVV1QWIEECguqqyplZaRBKuTkFWpq68qLKlBAUXldbY2CvBzQAC6e5PoGdHmQiob6ZB4uRgZBccW0xgKY7U3l5U0wdkFjmqK4IAOXUk1zSyHUca1tWVltrVDHFrY01yhxMSirpLQ3QeQ7Oru6e3q6uzo7ICqa2lNUlBlU1Xr7iiBG9k8oTgaC4gn9ECuL+nrVVBnUNSaCuUXlk0omJ4PB5JJJYEcXFUzUUGfQ1JoCUT512vRkKJg+bSpEbIqWJoN22gwwp2nmrGQ4mDUT7KyiGWnaDMmz54AVlM+dh1Awb245WMGc2ckMOvMXQBQsXIRQsGghRMGC+ToMuouXgBUULl1WDJMvXrYUHDJFSxbrMujpLwdzVqxsT4MpSGtfuQKsabm+HoOB4arVECPWrF0HkV+3dg3EgNWrDA0YjIzXb9gICbhNm+cBbSmet3kTJGg3blhvbMRgYrpl6zZo0G7fsXPXrp07tkODftvWLaYmDGbmOrv3rIQmk5V79+3buxKadFbu2a1jbsbAaWFZ2bwfYknFAVCaPABhb9zfXGlpwcnAaGVkffDQYcwEc+ToQWsjK2CaY7Sx1Uk9Voie5Ap3HreztwGnWk4HR6cTbU0oKoqa2k44OTtwQpK9nIvryVOnNyKpKNp45tRJNxc5WMYQdPc4e+48UrovPH/hoIcnImtxenn7XNxTATeiqGLPRR9vL06kzOnrl5x7CZGzLl8R9fNFzd7+sslHr0JDY+PVo8myASjyDAyB9irX2q+DnVF4vf2aSlAgqjwDY3AIX30bKPkWFdy4yRcajGYAUEVYePKt26Cgvn0rOTwCQx6oQjKy8s7doqK79yojJbHIA4M8Knr2/QcP7s+OjrLBpgDojBi7h48ePbSLCcYqD1QRGzf98ePpcbE45IExH5/w5ElCvBUuBUBnJCYlJaI6AADXv7i4Kd/lawAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NDk6NDUrMDA6MDBhsioHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACnVBMVEUAAAD////////////////////////////////////////////////////////7/fvy+fL////////////////////////////////////////////////////////////////////////////////////+/v7////6/Pr////////////////////4/Pj////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r9uvo9Ojs9uzU69St2K1/w39gtWBPrU/u9+694L1vu28hlyEBiAEAhwD+/v7X7Nd4wHgalBoAhgAAiAD7/fvE48RKqkoCiAL9/v3D48M8pDzW7NZHqUd1vnUDiAO737sVkRUNjg1BpkFgtGBpuWkCiQJWsFa33bfa7drm8+bV69UblBtzvXPe796r16vY7Nj+//4FigWj1KP8/fzt9u1htWEsnCzG5Mbr9etYsVg/pT/R6dFitmIzoDPK5srx+PF3wHcTkBOx2rGh06EAhQDM58wPjg8UkRSQy5D0+vTl8uVOrE4dlR19wn3Q6dD4/Pim1aYIiwgJjAk+pD5qumqCxYLj8uNUr1QGiga837womij2+/aUzZQMjQwNjQ1ouGgBhwFquWrp9OnL5ssBhgGn1qcelR4elh6o1qj2+vZ+w373+/ff8N8EiAQwnjAxnjGVzZUVkhUJiwm03LQflh+IyIiJyIlZsVnT6tP8/vy53rn6/Pq97PRtAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAzFJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSWlBQVlYFBQUFpSXFQoJQlRwSgtI1teUVkFlYWqqaqsKJeVkQapkJNXqK6pLUWRB6oora2pVpCXAxrAxZNUV48uD1JRX5fEw8XIICiumNrQCLO9FAhg7MaGVEVxQQYupeqm5gKo41pa29paW6COLWhuqlbiYlBWSW4vhQh0dHZ19/R0d3V2QFSUtierKDOoqvX2gfkF+f0TCpOAoHBCfz5EpK9XTZVBXWMimFtQmjVpchIYTJ6UBXZIQf5EDXUGTYEMiPIpU6clQcG0qVMgYhkCmgxa02eAOaUzZyXBwayZYGcVzJiuxZA0ew5Ewdx5CAXz5kIUzJmdxKA9fT5EwYKFCAULF0AUzJ+uzaCzaDHEviVLC2HyhUuXQMQWL9Jh0NVbBuEsb0+FKUhtXw4RW6any6BvsGIlhLdq9RqI/JrVqyAiK1cY6DMYGq1dBwnJ0vUbNgJDYvLGDeuhAuvWGhkyGJts2rwFGrRbt23fsWP7tq3QoN+yeZOJMYOpmfbOXcuhEbi8dPfu0uXQ6Fy+a6e2mSkDp7lF+Z69pbBUUABLd2Wle/eUW5hzMjBaGlrt238AM8Ec3L/PytASmOYYrW20Uw4dRk9yh48ctbWzBqdaTnsHx2Otx1ET7fHWY45O9pyQZC/n7FJ+4mQBkoqCglOny12d5WAZQ9DN/cyGLcgKtp495+6ByFqcnl7e53ddgKsouLDrvLeXJydS5vTxTcq5iMhZl3JEfX1Qs7efbNLlK9DQKL1yOUnWH0WegSHATmVRO8QZBVfbF6kEBqDKMzAGBfPVtYIyUEFjaxFfSBCaAUAVoWFJ166Dgvr6taSwcAx5oArJiPIbBwoKDtwsj5DEIg8M8sio2bemTLk1OyrSGpsCoDOibW9fvHjbNjoIqzxQRUzsnbt378TG4JAHxnxc/L178XGWuBQAnZGQmJiA6gAAFLyvxAL3bxQAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjQ5OjU2KzAwOjAwnPAwBAAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD////////////////////////////////////////////////////////7//3y//n////////////////////////////////////////////////////////////////////////////////////+//7////6//3////y//r////////////////4//z////////////////////////////////////////////////////////////////////////+//7////////////////////////////////////+//7////////////////////////////////////////////////////////////////////////////+//7////////////r//fo//Xs//fU/+6t/95//8tg/79P/7nu//i9/+Rv/8Uh/6YB/5kA/5j+//7X/+94/8ka/6MA/5cA/5n7//3E/+dK/7YC/5n9//7D/+c8/7HW/+9H/7V1/8cD/5m7/+QV/6EN/55B/7Np/8NW/7u3/+La//Dm//XV/+4b/6Rz/8fe//Gr/93Y/+/+//9//8wF/5qj/9r8//7t//dh/8As/6vG/+hY/7w//7LR/+xi/8Az/63K/+rx//l3/8kT/6Cx/9+h/9nM/+oP/58U/6CQ/9L0//rl//RO/7gd/6R9/8vQ/+z4//ym/9sI/5sJ/5w+/7Fq/8OC/83j//NU/7oG/5u8/+Qo/6j2//uU/9QM/50N/53o//Zo/8MB/5jp//bL/+pB/7IB/5en/9we/6Qe/6Wo/9wI/5x+/8v3//vf//IE/5kw/6wx/6yV/9TW/+60/+Af/6WI/8+J/89Z/7zT/+25/+L6//2DMMmrAAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTA6MDYrMDA6MDDpi8pqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD////////////////////////////////////////////////////////7///y///////////////////////////////////////////////////////////////////////////////////////+///////6///////////////////////4///////////////////////////////////////////////////////////////////////////+///////////////////////////////////////+///////////////////////////////////////////////////////////////////////////////+///////////////r///o///s///U//+t//9///9g//9P///u//+9//9v//8h//8B//8A///+///X//94//8a///7///E//9K//8C///9///D//88///W//9H//91//8D//+7//8V//8N//9B//9p//9W//+3///a///m///V//8b//9z///e//+r///Y//8F//+j///8///t//9h//8s///G//9Y//8////R//9i//8z///K///x//93//8T//+x//+h///M//8P//8U//+Q///0///l//9O//8d//99///Q///4//+m//8I//8J//8+//9q//+C///j//9U//8G//+8//8o///2//+U//8M//9o///p///L//+n//8e//+o//9+///3///f//8E//8w//8x//+V//+0//8f//+I//+J//9Z///T//+5///6//8Ngdu6AAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MDoyMSswMDowMG4J85kAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACu1BMVEUAAAD////////////////////////////////////////////////////////8/f3y9/r////////////////////////////////////////////////////////////////////////////////////+/v7////6/P3////z9/r////////////////5+/z//////v/////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////s8/jp8fft9PjW5vCwz+KEtdJno8hXmcLu9fnA2Oh1q80qfrIMa6cJaqYKaqb+/v7Z6PF+sdAkea8HaKULa6f8/f3G3epRlcAJaab9/f7G3OpEjrsHaaXY5/FOlL97rs8Iaab9/v6+2Ocfdq0Yc6tJkb1no8dvqMsIaaUNbKhdncS61ebb6fLn8PbX5vAle7B5rs7f7POuzuGFtdMPbainyt/8/f5oo8g1hbbI3utfnsVHkLzT5O/u9PhppMk8ibjM4Ozx9/p9sNAcda200eSlyN4La6YGaKVwqMvO4e0Zc6wddq2Vv9j0+Pvm8PZWmMIme7GDs9LS5O/+/v/5+/ypy98Rb6kTcKpGj7xxqcyIt9Pk7/VcnMQQbqj7/f0wgbQKaqf3+vyYwdkVcaoWcquZwdpvp8vq8vfN4e1JkL2rzOAnfLEofLGszOH2+vyCs9ITb6mDtNLg7PNbnMQ5h7c5h7jA2egfd66awtry9/pvqMoSb6kMbKe30+UpfbGNutaOutZgn8XV5vC81ub7/P0PF+8/AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAANLSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oLAICAoL8vNyc5IlxMUYYfKSUsUlpWXlhUUVYFBUWF5WWlIsJQlRwSgtI1tZVV1QU4EEagqqqyplZaRBKuTkFWrr6huKKlBAUUN9Xa2CvBzQAC6e5MYmdHmQiqbGZB4uRgZBccW05gKY7S3l5S0wdkFzmqK4IAOXUmtbeyFEqKajs6urs6MGoqSwva1ViYtBWSWluwci39vXP2HixAn9fb0QFT3dKSrKDKpqkyYXQYycMrU4GQiKp06BWFk0eZKaKoO6xjQwt6ghuwQsD1RRkg12dFHBNA11Bk2t6RDlM2bOSoaCWTNnQMSma2kyaKfNBnNa5sxNhoO5c1rACmanaTMkp8wDKyifvwChYMH8crCCeSnJDDoLF4EVNCxeglCwZHEDWMGihToMukuXgRUULl9RDJMvXrEcHDJFy5bqMujprwRzVq1ekwZTkLZm9SqwppX6egwGhmvXQYxYv2EjRH7jhvUQA9atNTRgMDLetBns5IqWLVu3bU9O3r5t6xaowOZNxkYMJqY7du6CBG3L7j179+3bu2c3RL5o184dpiYMZuY6+w+shkRg4erygwfLV0OirmL1gf065mYMnBaWh9oOQ/RUHAGlySMQdsvhtkOWFpwMjFZG1kePHcdMMCdOHrU2sgKmOUYbW53UU4XoSa5wzWk7extwquV0cHQ6c7YFRUVRy9kzTs4OnJBkL+fiWnnuPLKKopYLFyvdXORgGUPQ3ePS5SuFCAWFu68e9fBEZC1OL2+fa9cr4EYUVRy45uPtxYmUOX39knNvIHLWzVuifr6o2dtfNvnkbWhotNy+kywbgCLPwBBor3L33n2wMwrvr7mrEhSIKs/AGBzC13j2AdCSogdnS/hCg9EMAKoIC09++AgU1I8eJodHYMgDVUhGHnp8oqjoxJNDkZJY5IFBHhWd8nTGjKcp0VE22BQAnRFj9+zGjWd2McFY5YEqYuNmPX8+Ky4Whzww5uMTXrxIiLfCpQDojMSkpERUBwAAPAa7YJpbYIgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUwOjM0KzAwOjAw8JvcoAAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACzVBMVEUAAAD////////////////////////////////////////////////////////7/Pzy9Pb////////////////////////////////////////////////////////////////////////////////////+/v7////6+/v////////////////////4+fr////////////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////r7/Ho7O/s7/LU2+GtusZ/lKdge5JPbIfu8fO9yNFvh5whRWYBK1AAKE8AKU/+/v7X3uR4j6IaP2EAJk0AKlD7/PzEztZKZ4ICK1EAKE79/f3DzdY8XHkAJ03W3eNHZYB1jKADK1EAJ067xtAVO14NNVlBYHxgepHr7vFpgpgCLFFWcou3ws3a4OXm6u3V2+IbQWMBK1Fzip7e4+iruMVPbIbY3uQFLlOjssD8/f3t8PJhe5IsT27Gz9hYc4w/X3vR2d9ifJMzVXPK09vx8/V3jqITOVyxvcmhsL4AKVAAJUzM1NwPNloUOl2QorP09vfl6e1Oa4UdQmN9k6bQ2N/4+fqmtMIIL1QJMVY+XXpqg5mCl6nj6OxUcYoAJkwGL1S8x9EoSmr2+PmUpbUMM1cNNFiUprVogZgBKE5qgpjp7PDL1NsBJ06ntcIeQmQeQ2WotsP29/l9kqUIMVV+k6b3+Pnf5OlUcIoEKlAwUnExUnG9yNKVprYVPF4IMFUJMFVBYH3X3uO0wMwfRGWInK0MNFiJnK5ZdI3T2uEwUnC5xM/6+/yAxxLtAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAA0hJREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/oBAICvLzcnOykyTExRhh8pJSRcUlpWWFheVgUFhYVlpSXCQlCVHBKC0jW1FZVV1TjgRqqqsqK2RlpEEq5OQVauvqGwrLUUBhQ31drYK8HNAALp6kxiZ0eZCKpsYkHi5GBkFxxdTmFpjtrWVlrTB2S3OqorggA5dSbVs7xP7Cmo7Orq7OjhqIkpr2tlolLgZlle6eBoh8b1//hIkTJ/T39UJUNPR0qygzqKpNmgzmF06ZOq0oCQiKpk2dAhGZPElNlUFdY3p+IdhRM2aC5YEqZs4AO7owf7qGOoOmQAZE+azZc5KgYM7sWRCxDAFNBq2588Cc1vkLkuBgwfxWsIJ5c7UYkroXghWULVqMULB4URlYwcLuJAbtuUvAChqWLkMoWLYU7LHCJXO1GXSWrwArKFi5qggmX7RqZQFYwYrlOgy6eqvBCtas7UmFKUjtWbsGrGC1ni6DvsG69RAnb9i4CSK/aeMGiMj6dQb6DIZGm7dAQrp167btQFuKtm/b2goJ6y2bjQwZjE127NwFCdrW3Xv27tu3d89uiHzhrp07TIwZTM209x84CI3AgwcPHTp4EBqdBw/s1zYzZeA0t6g4fKQGlthAAJqojhyusDDnZGC0NLQ6euw4ZoI5cfKolaElMM0xWttop5w6jZ7kTp85a2tnDU61nPYOjuc6z6OoKDzfec7RyZ4TkuzlnF0qLlysQVJRWHPpcoWrsxwsYwi6uV+5eg0p3dfsvn7D3QORtTg9vbxv3roNN6Lw9q2b3l6enEiZ08c3KecOzJLCmrv3RH19ULO3n2zSfWjiLq95cD9J1h9FnoEhwE5lec9DcCQXPOpZrhIYgCrPwBgUzNfYCcpAhS2Pn/CFBKEZAFQRGpb09BkopJ89TQoLx5AHqpCMqHj+orDwxcuKCEks8sAgj4zqfjVr1qvuqEhrbAqAzoi2ff3mzWvb6CCs8kAVMbFz3r6dExuDQx4Y83Hx797Fx1niUgB0RkJiYgKqAwC8prs7Sn3FCAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTA6NDMrMDA6MDA/+es3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACfFBMVEUAAAD////////////////////////////////////////////////////////8/P709P3////////////////////////////////////////////////////////////////////////////////////+/v7////7+/7////19f3////////////////6+v7///////7////////////////////////////////////////////////////////////////+/v7////////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////+/v7////////////v7/zs7Pvw8Pzc3Pm9vfOZme2AgOpzc+fx8fzKyvaMjOtNTeE0NN0xMdwyMtz+/v7f3/mTk+1HR+AvL9wzM938/P7Q0Pdubub9/f7Pz/djY+UwMNxsbOaRkezJyfZDQ+A9Pd5mZuWAgOmHh+t3d+jFxfXh4frr6/vd3flJSeCPj+zk5Pr+/v+7u/NycueYmO03N921tfKBgepWVuLR0fd5eeja2vmCgupcXOPV1fjz8/2SkuxBQd/AwPS0tPIyMt2Hh+rW1vg/P95CQt+mpvD29v3q6vtxceeXl+3a2vj6+v63t/M4ON06Ot5kZOWIiOubm+7p6ftSUuL4+P2pqfE8PN7t7fxnZ+W4uPNKSuFLS+G5ufM5Od2YmO74+P7l5fp2duhZWeNaWuOqqvBERN+rq/D09P05Od7e3vnDw/VMTOGgoO96eug2Nt3Hx/X7+/4Nm4E+AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAM8SURBVDjLdZP3X9NQFMVfFIUWLJRpVcoeYlVEQEUExIUyFFFRcfJqqiyb12paDQQKpQXZorJXARcbFRC3oohb/yHTJIUW8fyU5Hxz7/3cdx4ArDBs2XK7FSvtHSB0sF+5wm75MgwDVsIEQkenVSJnF/mlS3IXZ9EqJ0ehwIrAxK5u7h644vKVnNzcnCuXFbiHu5ureJ7APL1Ww7z8gqtKAjEilFcL8vPgai9PzOJL1qjU166TCGlYIURev6ZWrZFwBLZ2nbf2xk0lobESobx5Q+u9bq2ZkPr4UoVFNNLYCNFFhZSvj5QpIHSC6uLFvpkoVkMnIQbEXn54idLSnWZkeVaW4H5eYiD0p3SlXH9ElOnLy/VlBIcQpTrKXwgCAuUGmv/FWFF561ZlhZEvSBvkgQEgKLiqGnF+TW0dZFRXW8MRqLoqOAiEhNazr4huUKsgK5W6gR0EKetDQ8D6sNsc3niHgryoO43ct9th68EG/C77Qt9rgvNquseOhe7iGwCUN7MAqW9ZAFr0JAs0yyGQ4a1chbb2BaC9javQisvAxo5OFiC6ulUWX9XdxW4GdXZsBJs297CAiezFLQDeS5pYoGfzJhC+pa+fG/n+g4ec//DBfe5Lf9+WcBCx9dFjbtN09cAg00U1OFDNrZZ4/GhrBIiMGhoe4Vc7Ojb+5Mn42Ci/+pHhoahIEL1N9tRI8gdIko2NJMkfJ2l8KtsWDQTbd2h1z/g4mcyZNPGheqbT7tguAFhMxM6Jyal/AzM1ObEzIobJHBa7S/bcQCyOHGF4Hhcfy6ZWkLA7sV1vGzpET7cn7kkQcLGX7t2nffGSMFn//+q1dv9eqeViiA8kTQy8sco9Mfr2XdLBhaslOJSc8v6DZr4J0nx4n5J8SGB1OVPTYP6MZVBEfMz3SEu1vd6HveGnWb4JMfsZeh+x8QFIjw+cM3xhCeLL+Fzg0XRbH2AZx0Rfp83xRcppteh4xqICDHEiE377bl71928w8+Q/PkNITml/TCFU9kN7SrKEz6z8dJb8569fP+VZp2OXApgxzsQpZmYUcWcylvQZ4uw56vdv6tzZ//jMyZ+/8OfPhfMx/wOYMS5mZ1+0HeAvs9msMpv5tz0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUwOjU2KzAwOjAwoWvEDgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACTFBMVEUAAAD////////////////////////////////////////////////////////9/v/5+v/////////////////////////////////////////////////////////////////////////////////////+/v/////8/f/////////////////////8/P///////v/////////////////////////////////////////////////////////////////+/v/////////////////////////////////////+/v/////////////////////////////////////////////////////////////////////////////+/v/////////////2+P/09//r8P/Y5P/D1P+1yv+txP/3+f/g6f+7z/+Xtf+Iqv+Hqf/+/v/s8f/A0v+Usv+GqP/9/f/j6/+qwv+kvv+pwf++0f+Gqf/f6P+RsP+Orv+mv/+0yv+5zf+Jq/+wxv/d5//t8v/z9v+Us/+90P/v9P/X4/+Kq//U4P/9/v/2+f+cuP/k7P/1+P+xx/+lv//p7/+2yv+gu//m7f/4+v+Qr//a5P/T3/+FqP/n7f/L2v/6+//y9v+sxP+Vs//C1P/8/P/V4f+LrP+Mrf+6zf/F1f/y9f+vxv+KrP+atv/7/P/N2/+Nrf+Nrv+4zP/W4v+VtP+WtP/6/P/C0/+MrP/D0//w9P+euv+SsP+Ssf/N3P/c5v/I1//q8P/e5//8/f/tCMxjAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAyFJREFUOMt1k+db01AUxm+U1QKllT0KAlXUInsjoOICRREVFZGRMMrKTSFlBVoKKGgZUqZShiJDUUARFyrrHzPkJrRlnE855/09J+9z7jkAcIFhx47b2NrZO+C4g72drc3xYxgGLAITiR2dnCUuUqKkhJC6SJydHMUiCwKTnXB1cydKy8pVFRWq8rJSwt3N9YRsj8A8PL3wyqrqGhJyQdZUV1XiXp4emKB7+1Dq2jqalbiAkK6rVVM+3ojAfP3kmvoGkld5hmyo18j9fHcJ/4CTVH0jbaWzBN1YT50M8GcbiJ1wddN+fZdoUuNOYgzIPAOJZqE/ZGiaEb7JZiLQUwbEQVRLK+TNaXVtbTotbxa2tlBBYhCsIPQ0KrR3dD57/vxZZ0c7Img9oQgGp06XdkHUsvsFhbNBvehGv4RdpadPgZAzL7kU0hVqnA91BWcaki/PhICz0nKEG3p6BaC3x4Bq5dKz4FyfikuY/lf4XrzqZzhA1XcO4ANGDqAHh8zA0CDnGxoHcKDsG0bAyKgZGB1BwHCfEoSO1aL/vX5DCTr15jWq1Y6FgvNh4ygx6QkBIPQmVBsPOw/CIya0KGudnEL61CQaLdRORISDyKjpt5xlknk3w/kcmnnHF95OR0WC6Jj3s3NotMx848KHDwuN80iHc7PvY6JBbJzy46KJf0AT/ekTbeKf07T4URkXC0TxCZqWz4ywBVDYO5L53KJJiBcBLDEyaWl55eDCfFleSopMZHcOS76gLPkK968c1JekpCZzWytKu3hpVMdYLy2jG710OU2E1t4//Ypm9ZtlDwjXVjVX0/2Fw5Bdu/79x5wl8PPX0vUb5tMSZWTe/L1ovgxILv6+mZkhsjjOW1l41br5star3LNuWZ/3bTm+/IefBvP3Hy6/Y6UDkJ2qGNMjG3BOP6a4m22tAyznnkSt27UBSZ1acj9nXwOWeJCLb6ztjnptA899eEBnCe9Hms0VCFc2NY+8D9HZkT/OGzAaDMaBvMfJhwGsjScpW+vrWylPcg7VWSL/KbW9TT3NP0JnX76gcGensCDxKIC1UVRcXGRt4D+SPpTGEJHXggAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTE6MDYrMDA6MDAGSaFUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAClFBMVEUAAAD////////////////////////////////////////////////////////9+//58v/////////////////////////////////////////////////////////////////////////////////////+/v/////9+v/////68v/////////////////8+P/////////////////////////////////////////////////////////////////////////+/v/////////////////////////////////////+/v/////////////////////////////////////////////////////////////////////////////+/v/////////////36//16P/37P/u1P/erf/Lf/+/YP+5T//47v/kvf/Fb/+mIf+ZAf+YAP/+/v/v1//JeP+jGv+XAP+ZAP/9+//nxP+2Sv+ZAv/+/f/nw/+xPP/v1v+1R//Hdf+ZA//ku/+hFf+eDf+zQf/Daf+7Vv/it//w2v/15v/u1f+kG//Hc//x3v/dq//v2P///v/Mf/+aBf/ao//+/P/37f/AYf+rLP/oxv+8WP+yP//s0f/AYv+tM//qyv/58f/Jd/+gE//fsf/Zof/qzP+fD/+gFP/SkP/69P/05f+4Tv+kHf/Lff/s0P/8+P/bpv+bCP+cCf+xPv/Dav/Ngv/z4/+6VP+bBv/kvP+oKP/79v/UlP+dDP+dDf/26P/DaP+YAf/26f/qy/+yQf+XAf/cp/+kHv+lHv/cqP+cCP/Lfv/79//y3/+ZBP+sMP+sMf/Ulf/u1v/gtP+lH//PiP/Pif+8Wf/t0//iuf/9+v/1rAt3AAAAY3RSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD++P3qw/2N+0j2GMcHYx68BOkMd/x2IKf+pjrS0WDvXxSL+Cy3TEsIdRyhoDXINOSK8rY72mnrhe2jCycJAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+cFGQAhKwJH+lwAAAMmSURBVDjLY2AAA0ZGJmYWVjZ2juRkDnY2VhZmJkZGBiTAyMnFzcPLxy+QkpqaIsDPx8vDzcWJpIJRUEhYRDQtPSMzKzs7KzMjPU1URFhIEK6CUUxcIjknNy+/oBAMCvLzcnOSJcTFGGHyklJFxSWlZYWF5WBQWFhWWlJcJCUJUcEoLSNbUVlVDZWFqqmuqqyQlZEGqZCTV6iprStDkQeqKKurrVGQlwMawMWTXN+ALg9S0VCfzMPFyCAorpjW2ASzvQwIYOymxjRFcUEGLqWa5pZCqONa27Ky2lqhji1saa5R4mJQVklpL4M6rKOzq7u7q7MD6uCy9hQVZQZVtZ5eML+woK+/KBkIivr7CiAivT1qqgzqGhPA3MKy7ImTksFg0sRssEMKCyZoqDNoak2GKJ8ydVoyFEybOgUiNllLk0F7+gwwp2zmrGQ4mDUT7KzCGdO1GZJTZkMUzJmLUDB3DkTB7JRkBp3p8yAK5i9AKFgwH6Jg3nQdBt2FiyD2LV5SBJMvWrIYIrZooS6Dnv5SCKesPQ2mIK0dEpyFS/X1GAwMly2H8FasXAWRX7VyBURk+TJDAwYj49VroAG3dt16oC1F69ethQbtmtXGRgwmphs2boKq2Lxl67ZtW7dshspv2rjB1ITBzFxn+44yeGTu3AmPzrId23XMzRg4LSwrdu2GJQdQkoQxd++qsLTgZGC0MrLes3cfZoLZv3ePtZEVMM0x2tjqHDh4CD3JHdp62M7eBpxqOR0cnY4cPYaaaI8dPeLk7MAJSfZyLq4Vx08UIqkoLDx5qsLNRQ6WMQTdPfasO42sYPOZsx6eiKzF6eXtc27HebiKwvM7zvl4e3EiZU5fv+TcC4icdTFX1M8XNXv7yyZfaoEpaLmULBuAIs/AEGivsrAd4ozCze0LVYICUeUZGIND+C63gTJQYVNbMV9oMJoBQBVh4clXroKC+uqV5PAIDHmgCsnIimv7Cgv3Xa+IlMQiDwzyqOiUG1Om3EiJjrLBpgDojBi7mxcu3LSLCcYqD1QRGzft1q1pcbE45IExH59w+3ZCvBUuBUBnJCYlJaI6AABB269xUXFElwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yNVQwMDoyOTozNyswMDowMEpaoL8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjRUMjI6NTE6MjArMDA6MDAnvJMTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg==",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAMAAABjq9sOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAAD/////////////////////////////////////////////////////////+///8v///////////////////////////////////////////////////////////////////////////////////////v//////+v//////////////////////+P///////////////////////////////////////////////////////////////////////////v///////////////////////////////////////v///////////////////////////////////////////////////////////////////////////////v//////////////6///6P//7P//1P//rf//f///YP//T///7v//vf//b///If//Af//AP///v//1///eP//Gv//+///xP//Sv//Av///f//w///PP//1v//R///df//A///u///Ff//Df//Qf//af//Vv//t///2v//5v//1f//G///c///3v//q///2P//Bf//o////P//7f//Yf//LP//xv//WP//P///0f//Yv//M///yv//8f//d///E///sf//of//zP//D///FP//kP//9P//5f//Tv//Hf//ff//0P//+P//pv//CP//Cf//Pv//av//gv//4///VP//Bv//vP//KP//9v//lP//DP//aP//6f//y///p///Hv//qP//fv//9///3///BP//MP//Mf//lf//tP//H///iP//if//Wf//0///uf//+v8BRUUXAAAAYnRSTlMAAAMQLWqp1fMBEUOe6Pn8/gUukuz+CU3EW9kGUNsCMsvxrzbuePq1/OD4/erD/Y37SPYYxwdjHrwE6Qx3/HYgp/6mOtLRYO9fFIv4LLdMSwh1HKGgNcg05IrytjvaaeuF7djGYAwAAAABYktHRAH/Ai3eAAAAB3RJTUUH5wUZACErAkf6XAAAAu1JREFUOMtjYAADRkYmZhZWNnaOpCQOdjZWFmYmRkYGJMDIycXNw8vHL5CckpIswM/Hy8PNxYmkglFQSFhENDUtPSMzKyszIz0tVVREWEgQroJRTFwiKTsnNy+/AAzy83JzspMkxMUYYfKSUoVFxSUFSKCkuKhQShKiglFaRra0rLyiAAVUlJeVyspIg1TIyStUVlUXYIDqqkoFeTmgAVw8STW1BVhAbU0SDxcjg6C4YmpdPTYF9XWpiuKCDFxKlQ2NMLGm5szM5iYYr7GhUomLQVkluQXmsNa29o6O9rZWmINbklWUGVTVOrug3u/uKUwCgsKebmiAdHWqqTKoa/RCuVl9YHmgir4sqJZeDXUGTYEMCK9/wsQkKJg4oR8iliGgyaA1aTKEM2VqEhxMnQIRmzxJiyEpeRqEM30GQsGM6RCxaclJDNqTZkI4s2YjFMyeBRGbOUmbQWfOXAhn3vxCmHzh/HkQsblzdBh09RbAfJ0KU5AKC5kFeroM+gYLF0F4i5cshcgvXbIYIrJooYE+g6HRsuVQ9StWrgLaUrhq5QqowPJlRoYMxiar16yFCqxbv2Hjxg3r10G5a9esNjFmMDXT3rQZEYVbtiDYmzdpm5kycJpblG7dhi26t20ttTDnZGC0NLTavmMnpnzTju1WhpbANMdobaOdsisfXT5/w25bO2twquW0d3Dc04ymIr95j6OTPSck2cs5u5Tu3YeqYN/+UldnOVjGEHRz375yLbL8ugMH3T0QWYvT08v70ObDCPnDmw95e3lyImVOH9+knCMIBUdzRH19ULO3n2zSMXjibjyWJOuPIs/AEGCnMqcF6ox1LXNUAgNQ5RkYg4L5aprBGai+uYgvJAjNAKCK0LCk4ydACk4cTwoLx5AHqpCMKD0JDPKdp0ojJLHIA4M8Mir5dH//6eSoSGtsCoDOiLY9c+TIGdvoIKzyQBUxsRPPnp0YG4NDHhjzcfHnzsXHWeJSAHRGQmJiAqoDAOgCnVLAYqeOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MTo0MiswMDowMHZMi70AAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAADj0lEQVRIx5WWO2xURxSGvzN7H7a0AdFRkFSQBovKqcCyBF0kmlDS0SHRpkJKEYmGEBeENImFRJMoLlLk4caJrCguEDSguMEijYMQAu+uwfZ672v+FHe93nu9fnCmO3P+f87jn7nXGDIBNPiAD5limgk+oglsssoyf/E3/7FBAcZIEzKd0CXd1yslPve+ULm897kSvdJ9XdIJmfaBhzqnu1qTL5QrUVeb2tCGNtVVolyF5LWmuzqnUCPg47qsJalQqi2tq63W0GprXVtKVUjSki5rfIfC+rWP8xlf6GNPSoLf3RruDo6YCIet8CU/s21llCDiU77S6YJtMvZtEgJCxmlgz/mceVLDAY4Jbh4OL3cytinQaW4ygQMnOM4NJv2h8GEKD5Pc4LhwhFzgiifZA9fQqlMkeLjCBUJHk2s6VpBW4EIYITExIVYhMSClQMe4RjPgDNMixVfgJdhhgCjz0yDC8KQ0sGnOBFxUU2S1XsfENAaeBg5Hb4gCMsZQ0y46pnBFZQuiCrykiIkqnRAFOKYcZ0uC4fQj3J7+OyKsEleA46zjpMzXTnMjhmm4WlYeGScd8d7Q0VoY6Y8dvu6rzv0Qv3e0rFaxx48IFb52lsOg5XiGH67N8GQjCbKKVqABnmeOR+YdrgLJSGsUIq1pxeEwzyPHApkjqOWQ0KMYeAp6JLXzAxxkLDie8NRqMzYKenTpss02Xbr0KGpSjzB4yhNHh1nzAWFtZCKj119ZTakQEmCeWTqOlAUWjZhG7draYHRWu+YNYgwWWSB1iJfcsdcBcaWMHZK6fIQjJsBec4eXyBnkLDFjPiKCfUS0C4eICCv4miVyw4HBFj8xZ4oJD6QoH9UIE3PMsWXQF6FY5RtbbhCPuIdV9cU0sH+4x2p5kitrxfOYGVsPR3RieHgxIbbODI/xxoAADHJ+Y5Zk5w0cBQ+JIWGW38ltkNNOx8UaD2zR9V+jupTLV8nJFnnA2u73dahkg2W+5XkwshPl8PiXeyxbxV+ZO3/wvXWiWhll+hHW4Tv+tBpx1Xr8wK+WjhEMKIQRMIal/MKP9DjYhD7RQylRRy211VZLHSWS9FCT4ggmdFUvvLr9f4S2uvLSC109EhyEmrqtd4U21FZbGyqkd7qt5hEJQOiU5pXnequ3yqVc8zp1ZHif4rxWvFKl8tKKzr8XHIQCXfdvvLz8G11X8J4E/U7cUkst3Tqo+v8BGqkQrMMFpyAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUyOjAxKzAwOjAwKNkk2QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAD/0lEQVRIx5WVP2wcRRTGf29u9/44a5/Pd2cHEagIEgoFRYSQHMtSQkVJOsoICUVKi+gokFIgghubArAipTHCBVL448ZBFiI0caQ4whGKFRoTx3aS89k+fL7b3ZtHcb7zzdkOyWyzOzPf99773jezQsdQgAS9vMIIo7zJqwTAvyyzyG/8zj9UaIBw6FBUNKfn9Kquad3GsY001FAjja2Nta5relXPaU5FO1DSEd3nDT7kAwZiiaixS0gMeCTJkMbHUzaYYpK/iMQlUMjwLp8wHFNli01C3DhJ+snSgwd/8Dk32JV9AoUM7/Opvl6nRInQTa6lDkny5EkhS3zGD00KAYUk7/GFvrbDKtvoUSKhCH28xDHkAR8zQygIqOEtvtbTO6xQ4UiN25n08jLHkNt8xIJYo5DlEqdrrP4vvLlaYZUanOYSWcXgc4bzMSW2D9S9/7gU25SI4Txn8A0BF7SvSsmpXVES9FGgQB8Jh0RQSlTRPi4QeJxktEGZyIELOfKkSAAN6pQodwQQIsr04I1y0uOsBhFbXVoPUSS5B/BJkSbJupPjFoMkAjlrGMHUiBydsxTa8JaNCmTbfgCIqIFhxHDKml2HW8iR6uqGkCLn7FF2sYZThuMqobM5cwDeosg4MyEqHDekwDoLCcyhHjAknG8LkDJYugDW6XunuLaLELCGkuA7C3WiQyiUiLoz4yNQMtwXm3ZqjdiicYCgwZbjFUgjlvuGW8am8RynldnoomiwQdmxmkcaY7llmCXyCZwcYtZYp9qeqbLOGrETP8CHiFmPBe567wywje2wasgaFTL4QMQuOx2roBgG8OAuCx5lJs3bgclSdrKwVKhgWu3qckaWAGOZpGwImWXOp0i669gKYLHt9/34aYr4MMcsoUF5xBV5HDBIoqt9sve47UwwSIA85gqPUCMQc5MxY3MMwBEm2odDnhymwZfcJBYMCOzwPdOeFuh9JkXzRszjKdNMsyMtP6IsMy6LPRRJHkmhQJIiPcifTLDc3Gb2FLbMMyab/RSOOErNzQX6kU3GmMcKbQIQiPmZSannySKHngWhnzxSZ5JfiKVN2lJceco1mUtRJHOgDAUyFEmpzHGNp/v/1458BRb5igd9FLrOJ4BPgV74mwkWOxvrFCxwg28p5+nHdOSgGPrJQ5lv+NX1RbdiNab4KREOEbSVUISAIRIhP/IdNZ5FIPCQCe6kGdxraLN5g6ThDhM87L4tD/RMYJ5xVrIU9+7ABEWysMI4tw9etoc3/TpTUimQxWDIUkAqTHGd5x2KntAZjat6T+9pVTXWGT2hz41vUgzrktVN3VSruqTDLwQHRT29aJ9YtWqf6EX1XpAAFA30spa0pJc1OBr+H/Nbm042akI7AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MjoyOCswMDowMP9kZncAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAEJklEQVRIx5XVT2xc1RUG8N+9M2M79tgxJDLR1MHYjosQrdRFVFUKUSToqsuy6xJVqpDYVuy6qMSiKmSTdNHWQmKTqllUon+yIFRRVbohSAQRgRxRJXWwSQzGjpzYnsnMOyzsOPPGNoX7Nk9P9/vO+b7z5yVdJ6Bi2FEnnfI9j6vjrnlX/cu/3bSmQ7LnCZHikXguXo9b0SzarWIzNmIjNqNVFO1oxq14PZ6LRyJFFyp1Ra95ys/9zKPNtOmuVeta6DNoVN2A/vClc2Z97H4qEwQH/NjLTrSsWrTonnKcIQ0No/r4j99420Z6SBAc8FO/iu+u+Z8b1iVlpYEw6AkThqVrfu0vWxSJoM9P/LY49qWP3RL7mSQkRzzlUfkTv3RBK0lE9gO/j+PLPrQk7QvfNtqY7zskvecXrqQiBwe95Piaj/4vnCRZ8pE1jnvJwZDVPOP5phtu98BDKBSix87kthuaPO8ZtazuhRhZdb2kPYSaMVOmjKmVSJJw3aoY8YJ61YxTLQs25S549h2ThlTRds91CwoPa79pwaj+U2aqno36psVS9GTGMYM73+qGDbrWlWOyaFpfPT2bnYy8ZqOUfMOkoS7KZMikRknIhjWRncye7uQ7Jf0V44Z3+T9sXKXkwx2d7OnsSKT1nqv1PYqZ1Hto10VyJOsPnVLx+rsidZ+K/lJBO4L+rEg9gLZiT4JCu4cwUWTLyUAp1bs2SpEeZLbhbknagMRyNpeLsram21q7CFpua/Z4lQtz2bu5GFHbiZkkN833pNs272ZXq4eaEbnwbnYx3T9grCSiac6c1Z0vq+bMaZYEjDkg3Xex6ooP+n501C2drj5bN2fJQQPYdMeKdqlXK47q4wNXqlbMVn54ODfMl3qvbcnS9izYNacNh1UKs1aylosuDZgy0jO2WdLR2X7rho+YMsAlF7WysOjVvHTYjGpP+dL2Uy5nzYzD8pJXLYqcaHvH6UoxboI9OqAMZ8K4Ssdr3tFOMol7/ux8f0wa+1qKwJgn9IfzzruX2N4iYd6ZdHXUtKF9KQJDpo1KHzprfuta3tKqcNnpvNowsc8oQcWEhrzqtMuKLW/yA7u0/d1sbk5qSHvOQtIwKTfN+of2A2t3FmEKX3gjXdpKsldGYNS0oUiXvOGLh//Xh5tU4qrf+WTMpP5dGQyYMsZ/nXW1u7C5+1LibX+0MuGoSlcOoWLc46z4g3+W+yL3BNp0zt9qrWMO7TgRkkOOqbX81Z9s+jqCxKfOen/EkwbZ3sODnjTC+876tHdb9mYgcdkZC4+ZVgVV0x5jwRnv7V62uwjAm87ltUkNWd4q3ppz3vRNT4jxuBDt1Xgr3orViHZciPH4xvgtihNxrYjP4rMoIq7FiW8FJ0Q1Xiw+70Qnis/jxah+SwJC1OOVWI7leCXq+8O/AuFKp/3c1qOQAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1Mjo0MiswMDowMJ17ML4AAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAER0lEQVRIx5XVS2xV1xXG8d/evrbxC7CpMbVSECGg2qlRU5tXDEVNOmmHzazDqFIVKdOqsw4qZVA1RZGgg7ZWpEyoyqBS+qADgpxSOglYkIQE2aFCIuGNMcEOhsu9Z3WAgXts0yb7zI7O919nfevbeycNK6BJl2/YY69vWa8Tcy4445/+5VOz6iTLrhApuuPFeDOuxL167W4xF7fjdszF3aJei3txJd6MF6M7UjSoUkP1ZgN+4sd67qRZ110xYx5tuq3Tq0t7uOmgMWfdT2VA0Ob7fm503iUf+9iMcp1ugwb1a+PffuUd8+kxIGjzI7+ILTdMmHBLVu40UFht2LCvSVN+6c8PEImgxQ/9unjmgnFT6vLyJik02eJ71svn/Mxh1SQR2bf9rhi54B/OS0/y+KHRNvqB9fJJP3U6FTlY5VUjNxz9v3KS5LyjbjDiVatC1my3l+446ZNF8lAsPLEI8YmT7vCS3ZqzTi/HyosmRIM8FFbYbJttNltRgiRhwkWx0ss6Kzbbe8dHZhusC9mQYWu0oGrahA8VHs9+1kf6dey1ueKF6JxztlQ9222X7kfv1ui1yvES4qxd2jvTC9meIl/zecnnAdsb5A9itN2AaGjkc9cU2Z7s2Vq+Wuq/YsiaRdNI1hhSKflwVS17NltXTzMl73v1LBOlrEdvaR4z6sm6rDXUSoB2LctmoEV7CVATtGZF0lz62ar6soC6aqmxZokim846SoCbbpcqPfyz226WAB0y09lkpVhbAsyZMr8EMG/KXAmwVqUwmb3XVPRpa6iZfeCUakledcoHpai16dNUeC87ku6v9HQpqnOOedflhXfhsncdK9UPT1sp3Xek4rT323duNan26INsxjHn9enCrKs+VS3Vb7ZVO+87XTFjrLJ9Yx50WlNDG/edc25hL5BLySgM2qhSGDOTVR0x3mWHPkXJzCZZTU3WVDKv0GeHLsYdUc3CJa/naxs8r3XR+NLCUx7nCqM2yNe87pLIiZrj9jUXWw2zTALKcr5jSHPdbxxXSzKJL/zJoY4Ysam045bKwyYjOsIhh3yRWPAmXLA/nem3Q88TESH02KFf+tABFx58lh/0qnDCvnxr0PATthK0GDYo37LPCUXyCECi5m/GKveGfVNadi8kA4ZV7hnzd7XHmXnoeLjhrTTeY6evLzEz0G+nnkjj3nLj8f3akI/EGb917hnbdS4BdNpmE/9xwJnGwZaOnsQ7/mDmOUNaGhChxZDnmPF7R8u5WHx23XXQX1dUn7f+kRMh2WDUiqq/+KO7/hcg8ZkDTq31XasXRsdqe/RyygGfLb76lpyeiRP2u7jFTq2g1S5buGi/k0tvzuVv8rcdzLPbDGjSZMCIPOugt33ZFeKpOBy1y/FGvBGXI2pxOJ6KL61/gBiNqXpMxmTUI6Zi9CvJCVGJV4rrtahFcT1eicpXBBCiM16L6ZiO16LzyfL/AjzmtojnBFLlAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1Mjo1NCswMDowMDIBBRoAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAAEXklEQVRIx5XVS2xdxR3H8c/MuX5g/CBGTQzkATIggQt1K7fNgzgI5YVDWmjaRdsdrRQhsa2666ISi6o0m6SLtu6CRYIS1Er0EdGYEKV1GwlbTaxGRYkCgWAiYuKH4kaxfX3PdOHg3HPttDBnNXPm9x39/vObmaCqJci0WGOzLb5orWb8xyVnnfQ3H5pWIVRpQkEe3OUrvq/Piko2G8shR1SXGvKsYtJRB/3TlBSWAhJ1HvFD39N+LUz40EVjptFipQes0a41mXBIv3eUQxGQuMNWP7Zp2rtO+YcrKov0JLPKRht0auHvfuZNN8ItQOIO3/KT9PCoYwaMiUV3EnIrbbPdauG8n/r9AiKQqNfn55UH3/GqIRXR8i2X+arvekR2wY8cNRcEUtTtV3nPv/3WiFhYubYluS/5gUfFYXudCXlMtHlRz6iD/1dOEI04aJQeL2pLojpP2HPNG4Zr5EmuoiJfyEcVYtgbrrHHE+pKmj2ft15wTF7lPUnu9LBVuOK864JbG5c7pkd3a3zeYMlDtkwbNCGrkke9drhXI2Zc9hd/lS8iogmDOrVt8VDJU6l5yqnC6tEe39CxKLjXal/wuwLilG9qbQ5PRZsr8QNXC8436KuSE3Tos6FQjas+UIk2R11z8X2panq9XvfV7EZwn171Vf3kfXNRV9QxH8YKYVnrnmWiFN1jrbxqZMx80BE1JLOFqS0al81Ao5ZCf1aiIcpDjeCG8rKAshs1wEAejWfaCm4/Nl6IzqfFHfdxoTJtMsajc/X5uoLXScOmlwCmDZss1Gad+ty56O26fJ3mqjUzJx03U5DPOO5kIWrN1qnLvR0NKN/t8SpAMOU1h723OPKew14zVWUgedzdlA2UnDHSuv5JQ8pVObviiBEPaMeEi86ZKWS13pNaGXGmZFJ/3dceixu9pVRViVmnnb55FsgK7iu2eExdrt9kNGfAiXa73F+ISZDJlJVlskL1c/fbpZ0TBsxFyWUvZ2NdntVUc/JvfdXbeafndMnGvOyyFAPzBu1ryHttY5kEFNPANr0aKn5h0HwQCVx32JG70k7d0v9AJEm3HdqSI464HrhZm+SS/eFsp11W3RaRJB2e0Sn8ywGXFqbFBbdyQ/ZlUxtt13hbQKPtNsqm7DMkDxYBBOb9SX/97E5fF5c9C9F6O9TN6vdn87cy82nNk6teCSc67Na5xEaSPGi3jhROeMXVsPi7Kh+Bs37pwpf1WbEEsMLTunnXAWert7Vw9QTe9BuTW/VqqEIkDXptZdKvHS9edrV314xD/tg096xHFyuRRF2e0zTnD16tOaa1gMCoA06v9R0rb3pnpW9bw2kHjNY+fUtuz8CQ/T7q8Ywm0GS3Hj6y3/DSl3P5l/x1h7Lpp61XUrLeTtm0Q173WVuSVqejaf5i2pv2pospzaejaXX6zPoFxKZ0vpKG0lCqpHQ+bfpccpJUSi/kn5RTOeWfpBdS6XMCSFJzeimNp/H0Umq+vfy/0JikOgfvvUIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjk6MzcrMDA6MDBKWqC/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIyOjUzOjA1KzAwOjAwM1Rr9AAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAApCAQAAAD+fOO3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRkAISsCR/pcAAADzElEQVRIx5WVTUxUVxiG33tnhmF0iJ0iCVF+NJpghTSUVNOoTTMrCS1qm4mJZVFSu+h048Jg2dCdSatb3TWkTaw2ISkbBY2waGBBJGmsoggkasEfyDhDsQjM33m6YGjnzgw4fmd1v++8z7nnnPecYykrkCSXylStD/WRGlQjv6RFTWtMv2tIM/pHacnK0lgOuaW31KQ2tSiQci3bcSstySUvPuNOa159+kV/6G9h5QOQPHpHX+lzvR21ZjWhO/pL85ICqtW7qlOlylFMl/WjxpXM/gtJCB+tDEOMQU6xEwtlNYudnGKQGMAwrfjIk7cxYRink20OaXbbRifjGJigLQuBKOEYU0mGacFeVy6ETQvDJGGKY5RkENg0MZpmiEMbitfaIYZIwyhN2KvjB+iG+xwuSi7EYe4DdBNAwkMrCy/owFU0wEUHL2CBVjwiQG+am1TkdSsjSDvtBCnLq1VwkzT0EhD7iUUI5y3WcfqZ5BnPmKSf43mLGyYCMfaLTpO4x/acXT/NQwxrYXjI6RxnbOceJkGnuJZI9eQUj/IgS76KeMDRnEF6SKS4Zqt+xR5Ttq88Cmm3nFa1tFsheRzmG9OKrXpblUlr2tG5TrvkUm64tEt1jsy0kpYqbXmNlh2Fcm1Wodiscsf3sozktWVsbXIUFhUvCIhr0fG9SbZkbEXdqnAUHuu5Y03W5vxcjx2ZCrmlqK0Jr9nrKER1XbE8QEzXFXVk9sprNGHrltfUa4uj1KNLeuXIvNIl9TgyW1Qvr9Et0czSU47k+KyaLm5nvGC4TRfVOT2O8BSWaLaoVG/8g9/0pVYcI/i0Tw2qlDSrMY3m7FSpuvWZvCP6VHg5SXqGUMFzV0JJwXyIGUhzEq+wqGEgyQB7ij7OexggCQPUYAnhppm5JS7gL0pexgWWYI5m3KzuMH6+JT3L1zmHqlCz+IY5SHEG///XqsUOrhgzSvA1CIsgoxjDZXZkvS4ImwPcSXKFmg0BNfxKEv7kAHbuy+ChnfkluihdV+7jO5Zhni/w5Jkdi62cNyuPCOEuKHcT4hFmhfNsxVJ+IBroh0EaCwLeYxAM/TSgdQLxCVNwscAdXcFFgCk+XlcuSZRyhtgC4ZyV8BFmAWJ0UKoNAaKKn4nfJ5j10LgIMg5xfqJqw/EziH2MwFVq/wPUchVghPdfK88g2niS5PuMtf38QBKe0FaUPGPtc7yMcAIPHk4QgZecy7JuEYgq+kjdpZFG7kKKviJmn4M4yGSKG9wgBZMcfCO5Vo0XNpEECUyEcObgviHCz1miRDm70ez/BYYI/lv2W3BZAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI5OjM3KzAwOjAwSlqgvwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMjo1MzoxNiswMDowMM4WcfcAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC",anchor:[.5,1]}],drawing_api:[{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABfxJREFUWMOtmF1sHNUVgL9zZ3a9u97gXRITO4CwImhpAqXioQ2oeWgESPAUgRQk4AHEQ4uQqJAQP614QFVRItSi/tD0CRVo08gR/xAhkQRIIhMURJxAfm2vHdzY63g3Hv/P7s7c04dxCm7WYXbJkUZXmtl7znfPOffcc1doUn7/smJSgIHalUiiyApR2lBSCC4QKPiAN62Uc4IaB5al4Zd3SVM23WZh3Sz4g0hLF2sSo9wCrAduAjqALDADFIHDy4S9Fg78fC3H9h5Bm7XZ1BI3dyuidChsUrhP4GcxNB4AtonQLZaxJ+9t3HRDM7Z0Kwiiyg9RnkLYBGTizFUFEeZQug1ssYaTVtHfbIqP0FgaWATDtcDvFDYCblxTIqCQEXjAChlVfmuFAYifFqYhrxpyCo8BG0Xig/4PGFDBVbgbeMyx5J7fHj+FY8OiOMAG4EG+x8aU6HFRHgI2CDiXFPb5HYoa8gqPEu30C9eiYBVCC0EYjVaj90tIFviVFfJxvRvXQ0bhx8BP64V+YfNoZ57itZ04LUlylSpe3yhh8Rwdqoj830QRUOUWgRuBj4mRu7FgBQzK7UBLPVDAXreKcxtuglyWVqLQtq65hqndvZT7R1heDxhoEbgN2AcE3+mxWLCKEVhTL78UyGeZXL+W6VyWlfANbD7LyvU3MJ3L4tVzm4AjcINIPI54G0wRlA7q1GVVaGslvaKN5XX0mSvauDzXSlrr0wrCSiRevY+Xs5Gq1FKfHYMrSxgUocWYpXe8QjoWQ2zPRjK51DrmKsz4VUr1vvtVSvMVZpdynSiexCy1cWEt0AeEdTzH+CSp3gJWlelFXlOmDw2g45OkpT5tiHAKwcaBiFu6rEIPUdOyKKQiEISkDpxgpV9l+Cer8ZIJ2qs1xnsLVHsLXB2EJJeArRE1OJcQVrCqfCTKCMLqet71qyQPnqKrdwDE4KhlVS06HBxZKgeUEZQ9EtOzcdNAxTIKbEPrKxaJwPwaznwF/BrORUGjaP0LoYjEa2Zi9yKbtysq/EDgFYR1ceddRD4V4cG3/7Tx1OhwL8ZCaA2OY7EmKi0Z32d9scjWRmEBNndrgqhjehHobJZSVUfnZ849s+OP97wTzAwlAnCNxYTWGMexoTViBapp35/70eSUf6T9CjoTtuHuqQa8C9wMPA4k4gOe7wesPXNq/8mPtz+er0ydvdcYxzVgMIhjFEBNdDBavyUVHGpPTRg4OhpKX8N3i83dCtClyt+BOyTm6bOAjHd2oLB3x1PvFQufecZxRRcdXwrIwspAVQCswLxFP2zkUADg6egacpooFQYbmevPet6xT//ZUxw8OCHGVRArUdlaeCQaRSyIFVErgiiaQTXXMOwCsNZy7BJ4CWUuzhwb1oKvj+/5/MSBbYMipm4LdqGIoCoqMqLG9DUFC+BdSSjKPxTe0ov0oqqgqpTOfHX80K4/HwqDqo0BKkQ9tA8cNrDTpFJnmr6erDoMk2kmMgEviOr1CjfXgxCB2cmxscMfbe2ZKg3NccFvVEDO98WKYFGdA/oROQkMT6TTM221WkONzCJ54n4hHaAuHLFB7UW14fR5T357DGt+pe+LN3pOH9s9hsj58EfhVYyqgGoAzAJDCrsd131N4YM7h4aOAzNXex6F/v7m/uT4tmzpVrzSUD6zrP05N5F+RIxxvylTQTh8Yt/B/a8/88mMN+Ib4wggGl0bqsCsKhOCnhYxfSGMqxDMl8thaz4PjsNAobAoN763/PqFg5LOrLgxc9mKrYlk5lYRAyjeeGGw581ndw6f2FsyjusQ1ekJETkLjIrIsOO6Z1Bq1gaEtVDVdchks3z15ZcXptSlgAV4+qVB3GTynnS2/S+Ok+iszE1O9+75687ePX87atzkhMAoqv9RKGZSqbH5SsUXEZxEgqvWrWPXq69+p41LBgvwyHMfpC7vWPtsSyb/8Eh/zyf7dzy5bX723KCIKTsi3nAyOdvp+7Qkkxzr62tYf9PVoJ6kWpf7XnnoD8vd1L9LI0cnvFKhzNkpP9XVharyi1KJ98vlpvX/F5vAnOxV5r8nAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTI1VDAwOjI4OjU5KzAwOjAwM8i5WwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yNFQyMzowOTo1MiswMDowMAXwvhAAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAgCAYAAACLmoEDAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH5wUZACIpx2TIswAABihJREFUWMO1mF9sW2cVwH/n+6597aRVbLykf0S0iiJGpwLSGkGHtAcmQOINDWlIEw9DvIAmTeKhoAnxgHhCCFVa1UIRDxBEkaZ1He2YUCnQDalUqdextmvnpUs60sVxbMdO4tROfO93eMhNadO4vXbLka6u7v3uOefn853zfeez0KMUCgWazSbOOWZnZyWXyz0EDIhICvBUNRCRFlDPZDLVubk5tdbi+z67d+/uyafXK+z8/Dy7du2SQqHwaC6Xexx4AvgcsBXYBDSAGeCder3+pjHm7NDQ0OVSqaS9+pRelPL5PM65rcaYp4FngC9s9J3q/7hE5CxwREReUtXSyMjI/xd2bGwMa62o6iOq+kPgaaBP5N5mVBURuQG8BPxMVQvGGN2zZ09s/12lQRiGYoz5JPBT4OsiEls/+kF9qvotEekTkR+JyAdA7LQw3UTV87yMqj7fLeg6aE9VnwKeV9VMPp+PrRsbVkQs8CTwLPdRmGvAwLdV9UlVtQ8UNiqoLPAcq5V+h6gqqopz7ua19q6DbAK+a63Njo2NxYKNGyFjjPmsiHy+Eyig/f39MwMDA9bzvEwQBPX5+flwaWlpq6pKhyJ8PAzDzwCniZG7sWBV1QBfUVV/vdMI1GUymbnh4WF83+8HLNCfy+UWpqamqvV6PbcRsKr6wJdF5J9AcM+IxY0s8GgEcYekUqn57du3L/q+vwW4Cev7/pbofb2DXQvsjssRK7JRSLbSYV1OJpPpdDptN3Bq0un0x3zf95eXlzc0DWwh5nrfTVWnNnoZLfZep6QUEV9EbPTd+jGAdFyA2EsXMN8BhiAIGkEQVDYaD4KgEgTBUqddTlXrd1kxuodVVaeq40C40Xiz2UyVy2Wnqovr9BbL5bI2m81O0QtF5H0RcXE44qaBA86o6jPR5nBbZJ1zqVKptCUMw6nBwcG6MWbQOVcul8srlUpl2DmX3CiyqtoGzkb2Hwysqjpr7T+cc9PAJ9aPR6mQLJVKOyqVCqxW+fYwDFFV2ykFRGQa+HsYhrFg4+ashmFYBI50ioKIoKo2CAIbBAFBENi7gUZ2/gDMiEispI3dIkbt4adU9XfA3rh6d5F/WWuffWHfvvcL4+MYB6EzWOtwRhCgr9XiiZkZftktLMC5c+cSIvIUsB/Y1iulqhYXFhZe+MG+fccXqtVEAJ5xmNAZY60LnREnsJJutW7sml9oXRgcYlvCddc9iUgbOAE8BnwfSHQBuFaM7uKFC4WDL76YrdVq37TGeAYMBrFmtccwq32Ca/mp4O3BVM3Au8VQxrs+1kT95w7gV8BXu52d69evTxw+dOi1K5cv1z3PE73NQPSkGt0EwAk0HfrXbjYFAKKz04equl9VJ7vRXVxcrJ86efJM4b33atZajUAcNy9ZvYs4ECeiTgRRtA/VTNewEbA2m81TwEFVvRFHJwiC4Hw+nz918uSkiBDn3AYiqIqKTKsx4z3BAjQajVBEfisir3KXXnStAZ+cmLhy9OWX32632y4GqABGoQW8Y+B1k0p91PPxZGhoiGQyWVtZWfm5qn4aeGwjCBFhbm6u9Kdjx87MFIs37vxGBYSoPVAEx+psXUWkAEzV0unGQLvdVSNzm4yMjNBut1VVLwRBsN85t7gWyVvvK8vLy2+ePn3mrXy+dMv0r06vYlQFVANgCbim8Dfreb9X+MvXrl27AjSG63Umrl7t7U+OWyWfzzM9PZ3NZrM/8X3/e8YYb22ZUtXw3+fPn/v14cNvVCuVljFGAInGV4AlVWqCfihixkMoqxA0q9WwP5sFa/lgYuKmr/s6pa5FeHR0tC4iv8lkMntSqdQX16a6WCz+57UTJ94qz862rLU2alxqIjILFEVkykt4H6G0nQuQdqh4locefphLFy/emVL3C7smx48fJ5FIfCObzR7wPG9bo9FYfPWVV14/dvTou14iURMoonpdYaYvlSo1l5dbIoJNJPj43r2cGh29p48HBgtw4MCB1M6dO3+8efPm71y6eOmNw4cOHllYXJw0IlUrUp9KJpe2tVr4ySSXx8e7tn/faXCrZDKZVqlU+kUymfzj5ORkbbpYrJpqtbVpxw5UlS9VKvy5Wu3Z/n8BcY8RVtNG93EAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjVUMDA6Mjg6NTkrMDA6MDAzyLlbAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTI0VDIzOjEwOjQwKzAwOjAwY15brQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]},{src:"data:image/png;base64,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",anchor:[.5,1]}]};var jy=yt.getLogger("DrawingDOM"),By={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPdrawing"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowDrawingPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowDrawingPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowDrawingPicto gpf-btn gpf-btn-icon gpf-btn-icon-drawing fr-btn",t.title=this.options.labels.control,t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowDrawingClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowDrawingClick(t)})),t},_createDrawingPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPdrawingPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createDrawingPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createDrawingToolsDivSections:function(){var e=document.createElement("div");return e.className="gpf-panel__content fr-modal__content",e},_createDrawingPanelHeaderElement:function(){var e=document.createElement("div");e.className="GPpanelHeader gpf-panel__header fr-modal__header fr-m-1w";var t=document.createElement("div");t.className="GPpanelTitle gpf-panel__title fr-modal__title fr-pt-4w",t.innerHTML=this.options.controlLabel||"Annoter la carte",e.appendChild(t);var n=document.createElement("button");n.id=this._addUID("GPdrawingPanelClose"),n.className="GPpanelClose GPdrawingPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",n.title="Fermer le panneau";var i=this;n.addEventListener?n.addEventListener("click",(function(){document.getElementById(i._addUID("GPshowDrawingPicto")).click()}),!1):n.attachEvent&&n.attachEvent("onclick",(function(){document.getElementById(i._addUID("GPshowDrawingPicto")).click()}));var o=document.createElement("span");return o.className="GPelementHidden gpf-visible",o.innerText="Fermer",n.appendChild(o),e.appendChild(n),e},_createDrawingToolsSections:function(){var e=[];return this.dtOptions={},this.options.tools.points&&(this.dtOptions.points={label:this.options.labels.points,active:!1,panel:"draw",id:"point"}),this.options.tools.lines&&(this.dtOptions.lines={label:this.options.labels.lines,active:!1,panel:"draw",id:"line"}),this.options.tools.polygons&&(this.dtOptions.polygons={label:this.options.labels.polygons,active:!1,panel:"draw",id:"polygon"}),this.options.tools.holes&&(this.dtOptions.holes={label:this.options.labels.holes,active:!1,panel:"draw",id:"holes"}),this.options.tools.text&&(this.dtOptions.text={label:this.options.labels.text,active:!1,panel:"draw",id:"text"}),this.options.tools.edit&&(this.dtOptions.edit={label:this.options.labels.edit,active:!1,panel:"edit",id:"edit"}),this.options.tools.display&&(this.dtOptions.display={label:this.options.labels.display,active:!1,panel:"edit",id:"display"}),this.options.tools.tooltip&&(this.dtOptions.tooltip={label:this.options.labels.tooltip,active:!1,panel:"edit",id:"tooltip"}),this.options.tools.remove&&(this.dtOptions.remove={label:this.options.labels.remove,active:!1,panel:"edit",id:"remove"}),(this.dtOptions.points||this.dtOptions.lines||this.dtOptions.polygons||this.dtOptions.text)&&e.push(this._createDrawingToolSection(this.options.labels.creatingTools,"draw")),(this.dtOptions.edit||this.dtOptions.display||this.dtOptions.tooltip||this.dtOptions.remove)&&e.push(this._createDrawingToolSection(this.options.labels.editingTools,"edit")),this.options.tools.export&&e.push(this._createSavingSection(this.options.labels.export,this.options.labels.exportTitle)),e},_createDrawingToolSection:function(e,t){var n=document.createElement("div");n.className="drawing-tool-section fr-m-1w";var i=document.createElement("p");i.className="drawing-tool-section-title fr-m-1w",i.innerHTML=e,n.appendChild(i);var o=document.createElement("ul");o.className="drawing-tools-flex-display fr-m-1w";var r=this;function a(e){r._handleDOMToolClick(e,this.id,r),r._handleToolClick(e,this.id,r)}for(var s in this.dtOptions)if(this.dtOptions[s].panel===t){var l=document.createElement("li");l.className="drawing-tool fr-m-1w",l.id=this._addUID("drawing-tool-"+this.dtOptions[s].id),l.title=this.dtOptions[s].label,l.addEventListener("click",a),o.appendChild(l)}return n.appendChild(o),n},_createSavingSection:function(e,t){var n=document.createElement("div");n.className="drawing-tool-section drawing-tools-flex-display fr-m-1w";var i=document.createElement("button");i.title=t,i.className="tool-form-submit drawing-button fr-btn fr-btn--secondary fr-m-1w",i.id=this._addUID("drawing-export"),i.type="button",i.textContent=e;var o=this;return i.onclick=function(){o.onExportFeatureClick()},n.appendChild(i),n},_createMarkersChooser:function(e){var t=document.createElement("li");t.className=e.className;for(var n=0;n<this.options.markersList.length;n++){var i=document.createElement("input");i.type="radio",i.name="marker",i.id=this._addUID("marker-"+n),i.value=this.options.markersList[n].src,i.className="marker-input-radio",e.defaultValue===i.value&&(i.checked=!0),t.appendChild(i);var o=document.createElement("label");o.className="marker-label",o.setAttribute("for",i.id);var r=document.createElement("img");r.src=i.value,o.appendChild(r),t.appendChild(o)}return t},_createStylingElement:function(e){var t=document.createElement("li");t.className=e.className;var n=document.createTextNode(e.label);t.appendChild(n);var i=document.createElement("input");try{i.type=e.type}catch(e){i.type="text"}return i.id=e.id,i.value=e.defaultValue,e.title&&(i.title=e.title),void 0!==e.checked&&(i.checked=e.checked),void 0!==e.min&&(i.min=e.min),void 0!==e.max&&(i.max=e.max),void 0!==e.step&&(i.step=e.step),t.appendChild(i),t},_createStylingDiv:function(e){var t=document.createElement("div");t.className="gp-styling-div";var n=document.createElement("ul"),i=null,o=e.geomType.toLowerCase();switch(o){case"point&text":case"point":i=this._createMarkersChooser({className:"gp-styling-option",defaultValue:e.initValues.markerSrc}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.markerSize,title:"petit, moyen ou grand",id:this._addUID("markerSize"),min:5,max:15,step:5,defaultValue:10*e.initValues.markerSize}),n.appendChild(i),e.initValues.markerCustom,"point&text"===o&&(i=this._createStylingElement({type:"checkbox",className:"gp-styling-option",label:this.options.labels.labelDisplay,id:this._addUID("labelDisplay"),checked:e.initValues.labelDisplay,defaultValue:e.initValues.labelDisplay}),n.appendChild(i));break;case"text":i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.fillColor,id:this._addUID("fillColor"),defaultValue:e.initValues.fillColor}),n.appendChild(i),i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:e.initValues.strokeColor}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 Ã  10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:e.initValues.strokeWidth}),n.appendChild(i);break;case"line":i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:e.initValues.strokeColor}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 Ã  10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:e.initValues.strokeWidth}),n.appendChild(i);break;case"polygon":i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.strokeColor,id:this._addUID("strokeColor"),defaultValue:e.initValues.strokeColor}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.strokeWidth,title:"1 Ã  10 pixels",id:this._addUID("strokeWidth"),min:1,max:10,step:1,defaultValue:e.initValues.strokeWidth}),n.appendChild(i),i=this._createStylingElement({type:"color",className:"gp-styling-option",label:this.options.labels.fillColor,id:this._addUID("fillColor"),defaultValue:e.initValues.fillColor}),n.appendChild(i),i=this._createStylingElement({type:"range",className:"gp-styling-option",label:this.options.labels.fillOpacity,title:"0 (transparent) Ã  100% (opaque)",id:this._addUID("fillOpacity"),min:0,max:10,step:1,defaultValue:10*e.initValues.fillOpacity}),n.appendChild(i);break;default:jy.log("Unhandled geometry type for styling.")}t.appendChild(n);var r=document.createElement("input");r.type="button",r.className="gp-styling-button",r.value=this.options.labels.applyToObject,r.onclick=function(){e.applyFunc.call(this,"apply")},t.appendChild(r);var a=document.createElement("input");a.type="button",a.value=this.options.labels.setAsDefault,a.className="gp-styling-button",a.onclick=function(){e.applyFunc.call(this,"default")},t.appendChild(a);var s=document.createElement("input");return s.type="button",s.className="gp-styling-button closer",s.onclick=function(){e.applyFunc.call(this,"cancel")},t.appendChild(s),t},_createLabelDiv:function(e){var t=document.createElement("div");t.className="gp-label-div";var n=null;if("Text"===e.geomType?((n=document.createElement("input")).type="text",n.className="gp-input-label-style"):((n=document.createElement("textArea")).rows=2,n.cols=40,n.className="gp-textarea-att-label-style"),e.text&&(n.value=e.text),n.autocomplete="off",n.placeholder=e.placeholder,n.id=e.inputId,t.appendChild(n),n.onblur=function(){e.applyFunc.call(this,e.key,n.value,!0)},n.onkeyup=function(t){"Text"===e.geomType&&13===t.keyCode&&e.applyFunc.call(this,e.key,n.value,!0),27===t.keyCode&&e.applyFunc.call(this,e.key,n.value,!1)},e.measure&&"Text"!==e.geomType){var i=document.createElement("input");i.type="text",i.readonly=!0,i.className="gp-input-measure-style",i.value=e.measure,t.appendChild(i)}if("Text"!==e.geomType){var o=document.createElement("input");o.type="button",o.className="gp-styling-button",o.value=this.options.labels.saveDescription,o.onclick=function(){e.applyFunc.call(this,e.key,n.value,!0)},t.appendChild(o);var r=document.createElement("input");r.type="button",r.className="gp-styling-button closer",r.onclick=function(){e.applyFunc.call(this,e.key,n.value,!1)},t.appendChild(r)}return t},_handleDOMToolClick:function(e,t,n){for(var i in n.dtOptions){var o=n._addUID("drawing-tool-"+n.dtOptions[i].id),r=document.getElementById(o);o===t?(n.dtOptions[i].active?r.className="drawing-tool":r.className="drawing-tool drawing-tool-active",n.dtOptions[i].active=!n.dtOptions[i].active):(r.className="drawing-tool",n.dtOptions[i].active=!1)}}};const Fy=By;var zy;function Vy(e){return Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(e)}function qy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Qy(i.key),i)}}function Wy(e,t,n){return t=Jy(t),Hy(e,Yy()?Reflect.construct(t,n||[],Jy(e).constructor):t.apply(e,n))}function Hy(e,t){if(t&&("object"==Vy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yy=function(){return!!e})()}function Zy(){return Zy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Jy(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Zy.apply(null,arguments)}function Jy(e){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jy(e)}function Xy(e,t){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xy(e,t)}function Ky(e,t,n){return(t=Qy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qy(e){var t=function(e,t){if("object"!=Vy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Vy(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vy(t)?t:t+""}var $y=yt.getLogger("Drawing"),eA=(zy=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=Wy(this,t,[{element:(e=e||{}).element,target:e.target,render:e.render}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n._initialize(e),n._container=n._initContainer(),n.element?n.element.appendChild(n._container):n.element=n._container,Hy(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xy(e,t)}(t,e),i=t,o=[{key:"setMap",value:function(e){var n=this;Zy(Jy(t.prototype),"setMap",this).call(this,e),this.getMap()&&this.eventKey&&(0,to.unByKey)(this.eventKey),null!=e&&(this.options.position&&this.setPosition(this.options.position),this.draggable&&yy.dragElement(this._drawingPanel,this._drawingPanelHeader,this.options.position?null:e.getTargetElement()),this.collapsed||this._showDrawingButton.setAttribute("aria-pressed",!0),this.layer&&this.setLayer(this.layer),this.eventKey=this.getMap().getLayers().on("remove",(function(e){e.element===n.layer&&(n.layer=null,n.interactionCurrent&&(n.getMap().removeInteraction(n.interactionCurrent),n.interactionCurrent=null))})))}},{key:"exportFeatures",value:function(){var e=null;if(null==lu.prototype.getMap.call(this))return $y.log("Impossible to export : control isn't attached to any map."),e;if(!this.layer)return $y.log("Impossible to export : no layer is hosting features."),e;if(!this.layer.getSource()||!this.layer.getSource().getFeatures()||!this.layer.getSource().getFeatures().length)return $y.log("Impossible to export : no features found."),e;this.featuresCollectionSelected&&this.featuresCollectionSelected.clear();var t=null;switch(this.getExportFormat()){case"KML":t=new mn({writeStyles:!0});break;case"GPX":t=new Rn({});break;case"GEOJSON":t=new qn({})}if(!t)return $y.log("Impossible to export : format unknown !?"),e;var n=this.layer.getSource().getProjection();return n=n||this.getMap().getView().getProjection(),e=t.writeFeatures(this.layer.getSource().getFeatures(),{dataProjection:"EPSG:4326",featureProjection:n})}},{key:"setCollapsed",value:function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(this.onShowDrawingClick(),this._showDrawingButton.click()):$y.error("[ERROR] Drawing:setCollapsed - missing collapsed parameter")}},{key:"setExportName",value:function(e){this._exportName=e}},{key:"getExportName",value:function(){return this._exportName}},{key:"setExportFormat",value:function(e){switch(this._exportFormat=e?e.toUpperCase():"KML",e.toUpperCase()){case"KML":this._exportExt=".kml",this._exportMimeType="application/vnd.google-earth.kml+xml";break;case"GPX":this._exportExt=".gpx",this._exportMimeType="application/gpx+xml";break;case"GEOJSON":this._exportExt=".geojson",this._exportMimeType="application/geo+json";break;default:this._exportFormat="KML"}}},{key:"getExportFormat",value:function(){return this._exportFormat}},{key:"setLayer",value:function(e){var t=this;if(e)if(e instanceof rr()){var n=this.getMap().getLayers();if(n){var i=!1;n.forEach((function(t){t===e&&($y.trace("layer already in map. Not adding."),i=!0)})),i||this.getMap().addLayer(e),e.getSource().getFeatures().forEach((function(e){if("function"==typeof e.getStyle()){var n=e.getStyleFunction();if(n){var i=n.call(t,e,0);i&&0!==i.length&&e.setStyle(Array.isArray(i)?i[0]:i)}}})),this.layer=e,this.getMap().getControls().forEach((function(e){if(e instanceof Np){var n=t.layer.gpLayerId;e._layers[n].title===n&&e.addLayer(t.layer,{title:t.options.layerDescription.title,description:t.options.layerDescription.description})}}))}}else $y.log("no valid layer given for hosting drawn features.");else this.layer=null}},{key:"getLayer",value:function(){return this.layer}},{key:"getContainer",value:function(){return this._container}},{key:"_getsMarkersOptionsFromSrc",value:function(e){for(var t=null,n=0;n<this.options.markersList.length;n++)if(e&&this.options.markersList[n].src===e)return t=this.options.markersList[n];return t}},{key:"_getIconStyleOptions",value:function(e){var t={};return Object.keys(e).forEach((function(n){switch(n){case"src":case"size":case"scale":case"color":case"anchor":case"anchorOrigin":case"anchorXUnits":case"anchorYUnits":t[n]=e[n]}})),t}},{key:"_initialize",value:function(e){var n=this;this._uid=yu.generate(),this._exportName="Croquis",this._exportFormat="KML",this._exportMimeType="application/vnd.google-earth.kml+xml",this._exportExt=".kml",e=e||{},this.options=e,this.options.layerDescription||(this.options.layerDescription={title:"Croquis",description:"Mon croquis"}),this.options.tools||(this.options.tools={}),Object.keys(t.DefaultTools).forEach((function(e){n.options.tools.hasOwnProperty(e)||(n.options.tools[e]=t.DefaultTools[e])})),this.options.cursorStyle||(this.options.cursorStyle={}),Object.keys(t.DefaultCursorStyle).forEach((function(e){n.options.cursorStyle.hasOwnProperty(e)||(n.options.cursorStyle[e]=t.DefaultCursorStyle[e])})),this.options.collapsed=void 0===e.collapsed||e.collapsed,this.collapsed=this.options.collapsed,this.options.draggable=void 0!==e.draggable&&e.draggable,this.draggable=this.options.draggable,this.options.markersList=e.markersList||Uy.drawing_api,this.options.labels||(this.options.labels={}),Object.keys(t.DefaultLabels).forEach((function(e){n.options.labels.hasOwnProperty(e)||(n.options.labels[e]=t.DefaultLabels[e])})),this.options.defaultStyles||(this.options.defaultStyles={}),Object.keys(t.DefaultStyles).forEach((function(i){if(e.defaultStyles.hasOwnProperty(i)){if("polyFillOpacity"===i&&(e.defaultStyles[i]<0||e.defaultStyles[i]>1))return $y.log("Wrong value ("+e.defaultStyles[i]+") for defaultStyles.polyFillOpactity. Must be between 0 and 1"),void(n.options.defaultStyles[i]=t.DefaultStyles[i]);if("strokeWidth"===i||"polyStrokeWidth"===i){var o=parseInt(e.defaultStyles[i],10);if(isNaN(o)||o<0)return $y.log("Wrong value ("+e.defaultStyles[i]+") for defaultStyles.strokeWidth. Must be a positive interger value."),void(n.options.defaultStyles[i]=t.DefaultStyles[i]);n.options.defaultStyles[i]=o}if("markerSize"===i){var r=parseFloat(e.defaultStyles[i]);if(isNaN(r)||r<0)return $y.log("Wrong value ("+e.defaultStyles[i]+") for defaultStyles.markerSize. Must be a positive value."),void(n.options.defaultStyles[i]=t.DefaultStyles[i]);n.options.defaultStyles[i]=r}}else n.options.defaultStyles[i]=t.DefaultStyles[i]})),this.interactionCurrent=null,this.interactionSelectEdit=null,this.featuresCollectionSelected=null,this.stylingOvl=null,this.popupOvl=null,this.layer=null,this.options.layer&&this.options.layer instanceof rr()&&(this.layer=this.options.layer),this._isDesktop=this._detectSupport(),this.options.popup||(this.options.popup={display:!0,apply:null})}},{key:"_createEmptyLayer",value:function(){var e=new(Oy()),t=new(rr())({source:new(a())({features:e})});t.gpResultLayerId="drawing",this.setLayer(t)}},{key:"_detectSupport",value:function(){var e=!0,t=window.navigator.userAgent.toLowerCase();return-1===t.indexOf("iphone")&&-1===t.indexOf("ipod")&&-1===t.indexOf("ipad")&&-1===t.indexOf("android")&&-1===t.indexOf("mobile")&&-1===t.indexOf("blackberry")&&-1===t.indexOf("tablet")&&-1===t.indexOf("phone")&&-1===t.indexOf("touch")||(e=!1),-1===t.indexOf("msie")&&-1===t.indexOf("trident")||(e=!0),e}},{key:"_initContainer",value:function(){var e=this._createMainContainerElement(),t=this._showDrawingButton=this._createShowDrawingPictoElement();e.appendChild(t);var n=this._drawingPanel=this._createDrawingPanelElement(),i=this._createDrawingPanelDivElement();n.appendChild(i);var o=this._drawingPanelHeader=this._createDrawingPanelHeaderElement();i.appendChild(o);var r=this._createDrawingToolsDivSections();i.appendChild(r);for(var a=this._createDrawingToolsSections(),s=0;s<a.length;s++)r.appendChild(a[s]);return e.appendChild(n),e}},{key:"_drawEndFeature",value:function(e,t){var i=null;switch(t){case"Point":i=new St.Style({image:new St.Icon(this._getIconStyleOptions(this.options.markersList[0]))});break;case"LineString":i=new St.Style({stroke:new St.Stroke({color:this.options.defaultStyles.strokeColor,width:this.options.defaultStyles.strokeWidth})});break;case"Polygon":i=new St.Style({fill:new St.Fill({color:Mt.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)}),stroke:new St.Stroke({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth})})}if(e.setStyle(i),this._updateMeasure(e,t),this.options.popup.display){var o=this,r=function(t,n,i){if(o.getMap().removeOverlay(o.popupOvl),o.popupOvl=null,i&&n&&n.trim().length>0){var r={};r[t]=n.replace(/\n/g,"<br>"),e.setProperties(r)}},a=null,s=!0,l=this.options.popup.function;l&&"function"==typeof l&&(a=l.call(o,{feature:e,geomType:t,closeFunc:function(){r(null,!1)},saveFunc:function(e){r(e,!0)}}))&&(s=!1,a.tabIndex=-1,a.onblur=function(){o.getMap().removeOverlay(o.popupOvl),o.popupOvl=null}),s&&(a=this._createLabelDiv({applyFunc:r,inputId:this._addUID("att-input"),placeholder:"Saisir une description...",measure:this.options.tools.measure?e.getProperties().measure:null,geomType:t,key:"description"})),this.popupOvl&&(this.getMap().removeOverlay(this.popupOvl),this.popupOvl=null),this.popupOvl=new(n())({element:a,positioning:"top-center"}),this.getMap().addOverlay(this.popupOvl);var c=e.getGeometry().getExtent();this.popupOvl.setPosition([(c[0]+c[2])/2,(c[1]+c[3])/2]),document.getElementById(this._addUID("att-input"))&&document.getElementById(this._addUID("att-input")).focus()}}},{key:"_createRemoveInteraction",value:function(){var e=this,t=new h.Select({layers:[this.layer],style:!1});return t.on("select",(function(t){t&&t.selected&&0!==t.selected.length&&(e.layer.getSource().removeFeature(t.selected[0]),e.getMap().removeInteraction(e.interactionCurrent),e.interactionCurrent=e._createRemoveInteraction(),e.getMap().addInteraction(e.interactionCurrent))})),t}},{key:"_createStylingInteraction",value:function(){var e=this,t=new h.Select({layers:[this.layer],style:!1});return t.on("select",(function(t){if(e.stylingOvl&&e.getMap().removeOverlay(e.stylingOvl),t&&t.selected&&0!==t.selected.length){var i=null,o=null,r=null,a=null,s={},l=t.selected[0].getGeometry(),c=t.selected[0].getStyle();if(l instanceof Ty.Point||l instanceof Ty.MultiPoint){if(c&&c.getImage()&&"function"==typeof c.getImage().getSrc&&c.getImage().getSrc()!==e.options.defaultStyles.textIcon1x1.src&&(a="Point","function"==typeof c.getImage().getSrc?(s.markerSrc=c.getImage().getSrc(),s.markerSize=c.getImage().getScale()||1,s.markerAnchor=c.getImage().getAnchor(),c.getImage().getColor()?(i=c.getImage().getColor(),Array.isArray(i)?i="rgba("+i.join()+")":s.markerColor=i,o=Mt.isRGB(i)?Mt.rgbaToHex(i):{hex:i,opacity:1},s.markerColor=o.hex,s.markerOpacity=o.opacity):s.markerColor=e.options.markersList[0].color||"#ffffff"):(s.markerSrc=e.options.markersList[0].src,s.markerSize=e.options.markersList[0].scale||1,s.markerColor=e.options.markersList[0].color||"#ffffff",s.markerAnchor=e.options.markersList[0].anchor),s.markerCustom=!e._getsMarkersOptionsFromSrc(s.markerSrc)),c&&c.getText()){var u=t.selected[0].getProperties().name;if(u&&(a="Point"===a?"Point&Text":"Text",c.getText().getStroke()&&c.getText().getStroke().getColor()&&(i=c.getText().getStroke().getColor(),Array.isArray(i)?i="rgba("+i.join()+")":s.strokeColor=i,o=Mt.isRGB(i)?Mt.rgbaToHex(i):{hex:i,opacity:1},s.strokeColor=o.hex,s.strokeOpacity=o.opacity),c.getText().getStroke()&&c.getText().getStroke().getWidth()&&(s.strokeWidth=c.getText().getStroke().getWidth()),c.getText().getFill()&&c.getText().getFill().getColor()&&(i=c.getText().getFill().getColor(),Array.isArray(i)?i="rgba("+i.join()+")":s.fillColor=i,o=Mt.isRGB(i)?Mt.rgbaToHex(i):{hex:i,opacity:1},s.fillColor=o.hex,s.fillOpacity=o.opacity),s.strokeColor=s.hasOwnProperty("strokeColor")?s.strokeColor:e.options.defaultStyles.textStrokeColor,s.strokeWidth=s.hasOwnProperty("strokeWidth")?s.strokeWidth:e.options.defaultStyles.textStrokeWidth,s.fillColor=s.hasOwnProperty("fillColor")?s.fillColor:e.options.defaultStyles.textFillColor,"Point&Text"===a)){c.getText().getText()||c.getText().setText(u);var d=t.selected[0].get("checked");s.labelDisplay=void 0===d?e.options.defaultStyles.labelDisplay:d}}}else l instanceof Ty.LineString||l instanceof Ty.MultiLineString?(a="Line",c&&c.getStroke()&&(c.getStroke().getWidth()&&(s.strokeWidth=c.getStroke().getWidth()),c.getStroke().getColor()&&(i=c.getStroke().getColor(),Array.isArray(i)?i="rgba("+i.join()+")":s.strokeColor=i,o=Mt.isRGB(i)?Mt.rgbaToHex(i):{hex:i,opacity:1},s.strokeColor=o.hex,s.strokeOpacity=o.opacity)),s.strokeWidth=s.hasOwnProperty("strokeWidth")?s.strokeWidth:e.options.defaultStyles.strokeWidth,s.strokeColor=s.hasOwnProperty("strokeColor")?s.strokeColor:e.options.defaultStyles.strokeColor):(l instanceof Ty.Polygon||l instanceof Ty.MultiPolygon)&&(a="Polygon",c&&c.getStroke()&&(c.getStroke().getWidth()&&(s.strokeWidth=c.getStroke().getWidth()),c.getStroke().getColor()&&(i=c.getStroke().getColor(),Array.isArray(i)?i="rgba("+i.join()+")":s.strokeColor=i,o=Mt.isRGB(i)?Mt.rgbaToHex(i):{hex:i,opacity:1},s.strokeColor=o.hex,s.strokeOpacity=o.opacity)),c&&c.getFill()&&c.getFill().getColor()&&(i=c.getFill().getColor(),Array.isArray(i)?i="rgba("+i.join()+")":s.fillColor=i,o=Mt.isRGB(i)?Mt.rgbaToHex(i):{hex:i,opacity:1},s.fillColor=o.hex,s.fillOpacity=o.opacity),s.strokeWidth=s.hasOwnProperty("strokeWidth")?s.strokeWidth:e.options.defaultStyles.polyStrokeWidth,s.strokeColor=s.hasOwnProperty("strokeColor")?s.strokeColor:e.options.defaultStyles.polyStrokeColor,s.fillColor=s.hasOwnProperty("fillColor")?s.fillColor:e.options.defaultStyles.polyFillColor,s.fillOpacity=s.hasOwnProperty("fillOpacity")?s.fillOpacity:e.options.defaultStyles.polyFillOpacity);if(a){var p=e,h=e._createStylingDiv({geomType:a,initValues:s,applyFunc:function(e){if("cancel"!==e){var n="apply"!==e,i=document.getElementById(p._addUID("fillColor")),o=document.getElementById(p._addUID("fillOpacity")),l=document.getElementById(p._addUID("strokeColor")),u=document.getElementById(p._addUID("strokeWidth")),d=document.getElementById(p._addUID("markerSize"));switch(a.toLowerCase()){case"text":n?(p.options.defaultStyles.textStrokeColor=l.value,p.options.defaultStyles.textStrokeWidth=u.value,p.options.defaultStyles.textFillColor=i.value):t.selected[0].setStyle(new St.Style({text:new St.Text({font:"16px sans",textAlign:"left",text:c.getText().getText(),fill:new St.Fill({color:i.value}),stroke:new St.Stroke({color:l.value,width:parseInt(u.value,10)})})}));break;case"point&text":case"point":var h=document.querySelector("input[type='checkbox']"),g=null,m=parseInt(d.value,10)/10,f=document.querySelector("input[name='marker']:checked");if(f&&((g=p._getsMarkersOptionsFromSrc(f.value)).scale=m),n){if(p.options.defaultStyles.markerSize=m,p.options.markersList.length>1){var y=p.options.markersList.findIndex((function(e){return e===g}));y>0&&(p.options.markersList.splice(y,1),p.options.markersList.splice(0,0,g))}"point&text"===a.toLowerCase()&&(p.options.defaultStyles.textStrokeColor=s.strokeColor,p.options.defaultStyles.textStrokeWidth=s.strokeWidth,p.options.defaultStyles.textFillColor=s.fillColor,p.options.defaultStyles.labelDisplay=s.labelDisplay)}else{var A={};"point&text"===a.toLowerCase()&&(t.selected[0].set("checked",h.checked),A={text:new St.Text({font:"16px sans",textAlign:"left",text:h.checked?t.selected[0].get("name"):"",fill:new St.Fill({color:s.fillColor}),stroke:new St.Stroke({color:s.strokeColor,width:parseInt(s.strokeWidth,10)})})}),g?t.selected[0].setStyle(new St.Style(Object.assign({image:new St.Icon(p._getIconStyleOptions(g))},A))):t.selected[0].setStyle(new St.Style(Object.assign({image:new St.Icon({src:s.markerSrc,anchor:s.markerAnchor,anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels",scale:m})},A)))}break;case"line":n?(p.options.defaultStyles.strokeColor=l.value,p.options.defaultStyles.strokeWidth=parseInt(u.value,10)):t.selected[0].setStyle(new St.Style({stroke:new St.Stroke({width:parseInt(u.value,10),color:l.value})}));break;case"polygon":var v=parseInt(o.value,10)/10;n?(p.options.defaultStyles.polyStrokeColor=l.value,p.options.defaultStyles.polyFillColor=i.value,p.options.defaultStyles.polyFillOpacity=v,p.options.defaultStyles.polyStrokeWidth=parseInt(u.value,10)):t.selected[0].setStyle(new St.Style({stroke:new St.Stroke({width:parseInt(u.value,10),color:l.value}),fill:new St.Fill({color:Mt.hexToRgba(i.value,v)})}))}n||p.getMap().removeOverlay(r)}else p.getMap().removeOverlay(r)}});r=new(n())({element:h,positioning:"top-center"}),e.getMap().addOverlay(r),r.setPosition(t.mapBrowserEvent.coordinate),e.stylingOvl=r,e.getMap().removeInteraction(e.interactionCurrent),e.interactionCurrent=e._createStylingInteraction(),e.getMap().addInteraction(e.interactionCurrent)}else $y.log("Unhandled geometry type for styling.")}})),t}},{key:"_createLabelInteraction",value:function(){var e=this,t=new h.Select({layers:[this.layer],style:!1});return t.on("select",(function(t){if(e.labelOvl&&e.getMap().removeOverlay(e.labelOvl),t&&t.selected&&0!==t.selected.length){var i=null,o=null,r=null,a=null,s=t.selected[0].getGeometry(),l=t.selected[0].getStyle();if(s instanceof Ty.Point||s instanceof Ty.MultiPoint){var c=t.selected[0].getProperties().name;l&&l.getText()&&c?o="Text":l&&l.getImage()&&(o="Point")}else if(s instanceof Ty.LineString||s instanceof Ty.MultiLineString)o="Line";else{if(!(s instanceof Ty.Polygon||s instanceof Ty.MultiPolygon))return void $y.log("Geometry type for styling not supported .");o="Polygon"}if(o){if("Text"===o)r=l.getText().getText();else{var u=t.selected[0].getProperties();u&&(u.hasOwnProperty("description")||u.hasOwnProperty("desc"))&&(r=u.description||u.desc),u&&u.hasOwnProperty("measure")&&(a=u.measure)}var d=e,p=e._createLabelDiv({applyFunc:function(e,n,r){if(d.getMap().removeOverlay(i),r){var a=t.selected[0];if("Text"===o){var s=a.getStyle();return s.getText().setText(n),a.setProperties({name:n}),void a.setStyle(s)}var l={};l[e]=n.replace(/\n/g,"<br>"),a.setProperties(l)}},inputId:e._addUID("label-input"),placeholder:"Text"===o?"Saisir un label...":"Saisir une description...",text:r,key:"description",measure:e.options.tools.measure?a:null,geomType:o});i=new(n())({element:p,positioning:"top-center"}),e.getMap().addOverlay(i),i.setPosition(t.mapBrowserEvent.coordinate),document.getElementById(e._addUID("label-input")).focus(),e.labelOvl=i,e.getMap().removeInteraction(e.interactionCurrent),e.interactionCurrent=e._createLabelInteraction(),e.getMap().addInteraction(e.interactionCurrent)}else $y.log("Unhandled geometry type for styling.")}})),t}},{key:"_updateMeasure",value:function(e,t){$y.log(e);var n=null,i=this.getMap().getView().getProjection();function o(e,t){t=t||2;var n=Math.pow(10,t);return Math.round(e*n)/n}var r=t||e.getProperties().type;switch(r){case"Point":var a=e.getGeometry().getCoordinates(),s=(0,Si.transform)(a,i,"EPSG:4326");n="lon : ",n+=o(s[0],4)+"Â°",n+=" / ",n+="lat : ",n+=o(s[1],4)+"Â°";break;case"LineString":for(var l=0,c=e.getGeometry().getCoordinates(),u=0,d=c.length-1;u<d;++u){var p=(0,Si.transform)(c[u],i,"EPSG:4326"),h=(0,Si.transform)(c[u+1],i,"EPSG:4326");l+=(0,Ny.getDistance)(p,h)}n=l>1e3?o(l/1e3,3)+" km":o(l,3)+" m";break;case"Polygon":var g=0,m=e.getGeometry().clone(),f=m.getLinearRing(0).getCoordinates();g=Math.abs((0,Ny.getArea)(new Ty.Polygon([f])));var y=m.getLinearRings();if(y.length>1)for(var A=1;A<y.length;A++){var v=y[A].getCoordinates();g-=Math.abs((0,Ny.getArea)(new Ty.Polygon([v])))}n=g>1e6?o(g/1e6,3)+" km^2":o(g,2)+" m^2"}e.setProperties({measure:n,type:r})}},{key:"_handleToolClick",value:function(e,t,i){var o=this,r=i.getMap();if(r){switch($p.unset(r,{current:"Drawing"}),i.interactionCurrent&&(r.removeInteraction(i.interactionCurrent),i.interactionCurrent=null),i.interactionSelectEdit&&(r.removeInteraction(i.interactionSelectEdit),i.interactionSelectEdit=null),i.popupOvl&&(i.getMap().removeOverlay(i.popupOvl),i.popupOvl=null),this.layer||this._createEmptyLayer(),t){case this._addUID("drawing-tool-point"):i.dtOptions.points.active&&(i.interactionCurrent=new h.Draw({stopClick:!0,source:i.layer.getSource(),style:new St.Style({image:new St.Icon(this._getIconStyleOptions(this.options.markersList[0]))}),type:"Point"}),i.interactionCurrent.on("drawend",(function(e){i._drawEndFeature(e.feature,"Point")}),i));break;case this._addUID("drawing-tool-line"):i.dtOptions.lines.active&&(i.interactionCurrent=new h.Draw({stopClick:!0,source:i.layer.getSource(),style:new St.Style({image:new St.Circle({radius:this.options.cursorStyle.radius,stroke:new St.Stroke({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new St.Fill({color:this.options.cursorStyle.fillColor})}),stroke:new St.Stroke({color:this.options.defaultStyles.strokeColor,width:this.options.defaultStyles.strokeWidth})}),type:"LineString"}),i.interactionCurrent.on("drawend",(function(e){i._drawEndFeature(e.feature,"LineString")}),i));break;case this._addUID("drawing-tool-polygon"):i.dtOptions.polygons.active&&(i.interactionCurrent=new h.Draw({stopClick:!0,source:i.layer.getSource(),style:new St.Style({image:new St.Circle({radius:this.options.cursorStyle.radius,stroke:new St.Stroke({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new St.Fill({color:this.options.cursorStyle.fillColor})}),stroke:new St.Stroke({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth}),fill:new St.Fill({color:Mt.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)})}),type:"Polygon"}),i.interactionCurrent.on("drawend",(function(e){i._drawEndFeature(e.feature,"Polygon")}),i));break;case this._addUID("drawing-tool-holes"):i.dtOptions.holes.active&&(i.interactionSelectEdit=new h.Select({stopClick:!0,condition:Dy.pointerMove,layers:[this.layer]}),i.interactionSelectEdit.setProperties({name:"Drawing",source:i}),r.addInteraction(i.interactionSelectEdit),i.interactionCurrent=new h.Draw({stopClick:!0,features:this.interactionSelectEdit.getFeatures(),style:new St.Style({image:new St.Circle({radius:this.options.cursorStyle.radius,stroke:new St.Stroke({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new St.Fill({color:this.options.cursorStyle.fillColor})}),stroke:new St.Stroke({color:this.options.defaultStyles.polyStrokeColor,width:this.options.defaultStyles.polyStrokeWidth}),fill:new St.Fill({color:Mt.hexToRgba(this.options.defaultStyles.polyFillColor,this.options.defaultStyles.polyFillOpacity)})}),type:"Polygon"}),i.interactionCurrent.on("drawstart",(function(e){}),i),i.interactionCurrent.on("drawend",(function(e){var t=i.interactionSelectEdit.getFeatures();if(t.getLength()){for(var n=t.item(0),o=e.feature.getGeometry().getCoordinates()[0],r=!0,a=0;a<o.length;a++)if(!n.getGeometry().intersectsCoordinate(o[a])){r=!1;break}if(!r)return;n.getGeometry().appendLinearRing(new Ty.LinearRing(o)),e.feature=n,i._drawEndFeature(e.feature,"Polygon")}}),i));break;case this._addUID("drawing-tool-text"):i.dtOptions.text.active&&(i.interactionCurrent=new h.Draw({stopClick:!0,source:i.layer.getSource(),style:new St.Style({image:new St.Circle({radius:this.options.cursorStyle.radius,stroke:new St.Stroke({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new St.Fill({color:this.options.cursorStyle.fillColor})})}),type:"Point"}),i.interactionCurrent.on("drawend",(function(e){var t=null,r=o._createLabelDiv({applyFunc:function(n,o,r){if(i.getMap().removeOverlay(t),r){var a={};a[n]=o,e.feature.setProperties(a),e.feature.setStyle(new St.Style({image:new St.Icon(i._getIconStyleOptions(i.options.defaultStyles.textIcon1x1)),text:new St.Text({textAlign:"left",font:"16px sans",text:o,fill:new St.Fill({color:i.options.defaultStyles.textFillColor}),stroke:new St.Stroke({color:i.options.defaultStyles.textStrokeColor,width:3})})}))}else i.layer.getSource().removeFeature(e.feature)},inputId:i._addUID("label-input"),geomType:"Text",key:"name",placeholder:"Saisir un label..."});t=new(n())({element:r,positioning:"top-center"}),i.getMap().addOverlay(t),t.setPosition(e.feature.getGeometry().getCoordinates()),document.getElementById(o._addUID("label-input")).focus()})));break;case this._addUID("drawing-tool-edit"):i.dtOptions.edit.active&&(this.featuresCollectionSelected=new(Oy()),i.interactionSelectEdit=new h.Select({condition:Dy.singleClick,layers:[this.layer],features:this.featuresCollectionSelected}),i.interactionSelectEdit.on("select",(function(e){})),i.interactionSelectEdit.setProperties({name:"Drawing",source:i}),r.addInteraction(i.interactionSelectEdit),i.interactionCurrent=new h.Modify({stopClick:!0,features:this.interactionSelectEdit.getFeatures(),style:new St.Style({image:new St.Circle({radius:this.options.cursorStyle.radius,stroke:new St.Stroke({color:this.options.cursorStyle.strokeColor,width:this.options.cursorStyle.strokeWidth}),fill:new St.Fill({color:this.options.cursorStyle.fillColor})})})}),i.interactionCurrent.on("modifyend",(function(e){var t=e.features.item(0);i._updateMeasure(t)})));break;case this._addUID("drawing-tool-display"):i.dtOptions.display.active&&(i.interactionCurrent=this._createStylingInteraction());break;case this._addUID("drawing-tool-tooltip"):i.dtOptions.tooltip.active&&(i.interactionCurrent=this._createLabelInteraction());break;case this._addUID("drawing-tool-remove"):i.dtOptions.remove.active&&(i.interactionCurrent=i._createRemoveInteraction());break;default:$y.trace("unhandled tool type")}i.interactionCurrent&&(i.interactionCurrent.setProperties({name:"Drawing",source:this}),r.addInteraction(i.interactionCurrent)),$y.log("interactions",r.getInteractions())}else $y.trace("Drawing control not attached to any map.")}},{key:"onShowDrawingClick",value:function(){var e=this.getMap();$p.unset(e);var t=this._showDrawingButton.ariaPressed;for(var n in this.collapsed=!("true"===t),this.dispatchEvent("change:collapsed"),this.dtOptions)if(this.dtOptions.hasOwnProperty(n)&&this.dtOptions[n].active){var i=this._addUID("drawing-tool-"+this.dtOptions[n].id);document.getElementById(i).className="drawing-tool",this.dtOptions[n].active=!1}}},{key:"onExportFeatureClick",value:function(){var e=this.exportFeatures();if(e){var t=document.createElement("a");if(t.setAttribute("href","data:"+this._exportMimeType+";charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download",this.getExportName()+this._exportExt),document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),t.dispatchEvent(n)}else t.click()}}}],o&&qy(i.prototype,o),r&&qy(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o,r}(lu),Ky(zy,"DefaultTools",{points:!0,lines:!0,polygons:!0,holes:!1,text:!0,remove:!0,display:!0,tooltip:!0,edit:!0,export:!0,measure:!1}),Ky(zy,"DefaultLabels",{control:"Annoter la carte",creatingTools:"Outils de crÃ©ation",points:"Placer des points",lines:"Dessiner des lignes",polygons:"Dessiner des polygones",holes:"CrÃ©er des trous sur un polygone",text:"Ecrire sur la carte",editingTools:"Outils d'Ã©dition",edit:"Editer les tracÃ©s",display:"Modifier l'apparence des objets",tooltip:"Modifier les textes / infos-bulles",remove:"Supprimer des objets",export:"Exporter",exportTitle:"Exporter en KML",applyToObject:"Appliquer Ã  l'objet",saveDescription:"Enregistrer",setAsDefault:"DÃ©finir par dÃ©faut",strokeColor:"Couleur du trait : ",strokeWidth:"Epaisseur du trait : ",fillColor:"Couleur de remplissage : ",fillOpacity:"OpacitÃ© du remplissage : ",markerSize:"Taille du pictogramme : ",markerColor:"Couleur du pictogramme : ",labelDisplay:"Afficher le label : "}),Ky(zy,"DefaultStyles",{textFillColor:"#000000",textStrokeColor:"#FFFFFF",textStrokeWidth:6,textIcon1x1:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",anchor:[0,0]},polyFillColor:"#ffffff",polyFillOpacity:.4,polyStrokeColor:"#ffcc33",polyStrokeWidth:4,strokeColor:"#ffcc33",strokeWidth:4,markerSize:1,markerColor:"#ffcc33",labelDisplay:!0}),Ky(zy,"DefaultCursorStyle",{radius:6,strokeColor:"#FFF",strokeWidth:1,fillColor:"rgba(0, 153, 255, 1)"}),zy);Object.assign(eA.prototype,Fy);const tA=eA;window.ol&&window.ol.control&&(window.ol.control.Drawing=eA);var nA=yt.getLogger("LocationSelectorDOM"),iA={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.className=this._addUID("GPlocationPoint"),e.className+=" GPwidget gpf-widget ",e},_createLocationPointElement:function(e,t){var n=document.createElement("div");return n.id=this._addUID("GPlocationPoint_"+e),n.className=t?"GPflexInput GPlocationStageFlexInput gpf-flex":"GPflexInput GPelementHidden gpf-flex gpf-hidden",n.style.cssText="",n},_createLocationPointLabelElement:function(e,t){var n=this,i=document.createElement("button");return i.id=this._addUID("GPlocationOriginLabel_"+e),i.innerHTML=t,i.className="GPlocationOriginLabel gpf-btn gpf-btn-icon-label fr-btn fr-btn--secondary",i.setAttribute("type","button"),i.addEventListener("click",(function(e){for(var t=yu.index(this.id),i=document.getElementsByClassName(n._addUID("GPlocationPoint")),o=0;o<i.length;o++){var r=i[o].childNodes[0].id,a=yu.index(r);document.getElementById(n._addUID("GPlocationPoint_"+a)).style.cssText=""}document.getElementById(n._addUID("GPlocationOriginCoords_"+t)).value="",document.getElementById(n._addUID("GPlocationOrigin_"+t)).value="",document.getElementById(n._addUID("GPlocationPoint_"+t)).style.cssText="",document.getElementById(n._addUID("GPlocationOriginPointer_"+t)).checked=!1,document.getElementById(n._addUID("GPlocationOrigin_"+t)).className="GPelementShow gpf-show  gpf-input fr-input",document.getElementById(n._addUID("GPlocationOriginCoords_"+t)).className="GPelementHidden gpf-hidden",document.getElementById(n._addUID("GPlocationStageRemove_"+t))&&(document.getElementById(n._addUID("GPlocationStageRemove_"+t)).className="GPlocationStageRemove gpf-btn gpf-btn-icon-remove fr-btn--sm fr-btn--secondary"),document.getElementById(n._addUID("GPlocationStageAdd"))&&(document.getElementById(n._addUID("GPlocationStageAdd")).className="GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm fr-btn--secondary"),n.onLocationClearPointClick(e)})),i},_createLocationAutoCompleteteInputElement:function(e){var t=this,n=document.createElement("input");return n.id=this._addUID("GPlocationOrigin_"+e),n.className="GPelementShow gpf-show gpf-input fr-input",n.type="text",n.placeholder="Saisir une adresse",n.autocomplete="off",n.addEventListener("keyup",(function(e){var n=e.which||e.keyCode;if(13!==n&&10!==n&&38!==n&&40!==n){var i=yu.index(this.id);document.getElementById(t._addUID("GPlocationOrigin_"+i)).value.length>2?(document.getElementById(t._addUID("GPlocationAutoCompleteList_"+i)).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+i)).classList.replace("gpf-hidden","gpf-visible")):(document.getElementById(t._addUID("GPlocationAutoCompleteList_"+i)).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+i)).classList.replace("gpf-visible","gpf-hidden")),t.onAutoCompleteSearchText(e)}})),n.addEventListener("keydown",(function(n){var i=n.which||n.keyCode,o=document.getElementById(t._addUID("GPlocationAutoCompleteResult_"+e));if(o){var r=o.getElementsByClassName("GPautoCompleteProposal current"),a=o.getElementsByClassName("GPautoCompleteProposal"),s=a.length;if(s){var l=null;if(!r.length)return(l=a[0]).className="GPautoCompleteProposal current",l.style.color="#000000",void(l.style["background-color"]="#CEDBEF");l=r[0];var c=parseInt(yu.index(l.id),10),u=c===s-1?a[0]:a[c+1],d=0===c?a[s-1]:a[c-1];switch(l.style["background-color"]="",l.style.color="",d.style["background-color"]="",d.style.color="",u.style["background-color"]="",u.style.color="",i){case 38:nA.log("arrow up"),l.className="GPautoCompleteProposal",d.className="GPautoCompleteProposal current",d.style.color="#000000",d.style["background-color"]="#CEDBEF";break;case 40:nA.log("arrow down"),l.className="GPautoCompleteProposal",u.className="GPautoCompleteProposal current",u.style.color="#000000",u.style["background-color"]="#CEDBEF";break;case 13:nA.log("enter"),l.click(n)}l.focus()}}})),n},_createLocationCoordinateInputElement:function(e){var t=this,n=document.createElement("input");return n.id=this._addUID("GPlocationOriginCoords_"+e),n.className="GPelementHidden gpf-input gpf-hidden fr-input",n.type="text",n.disabled=!1,n.addEventListener("click",(function(){var e=yu.index(this.id);document.getElementById(t._addUID("GPlocationOriginLabel_"+e)).click()})),n},_createLocationPointerShowInputElement:function(e){var t=document.createElement("input");return t.id=this._addUID("GPlocationOriginPointer_"+e),t.className="GPelementHidden gpf-hidden",t.type="checkbox",t},_createLocationPointerInputElement:function(e){var t=this,n=document.createElement("button");return n.id=this._addUID("GPlocationOriginPointerImg_"+e),n.htmlFor=this._addUID("GPlocationOriginPointer_"+e),n.className="GPlocationOriginPointerImg gpf-btn gpf-btn-icon-pointer fr-btn fr-btn--secondary",n.title="Pointer un lieu sur la carte",n.setAttribute("type","button"),n.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var n,i,o,r=yu.index(this.id),a=document.getElementsByClassName(t._addUID("GPlocationPoint"));for(n=0;n<a.length;n++)i=a[n].childNodes[0].id,r!==(o=yu.index(i))&&(document.getElementById(t._addUID("GPlocationOriginPointer_"+o)).checked=!1,"Pointer un lieu sur la carte"===document.getElementById(t._addUID("GPlocationOriginCoords_"+o)).value&&(document.getElementById(t._addUID("GPlocationOriginCoords_"+o)).value="",document.getElementById(t._addUID("GPlocationOrigin_"+o)).className="GPelementShow gpf-show  gpf-input fr-input",document.getElementById(t._addUID("GPlocationOriginCoords_"+o)).className="GPelementHidden gpf-hidden"));if(document.getElementById(t._addUID("GPlocationOriginPointer_"+r)).checked){for(document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).value="",n=0;n<a.length;n++)i=a[n].childNodes[0].id,o=yu.index(i),document.getElementById(t._addUID("GPlocationPoint_"+o)).style.cssText="";document.getElementById(t._addUID("GPlocationStageRemove_"+r))&&(document.getElementById(t._addUID("GPlocationStageRemove_"+r)).className="GPlocationStageRemove  gpf-btn gpf-btn-icon-remove fr-btn--sm fr-btn--secondary"),document.getElementById(t._addUID("GPlocationStageAdd"))&&(document.getElementById(t._addUID("GPlocationStageAdd")).className="GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm fr-btn--secondary"),document.getElementById(t._addUID("GPlocationOriginPointer_"+r)).checked=!1,document.getElementById(t._addUID("GPlocationOrigin_"+r)).className="GPelementShow gpf-show  gpf-input fr-input",document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).className="GPelementHidden gpf-hidden"}else{for(document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).value="Pointer un lieu sur la carte",n=0;n<a.length;n++)i=a[n].childNodes[0].id,r===(o=yu.index(i))?document.getElementById(t._addUID("GPlocationPoint_"+o)).style.cssText="":document.getElementById(t._addUID("GPlocationPoint_"+o)).style.display="none";document.getElementById(t._addUID("GPlocationStageRemove_"+r))&&(document.getElementById(t._addUID("GPlocationStageRemove_"+r)).className="GPelementHidden gpf-hidden"),document.getElementById(t._addUID("GPlocationStageAdd"))&&(document.getElementById(t._addUID("GPlocationStageAdd")).className="GPelementHidden gpf-hidden"),document.getElementById(t._addUID("GPlocationOriginPointer_"+r)).checked=!0,document.getElementById(t._addUID("GPlocationOrigin_"+r)).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).className="GPelementShow gpf-show gpf-input fr-input",document.getElementById(t._addUID("GPlocationOriginCoords_"+r)).disabled=!0}t.onActivateMapPointClick(e)})),n},_createLocationRemovePointElement:function(e){var t=this,n=document.createElement("button");return n.id=this._addUID("GPlocationStageRemove_"+e),n.className="GPlocationOpen GPlocationStageRemove gpf-btn gpf-btn-icon-remove fr-btn--sm fr-btn--secondary",n.title="Supprimer l'Ã©tape",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!1),n.setAttribute("type","button"),n.addEventListener("click",(function(n){var i="true"===n.target.ariaPressed;n.target.setAttribute("aria-pressed",!i);var o=document.getElementsByClassName(t._addUID("GPlocationPoint")),r=o.length-1,a=o[0].childNodes[0].id,s=o[r].childNodes[0].id,l=yu.index(a),c=yu.index(s);if(e!==l&&e!==c){var u=yu.index(this.id);document.getElementById(t._addUID("GPlocationPoint_"+u)).className="GPflexInput GPelementHidden gpf-flex gpf-hidden",document.getElementById(t._addUID("GPlocationOrigin_"+u)).value="",document.getElementById(t._addUID("GPlocationOrigin_"+u)).className="GPelementShow gpf-show gpf-input fr-input",document.getElementById(t._addUID("GPlocationOriginCoords_"+u)).value="",document.getElementById(t._addUID("GPlocationOriginCoords_"+u)).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GPlocationStageAdd")).style.display="",t.onLocationRemovePointClick(n)}})),n},_createLocationAddPointElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPlocationStageAdd"),t.className="GPlocationOpen GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm fr-btn--secondary",t.title="Ajouter une Ã©tape",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.setAttribute("type","button"),t.addEventListener("click",(function(t){for(var n=1,i=0,o=document.getElementsByClassName(e._addUID("GPlocationPoint")),r=1;r<o.length-1;r++){var a=o[r].childNodes[0].id,s=yu.index(a);document.getElementById(e._addUID("GPlocationPoint_"+s))&&("GPflexInput GPelementHidden gpf-flex gpf-hidden"===document.getElementById(e._addUID("GPlocationPoint_"+s)).className?1===n&&(n=s):i++)}n<o.length&&(document.getElementById(e._addUID("GPlocationPoint_"+n)).className="GPflexInput GPlocationStageFlexInput gpf-flex"),4===i&&(document.getElementById(e._addUID("GPlocationStageAdd")).style.display="none");var l="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!l),e.onLocationAddPointClick(t)})),t},_createLocationAutoCompleteElement:function(e){var t=document.createElement("div");return t.id=this._addUID("GPlocationAutoCompleteList_"+e),t.className="GPlocationAutoCompleteList GPelementHidden gpf-panel gpf-hidden fr-modal",t},_createLocationAutoCompleteResultElement:function(e){var t=this,n=document.createElement("div");return n.id=this._addUID("GPlocationAutoCompleteResult_"+e),n.className="GPadvancedAutoCompleteResult gpf-panel__list",n.addEventListener?n.addEventListener("click",(function(n){t.onAutoCompletedResultsItemClick(n),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).classList.replace("gpf-hidden","gpf-visible")}),!1):n.attachEvent&&n.attachEvent("onclick",(function(n){t.onAutoCompletedResultsItemClick(n),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).classList.replace("gpf-hidden","gpf-visible")})),n},_createLocationAutoCompletedLocationElement:function(e,t,n){var i=document.getElementById(this._addUID("GPlocationAutoCompleteResult_"+e)),o=document.createElement("div");o.id=this._addUID("AutoCompletedLocation_"+n),o.className="GPautoCompleteProposal gpf-panel__items",o.innerHTML=ih.getSuggestedLocationFreeform(t),i.appendChild(o)},GPdisplayCoordinate:function(e){for(var t=document.getElementsByClassName(this._addUID("GPlocationPoint")),n=0;n<t.length;n++){var i=t[n].childNodes[0].id,o=yu.index(i);if(document.getElementById(this._addUID("GPlocationOriginPointer_"+o)).checked){document.getElementById(this._addUID("GPlocationOriginCoords_"+o)).value=e,document.getElementById(this._addUID("GPlocationOriginCoords_"+o)).disabled=!1;for(var r=0;r<t.length;r++){i=t[r].childNodes[0].id;var a=yu.index(i);document.getElementById(this._addUID("GPlocationPoint_"+a)).style.cssText="",document.getElementById(this._addUID("GPlocationStageRemove_"+a))&&(document.getElementById(this._addUID("GPlocationStageRemove_"+a)).className="GPlocationStageRemove gpf-btn gpf-btn-icon-remove fr-btn--sm fr-btn--secondary")}return document.getElementById(this._addUID("GPlocationOriginPointer_"+o)).checked=!1,void(document.getElementById(this._addUID("GPlocationStageAdd"))&&(document.getElementById(this._addUID("GPlocationStageAdd")).className="GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm"))}}}};const oA=iA;function rA(e){return rA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rA(e)}function aA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,sA(i.key),i)}}function sA(e){var t=function(e,t){if("object"!=rA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=rA(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rA(t)?t:t+""}function lA(e,t,n){return t=dA(t),cA(e,uA()?Reflect.construct(t,n||[],dA(e).constructor):t.apply(e,n))}function cA(e,t){if(t&&("object"==rA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function uA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uA=function(){return!!e})()}function dA(e){return dA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dA(e)}function pA(e,t){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pA(e,t)}var hA=yt.getLogger("locationselector"),gA=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=lA(this,t,[{element:(e=e||{}).element||document.createElement("div"),render:e.render,target:e.target}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.initialize(e),n._container=n._initContainer(),n.element?n.element.appendChild(n._container):n.element=n._container,cA(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pA(e,t)}(t,e),i=t,o=[{key:"initialize",value:function(e){this.options={tag:{id:1,groupId:null,label:">",display:!0,addOption:!1,removeOption:!1},displayInfo:!0,autocompleteOptions:{}},nn.mergeParams(this.options,e),this._uid=this.options.tag.groupId||yu.generate(),this._map=null,this._inputsContainer=null,this._buttonLabel=null,this._inputAutoComplete=null,this._inputShowPointerContainer=null,this._inputShowPointer=null,this._inputCoordinateContainer=null,this._addPointElement=null,this._removePointElement=null,this._coordinate=null,this._suggestedContainer=null,this._suggestedList=null,this._suggestedLocations=[],this._currentLocation=null,this._initMarker(),this._resources={},this.listenerKey=null}},{key:"_initMarker",value:function(){if(this._marker=null,this._markerUrl="",this._markerOffset=[0,0],this.options.tag.markerOpts&&this.options.tag.markerOpts.url){this._markerUrl=this.options.tag.markerOpts.url;var e=this.options.tag.markerOpts.offset;e&&(Array.isArray(e)&&2===e.length?this._markerOffset=e:hA.log("markerOpts.offset should be an array. e.g. : [0,0]"))}else this._markerUrl=xt.lightOrange,this._markerOffset=xt.defaultOffset}},{key:"getCoordinate",value:function(){return this._coordinate}},{key:"setCoordinate",value:function(e,t){var n=this.getMap().getView().getProjection().getCode();t||(t=n),this._setCoordinate(e,t),e=(0,Si.transform)(e,t,n),this._setMarker([e[0],e[1]],null,!1)}},{key:"clear",value:function(){this.clearResults(),this._buttonLabel.click()}},{key:"clearResults",value:function(){this._currentLocation=null,this._coordinate=null,this._hideSuggestedLocation(),this._clearSuggestedLocation(),this._setMarker(),(0,to.unByKey)(this.listenerKey)}},{key:"_initContainer",value:function(){var e=this,t=this.options.tag.id,n=this._createMainContainerElement(),i=this._inputsContainer=this._createLocationPointElement(t,this.options.tag.display);n.appendChild(i);var o=this._buttonLabel=this._createLocationPointLabelElement(t,this.options.tag.label);i.appendChild(o);var r=this._inputAutoComplete=this._createLocationAutoCompleteteInputElement(t);r.addEventListener?r.addEventListener("click",(function(){return e.onAutoCompleteInputClick()})):r.attachEvent&&r.attachEvent("onclick",(function(){return e.onAutoCompleteInputClick()})),i.appendChild(r);var a=this._inputCoordinateContainer=this._createLocationCoordinateInputElement(t);i.appendChild(a);var s=this._inputShowPointerContainer=this._createLocationPointerShowInputElement(t);i.appendChild(s);var l=this._inputShowPointer=this._createLocationPointerInputElement(t);if(i.appendChild(l),this.options.tag.addOption){var c=this._addPointElement=this._createLocationAddPointElement();i.appendChild(c)}if(this.options.tag.removeOption){var u=this._removePointElement=this._createLocationRemovePointElement(t);i.appendChild(u)}var d=this._suggestedContainer=this._createLocationAutoCompleteElement(t),p=this._suggestedList=this._createLocationAutoCompleteResultElement(t);return d.appendChild(p),n.appendChild(d),n}},{key:"onAutoCompleteInputClick",value:function(){this._inputAutoComplete&&this._inputAutoComplete.value.length>2&&this._displaySuggestedLocation()}},{key:"onAutoCompleteSearchText",value:function(e){var t=this,n=e.target.value;if(n){var i=this.options.autocompleteOptions||{},o=i.onSuccess||null,r=i.onFailure||null;if(this._currentLocation=n,n.length<3)this._clearSuggestedLocation();else{var a=this;this._requestAutoComplete({text:n,maximumResponses:5,onSuccess:function(e){if(e){var t=e.suggestedLocations;a._fillAutoCompletedLocationListContainer(t),o&&o.call(this,e)}},onFailure:function(e){a._clearSuggestedLocation(),hA.log(e.message),r&&r.call(this,e)}});var s=this.getMap();s.on("click",(function(){return t._hideSuggestedLocation()})),s.on("pointerdrag",(function(){return t._hideSuggestedLocation()}))}}}},{key:"onAutoCompletedResultsItemClick",value:function(e){var t=yu.index(e.target.id);if(t){var n=[this._suggestedLocations[t].position.x,this._suggestedLocations[t].position.y];this._coordinate=n;var i={type:this._suggestedLocations[t].type,fields:this._suggestedLocations[t]},o=ih.getSuggestedLocationFreeform(this._suggestedLocations[t]);this._setLabel(o);var r=this.getMap().getView().getProjection().getCode();"EPSG:4326"!==r&&(n=(0,Si.transform)(n,"EPSG:4326",r)),this._setPosition(n),this._setMarker(n,i,this.options.displayInfo)}}},{key:"onActivateMapPointClick",value:function(){var e=this,t=this.getMap();this._inputShowPointerContainer.checked?(this.clearResults(),this.listenerKey=t.on("click",(function(t){return e.onMouseMapClick(t)})),this._setCursor("crosshair")):((0,to.unByKey)(this.listenerKey),this._setCursor())}},{key:"onLocationClearPointClick",value:function(){this._setCursor(),this.clearResults()}},{key:"onLocationRemovePointClick",value:function(){this._setCursor(),this.clearResults()}},{key:"onLocationAddPointClick",value:function(e){hA.log("onRouteAddPointClick",e)}},{key:"onMouseMapClick",value:function(e){var t=e.coordinate;if(e.map&&e.map.getView()){var n=e.map.getView().getProjection();this._setCoordinate(t,n),this._setMarker([t[0],t[1]],null,!1),this.onActivateMapPointClick(e)}}},{key:"_setLabel",value:function(e){this._inputAutoComplete.value=e}},{key:"_setCursor",value:function(e){var t=this.getMap().getTargetElement();t.style.cursor=e||null}},{key:"_setCoordinate",value:function(e,t){this._coordinate=(0,Si.transform)(e,t,"EPSG:4326");var n=this._coordinate[0].toFixed(4),i=this._coordinate[1].toFixed(4)+" / "+n;this.GPdisplayCoordinate(i)}},{key:"_setPosition",value:function(e){this.getMap().getView().setCenter(e)}},{key:"_setMarker",value:function(e,t,i){var o=this.getMap();if(null!=this._marker&&(o.removeOverlay(this._marker),this._marker=null),e){var r=document.createElement("img");r.src=this._markerUrl,this._marker=new(n())({position:e,offset:this._markerOffset,element:r,stopEvent:!1}),o.addOverlay(this._marker),i&&hA.log("marker information : ",t)}}},{key:"_clearSuggestedLocation",value:function(){if(this._suggestedLocations=[],this._suggestedList)for(;this._suggestedList.firstChild;)this._suggestedList.removeChild(this._suggestedList.firstChild)}},{key:"_hideSuggestedLocation",value:function(){this._suggestedContainer&&(this._suggestedContainer.classList.replace("GPelementVisible","GPelementHidden"),this._suggestedContainer.classList.replace("gpf-visible","gpf-hidden"))}},{key:"_displaySuggestedLocation",value:function(){this._suggestedContainer&&(this._suggestedContainer.classList.replace("GPelementHidden","GPelementVisible"),this._suggestedContainer.classList.replace("gpf-hidden","gpf-visible"))}},{key:"_requestAutoComplete",value:function(e){if(hA.log("_requestAutoComplete()",e),e&&0!==Object.keys(e).length&&e.text){hA.log(e);var t={};nn.assign(t,this.options.autocompleteOptions),nn.assign(t,e);var n=this._resources.AutoCompletion||null;n&&Array.isArray(n)&&(t.filterOptions||(t.filterOptions={}),t.filterOptions.type=n),t.apiKey=t.apiKey||this.options.apiKey,"boolean"!=typeof t.ssl&&("boolean"==typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),hA.log(t),ft.Services.autoComplete(t)}}},{key:"_fillAutoCompletedLocationListContainer",value:function(e){if(e&&0!==e.length){var t=this._suggestedList;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild);for(var n=0;n<e.length;n++)this._createLocationAutoCompletedLocationElement(this.options.tag.id,e[n],n);this._suggestedLocations=e}}}],o&&aA(i.prototype,o),r&&aA(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o,r}(Jc());Object.assign(gA.prototype,oA);const mA=gA;window.ol&&window.ol.control&&(window.ol.control.LocationSelector=gA);const fA={_addUID:function(e){return this.uid?e+"-"+this.uid:e}};function yA(e){return yA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yA(e)}function AA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,vA(i.key),i)}}function vA(e){var t=function(e,t){if("object"!=yA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=yA(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yA(t)?t:t+""}function CA(e,t,n){return t=IA(t),function(e,t){if(t&&("object"==yA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bA()?Reflect.construct(t,n||[],IA(e).constructor):t.apply(e,n))}function bA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bA=function(){return!!e})()}function IA(e){return IA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},IA(e)}function _A(e,t){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_A(e,t)}var wA=yt.getLogger("export"),EA=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{control:null,target:null,format:"geojson",name:"export",title:"Exporter",menu:!1,onExport:null},wA.trace("[constructor] Export",e),!((n=CA(this,t,[{element:document.createElement("div"),render:e.render,target:e.target}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.EXPORT_ROUTE={},n.EXPORT_ISOCHRON={},n.EXPORT_PROFILE={},n.uid=e.id||yu.generate(),n.extension=null,n.mimeType=null,n.container=null,n.button=null,n.menu=null,n.icon="â˜° ",n.menuClassHidden="GPelementHidden gpf-hidden",n.initOptions(e),n.initContainer(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_A(e,t)}(t,e),n=t,i=[{key:"render",value:function(){if(!this.options.target&&this.options.control){var e=this.options.control.getContainer();this.options.target=e.lastChild}this.container&&this.options.target.appendChild(this.container)}},{key:"initOptions",value:function(e){this.options=e,this.options.control,this.options.target;var t=this.options.format;t?this.setFormat(t):this.setFormat(""),this.options.name||this.setName("export"),this.options.title||this.setTitle("Exporter"),void 0===this.options.menu&&this.setMenu(!1)}},{key:"initContainer",value:function(){var e=this,t=this.options.title;this.options.menu&&(t=this.icon+this.options.title);var n=document.createElement("div");n.id=this._addUID("GPexportContainer"),n.className="GPexportMenuContainer";var i=this.stringToHTML('\n            <input type="button"\n                id="'.concat(this._addUID("GPexportButton"),'" \n                class="GPsubmit gpf-btn gpf-btn-icon-submit  fr-btn"\n                value="').concat(t,'">\n        '));this.button=i.firstChild,this.button&&this.button.addEventListener("click",(function(t){return e.onClickButtonExport(t)})),n.appendChild(i.firstChild);var o=this.stringToHTML('\n            <div class="GPexportMenuContent '.concat(this.menuClassHidden,'">\n                <label class="container">GeoJSON\n                    <input type="radio" \n                        id="GPmenuFormatGeojson-').concat(this.uid,'"\n                        name="format" \n                        value="geojson">\n                    <span class="checkmark"></span>\n                </label>\n                <label class="container">KML\n                    <input type="radio" \n                        id="GPmenuFormatKml-').concat(this.uid,'"\n                        name="format" \n                        value="kml">\n                    <span class="checkmark"></span>\n                </label>\n                <label class="container">GPX\n                    <input type="radio" \n                        id="GPmenuFormatGpx-').concat(this.uid,'"\n                        name="format" \n                        value="gpx">\n                    <span class="checkmark"></span>\n                </label>\n            </div>\n        '));if(this.menu=o.firstChild,this.menu){if(this.options.menu){var r=this.menu.className;this.menu.className=r.replace(this.menuClassHidden,"")}this.menu.querySelectorAll('input[type=radio][name="format"]').forEach((function(t){t.id.toUpperCase().includes(e.options.format.toUpperCase())&&(t.checked=!0),t.addEventListener("change",(function(t){e.setFormat(t.target.value)}))}))}n.appendChild(o.firstChild),this.container=n}},{key:"stringToHTML",value:function(e){if(function(){if(!window.DOMParser)return!1;var e=new DOMParser;try{e.parseFromString("x","text/html")}catch(e){return!1}return!0}())return(new DOMParser).parseFromString(e,"text/html").body;var t=document.createElement("div");return t.innerHTML=e,t}},{key:"isPluggableControl",value:function(){return!(!this.options.control||"function"!=typeof this.options.control.getContainer||"function"!=typeof this.options.control.getLayer)}},{key:"exportFeatures",value:function(e,t,n){var i=this,o=null;if(!e)return wA.warn("Impossible to export : no layer is hosting features."),o;if(!e.getSource()||!e.getSource().getFeatures()||!e.getSource().getFeatures().length)return wA.warn("Impossible to export : no features found."),o;e.getSource().getFeatures().forEach((function(e){e.getStyle()||"function"!=typeof i.options.control.getStyle||e.setStyle(i.options.control.getStyle())}));var r={defaultStyle:n};t&&(r.extensions={"geoportail:compute":t});var a=null;switch(this.options.format.toUpperCase()){case"KML":r.writeStyles=!0,r.showPointNames=!0,a=new mn(r);break;case"GPX":a=new Rn(r);break;case"GEOJSON":a=new qn(r)}if(!a)return wA.warn("Impossible to export : format unknown !?"),o;var s=e.getSource().getProjection(),l=this.getMap();l&&(s=s||l.getView().getProjection());var c=e.getSource().getFeatures();return o=a.writeFeatures(c,{dataProjection:"EPSG:4326",featureProjection:s||"EPSG:3857"})}},{key:"onClickButtonExport",value:function(e){if(this.isPluggableControl()){var t=this.options.control.getLayer(),n=void 0!==this.options.control.getData?this.options.control.getData():{},i=void 0!==this.options.control.getStyle?this.options.control.getStyle():{},o=this.exportFeatures(t,n,i);if(o&&"null"!==o)if(this.dispatchEvent({type:"export:compute",content:o}),this.options.onExport&&"function"==typeof this.options.onExport)this.options.onExport(o);else{var r=document.createElement("a");if(r.setAttribute("href","data:"+this.mimeType+";charset=utf-8,"+encodeURIComponent(o)),r.setAttribute("download",this.options.name+this.extension),document.createEvent){var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0),r.dispatchEvent(a)}else r.click()}}else wA.warn("Componant not pluggable with the control !")}},{key:"setControl",value:function(e){this.options.control=e}},{key:"setTarget",value:function(e){this.options.target=e}},{key:"setFormat",value:function(e){switch(this.options.format=e.toUpperCase(),this.options.format){case"KML":this.extension=".kml",this.mimeType="application/vnd.google-earth.kml+xml";break;case"GPX":this.extension=".gpx",this.mimeType="application/gpx+xml";break;case"GEOJSON":this.extension=".geojson",this.mimeType="application/geo+json";break;default:this.options.format="GEOJSON",this.extension=".geojson",this.mimeType="application/geo+json"}}},{key:"setName",value:function(e){this.options.name=e}},{key:"setTitle",value:function(e){this.options.title=e,this.button&&(this.button.value=this.options.menu?this.icon+e:e)}},{key:"setMenu",value:function(e){var t=this;if(this.options.menu=e,this.button&&(this.button.value=this.options.menu?this.icon+this.options.title:this.options.title),this.menu&&this.options.menu){var n=this.menu.className;this.menu.className=n.replace(this.menuClassHidden,""),this.menu.querySelectorAll('input[type=radio][name="format"]').forEach((function(e){e.id.toUpperCase().includes(t.options.format.toUpperCase())&&(e.checked=!0)}))}}}],i&&AA(n.prototype,i),o&&AA(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(Jc());Object.assign(EA.prototype,fA);const SA=EA;window.ol&&window.ol.control&&(window.ol.control.Export=EA);var PA=yt.getLogger("RouteDOM"),MA={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProute"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowRoutePictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowRoutePicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowRoutePicto gpf-btn gpf-btn-icon gpf-btn-icon-route fr-btn",t.title="Ouvrir le calcul d'itinÃ©raire",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowRoutePanelClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowRoutePanelClick(t)})),t},_createRoutePanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GProutePanel"),e.className="GPpanel gpf-panel fr-modal",e},_createRoutePanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createRoutePanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title fr-pt-4w",n.innerHTML="Calcul d'itinÃ©raire",t.appendChild(n);var i=document.createElement("button");i.id=this._addUID("GProutePanelClose"),i.className="GPpanelClose GProutePanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",i.title="Masquer le panneau",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowRoutePicto")).click()}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowRoutePicto")).click()}));var o=document.createElement("span");return o.className="GPelementHidden gpf-visible",o.innerText="Fermer",i.appendChild(o),t.appendChild(i),t},_createRoutePanelFooterElement:function(){var e=document.createElement("div");return e.className="GPpanelFooter gpf-panel__footer fr-modal__footer",e},_createRoutePanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GProuteForm"),t.className="gpf-panel__content fr-modal__content",t.setAttribute("onkeypress","return event.keyCode != 13;"),t.addEventListener("submit",(function(t){PA.log(t),t.preventDefault();var n=document.getElementsByClassName(e._addUID("GPlocationPoint")),i=n[0].childNodes[0].id,o=n[n.length-1].childNodes[0].id,r=yu.index(i),a=yu.index(o);if(""===document.getElementById(e._addUID("GPlocationOrigin_"+r)).value&&""===document.getElementById(e._addUID("GPlocationOriginCoords_"+r)).value||""===document.getElementById(e._addUID("GPlocationOrigin_"+a)).value&&""===document.getElementById(e._addUID("GPlocationOriginCoords_"+a)).value)return!1;e._addRouteResultsStagesValuesElement(n);var s=null;if(document.getElementById(e._addUID("GProuteComputationSelect"))){var l=document.getElementById(e._addUID("GProuteResultsComputationSelect"));l.selectedIndex=document.getElementById(e._addUID("GProuteComputationSelect")).selectedIndex,s=l.options[l.selectedIndex].value}var c=null;document.getElementById(e._addUID("GProuteTransportCar"))&&document.getElementById(e._addUID("GProuteTransportCar")).checked&&(c=document.getElementById(e._addUID("GProuteTransportCar")).value),document.getElementById(e._addUID("GProuteTransportPedestrian"))&&document.getElementById(e._addUID("GProuteTransportPedestrian")).checked&&(c=document.getElementById(e._addUID("GProuteTransportPedestrian")).value);for(var u=[],d=document.getElementsByClassName("GProuteExclusionsOption"),p=0;p<d.length;p++){var h=d[p].htmlFor,g=document.getElementById(h);g.checked||u.push(g.value)}return e.onRouteComputationSubmit({computation:s,transport:c,exclusions:u}),!1})),t},_createRoutePanelResultsElement:function(){var e=document.createElement("div");e.id=this._addUID("GProuteResultsPanel"),e.className="GPelementHidden gpf-hidden",e.appendChild(this._createRouteResultsStagesElement()),e.appendChild(this._createRouteResultsElement());var t=document.createElement("div");t.className="GPfakeBorder GPfakeBorderLeft",e.appendChild(t),e.appendChild(this._createRouteShowResultsDetailsElement());var n=document.createElement("label");n.htmlFor=this._addUID("GProuteResultsShowDetails"),n.innerHTML="Afficher le dÃ©tail",e.appendChild(n);var i=document.createElement("label");i.htmlFor=this._addUID("GProuteResultsShowDetails"),i.innerHTML="Masquer le dÃ©tail",e.appendChild(i);var o=document.createElement("div");return o.className="GPfakeBorder",e.appendChild(o),e.appendChild(this._createRouteResultsDetailsElement()),e},_createRouteWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GProuteCalcWaitingContainer"),e.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var t=document.createElement("p");return t.className="GPwaitingContainerInfo gpf-waiting_info",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createRouteResultsStagesElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteResultsStages"),e},_addRouteResultsStagesValuesElement:function(e){document.getElementById(this._addUID("GProuteResultsStages")).innerHTML="";for(var t=0;t<e.length;t++){var n=e[t].childNodes[0].id,i=yu.index(n);if("GPflexInput GPlocationStageFlexInput gpf-flex"===document.getElementById(this._addUID("GPlocationPoint_"+i)).className){var o=document.createElement("div");o.className="GProuteResultsStages";var r=document.createElement("div");r.className="GProuteResultStageLabel",r.innerHTML=document.getElementById(this._addUID("GPlocationOriginLabel_"+i)).innerHTML+" :",o.appendChild(r);var a=document.createElement("div");a.className="GProuteResultStageValue";var s=document.getElementById(this._addUID("GPlocationOriginCoords_"+i)),l=s.value,c="GPelementVisible gpf-visible"===s.className;a.innerHTML=null!==l&&""!==l&&c?l:document.getElementById(this._addUID("GPlocationOrigin_"+i)).value,o.appendChild(a),""!==a.innerHTML&&document.getElementById(this._addUID("GProuteResultsStages")).appendChild(o)}}},_createRouteResultsElement:function(){var e=this,t=document.createElement("div");t.id=this._addUID("GProuteResults");var n=document.createElement("div");n.id=this._addUID("GProuteResultsValues"),t.appendChild(n);var i=document.createElement("div");i.id=this._addUID("GProuteResultsMode");var o=document.createElement("select");o.id=this._addUID("GProuteResultsComputationSelect"),o.className="GPselect",o.addEventListener("change",(function(t){e.onRouteModeComputationChangeAndRun(t)}));for(var r=[{code:"fastest",label:"Plus rapide"},{code:"shortest",label:"Plus court"}],a=0;a<r.length;a++){var s=document.createElement("option");s.value=r[a].code,s.text=r[a].label,o.appendChild(s)}i.appendChild(o),t.appendChild(i);var l=document.createElement("div");return l.id=this._addUID("GProuteResultsNew"),l.title="Modifier le calcul",l.addEventListener("click",(function(t){document.getElementById(e._addUID("GProuteResultsPanel")).className="GPelementHidden gpf-hidden",document.getElementById(e._addUID("GProuteForm")).className="gpf-panel__content fr-modal__content",e.onShowRouteResultsNewClick(t)})),t.appendChild(l),t},_addRouteResultsValuesElement:function(e,t,n){var i=document.getElementById(this._addUID("GProuteResultsValues"));if(i.childElementCount)for(;i.firstChild;)i.removeChild(i.firstChild);var o=document.createElement("div");o.className="GProuteResultsValue";var r=document.createElement("label");r.className="GProuteResultsValueLabel",r.innerHTML="Distance :",o.appendChild(r);var a=0;if(parseInt(e/1e3,10)){var s=Math.round(e);a=(s/=1e3)+" km"}else a=Math.round(e)+" m";var l=document.createElement("div");l.id=this._addUID("GProuteResultsValueDist"),l.innerHTML=a,o.appendChild(l),i.appendChild(o);var c=document.createElement("div");c.className="GProuteResultsValue";var u=document.createElement("label");u.className="GProuteResultsValueLabel",u.innerHTML="DurÃ©e :",c.appendChild(u);var d=document.createElement("div");return d.id=this._addUID("GProuteResultsValueDist"),d.innerHTML=n(t),c.appendChild(d),i.appendChild(c),i},_createRouteShowResultsDetailsElement:function(){var e=document.createElement("input");return e.id=this._addUID("GProuteResultsShowDetails"),e.type="checkbox",e},_createRouteResultsDetailsElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteResultsDetails"),e},_addRouteResultsDetailsElement:function(e,t){var n=this,i=document.getElementById(this._addUID("GProuteResultsDetails"));if(i.childElementCount)for(;i.firstChild;)i.removeChild(i.firstChild);for(var o=0,r=0,a=0;a<e.length;a++){var s=a+1,l=e[a],c=document.createElement("div");c.className="GProuteResultsDetailsNumber",c.innerHTML=s+".",i.appendChild(c),r+=parseFloat(l.duration),o+=parseFloat(l.distance);var u=0;if(parseInt(o/1e3,10)){var d=Math.round(o);u=(d/=1e3)+" km"}else u=Math.round(o)+" m";var p=document.createElement("div");p.className="GProuteResultsDetailsInstruction",p.id=this._addUID("GProuteResultsDetailsInstruction_"+s),p.title="distance : "+u+" / temps : "+t(r),p.innerHTML=l.instruction,p.addEventListener("mouseover",(function(e){n.onRouteResultsDetailsMouseOver(e)})),p.addEventListener("mouseout",(function(e){n.onRouteResultsDetailsMouseOut(e)})),p.addEventListener("click",(function(e){"function"==typeof n.onRouteResultsDetailsClick&&n.onRouteResultsDetailsClick(e)})),i.appendChild(p)}return i},_createRoutePanelFormPointElement:function(e,t,n){var i=this,o=document.createElement("div");o.id="GProutePoint"+e,o.className=n?"GPflexInput GProuteStageFlexInput":"GPflexInput GProuteStageFlexInputHidden";var r=document.createElement("label");r.id="GProuteOriginLabel"+e,r.htmlFor="GProuteOrigin"+e,r.innerHTML=t,r.addEventListener("click",(function(){var e=this.id.charAt(this.id.length-1);document.getElementById("GProuteOriginCoords"+e).value="";for(var t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display="flex";document.getElementById("GProuteForm").className="gpf-panel__content fr-modal__content",document.getElementById("GProuteOriginPointer"+e).checked=!1,document.getElementById("GProuteOrigin"+e).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+e).className="GPelementHidden gpf-hidden"})),o.appendChild(r);var a=document.createElement("input");a.id="GProuteOrigin"+e,a.className="GPelementVisible gpf-visible",a.type="text",a.placeholder="Saisir une adresse",a.addEventListener("keyup",(function(e){var t=e.which||e.keyCode;if(13!==t&&10!==t){var n=this.id.charAt(this.id.length-1);document.getElementById("GProuteOrigin"+n).value.length>2?document.getElementById("GProuteAutoCompleteList"+n).style.display="block":document.getElementById("GProuteAutoCompleteList"+n).style.display="none",i.onAutoCompleteSearchText(e)}})),a.addEventListener("blur",(function(){var e=this.id.charAt(this.id.length-1);document.getElementById("GProuteAutoCompleteList"+e).style.display="none"})),o.appendChild(a);var s=document.createElement("input");s.id="GProuteOriginCoords"+e,s.className="GPelementHidden gpf-hidden",s.type="text",s.disabled=!0,o.appendChild(s);var l=document.createElement("input");l.id="GProuteOriginPointer"+e,l.type="checkbox",o.appendChild(l);var c=document.createElement("label");return c.id="GProuteOriginPointerImg"+e,c.htmlFor="GProuteOriginPointer"+e,c.className="GProuteOriginPointerImg",c.title="Pointer un lieu sur la carte",c.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t,n=this.id.charAt(this.id.length-1);for(t=1;t<8;t++)n!==t&&(document.getElementById("GProuteOriginPointer"+t).checked=!1,"Pointer un lieu sur la carte"===document.getElementById("GProuteOriginCoords"+t).value&&(document.getElementById("GProuteOriginCoords"+t).value="",document.getElementById("GProuteOrigin"+t).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+t).className="GPelementHidden gpf-hidden"));if(document.getElementById("GProuteOriginPointer"+n).checked){for(document.getElementById("GProuteOriginCoords"+n).value="",t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display="flex";document.getElementById("GProuteForm").className="gpf-panel__content fr-modal__content",document.getElementById("GProuteOriginPointer"+n).checked=!1,document.getElementById("GProuteOrigin"+n).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+n).className="GPelementHidden gpf-hidden"}else{for(document.getElementById("GProuteOriginCoords"+n).value="Pointer un lieu sur la carte",t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display=n===t?"flex":"none";document.getElementById("GProuteForm").className="GProuteFormMini gpf-panel__content fr-modal__content",document.getElementById("GProuteOriginPointer"+n).checked=!0,document.getElementById("GProuteOrigin"+n).className="GPelementHidden gpf-hidden",document.getElementById("GProuteOriginCoords"+n).className="GPelementVisible gpf-visible"}i.onRouteMapPointClick(e)})),o.appendChild(c),o},_createRoutePanelFormRemoveStageElement:function(e){var t=this,n=document.createElement("div");return n.id="GProuteStageRemove"+e,n.className="GProuteStageRemove",n.title="Supprimer l'Ã©tape",1!==e&&7!==e&&n.addEventListener("click",(function(e){var n=this.id.charAt(this.id.length-1);document.getElementById("GProutePoint"+n).className="GPflexInput GProuteStageFlexInputHidden",document.getElementById("GProuteOrigin"+n).value="",document.getElementById("GProuteOrigin"+n).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+n).value="",document.getElementById("GProuteOriginCoords"+n).className="GPelementHidden gpf-hidden",document.getElementById("GProuteStageAdd").style.display="",t.onRouteRemovePointClick(e)})),n},_createRoutePanelFormAddStageElement:function(){var e=this,t=document.createElement("div");return t.id="GProuteStageAdd",t.title="Ajouter une Ã©tape",t.addEventListener("click",(function(t){for(var n=1,i=0,o=2;o<7;o++)"GPflexInput GProuteStageFlexInputHidden"===document.getElementById("GProutePoint"+o).className?1===n&&(n=o):i++;n<7&&(document.getElementById("GProutePoint"+n).className="GPflexInput GProuteStageFlexInput"),4===i&&(document.getElementById("GProuteStageAdd").style.display="none"),e.onRouteAddPointClick(t)})),t},_createRoutePanelFormAutoCompleteListElement:function(e){var t=this,n=document.createElement("div");return n.id="GProuteAutoCompleteList"+e,n.className="GPadvancedAutoCompleteList",n.addEventListener?n.addEventListener("click",(function(n){t.onAutoCompletedResultsItemClick(n),document.getElementById("GProuteAutoCompleteList"+e).style.display="none"}),!1):n.attachEvent&&n.attachEvent("onclick",(function(n){t.onAutoCompletedResultsItemClick(n),document.getElementById("GProuteAutoCompleteList"+e).style.display="none"})),n},_createRouteAutoCompletedLocationElement:function(e,t,n){var i=document.getElementById("GProuteAutoCompleteList"+t),o=document.createElement("div");o.id="AutoCompletedLocation"+n,o.className="GPautoCompleteProposal",o.innerHTML=ih.getSuggestedLocationFreeform(e),i.appendChild(o)},_createRoutePanelFormModeChoiceElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteModeChoice"),e},_createRoutePanelFormModeChoiceTransportElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GProuteTransportChoice");var i=document.createElement("label");i.className="GProuteModeLabel gpf-label fr-label",i.innerHTML="Mode de transport",n.appendChild(i);for(var o=0;o<e.length;o++){var r=e[o],a=document.createElement("div");if(a.className="GProuteTransportChoice gpf-flex gpf-radio-group fr-radio-group fr-my-1w","Voiture"===r){var s=document.createElement("input");s.id=this._addUID("GProuteTransportCar"),s.type="radio",s.name="GProuteTransport",s.value="Voiture",0===o&&(s.checked=!0),s.addEventListener?s.addEventListener("change",(function(e){t.onRouteModeTransportChange(e)})):s.attachEvent&&s.attachEvent("onchange",(function(e){t.onRouteModeTransportChange(e)})),a.appendChild(s);var l=document.createElement("label");l.className="GProuteTransportImg gpf-label fr-label",l.htmlFor=this._addUID("GProuteTransportCar"),l.title="Voiture",l.innerHTML="Voiture",a.appendChild(l)}if("Pieton"===r){var c=document.createElement("input");c.id=this._addUID("GProuteTransportPedestrian"),c.type="radio",c.name="GProuteTransport",c.value="Pieton",0===o&&(c.checked=!0),c.addEventListener?c.addEventListener("change",(function(e){t.onRouteModeTransportChange(e)})):c.attachEvent&&c.attachEvent("onchange",(function(e){t.onRouteModeTransportChange(e)})),a.appendChild(c);var u=document.createElement("label");u.className="GProuteTransportImg gpf-label fr-label",u.htmlFor=this._addUID("GProuteTransportPedestrian"),u.title="PiÃ©ton",u.innerHTML="PiÃ©ton",a.appendChild(u)}n.appendChild(a)}return n},_createRoutePanelFormModeChoiceComputeElement:function(){var e=this,t=document.createElement("div");t.id=this._addUID("GProuteComputationChoice");var n=document.createElement("label");n.htmlFor=this._addUID("GProuteComputationSelect"),n.innerHTML="Mode de calcul";var i=document.createElement("span");i.className="GProuteModeLabel",i.appendChild(n),t.appendChild(i);var o=document.createElement("select");o.id=this._addUID("GProuteComputationSelect"),o.className="GPselect gpf-select fr-select",o.addEventListener("change",(function(t){e.onRouteModeComputationChange(t)}));for(var r=[{code:"fastest",label:"Plus rapide"},{code:"shortest",label:"Plus court"}],a=0;a<r.length;a++){var s=document.createElement("option");s.value=r[a].code,s.text=r[a].label,o.appendChild(s)}return t.appendChild(o),t},_createShowRouteExclusionsPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowRouteExclusionsPicto"),t.className="GPelementHidden GPshowAdvancedToolPicto GPshowMoreOptionsImage GPshowMoreOptions GPshowRouteExclusionsPicto gpf-hidden gpf-btn fr-btn--sm fr-btn--secondary fr-icon-arrow-down-fill",t.title="Exclusions",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!0),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowRouteExclusionsClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowRouteExclusionsClick(t)})),t},_createRoutePanelFormExclusionsElement:function(){var e=document.createElement("div");e.id=this._addUID("GProuteExclusions");var t=document.createElement("label");return t.className="GProuteExclusionsLabel fr-m-1w",t.innerHTML="Passages autorisÃ©s",e.appendChild(t),e},_createRoutePanelFormExclusionOptionsElement:function(e){var t=this,n=document.createElement("div");for(var i in n.className="GProuteExclusionsOptions gpf-flex fr-checkbox-group fr-m-1w",e)if(e.hasOwnProperty(i)){var o=e[i];switch(i){case"toll":var r=document.createElement("input");r.id=this._addUID("GProuteExclusionsToll"),r.type="checkbox",r.value="Toll",r.checked=!o,r.addEventListener?r.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),n.appendChild(r);var a=document.createElement("label");a.className="GProuteExclusionsOption",a.htmlFor=this._addUID("GProuteExclusionsToll"),a.innerHTML="PÃ©ages",n.appendChild(a);break;case"tunnel":var s=document.createElement("input");s.id=this._addUID("GProuteExclusionsTunnel"),s.type="checkbox",s.value="Tunnel",s.checked=!o,s.addEventListener?s.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):s.attachEvent&&s.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),n.appendChild(s);var l=document.createElement("label");l.className="GProuteExclusionsOption",l.htmlFor=this._addUID("GProuteExclusionsTunnel"),l.innerHTML="Tunnels",n.appendChild(l);break;case"bridge":var c=document.createElement("input");c.id=this._addUID("GProuteExclusionsBridge"),c.type="checkbox",c.value="Bridge",c.checked=!o,c.addEventListener?c.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):c.attachEvent&&c.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),n.appendChild(c);var u=document.createElement("label");u.className="GProuteExclusionsOption",u.htmlFor=this._addUID("GProuteExclusionsBridge"),u.innerHTML="Ponts",n.appendChild(u)}}return n},_createRouteSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GProuteSubmit"),e.className="GPsubmit gpf-btn gpf-btn-icon-submit  fr-btn fr-btn--secondary",e.type="submit",e.value="Calculer",e},_createRouteFormResetElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GProuteReset"),t.title="RÃ©initialiser les paramÃ¨tres",t.className="GPresetPicto gpf-btn gpf-btn-icon-return fr-btn fr-btn--secondary",t.title="RÃ©initialiser les paramÃ¨tres",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onRouteResetClick(t)})),t}};const xA=MA;function GA(e){return GA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GA(e)}function kA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,RA(i.key),i)}}function RA(e){var t=function(e,t){if("object"!=GA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=GA(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GA(t)?t:t+""}function LA(e,t,n){return t=NA(t),OA(e,TA()?Reflect.construct(t,n||[],NA(e).constructor):t.apply(e,n))}function OA(e,t){if(t&&("object"==GA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function TA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(TA=function(){return!!e})()}function DA(){return DA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=NA(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},DA.apply(null,arguments)}function NA(e){return NA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NA(e)}function UA(e,t){return UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},UA(e,t)}var jA=yt.getLogger("route"),BA=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=LA(this,t,[{element:(e=e||{}).element,target:e.target,render:e.render}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.initialize(e),n._container=n._createMainContainerElement(),n.element?n.element.appendChild(n._container):n.element=n._container,OA(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UA(e,t)}(t,e),i=t,o=[{key:"setMap",value:function(e){if(e){if(this._container=this._initContainer(e),this.element=this._container,this.options.export){var n=nn.assign({control:this},this.options.export);this.export=new SA(n),this.export.render();var i=this;this.export.on("export:compute",(function(e){i.dispatchEvent({type:"export:compute",content:e.content})}))}this.draggable&&yy.dragElement(this._panelRouteContainer,this._panelHeaderRouteContainer,this.options.position?null:e.getTargetElement()),this.collapsed||this._showRouteButton.setAttribute("aria-pressed",!0)}DA(NA(t.prototype),"setMap",this).call(this,e),this.options.position&&this.setPosition(this.options.position)}},{key:"getCollapsed",value:function(){return this.collapsed}},{key:"setCollapsed",value:function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GProutePanelClose-"+this._uid).click():this._showRouteButton.click(),this.collapsed=e):jA.log("[ERROR] Route:setCollapsed - missing collapsed parameter")}},{key:"getLayer",value:function(){return this._geojsonSections}},{key:"setLayer",value:function(e){e?e instanceof rr()?(e.setStyle(this._defaultFeatureStyle),this._geojsonSections=e):jA.log("no valid layer given for hosting drawn features."):this._geojsonSections=null}},{key:"getGeoJSON",value:function(){return JSON.stringify(this._geojsonObject)}},{key:"setGeoJSON",value:function(e){try{this._geojsonObject=JSON.parse(e)}catch(e){jA.log("no valid geojson given :"+e.message)}}},{key:"getData",value:function(){for(var e=[],t=0;t<this._currentPoints.length;t++){var n=this._currentPoints[t];e.push(n.getCoordinate())}var i={type:"route",points:e,transport:this._currentTransport,exclusions:this._currentExclusions,computation:this._currentComputation,results:{}};return nn.assign(i.results,this._currentRouteInformations),i}},{key:"setData",value:function(e){this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions;for(var t=0;t<this._currentPoints.length;t++){var n=this._currentPoints[t];if(n.getCoordinate()){n.clearResults();var i=t+1+"-"+this._uid;document.getElementById("GPlocationOriginCoords_"+i).value="",document.getElementById("GPlocationOrigin_"+i).value="",document.getElementById("GPlocationPoint_"+i).style.cssText="",t>0&&t<6&&(document.getElementById("GPlocationPoint_"+i).className="GPflexInput GPelementHidden gpf-flex gpf-hidden "),document.getElementById("GPlocationOriginPointer_"+i).checked=!1,document.getElementById("GPlocationOrigin_"+i).className="GPelementVisible gpf-visible",document.getElementById("GPlocationOriginCoords_"+i).className="GPelementHidden gpf-hidden"}}for(var o=0;o<e.points.length;o++){var r=e.points[o];r&&this._currentPoints[o].setCoordinate(r,"EPSG:4326")}this._currentRouteInformations=e.results}},{key:"getContainer",value:function(){return this._container}},{key:"getStyle",value:function(){return this._defaultFeatureStyle}},{key:"init",value:function(){for(var e=0;e<this._currentPoints.length;e++){var t=e+1,n=this._currentPoints[e].getCoordinate();n&&(document.getElementById("GPlocationOrigin_"+t+"-"+this._uid).value=n[1].toFixed(4)+" / "+n[0].toFixed(4),e>0&&e<6&&(document.getElementById("GPlocationPoint_"+t+"-"+this._uid).className="GPflexInput GPlocationStageFlexInput gpf-flex"))}var i,o=document.getElementsByClassName("GPlocationPoint-"+this._uid);this._addRouteResultsStagesValuesElement(o),"Pieton"===this._currentTransport?(i=document.getElementById("GProuteTransportPedestrian-"+this._uid))&&(i.checked="true"):(i=document.getElementById("GProuteTransportCar-"+this._uid))&&(i.checked="true");var r=document.getElementById("GProuteComputationSelect-"+this._uid);r&&(r.value=this._currentComputation);var a=document.getElementById("GProuteExclusionsToll-"+this._uid);a&&(-1!==this._currentExclusions.indexOf("toll")?a.checked=!1:a.checked=!0);var s=document.getElementById("GProuteExclusionsTunnel-"+this._uid);s&&(-1!==this._currentExclusions.indexOf("tunnel")?s.checked=!1:s.checked=!0);var l=document.getElementById("GProuteExclusionsBridge-"+this._uid);l&&(-1!==this._currentExclusions.indexOf("bridge")?l.checked=!1:l.checked=!0);var c=this._currentRouteInformations.totalDistance,u=this._currentRouteInformations.totalTime,d=this._simplifiedInstructions(this._currentRouteInformations.routeInstructions);d&&this._fillRouteResultsDetailsContainer(c,u,d),this._formRouteContainer.className="GPelementHidden gpf-hidden gpf-panel__content fr-modal__content",this._hideWaitingContainer(),this._resultsRouteContainer.className=""}},{key:"clean",value:function(){this._currentTransport=null,this._currentExclusions=[],this._currentComputation=null;for(var e=0;e<this._currentPoints.length;e++)this._currentPoints[e].clear();this._removeRouteStepLocations(),this._clearRouteInputOptions(),this._clearRouteResultsDetails(),this.setLayer(),this._formRouteContainer.className="gpf-panel__content fr-modal__content",this._resultsRouteContainer.className="GPelementHidden gpf-hidden"}},{key:"initialize",value:function(e){this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,export:!1,graphs:["Voiture","Pieton"],exclusions:{toll:!1,tunnel:!1,bridge:!1},routeOptions:{},autocompleteOptions:{},layerDescription:{title:"ItinÃ©raire",description:"ItinÃ©raire basÃ© sur un graphe"}},nn.assign(this.options,e);var t={departure:{url:xt.red,offset:xt.defaultOffset},stages:{url:xt.lightOrange,offset:xt.defaultOffset},arrival:{url:xt.darkOrange,offset:xt.defaultOffset}};this.options.markersOpts=nn.assign(t,e.markersOpts),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=yu.generate(),this._showRouteButton=null,this._panelRouteContainer=null,this._panelHeaderRouteContainer=null,this._waitingContainer=null,this._formRouteContainer=null,this._resultsRouteContainer=null,this._showRouteExclusionsElement=null,this._currentPoints=[],this._currentTransport=null,this._initTransport(),this._currentComputation=null,this._initComputation(),this._currentExclusions=[],this._initExclusions(),this._waiting=!1,this._timer=null,this._geojsonRoute=null,this._geojsonSections=null,this._geojsonObject=null,this.export=null,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null,this._resultsSelectInteraction=null,this._resultsHoverInteraction=null,this._defaultFeatureStyle=new St.Style({stroke:new St.Stroke({color:"rgba(0,183,152,0.9)",width:12})}),this._selectedFeatureStyle=new St.Style({stroke:new St.Stroke({color:"rgba(255,102,0,0.9)",width:12})}),this._currentRouteInformations=null,this._resources={},this.listenerKey=null}},{key:"_checkInputOptions",value:function(e){if(e.graphs)if(Array.isArray(e.graphs)&&e.graphs.length)for(var t=0;t<e.graphs.length;t++)"string"==typeof e.graphs[t]?("pieton"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Pieton"),"voiture"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Voiture")):(jA.log("[ol.control.Route] ERROR : parameter 'graphs' elements should be of type 'string'"),e.graphs[t]=null);else jA.warn("'graphs' parameter should be an array"),e.graphs=null;"true"===e.collapsed&&(e.collapsed=!0),"false"===e.collapsed&&(e.collapsed=!1)}},{key:"_initContainer",value:function(e){var t=this,n=this._container,i=this._showRouteButton=this._createShowRoutePictoElement();n.appendChild(i);var o=this._panelRouteContainer=this._createRoutePanelElement(),r=this._createRoutePanelDivElement();o.appendChild(r);var a=this._panelHeaderRouteContainer=this._createRoutePanelHeaderElement();r.appendChild(a);for(var s=this._formRouteContainer=this._createRoutePanelFormElement(),l=this._createRoutePanelFormPointsElement(e),c=0;c<l.length;c++)s.appendChild(l[c]);var u=this._createRoutePanelFormModeChoiceElement();u.appendChild(this._createRoutePanelFormModeChoiceTransportElement(this.options.graphs)),u.appendChild(this._createRoutePanelFormModeChoiceComputeElement()),s.appendChild(u),this._showRouteExclusionsElement=this._createShowRouteExclusionsPictoElement(),s.appendChild(this._showRouteExclusionsElement);var d=this._createRoutePanelFormExclusionsElement();d.appendChild(this._createRoutePanelFormExclusionOptionsElement(this.options.exclusions)),s.appendChild(d);var p=this._createRoutePanelFooterElement();s.appendChild(p);var h=this._createRouteFormResetElement();p.appendChild(h);var g=this._createRouteSubmitFormElement();p.appendChild(g),r.appendChild(s);var m=this._resultsRouteContainer=this._createRoutePanelResultsElement();r.appendChild(m);var f=this._waitingContainer=this._createRouteWaitingElement();return r.appendChild(f),n.appendChild(o),n.addEventListener&&n.addEventListener("click",(function(e){return t._hideRouteSuggestedLocations(e)})),n}},{key:"_initTransport",value:function(){this._currentTransport="Voiture";var e=this.options.graphs;e&&0!==e.length||(this.options.graphs=["Voiture","Pieton"]),Array.isArray(e)&&e.length&&("Voiture"!==e[0]&&"Pieton"!==e[0]||(this._currentTransport=e[0]));var t=this.options.routeOptions;t.graph&&(this._currentTransport=t.graph)}},{key:"_initComputation",value:function(){this._currentComputation="fastest";var e=this.options.routeOptions;e.routePreference&&(this._currentComputation=e.routePreference)}},{key:"_initExclusions",value:function(){this._currentExclusions=[];var e=this.options.exclusions;if((!e||"object"===GA(e)&&0===Object.keys(e).length)&&(this.options.exclusions={toll:!1,tunnel:!1,bridge:!1}),e&&"object"===GA(e)&&Object.keys(e).length)for(var t in e)e.hasOwnProperty(t)&&e[t]&&this._currentExclusions.push(t);var n=this.options.routeOptions;Array.isArray(n.exclusions)&&(this._currentExclusions=n.exclusions)}},{key:"_initPopupDiv",value:function(){var e=this,t=document.createElement("div");t.className="gp-feature-info-div";var n=document.createElement("input");return n.type="button",n.className="gp-styling-button closer",n.onclick=function(){return null!=e._popupOverlay&&e._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",t.appendChild(this._popupContent),t.appendChild(n),t}},{key:"_createRoutePanelFormPointsElement",value:function(e){var t=[],n=1,i=new mA({apiKey:this.options.apiKey||null,tag:{id:n,groupId:this._uid,markerOpts:this.options.markersOpts.departure,label:"DÃ©part",display:!0},autocompleteOptions:this.options.autocompleteOptions||null});for(i.setMap(e),this._addFormPointsEventListeners(i),t.push(i._container),this._currentPoints.push(i),n=2;n<7;n++){var o=new mA({apiKey:this.options.apiKey||null,tag:{id:n,groupId:this._uid,label:"Etape",markerOpts:this.options.markersOpts.stages,display:!1,removeOption:!0},autocompleteOptions:this.options.autocompleteOptions||null});o.setMap(e),this._addFormPointsEventListeners(o),t.push(o._container),this._currentPoints.push(o)}var r=new mA({apiKey:this.options.apiKey||null,tag:{id:n,groupId:this._uid,markerOpts:this.options.markersOpts.arrival,label:"ArrivÃ©e",display:!0,addOption:!0},autocompleteOptions:this.options.autocompleteOptions||null});return r.setMap(e),this._addFormPointsEventListeners(r),t.push(r._container),this._currentPoints.push(r),t}},{key:"_addFormPointsEventListeners",value:function(e){var t=this;e&&(e._buttonLabel.addEventListener?(e._buttonLabel.addEventListener("click",(function(e){return t.onRouteOriginLabelClick(e)})),e._inputShowPointer.addEventListener("click",(function(n){return t.onRouteOriginPointerClick(n,e)})),e._removePointElement&&e._removePointElement.addEventListener("click",(function(e){jA.trace("click on _removePointElement",e)})),e._addPointElement&&e._addPointElement.addEventListener("click",(function(e){jA.trace("click on _addPointElement",e)}))):e._buttonLabel.attachEvent&&(e._buttonLabel.attachEvent("onclick",(function(e){return t.onRouteOriginLabelClick(e)})),e._inputShowPointer.attachEvent("onclick",(function(n){return t.onRouteOriginPointerClick(n,e)})),e._removePointElement&&e._removePointElement.attachEvent("onclick",(function(e){})),e._addPointElement&&e._addPointElement.attachEvent("onclick",(function(e){}))))}},{key:"onRouteComputationSubmit",value:function(e){jA.log("onRouteComputationSubmit",e);var t,n,i=this._currentPoints;if(i[0]&&i[0].getCoordinate){var o=i[0].getCoordinate();t={x:o[0],y:o[1]},jA.log("start",t)}var r=i[i.length-1];if(r&&r.getCoordinate){var a=r.getCoordinate();n={x:a[0],y:a[1]},jA.log("end",n)}for(var s=[],l=1;l<i.length-1;l++)if(i[l]&&i[l].getCoordinate){var c=i[l].getCoordinate();if(c){var u={x:c[0],y:c[1]};jA.log("step",u),s.push(u)}}this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions;var d,p=this.options.routeOptions;p.resource?d=p.resource:"fastest"===this._currentComputation&&"Pieton"===this._currentTransport&&(d="bdtopo-valhalla");var h=p.protocol||"XHR",g=p.timeOut||0;"JSONP"===h&&0===g&&(g=15e3);var m=!(null===p.onFailure||"function"!=typeof p.onFailure),f=!(null===p.onSuccess||"function"!=typeof p.onSuccess),y=this;this._requestRouting({startPoint:t,endPoint:n,viaPoints:s,graph:p.graph||this._currentTransport,routePreference:p.routePreference||this._currentComputation,exclusions:p.exclusions||this._currentExclusions,geometryInInstructions:!0,distanceUnit:"m",timeOut:g,protocol:h,resource:d,onSuccess:function(e){jA.log(e),e&&y._fillRouteResultsDetails(e),f&&p.onSuccess.call(y,e)},onFailure:function(e){y._hideWaitingContainer(),y._clearRouteResultsDetails(),jA.log(e.message),m&&p.onFailure.call(y,e)}})}},{key:"onRouteOriginLabelClick",value:function(){this._formRouteContainer.className="gpf-panel__content fr-modal__content",(0,to.unByKey)(this.listenerKey),this.dispatchEvent("route:drawend")}},{key:"onRouteOriginPointerClick",value:function(e,t){var n=this,i=this.getMap();t._inputShowPointerContainer.checked?(this._formRouteContainer.className="GProuteFormMini gpf-panel__content fr-modal__content",e.target.parentElement.parentElement.classList.add("selected"),this.listenerKey=i.on("click",(function(){e.target.parentElement.parentElement.classList.remove("selected"),"GProuteFormMini gpf-panel__content fr-modal__content"===n._formRouteContainer.className&&(n._formRouteContainer.className="gpf-panel__content fr-modal__content"),(0,to.unByKey)(n.listenerKey),n.dispatchEvent("route:drawend")})),this.dispatchEvent("route:drawstart")):(this._formRouteContainer.className="",(0,to.unByKey)(this.listenerKey),this.dispatchEvent("route:drawend"))}},{key:"onShowRoutePanelClick",value:function(e){var t=this.getMap();$p.unset(t),this._geojsonSections||this._waiting||this._clear();var n=this._showRouteButton.ariaPressed;this.collapsed=!("true"===n),this.dispatchEvent("change:collapsed")}},{key:"onRouteModeComputationChange",value:function(e){var t=e.target.selectedIndex,n=e.target.options[t].value;n&&(jA.log(n),this._currentComputation=n)}},{key:"onRouteModeComputationChangeAndRun",value:function(e){this.onRouteModeComputationChange(e),this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry(),this.onRouteComputationSubmit({computation:this._currentComputation,transport:this._currentTransport,exclusions:this._currentExclusions})}},{key:"onRouteModeTransportChange",value:function(e){var t=e.target.value;t&&(this._currentTransport=t)}},{key:"onShowRouteExclusionsClick",value:function(e){jA.log("onShowRouteExclusionsClick",e)}},{key:"onRouteExclusionsChange",value:function(e){var t=e.target.value,n=e.target.checked;if(t&&"string"==typeof t){t=t.toLowerCase();for(var i=!1,o=null,r=0;r<this._currentExclusions.length;r++)this._currentExclusions[r]===t&&(o=r,i=!0);i||n||this._currentExclusions.push(t),i&&n&&this._currentExclusions.splice(o,1)}}},{key:"onRouteResetClick",value:function(){for(var e=this._currentPoints,t=0;t<e.length;t++)e[t].clear();this._clear(),this._clearRouteInputOptions()}},{key:"onShowRouteResultsNewClick",value:function(){this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry()}},{key:"onRouteResultsDetailsMouseOver",value:function(e){var t=e.target.id,n=t.substring(t.indexOf("_")+1);e.target.classList&&e.target.classList.add("GProuteResultsDetailsInstructionHighlight"),this._geojsonSections&&this._geojsonSections.getSource().getFeatureById(parseInt(n,10)).setStyle(this._selectedFeatureStyle)}},{key:"onRouteResultsDetailsMouseOut",value:function(e){var t=e.target.id,n=t.substring(t.indexOf("_")+1);e.target.classList&&e.target.classList.remove("GProuteResultsDetailsInstructionHighlight"),this._geojsonSections&&this._geojsonSections.getSource().getFeatureById(parseInt(n,10)).setStyle(null)}},{key:"_requestRouting",value:function(e){!e||"object"===GA(e)&&0===Object.keys(e).length||e.startPoint&&e.endPoint&&(e.apiKey=this.options.routeOptions.apiKey||this.options.apiKey,"boolean"!=typeof e.ssl&&("boolean"==typeof this.options.ssl?e.ssl=this.options.ssl:e.ssl=!0),jA.log(e),this._displayWaitingContainer(),ft.Services.route(e))}},{key:"_fillRouteResultsDetails",value:function(e){var t=e.totalDistance,n=e.totalTime,i=this._simplifiedInstructions(e.routeInstructions);i&&this._fillRouteResultsDetailsContainer(t,n,i);var o=e.routeGeometry;o&&this._fillRouteResultsDetailsGeometry(o,this._defaultFeatureStyle),i&&i[0].geometry&&this._fillRouteResultsDetailsFeatureGeometry(i,this._defaultFeatureStyle);var r=e.bbox;if(r){var a=this.getMap(),s=[r.left,r.bottom,r.right,r.top],l=a.getView().getProjection().getCode();"EPSG:4326"!==l&&(s=(0,Si.transformExtent)(s,"EPSG:4326",l)),a.getView().fit(s,a.getSize())}this._currentRouteInformations=e,this.dispatchEvent({type:"route:compute"}),this._formRouteContainer.className="GPelementHidden gpf-hidden gpf-panel__content fr-modal__content",this._hideWaitingContainer(),this._resultsRouteContainer.className=""}},{key:"_fillRouteResultsDetailsContainer",value:function(e,t,n){this._resultsRouteValuesContainer=this._addRouteResultsValuesElement(e,t,this._convertSecondsToTime),this._resultsRouteDetailsContainer=this._addRouteResultsDetailsElement(n,this._convertSecondsToTime)}},{key:"_fillRouteResultsDetailsGeometry",value:function(e,t){this._clearRouteResultsGeometry();var n=this.getMap();if(e){var i={type:"FeatureCollection",features:[{type:"Feature",crs:{type:"name",properties:{name:"EPSG:4326"}},geometry:e}]},o=new qn({defaultDataProjection:"EPSG:4326",defaultStyle:t}).readFeatures(i,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});this._geojsonRoute=new(rr())({source:new(a())({features:o}),style:t}),n.addLayer(this._geojsonRoute)}}},{key:"_fillRouteResultsDetailsFeatureGeometry",value:function(e,t){var n=this;this._clearRouteResultsFeatureGeometry();var i=this.getMap();this._geojsonObject={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[]};for(var o=0;o<e.length;o++){for(var r=e[o],s=o+1,l=r.geometry.coordinates,c=0;c<l.length;c++)"string"==typeof l[c][0]&&(l[c][0]=parseFloat(l[c][0]),l[c][1]=parseFloat(l[c][1]));this._geojsonObject.features.push({type:"Feature",geometry:r.geometry,properties:{popupContent:"("+s+") distance : "+this._convertDistance(r.distance)+" / temps : "+this._convertSecondsToTime(r.duration)},id:s})}this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._currentPoints[0].getCoordinate()},properties:{description:"Point de dÃ©part","marker-symbol":this.options.markersOpts.departure.url}});for(var u=1;u<this._currentPoints.length-1;u++)if(this._currentPoints[u]&&this._currentPoints[u].getCoordinate){var d=this._currentPoints[u].getCoordinate();d&&this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:{description:"Point d'Ã©tape","marker-symbol":this.options.markersOpts.stages.url}})}this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._currentPoints[this._currentPoints.length-1].getCoordinate()},properties:{description:"Point d'arrivÃ©e","marker-symbol":this.options.markersOpts.arrival.url}});var p,g=new qn({defaultDataProjection:"EPSG:4326",defaultStyle:t}),m=this.getMap().getView().getProjection().getCode(),f=g.readFeatures(this._geojsonObject,{dataProjection:"EPSG:4326",featureProjection:m});this._geojsonSections=new(rr())({source:new(a())({features:f}),style:t,opacity:.9}),"Pieton"===this._currentTransport?(p="piÃ©ton",this._geojsonSections.gpResultLayerId="Pieton$OGC:OPENLS;Itineraire"):(p="voiture",this._geojsonSections.gpResultLayerId="Voiture$OGC:OPENLS;Itineraire"),i.addLayer(this._geojsonSections),i.getControls().forEach((function(e){if(e instanceof Np){var t=n._geojsonSections.gpLayerId;e._layers[t].title===t&&e.addLayer(n._geojsonSections,{title:n.options.layerDescription.title+" ("+p+")",description:n.options.layerDescription.description})}}),this),this._resultsHoverInteraction=new h.Select({condition:Dy.pointerMove,layers:[this._geojsonSections],style:this._selectedFeatureStyle}),this._resultsHoverInteraction.on("select",(function(e){return n._onResultsFeatureMouseOver(e)})),i.addInteraction(this._resultsHoverInteraction),this._resultsSelectInteraction=new h.Select({layers:[this._geojsonSections],style:this._selectedFeatureStyle}),this._resultsSelectInteraction.on("select",(function(e){return n._onResultsFeatureSelect(e)})),i.addInteraction(this._resultsSelectInteraction)}},{key:"_onResultsFeatureMouseOver",value:function(e){if(0!==e.selected.length){var t=e.selected[0],n=document.getElementById("GProuteResultsDetailsInstruction_"+t.getId()+"-"+this._uid);n&&n.classList&&n.classList.add("GProuteResultsDetailsInstructionHighlight")}if(0!==e.deselected.length){var i=e.deselected[0],o=document.getElementById("GProuteResultsDetailsInstruction_"+i.getId()+"-"+this._uid);o&&o.classList&&o.classList.remove("GProuteResultsDetailsInstructionHighlight")}}},{key:"_onResultsFeatureSelect",value:function(e){var t=this.getMap();if(0!==e.selected.length){var i=e.selected[0];this._popupContent.innerHTML=i.getProperties().popupContent,this._popupOverlay?this._popupOverlay.setPosition(e.mapBrowserEvent.coordinate):(this._popupOverlay=new(n())({element:this._popupDiv,positioning:"bottom-center",position:e.mapBrowserEvent.coordinate}),t.addOverlay(this._popupOverlay))}else null!=this._popupOverlay&&this._popupOverlay.setPosition(void 0)}},{key:"_clear",value:function(){this._currentTransport=null,this._currentExclusions=[],this._currentComputation=null,this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry();for(var e=0;e<this._currentPoints.length;e++)this._currentPoints[e].clear();this._removeRouteStepLocations()}},{key:"_clearRouteInputOptions",value:function(){var e;this._initTransport(),this._initComputation(),this._initExclusions(),"Pieton"===this._currentTransport?(e=document.getElementById("GProuteTransportPedestrian-"+this._uid))&&(e.checked="true"):(e=document.getElementById("GProuteTransportCar-"+this._uid))&&(e.checked="true");var t=document.getElementById("GProuteComputationSelect-"+this._uid);t&&(t.value=this._currentComputation);var n=document.getElementById("GProuteExclusionsToll-"+this._uid);n&&(-1!==this._currentExclusions.indexOf("toll")?n.checked=!1:n.checked=!0);var i=document.getElementById("GProuteExclusionsTunnel-"+this._uid);i&&(-1!==this._currentExclusions.indexOf("tunnel")?i.checked=!1:i.checked=!0);var o=document.getElementById("GProuteExclusionsBridge-"+this._uid);o&&(-1!==this._currentExclusions.indexOf("bridge")?o.checked=!1:o.checked=!0)}},{key:"_removeRouteStepLocations",value:function(){var e=document.querySelectorAll('div[id^="GPlocationPoint"]');if(0!==e.length){for(var t=[],n=0;n<e.length;n++)-1!==e[n].id.indexOf(this._uid)&&t.push(e[n]);for(var i=1;i<t.length-1;i++){var o=t[i].classList;if(0!==o.length)for(var r=0;r<o.length;r++)"GPlocationStageFlexInput"===o[r]&&document.getElementById(this._addUID("GPlocationStageRemove_"+(i+1))).click()}}}},{key:"_clearRouteResultsDetails",value:function(){if(this._currentRouteInformations=null,this._resultsRouteDetailsContainer){var e=this._resultsRouteDetailsContainer;if(e.childElementCount)for(;e.firstChild;)e.removeChild(e.firstChild)}if(this._resultsRouteValuesContainer){var t=this._resultsRouteValuesContainer;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild)}}},{key:"_clearRouteResultsGeometry",value:function(){var e=this.getMap();null!=this._geojsonRoute&&(e.removeLayer(this._geojsonRoute),this._geojsonRoute=null)}},{key:"_clearRouteResultsFeatureGeometry",value:function(){var e=this.getMap();null!=this._geojsonSections&&(e.removeLayer(this._geojsonSections),this._geojsonSections=null,this._geojsonObject=null),null!=this._popupOverlay&&(e.removeOverlay(this._popupOverlay),this._popupOverlay=null),null!=this._resultsSelectInteraction&&(e.removeInteraction(this._resultsSelectInteraction),this._resultsSelectInteraction=null),null!=this._resultsHoverInteraction&&(e.removeInteraction(this._resultsHoverInteraction),this._resultsHoverInteraction=null)}},{key:"_hideRouteSuggestedLocations",value:function(e){if(e.target&&e.target.id&&-1!==e.target.id.indexOf("GPlocationOrigin_"))for(var t=parseInt(e.target.id.split("_")[1][0],10)-1,n=0;n<this._currentPoints.length;n++)n!==parseInt(t,10)&&this._currentPoints[n]._hideSuggestedLocation();else for(var i=0;i<this._currentPoints.length;i++)this._currentPoints[i]._hideSuggestedLocation()}},{key:"_displayWaitingContainer",value:function(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0;var e=this.options.routeOptions;if(e&&e.timeOut){this._timer&&(clearTimeout(this._timer),this._timer=null);var t=this;this._timer=setTimeout((function(){!0===t._waiting?t._hideWaitingContainer():t._timer&&clearTimeout(t._timer)}),16e3)}}},{key:"_hideWaitingContainer",value:function(){if(this._waiting){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1;var e=this.options.routeOptions;e&&e.timeOut&&(clearTimeout(this._timer),this._timer=null)}}},{key:"_simplifiedInstructions",value:function(e){var t=[],n=e[0];1===e.length&&t.push(n);for(var i=1;i<e.length;i++){var o=e[i];if(o.instruction===n.instruction){n.distance=(parseFloat(o.distance)+parseFloat(n.distance)).toString(),n.duration=(parseFloat(o.duration)+parseFloat(n.duration)).toString();for(var r=1;r<o.geometry.coordinates.length;r++)n.geometry.coordinates.push(o.geometry.coordinates[r])}else t.push(n),n=o,i===e.length-1&&(t.push(o),n=null)}return jA.log(t),t}},{key:"_convertSecondsToTime",value:function(e){var t="";e=Math.round(e);var n=Math.floor(e/3600),i=e%3600;return n&&(t=n+"h "),t+=Math.floor(i/60)+" min"}},{key:"_convertDistance",value:function(e){var t=parseInt(e/1e3,10);return t?t+" km":parseInt(e,10)+" m"}}],o&&kA(i.prototype,o),r&&kA(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o,r}(lu);Object.assign(BA.prototype,xA);const FA=BA;window.ol&&window.ol.control&&(window.ol.control.Route=BA);var zA={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochron"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowIsoPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowIsochronPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowIsochronPicto gpf-btn gpf-btn-icon gpf-btn-icon-isocurve fr-btn",t.title="Calculer une isochrone",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowIsoPanelClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowIsoPanelClick(t)})),t},_createIsoPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPisochronPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createIsoPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createIsoPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title fr-pt-4w",n.innerHTML="Calcul d'isochrone",t.appendChild(n);var i=document.createElement("button");i.id=this._addUID("GPisochronPanelClose"),i.className="GPpanelClose GPisochronPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",i.title="Fermer le panneau",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowIsochronPicto")).click()}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowIsochronPicto")).click()}));var o=document.createElement("span");return o.className="GPelementHidden gpf-visible",o.innerText="Fermer",i.appendChild(o),t.appendChild(i),t},_createIsoPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPisochronForm"),t.className="GPform gpf-panel__content fr-modal__content",t.addEventListener("submit",(function(t){return t.preventDefault(),e.onIsoComputationSubmit(t),!1})),t},_createIsoWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPisochronCalcWaitingContainer"),e.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var t=document.createElement("p");return t.className="GPwaitingContainerInfo gpf-waiting_info",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createIsoPanelFooterElement:function(){var e=document.createElement("div");return e.className="GPpanelFooter gpf-panel__footer fr-modal__footer",e},_createIsoPanelFormTypeChoiceElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochronChoice"),e.className="fr-mt-4w",e},_createIsoPanelFormTypeChoiceChronElement:function(e){var t=this,n=document.createElement("div");n.className="GPisochronChoiceAlt gpf-flex gpf-flex-isocurve gpf-radio-group fr-radio-group";var i=document.createElement("input");i.id=this._addUID("GPisochronChoiceAltChron"),i.name="GPisochronChoiceMode",i.type="radio",i.checked=!!e,i.addEventListener?i.addEventListener("change",(function(e){document.getElementById(t._addUID("GPisochronValueChron")).className="GPflexInput gpf-flex fr-mt-1w",document.getElementById(t._addUID("GPisochronValueDist")).className="GPelementHidden gpf-hidden",t.onIsoTypeChoiceChange(e)}),!1):i.attachEvent&&i.attachEvent("onchange",(function(){document.getElementById(t._addUID("GPisochronValueChron")).className="GPflexInput gpf-flex fr-mt-1w",document.getElementById(t._addUID("GPisochronValueDist")).className="GPelementHidden gpf-hidden",t.onIsoTypeChoiceChange()})),i.value="isochron",n.appendChild(i);var o=document.createElement("label");o.className="GPisochronChoiceAltImg gpf-label fr-label",o.htmlFor=this._addUID("GPisochronChoiceAltChron"),o.innerHTML="isochrone",o.title="isochrone",n.appendChild(o);var r=document.createElement("span");return r.id=this._addUID("GPisochronChoiceAltChronTxt"),r.className="gpf-hidden",r.innerHTML="isochrone",r.addEventListener?r.addEventListener("click",(function(){document.getElementById(t._addUID("GPisochronChoiceAltChron")).click()}),!1):r.attachEvent&&r.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPisochronChoiceAltChron")).click()})),n.appendChild(r),n},_createIsoPanelFormTypeChoiceDistElement:function(e){var t=this,n=document.createElement("div");n.className="GPisochronChoiceAlt gpf-flex gpf-flex-isocurve gpf-radio-group fr-radio-group";var i=document.createElement("input");i.id=this._addUID("GPisochronChoiceAltDist"),i.name="GPisochronChoiceMode",i.type="radio",i.checked=!!e,i.addEventListener?i.addEventListener("change",(function(e){document.getElementById(t._addUID("GPisochronValueDist")).className="GPflexInput gpf-flex fr-mt-1w",document.getElementById(t._addUID("GPisochronValueChron")).className="GPelementHidden gpf-hidden",t.onIsoTypeChoiceChange(e)}),!1):i.attachEvent&&i.attachEvent("onchange",(function(){document.getElementById(t._addUID("GPisochronValueDist")).className="GPflexInput gpf-flex fr-mt-1w",document.getElementById(t._addUID("GPisochronValueChron")).className="GPelementHidden gpf-hidden",t.onIsoTypeChoiceChange()})),i.value="isodistance",n.appendChild(i);var o=document.createElement("label");o.className="GPisochronChoiceAltImg gpf-label fr-label",o.htmlFor=this._addUID("GPisochronChoiceAltDist"),o.innerHTML="isodistance",o.title="isodistance",n.appendChild(o);var r=document.createElement("span");return r.id=this._addUID("GPisochronChoiceAltDistTxt"),r.className="gpf-hidden",r.innerHTML="isodistance",r.addEventListener?r.addEventListener("click",(function(){document.getElementById(t._addUID("GPisochronChoiceAltDist")).click()}),!1):r.attachEvent&&r.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPisochronChoiceAltDist")).click()})),n.appendChild(r),n},_createIsoPanelFormValueIsochronElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPisochronValueChron"),n.className=e?"GPflexInput gpf-flex fr-mt-1w":"GPelementHidden gpf-hidden";var i=document.createElement("label");i.id=this._addUID("GPisochronValueChronLabel"),i.className="gpf-label fr-label",i.htmlFor=this._addUID("GPisochronValueChronInput"),i.innerHTML="Temps",n.appendChild(i);var o=document.createElement("input");o.id=this._addUID("GPisochronValueChronInput1"),o.className="gpf-input fr-input",o.min="0",o.step="1",o.value="0",o.type="number",o.addEventListener?o.addEventListener("change",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeHourChange(e)})):o.attachEvent&&o.attachEvent("onchange",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeHourChange(e)})),n.appendChild(o);var r=document.createElement("label");r.innerHTML="h",r.className="gpf-label fr-label",n.appendChild(r);var a=document.createElement("input");a.id=this._addUID("GPisochronValueChronInput2"),a.className="gpf-input fr-input",a.min="0",a.max="59",a.step="1",a.value="0",a.type="number",a.addEventListener?a.addEventListener("change",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeMinuteChange(e)})):a.attachEvent&&a.attachEvent("onchange",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeMinuteChange(e)})),n.appendChild(a);var s=document.createElement("label");return s.innerHTML="min",s.className="gpf-label fr-label",n.appendChild(s),n},_createIsoPanelFormValueIsodistanceElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPisochronValueDist"),n.className=e?"GPflexInput gpf-flex fr-mt-1w":"GPelementHidden gpf-hidden";var i=document.createElement("label");i.id=this._addUID("GPisochronValueDistLabel"),i.className="gpf-label fr-label fr-mr-1w",i.htmlFor=this._addUID("GPisochronValueDistInput"),i.innerHTML="Distance",n.appendChild(i);var o=document.createElement("input");o.id=this._addUID("GPisochronValueDistInput"),o.className="gpf-input fr-input fr-ml-1w",o.min="0",o.step="any",o.value="0",o.type="number",o.addEventListener?o.addEventListener("change",(function(e){"function"==typeof t.onIsoValueDistChange&&t.onIsoValueDistChange(e)})):o.attachEvent&&o.attachEvent("onchange",(function(e){"function"==typeof t.onIsoValueDistChange&&t.onIsoValueDistChange(e)})),n.appendChild(o);var r=document.createElement("label");return r.innerHTML="km",i.className="gpf-label fr-label",n.appendChild(r),n},_createIsoPanelFormModeChoiceElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochronModeChoice"),e.className="fr-my-4w",e},_createIsoPanelFormModeChoiceTransportElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPisochronTransportChoice");var i=document.createElement("label");i.className="GPisochronModeLabel gpf-label fr-label",i.innerHTML="Mode de transport",n.appendChild(i);for(var o=0;o<e.length;o++){var r=e[o],a=document.createElement("div");if(a.className="GPisochronTransportChoice gpf-flex gpf-radio-group fr-radio-group fr-m-1w","Voiture"===r){var s=document.createElement("input");s.id=this._addUID("GPisochronTransportCar"),s.type="radio",s.name="GPisochronTransport",0===o&&(s.checked=!0),s.addEventListener?s.addEventListener("change",(function(e){t.onIsoModeTransportChange(e)})):s.attachEvent&&s.attachEvent("onchange",(function(e){t.onIsoModeTransportChange(e)})),s.value="Voiture",a.appendChild(s);var l=document.createElement("label");l.className="GPisochronTransportImg gpf-label fr-label",l.htmlFor=this._addUID("GPisochronTransportCar"),l.title="Voiture",l.innerHTML="Voiture",a.appendChild(l)}if("Pieton"===r){var c=document.createElement("input");c.id=this._addUID("GPisochronTransportPedestrian"),c.type="radio",c.name="GPisochronTransport",0===o&&(c.checked=!0),c.addEventListener?c.addEventListener("change",(function(e){t.onIsoModeTransportChange(e)})):c.attachEvent&&c.attachEvent("onchange",(function(e){t.onIsoModeTransportChange(e)})),c.value="Pieton",a.appendChild(c);var u=document.createElement("label");u.className="GPisochronTransportImg gpf-label fr-label",u.htmlFor=this._addUID("GPisochronTransportPedestrian"),u.title="PiÃ©ton",u.innerHTML="PiÃ©ton",a.appendChild(u)}n.appendChild(a)}return n},_createIsoPanelFormModeChoiceDirectionElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPisochronDirectionChoice");var i=document.createElement("label");i.className="GPisochronModeLabel gpf-label fr-label",i.innerHTML="Sens de parcours",n.appendChild(i);var o=document.createElement("select");o.id=this._addUID("GPisochronDirectionSelect"),o.className="GPselect gpf-select fr-select",o.addEventListener("change",(function(e){t.onIsoModeDirectionChange(e)}));for(var r=0;r<e.length;r++){var a=e[r];if("departure"===a.toLowerCase()){var s=document.createElement("option");0===r&&(s.selected="selected"),s.value="departure",s.text="DÃ©part",o.appendChild(s)}if("arrival"===a.toLowerCase()){var l=document.createElement("option");0===r&&(l.selected="selected"),l.value="arrival",l.text="ArrivÃ©e",o.appendChild(l)}}return n.appendChild(o),n},_createShowIsoExclusionsPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowIsoExclusionsPicto"),t.className="GPelementHidden GPshowAdvancedToolPicto GPshowMoreOptionsImage GPshowMoreOptions GPshowIsoExclusionsPicto gpf-hidden gpf-btn fr-btn--sm fr-btn--secondary fr-icon-arrow-down-fill",t.title="Exclusions",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!0),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowIsoSettingsClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowIsoSettingsClick(t)})),t},_createIsoPanelFormExclusionsElement:function(){var e=document.createElement("div");e.id=this._addUID("GPisoExclusions");var t=document.createElement("label");return t.className="GPisoExclusionsLabel gpf-label fr-label",t.innerHTML="Passages autorisÃ©s",e.appendChild(t),e},_createIsoPanelFormExclusionOptionsElement:function(e){var t=this,n=document.createElement("div");for(var i in n.className="GPisoExclusionsOptions gpf-flex fr-checkbox-group fr-m-1w",e)if(e.hasOwnProperty(i)){var o=e[i];switch(i){case"toll":var r=document.createElement("input");r.id=this._addUID("GPisoExclusionsToll"),r.type="checkbox",r.checked=!o,r.addEventListener?r.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),r.value="Toll",n.appendChild(r);var a=document.createElement("label");a.className="GPisoExclusionsOption",a.htmlFor=this._addUID("GPisoExclusionsToll"),a.innerHTML="PÃ©ages",n.appendChild(a);break;case"tunnel":var s=document.createElement("input");s.id=this._addUID("GPisoExclusionsTunnel"),s.type="checkbox",s.checked=!o,s.addEventListener?s.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):s.attachEvent&&s.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),s.value="Tunnel",n.appendChild(s);var l=document.createElement("label");l.className="GPisoExclusionsOption",l.htmlFor=this._addUID("GPisoExclusionsTunnel"),l.innerHTML="Tunnels",n.appendChild(l);break;case"bridge":var c=document.createElement("input");c.id=this._addUID("GPisoExclusionsBridge"),c.type="checkbox",c.checked=!o,c.addEventListener?c.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):c.attachEvent&&c.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),c.value="Bridge",n.appendChild(c);var u=document.createElement("label");u.className="GPisoExclusionsOption",u.htmlFor=this._addUID("GPisoExclusionsBridge"),u.innerHTML="Ponts",n.appendChild(u)}}return n},_createIsoSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPisochronSubmit"),e.className="GPsubmit gpf-btn fr-btn fr-btn--secondary",e.type="submit",e.value="Calculer",e},_createIsoFormResetElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPisochronReset"),t.className="GPresetPicto GPisochronReset gpf-btn gpf-btn-icon-reset gpf-btn-icon-isocurve-reset fr-btn fr-btn--secondary",t.title="RÃ©initialiser les paramÃ¨tres",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onIsoResetClick(t)})),t}};const VA=zA;function qA(e){return qA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qA(e)}function WA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,HA(i.key),i)}}function HA(e){var t=function(e,t){if("object"!=qA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=qA(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qA(t)?t:t+""}function YA(e,t,n){return t=KA(t),ZA(e,JA()?Reflect.construct(t,n||[],KA(e).constructor):t.apply(e,n))}function ZA(e,t){if(t&&("object"==qA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function JA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(JA=function(){return!!e})()}function XA(){return XA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=KA(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},XA.apply(null,arguments)}function KA(e){return KA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},KA(e)}function QA(e,t){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},QA(e,t)}var $A=yt.getLogger("isocurve"),ev=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=YA(this,t,[{element:(e=e||{}).element,target:e.target,render:e.render}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.initialize(e),n._container=n._createMainContainerElement(),n.element?n.element.appendChild(n._container):n.element=n._container,ZA(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QA(e,t)}(t,e),n=t,i=[{key:"setMap",value:function(e){if(e){if(this._container=this._initContainer(e),this.options.export){var n=nn.assign({control:this},this.options.export);this.export=new SA(n),this.export.render();var i=this;this.export.on("export:compute",(function(e){i.dispatchEvent({type:"export:compute",content:e.content})}))}this.draggable&&yy.dragElement(this._IsoPanelContainer,this._IsoPanelHeaderContainer,this.options.position?null:e.getTargetElement()),this.collapsed||this._pictoIsoButton.setAttribute("aria-pressed",!0)}XA(KA(t.prototype),"setMap",this).call(this,e),this.options.position&&this.setPosition(this.options.position)}},{key:"getCollapsed",value:function(){return this.collapsed}},{key:"setCollapsed",value:function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GPisochronPanelClose-"+this._uid).click():this._pictoIsoButton.click(),this.collapsed=e):$A.log("[ERROR] Isocurve:setCollapsed - missing collapsed parameter")}},{key:"getLayer",value:function(){return this._geojsonLayer}},{key:"setLayer",value:function(e){e?e instanceof rr()?(e.setStyle(this._defaultFeatureStyle),this._geojsonLayer=e):$A.log("no valid layer given for hosting drawn features."):this._geojsonLayer=null}},{key:"getGeoJSON",value:function(){return JSON.stringify(this._geojsonObject)}},{key:"setGeoJSON",value:function(e){try{this._geojsonObject=JSON.parse(e)}catch(e){$A.log("no valid geojson given :"+e.message)}}},{key:"getData",value:function(){var e={type:"isocurve",transport:this._currentTransport,computation:this._currentComputation,exclusions:this._currentExclusions,direction:this._currentDirection,point:this._originPoint.getCoordinate(),results:{}};return nn.assign(e.results,this._currentIsoResults),e}},{key:"setData",value:function(e){this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions,this._currentDirection=e.direction,document.getElementById("GPlocationOriginPointer_1-"+this._uid).checked=!0,document.getElementById("GPlocationOriginCoords_1-"+this._uid).value="",this._originPoint.setCoordinate(e.point,"EPSG:4326"),this._currentIsoResults=e.results}},{key:"getContainer",value:function(){return this._container}},{key:"getStyle",value:function(){return this._defaultFeatureStyle}},{key:"compute",value:function(e,t,n){if(this._clear(),"true"!==this._pictoIsoButton.ariaPressed&&this._pictoIsoButton.click(),this.getMap()){var i={direction:"departure",method:"time",transport:"Voiture",exclusions:[]};nn.assign(i,n),this._originPoint.setCoordinate(e);var o=this._originPoint.getCoordinate();if(document.getElementById("GPlocationOrigin_1-"+this._uid).value=o[0].toFixed(4)+" / "+o[1].toFixed(4),this._currentTransport=i.transport,"Voiture"===i.transport?document.getElementById("GPisochronTransportCar-"+this._uid).checked=!0:document.getElementById("GPisochronTransportPedestrian-"+this._uid).checked=!0,this._currentExclusions=i.exclusions,this._currentComputation=i.method,"time"===i.method){var r=t.split(".");this._currentTimeHour=r[0]||0,document.getElementById("GPisochronValueChronInput1-"+this._uid).value=this._currentTimeHour,this._currentTimeMinute=r[1]||0,document.getElementById("GPisochronValueChronInput2-"+this._uid).value=this._currentTimeMinute,document.getElementById("GPisochronChoiceAltChron-"+this._uid).click()}else this._currentDistance=t,document.getElementById("GPisochronValueDistInput-"+this._uid).value=this._currentDistance,document.getElementById("GPisochronChoiceAltDist-"+this._uid).click();this._currentDirection=i.direction,document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex="departure"===i.direction?0:1,this.onIsoComputationSubmit()}}},{key:"init",value:function(){var e=this._originPoint.getCoordinate();if(document.getElementById("GPlocationOrigin_1-"+this._uid).value=e[1].toFixed(4)+" / "+e[0].toFixed(4),"Voiture"===this._currentTransport?document.getElementById("GPisochronTransportCar-"+this._uid).checked=!0:document.getElementById("GPisochronTransportPedestrian-"+this._uid).checked=!0,"time"===this._currentComputation){var t=this._currentIsoResults.time/60;this._currentTimeHour=Math.floor(t/60),document.getElementById("GPisochronValueChronInput1-"+this._uid).value=this._currentTimeHour,this._currentTimeMinute=Math.round(60*(t/60-this._currentTimeHour)),document.getElementById("GPisochronValueChronInput2-"+this._uid).value=this._currentTimeMinute,document.getElementById("GPisochronChoiceAltChron-"+this._uid).click()}else this._currentDistance=this._currentIsoResults.distance/1e3,document.getElementById("GPisochronValueDistInput-"+this._uid).value=this._currentDistance,document.getElementById("GPisochronChoiceAltDist-"+this._uid).click();"departure"===this._currentDirection?document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=0:document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=1}},{key:"clean",value:function(){this._clearIsoInputs(),this._originPoint.clearResults(),document.getElementById("GPlocationPoint_1-"+this._uid).style.cssText="",document.getElementById("GPlocationOriginCoords_1-"+this._uid).value="",document.getElementById("GPlocationOrigin_1-"+this._uid).value="",document.getElementById("GPlocationPoint_1-"+this._uid).style.cssText="",document.getElementById("GPlocationOriginPointer_1-"+this._uid).checked=!1,document.getElementById("GPlocationOrigin_1-"+this._uid).className="GPlocationOriginVisible gpf-visible",document.getElementById("GPlocationOriginCoords_1-"+this._uid).className="GPlocationOriginHidden gpf-hidden",this._currentIsoResults=null,this.setLayer()}},{key:"initialize",value:function(e){this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,export:!1,methods:["time","distance"],graphs:["Voiture","Pieton"],exclusions:{toll:!1,tunnel:!1,bridge:!1},directions:["departure","arrival"],markerOpts:{url:xt.lightOrange,offset:xt.defaultOffset},isocurveOptions:{},autocompleteOptions:{},layerDescription:{title:"Isochrone/Isodistance",description:"isochrone/isodistance basÃ© sur un graphe"}},nn.assign(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=yu.generate(),this._currentTransport=null,this._initTransport(),this._currentComputation=null,this._initComputation(),this._currentExclusions=[],this._initExclusions(),this._currentDirection=null,this._initDirection(),this._originPoint=null,this._pictoIsoButton=null,this._waitingContainer=null,this._formContainer=null,this._IsoPanelContainer=null,this._IsoPanelHeaderContainer=null,this._currentIsoResults=null,this._geojsonLayer=null,this._geojsonObject=null,this.export=null,this._waiting=!1,this._timer=null,this._defaultFeatureStyle=new St.Style({fill:new St.Fill({color:"rgba(0, 183, 152, 0.7)"}),stroke:new St.Stroke({color:"rgba(0, 183, 152, 0)",width:1})}),this._resources={},this.listenerKey=null}},{key:"_checkInputOptions",value:function(e){var t;if(e.methods)if(Array.isArray(e.methods))if(0===e.methods.length)e.methods=null;else for(t=0;t<e.methods.length;t++)"string"!=typeof e.methods[t]&&$A.log("[ol.control.Isocurve] ERROR : parameter 'methods' elements should be of type 'string'");else $A.warn("'methods' parameter should be an array"),e.methods=null;if(e.graphs)if(Array.isArray(e.graphs))if(0===e.graphs.length)e.graphs=null;else for(t=0;t<e.graphs.length;t++)"string"!=typeof e.graphs[t]?$A.log("[ol.control.Isocurve] ERROR : parameter 'graphs' elements should be of type 'string'"):("pieton"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Pieton"),"voiture"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Voiture"));else $A.warn("'graphs' parameter should be an array"),e.graphs=null;if(e.directions)if(Array.isArray(e.directions))if(0===e.directions.length)e.directions=null;else for(t=0;t<e.directions.length;t++)"string"!=typeof e.directions[t]&&$A.log("[ol.control.Isocurve] ERROR : parameter 'directions' elements should be of type 'string'");else $A.warn("'directions' parameter should be an array"),e.directions=null;"true"===e.collapsed&&(e.collapsed=!0),"false"===e.collapsed&&(e.collapsed=!1)}},{key:"_initTransport",value:function(){this._currentTransport="Voiture";var e=this.options.graphs;e&&0!==e.length||(this.options.graphs=["Voiture","Pieton"]),Array.isArray(e)&&e.length&&("Voiture"!==e[0]&&"Pieton"!==e[0]||(this._currentTransport=e[0]));var t=this.options.isocurveOptions;t.graph&&(this._currentTransport=t.graph)}},{key:"_initComputation",value:function(){this._currentComputation="time";var e=this.options.methods;e&&0!==e.length||(this.options.methods=["time","distance"]),Array.isArray(e)&&e.length&&("time"!==e[0]&&"distance"!==e[0]||(this._currentComputation=e[0]));var t=this.options.isocurveOptions;t.method&&(this._currentComputation=t.method),t.time&&(this._currentComputation="time"),t.distance&&(this._currentComputation="distance")}},{key:"_initDirection",value:function(){this._currentDirection="departure";var e=this.options.directions;e&&0!==e.length||(this.options.directions=["departure","arrival"]),Array.isArray(e)&&e.length&&("departure"!==e[0]&&"arrival"!==e[0]||(this._currentDirection=e[0]));var t=this.options.isocurveOptions;t.reverse||(this._currentDirection="departure"),!0===t.reverse&&(this._currentDirection="arrival",this.options.directions=["arrival","departure"])}},{key:"_initExclusions",value:function(){this._currentExclusions=[];var e=this.options.exclusions;if((!e||"object"===qA(e)&&0===Object.keys(e).length)&&(this.options.exclusions={toll:!1,tunnel:!1,bridge:!1}),e&&"object"===qA(e)&&Object.keys(e).length)for(var t in e)e.hasOwnProperty(t)&&e.k&&this._currentExclusions.push(t);var n=this.options.isocurveOptions;Array.isArray(n.exclusions)&&(this._currentExclusions=n.exclusions)}},{key:"_initContainer",value:function(e){var t=this,n=this._container,i=this._pictoIsoButton=this._createShowIsoPictoElement();n.appendChild(i);var o=this._IsoPanelContainer=this._createIsoPanelElement(),r=this._createIsoPanelDivElement();o.appendChild(r);var a=this._IsoPanelHeaderContainer=this._createIsoPanelHeaderElement();r.appendChild(a);var s=this._formContainer=this._createIsoPanelFormElement(),l=this._createIsoPanelFormPointElement(e);s.appendChild(l);for(var c=!1,u=!1,d=this._createIsoPanelFormTypeChoiceElement(),p=0;p<this.options.methods.length;p++)"time"===this.options.methods[p]&&(c=0===p,d.appendChild(this._createIsoPanelFormTypeChoiceChronElement(c))),"distance"===this.options.methods[p]&&(u=0===p,d.appendChild(this._createIsoPanelFormTypeChoiceDistElement(u)));s.appendChild(d),s.appendChild(this._createIsoPanelFormValueIsochronElement(c)),s.appendChild(this._createIsoPanelFormValueIsodistanceElement(u));var h=this._createIsoPanelFormModeChoiceElement();if(h.appendChild(this._createIsoPanelFormModeChoiceTransportElement(this.options.graphs)),h.appendChild(this._createIsoPanelFormModeChoiceDirectionElement(this.options.directions)),s.appendChild(h),this.options.exclusions&&"object"===qA(this.options.exclusions)&&0!==Object.keys(this.options.exclusions).length){s.appendChild(this._createShowIsoExclusionsPictoElement());var g=this._createIsoPanelFormExclusionsElement();g.appendChild(this._createIsoPanelFormExclusionOptionsElement(this.options.exclusions)),s.appendChild(g)}var m=this._createIsoPanelFooterElement();s.appendChild(m);var f=this._createIsoFormResetElement();m.appendChild(f);var y=this._submitContainer=this._createIsoSubmitFormElement();m.appendChild(y),r.appendChild(s);var A=this._waitingContainer=this._createIsoWaitingElement();return o.appendChild(A),n.appendChild(o),n.addEventListener&&n.addEventListener("click",(function(e){return t._hideIsoSuggestedLocations(e)})),n}},{key:"_createIsoPanelFormPointElement",value:function(e){this._originPoint=new mA({apiKey:this.options.apiKey||null,tag:{id:1,groupId:this._uid,markerOpts:this.options.markerOpts,label:"DÃ©part",display:!0},autocompleteOptions:this.options.autocompleteOptions||null}),this._originPoint.setMap(e);var t=this;return document.getElementById("GPlocationOriginPointerImg_1-"+this._uid).onclick=function(){t._clearGeojsonLayer();var e=t.getMap();t._originPoint._inputShowPointerContainer.checked?(t._formContainer.className="GPisochronFormMini gpf-panel__content fr-modal__content",this.listenerKey=e.on("click",(function(){t._formContainer.className="gpf-panel__content fr-modal__content",t.dispatchEvent("isocurve:drawend")}))):(t._formContainer.className="gpf-panel__content fr-modal__content",(0,to.unByKey)(this.listenerKey)),t.dispatchEvent("isocurve:drawstart")},document.getElementById("GPlocationOriginLabel_1-"+this._uid).onclick=function(){t._clearGeojsonLayer(),t._formContainer.className="gpf-panel__content fr-modal__content",e.un("click",(function(){t._formContainer.className="gpf-panel__content fr-modal__content"})),t.dispatchEvent("isocurve:drawend")},document.getElementById("GPlocationOrigin_1-"+this._uid).onclick=function(){t._clearGeojsonLayer(),t.dispatchEvent("isocurve:drawend")},this._originPoint._container}},{key:"onIsoComputationSubmit",value:function(){if(this._originPoint&&this._originPoint.getCoordinate&&this._originPoint.getCoordinate()){var e,t,n=this._originPoint.getCoordinate(),i={x:n[0],y:n[1]};if($A.log("origin : ",i),"time"===this._currentComputation.toLowerCase()){var o=document.getElementById("GPisochronValueChronInput1-"+this._uid),r=parseInt(o.value,10);isNaN&&isNaN(r)&&(r=0);var a=document.getElementById("GPisochronValueChronInput2-"+this._uid),s=parseInt(a.value,10);isNaN&&isNaN(s)&&(s=0),e=3600*r+60*s,$A.log("time : "+e)}if("distance"===this._currentComputation.toLowerCase()){var l=document.getElementById("GPisochronValueDistInput-"+this._uid);t=1e3*parseFloat(l.value),$A.log("distance : "+t)}if(e||t){var c=this.options.isocurveOptions||{},u=c.protocol||"XHR",d=c.timeOut||0;"JSONP"===u&&0===d&&(d=15e3);var p=!(null===c.onFailure||"function"!=typeof c.onFailure),h=!(null===c.onSuccess||"function"!=typeof c.onSuccess),g=this,m={position:i,graph:c.graph||this._currentTransport,exclusions:c.exclusions||this._currentExclusions,method:c.method||this._currentComputation,smoothing:c.smoothing||!0,timeOut:d,protocol:u,resource:c.resource,onSuccess:function(e){$A.log(e),e&&g._drawIsoResults(e),h&&c.onSuccess.call(g,e)},onFailure:function(e){g._hideWaitingContainer(),$A.log(e.message),p&&c.onFailure.call(g,e)}};("arrival"===this._currentDirection.toLowerCase()||c.reverse)&&(m.reverse=!0),e&&(m.time=e),t&&(m.distance=t),this._requestIsoCurve(m)}else $A.log("[Isocurve] Missing time or distance parameter to submit isocurve request")}else $A.log("[Isocurve] Missing position parameter to submit isocurve request")}},{key:"onShowIsoPanelClick",value:function(){var e=this.getMap();$p.unset(e);var t=this._pictoIsoButton.ariaPressed;this.collapsed=!("true"===t),this.dispatchEvent("change:collapsed")}},{key:"onIsoTypeChoiceChange",value:function(e){var t=e.target.value;t&&("isodistance"===t&&(this._currentComputation="distance"),"isochron"===t&&(this._currentComputation="time"))}},{key:"onIsoModeTransportChange",value:function(e){var t=e.target.value;t&&(this._currentTransport=t)}},{key:"onIsoModeDirectionChange",value:function(e){var t=e.target.value;t&&("arrival"===t.toLowerCase()?this._originPoint._buttonLabel.innerHTML="ArrivÃ©e":this._originPoint._buttonLabel.innerHTML="DÃ©part",this._currentDirection=t)}},{key:"onIsoExclusionsChange",value:function(e){var t=e.target.value,n=e.target.checked;if(t){for(var i=!1,o=null,r=0;r<this._currentExclusions.length;r++)nv(this._currentExclusions[r],t.toLowerCase())&&(o=r,i=!0);i||n||this._currentExclusions.push(t.toLowerCase()),i&&n&&(this._currentExclusions[o]=null)}}},{key:"onIsoResetClick",value:function(){this._clear()}},{key:"onShowIsoSettingsClick",value:function(){}},{key:"_requestIsoCurve",value:function(e){!e||"object"===qA(e)&&0===Object.keys(e).length||e.position&&("boolean"!=typeof e.ssl&&("boolean"==typeof this.options.ssl?e.ssl=this.options.ssl:e.ssl=!0),$A.log(e),this._clearGeojsonLayer(),this._displayWaitingContainer(),ft.Services.isoCurve(e))}},{key:"_drawIsoResults",value:function(e){var t=this;if(this._currentIsoResults=e,this._hideWaitingContainer(),e.geometry){var n=this.getMap();this._geojsonObject={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[{type:"Feature",crs:{type:"name",properties:{name:"EPSG:4326"}},geometry:e.geometry}]},this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._originPoint.getCoordinate()},properties:{description:"Point d'origine","marker-symbol":this.options.markerOpts.url}});var i,o=new qn({defaultDataProjection:"EPSG:4326",defaultStyle:this._defaultFeatureStyle}),r=n.getView().getProjection().getCode(),s=o.readFeatures(this._geojsonObject,{dataProjection:"EPSG:4326",featureProjection:r});if(this._geojsonLayer=new(rr())({source:new(a())({features:s}),style:this._defaultFeatureStyle,opacity:.9}),"Pieton"===this._currentTransport?(i="piÃ©ton",this._geojsonLayer.gpResultLayerId="Pieton$GEOPORTAIL:GPP:Isocurve"):(i="voiture",this._geojsonLayer.gpResultLayerId="Voiture$GEOPORTAIL:GPP:Isocurve"),n.addLayer(this._geojsonLayer),this.dispatchEvent({type:"isocurve:compute"}),s[0]&&s[0].getGeometry()&&s[0].getGeometry().getExtent()){var l=s[0].getGeometry().getExtent();n.getView().fit(l,n.getSize())}var c="time"===this._currentComputation?"Isochrone":"Isodistance";n.getControls().forEach((function(e){if(e instanceof Np){var n=t._geojsonLayer.gpLayerId;e._layers[n].title===n&&e.addLayer(t._geojsonLayer,{title:t.options.layerDescription.title+" ("+c+"/"+i+")",description:t.options.layerDescription.description})}}))}}},{key:"_clear",value:function(){this._clearIsoInputs(),this._originPoint.clear(),this._clearGeojsonLayer(),this._currentIsoResults=null}},{key:"_clearIsoInputs",value:function(){var e=document.getElementById("GPisochronValueChronInput1-"+this._uid);e&&(e.value="0");var t=document.getElementById("GPisochronValueChronInput2-"+this._uid);t&&(t.value="0");var n,i,o=document.getElementById("GPisochronValueDistInput-"+this._uid);o&&(o.value="0"),this._initTransport(),this._initComputation(),this._initDirection(),this._initExclusions(),"Pieton"===this._currentTransport?(n=document.getElementById("GPisochronTransportPedestrian-"+this._uid))&&(n.checked="true"):(n=document.getElementById("GPisochronTransportCar-"+this._uid))&&(n.checked="true"),"distance"===this._currentComputation.toLowerCase()?((i=document.getElementById("GPisochronChoiceAltDist-"+this._uid))&&(i.checked="true"),document.getElementById("GPisochronValueDist-"+this._uid)&&(document.getElementById("GPisochronValueDist-"+this._uid).className="GPflexInput gpf-flex"),document.getElementById("GPisochronValueChron-"+this._uid)&&(document.getElementById("GPisochronValueChron-"+this._uid).className="GPelementHidden gpf-hidden")):((i=document.getElementById("GPisochronChoiceAltChron-"+this._uid))&&(i.checked="true"),document.getElementById("GPisochronValueChron-"+this._uid)&&(document.getElementById("GPisochronValueChron-"+this._uid).className="GPflexInput gpf-flex"),document.getElementById("GPisochronValueDist-"+this._uid)&&(document.getElementById("GPisochronValueDist-"+this._uid).className="GPelementHidden gpf-hidden"));var r=document.getElementById("GPisochronDirectionSelect-"+this._uid);r&&(r.value=this._currentDirection),"arrival"===this._currentDirection?this._originPoint._buttonLabel.innerHTML="ArrivÃ©e":this._originPoint._buttonLabel.innerHTML="DÃ©part";var a=document.getElementById("GPisoExclusionsToll-"+this._uid);a&&(-1!==this._currentExclusions.indexOf("toll")?a.checked=!1:a.checked=!0);var s=document.getElementById("GPisoExclusionsTunnel-"+this._uid);s&&(-1!==this._currentExclusions.indexOf("tunnel")?s.checked=!1:s.checked=!0);var l=document.getElementById("GPisoExclusionsBridge-"+this._uid);l&&(-1!==this._currentExclusions.indexOf("bridge")?l.checked=!1:l.checked=!0)}},{key:"_clearGeojsonLayer",value:function(){var e=this.getMap();this._geojsonLayer&&(e.removeLayer(this._geojsonLayer),this._geojsonLayer=null),this._geojsonObject=null}},{key:"_hideIsoSuggestedLocations",value:function(e){e.target&&e.target.id&&-1!==e.target.id.indexOf("GPlocationOrigin_")||this._originPoint._hideSuggestedLocation()}},{key:"_displayWaitingContainer",value:function(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0;var e=this.options.isocurveOptions;if(e&&e.timeOut){this._timer&&(clearTimeout(this._timer),this._timer=null);var t=this;this._timer=setTimeout((function(){!0===t._waiting?t._hideWaitingContainer():t._timer&&clearTimeout(t._timer)}),16e3)}}},{key:"_hideWaitingContainer",value:function(){if(this._waiting){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1;var e=this.options.isocurveOptions;e&&e.timeOut&&(clearTimeout(this._timer),this._timer=null)}}}],i&&WA(n.prototype,i),o&&WA(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(lu);Object.assign(ev.prototype,VA);const tv=ev;window.ol&&window.ol.control&&(window.ol.control.Isocurve=ev);var nv=function e(t,n){if(t===n)return!0;if("object"===qA(t)&&null!=t&&"object"===qA(n)&&null!=n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t){if(!n.hasOwnProperty(i))return!1;if(!e(t[i],n[i]))return!1}return!0}return!1},iv={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPreverseGeocoding"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowReverseGeocodingPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowReverseGeocodingPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowReverseGeocodingPicto gpf-btn gpf-btn-icon gpf-btn-icon-reverse fr-btn",t.title="Ouvrir la recherche inverse",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowReverseGeocodingClick()})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowReverseGeocodingClick()})),t},_createReverseGeocodingWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPreverseGeocodingCalcWaitingContainer"),e.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var t=document.createElement("p");return t.className="GPwaitingContainerInfo gpf-waiting_info",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createReverseGeocodingResultsPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPreverseGeocodingResultsPanel"),e.className="GPpanel GPelementHidden gpf-panel gpf-panel-reverse gpf-panel--hidden",e},_createReverseGeocodingResultsListElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPreverseGeocodingResultsList"),e.className="gpf-panel__list",e.setAttribute("tabindex","0"),e},_createReverseGeocodingResultElement:function(e,t){var n=this,i=document.getElementById(this._addUID("GPreverseGeocodingResultsList")),o=document.createElement("div");o.id=this._addUID("GPreverseGeocodedLocation_"+t),o.setAttribute("tabindex","0"),o.className="GPautoCompleteProposal gpf-panel__items",o.innerHTML=e,o.title=e,o.addEventListener?(o.addEventListener("mouseover",(function(e){n.onReverseGeocodingResultMouseOver(e)})),o.addEventListener("focus",(function(e){n.onReverseGeocodingResultMouseOver(e)})),o.addEventListener("mouseout",(function(e){n.onReverseGeocodingResultMouseOut(e)})),o.addEventListener("blur",(function(e){n.onReverseGeocodingResultMouseOut(e)})),o.addEventListener("click",(function(e){"function"==typeof n.onReverseGeocodingResultClick&&n.onReverseGeocodingResultClick(e)}))):o.attachEvent&&(o.attachEvent("onmouseover",(function(e){n.onReverseGeocodingResultMouseOver(e)})),o.attachEvent("onmouseout",(function(e){n.onReverseGeocodingResultMouseOut(e)})),o.attachEvent("onclick",(function(e){"function"==typeof n.onReverseGeocodingResultClick&&n.onReverseGeocodingResultClick(e)}))),i.appendChild(o)},_createReverseGeocodingPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPreverseGeocodingPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createReverseGeocodingPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createReverseGeocodingPanelHeaderElement:function(){var e=document.createElement("div");return e.className="GPpanelHeader gpf-panel__header fr-modal__header",e},_createReverseGeocodingPanelReturnPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPreverseGeocodingReturnPicto"),t.title="Nouvelle recherche",t.className="GPreturnPicto GPreverseGeocodingReturnPicto gpf-btn gpf-btn-icon-return fr-btn fr-btn--secondary",t.classList.add("GPelementHidden"),t.classList.add("gpf-hidden"),t.addEventListener?t.addEventListener("click",(function(t){document.getElementById(e._addUID("GPreverseGeocodingResultsPanel")).className="GPelementHidden gpf-panel--hidden",document.getElementById(e._addUID("GPreverseGeocodingForm")).className="GPform gpf-panel__content fr-modal__content",document.getElementById(e._addUID("GPreverseGeocodingHeaderTitle")).innerHTML="Recherche inverse",document.getElementById(e._addUID("GPreverseGeocodingReturnPicto")).classList.add("GPelementHidden"),document.getElementById(e._addUID("GPreverseGeocodingReturnPicto")).classList.add("gpf-hidden"),e.onGPreverseGeocodingReturnPictoClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){document.getElementById(e._addUID("GPreverseGeocodingResultsPanel")).className="GPelementHidden gpf-panel--hidden",document.getElementById(e._addUID("GPreverseGeocodingForm")).className="GPform gpf-panel__content fr-modal__content",document.getElementById(e._addUID("GPreverseGeocodingHeaderTitle")).innerHTML="Recherche inverse",document.getElementById(e._addUID("GPreverseGeocodingReturnPicto")).classList.add("GPelementHidden"),document.getElementById(e._addUID("GPreverseGeocodingReturnPicto")).classList.add("gpf-hidden"),e.onGPreverseGeocodingReturnPictoClick(t)})),t},_createReverseGeocodingPanelTitleElement:function(){var e=document.createElement("div");return e.className="GPpanelTitle gpf-panel__title fr-modal__title fr-pt-4w",e.id=this._addUID("GPreverseGeocodingHeaderTitle"),e.innerHTML="Recherche inverse",e},_createReverseGeocodingPanelCloseElement:function(){var e=this,t=document.createElement("button");t.id=this._addUID("GPreverseGeocodingPanelClose"),t.className="GPpanelClose GPreverseGeocodingPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",t.title="Fermer le panneau",t.addEventListener?(t.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowReverseGeocodingPicto")).click()}),!1),t.addEventListener("keydown",(function(t){13===t.keyCode&&document.getElementById(e._addUID("GPshowReverseGeocodingPicto")).click()}),!1)):t.attachEvent&&(t.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowReverseGeocodingPicto")).click()})),t.attachEvent("onkeydown",(function(t){13===t.keyCode&&document.getElementById(e._addUID("GPshowReverseGeocodingPicto")).click()})));var n=document.createElement("span");return n.className="GPelementHidden gpf-visible",n.innerText="Fermer",t.appendChild(n),t},_createReverseGeocodingPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPreverseGeocodingForm"),t.className="GPform gpf-panel__content fr-modal__content",t.addEventListener?t.addEventListener("submit",(function(t){t.preventDefault(),e.onReverseGeocodingSubmit()})):t.attachEvent&&t.attachEvent("onsubmit",(function(t){t.preventDefault(),e.onReverseGeocodingSubmit()})),t},_createReverseGeocodingFormModeChoiceGeocodingTypeElement:function(e){var t=this,n=document.createElement("div");n.className="GPflexInput gpf-flex gpf-flex-reverse fr-mb-1w";var i=document.createElement("label");i.id="label-recherche-par",i.className="GPlabel gpf-label fr-label",i.innerHTML="Recherche par",i.title="Recherche par",n.appendChild(i);var o=document.createElement("select");o.setAttribute("aria-labelledby","label-recherche-par"),o.className="GPselect gpf-select fr-select",o.addEventListener?o.addEventListener("change",(function(e){t.onReverseGeocodingTypeChange(e)})):o.attachEvent&&o.attachEvent("onchange",(function(e){t.onReverseGeocodingTypeChange(e)})),e&&Array.isArray(e)||(e=["StreetAddress","PositionOfInterest","CadastralParcel"]);for(var r=0;r<e.length;r++)switch(e[r]){case"PositionOfInterest":var a=document.createElement("option");a.value="PositionOfInterest",a.text="Lieux/toponymes",o.appendChild(a);break;case"StreetAddress":var s=document.createElement("option");s.value="StreetAddress",s.text="Adresses",o.appendChild(s);break;case"CadastralParcel":var l=document.createElement("option");l.value="CadastralParcel",l.text="Parcelles cadastrales",o.appendChild(l)}return n.appendChild(o),n},_createReverseGeocodingFormModeChoiceGeocodingDelimitationElement:function(e){var t=this,n=document.createElement("div");n.className="GPflexInput gpf-flex gpf-flex-reverse fr-mb-2w";var i=document.createElement("label");i.id="label-delimitation",i.className="GPlabel gpf-label fr-label",i.innerHTML="DÃ©limitation",i.title="DÃ©limitation",n.appendChild(i);var o=document.createElement("select");o.setAttribute("aria-labelledby","label-delimitation"),o.className="GPselect gpf-select fr-select",o.addEventListener?o.addEventListener("change",(function(e){t.onReverseGeocodingDelimitationChange(e)})):o.attachEvent&&o.attachEvent("onchange",(function(e){t.onReverseGeocodingDelimitationChange(e)})),e&&Array.isArray(e)||(e=["Point","Circle","Extent"]);for(var r=0;r<e.length;r++)switch(e[r].toLowerCase()){case"point":var a=document.createElement("option");a.value="point",a.text="Pointer un lieu",o.appendChild(a);break;case"circle":var s=document.createElement("option");s.value="circle",s.text="Dessiner un cercle",o.appendChild(s);break;case"extent":var l=document.createElement("option");l.value="extent",l.text="Dessiner une emprise",o.appendChild(l)}return n.appendChild(o),n},_createReverseGeocodingSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPreverseGeocodingSubmit"),e.className="GPsubmit gpf-btn fr-btn fr-btn--secondary",e.type="submit",e.value="Rechercher",e}};const ov=iv;function rv(e){return rv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(e)}function av(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,sv(i.key),i)}}function sv(e){var t=function(e,t){if("object"!=rv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=rv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rv(t)?t:t+""}function lv(e,t,n){return t=pv(t),cv(e,uv()?Reflect.construct(t,n||[],pv(e).constructor):t.apply(e,n))}function cv(e,t){if(t&&("object"==rv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function uv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uv=function(){return!!e})()}function dv(){return dv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=pv(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},dv.apply(null,arguments)}function pv(e){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pv(e)}function hv(e,t){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hv(e,t)}var gv=yt.getLogger("reversegeocoding"),mv=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=lv(this,t,[{element:(e=e||{}).element,target:e.target,render:e.render}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.initialize(e),n.container=n._initContainer(),n.element?n.element.appendChild(n.container):n.element=n.container,cv(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hv(e,t)}(t,e),i=t,o=[{key:"getCollapsed",value:function(){return this.collapsed}},{key:"setCollapsed",value:function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?this._panelCloseButton.click():this._showReverseGeocodingButton.click(),this.collapsed=e):gv.log("[ERROR] ReverseGeocode:setCollapsed - missing collapsed parameter")}},{key:"setMap",value:function(e){if(e)this._activateMapInteraction(e),this.draggable&&yy.dragElement(this._panelContainer,this._panelHeaderContainer,this.options.position?null:e.getTargetElement()),this.collapsed||this._showReverseGeocodingButton.setAttribute("aria-pressed",!0);else{var n=this.getMap();this._clearResults(),this._clearInputFeatures(),this._removeMapInteraction(n),null!=this._inputFeaturesLayer&&(n.removeLayer(this._inputFeaturesLayer),this._inputFeaturesLayer=null,this._inputFeaturesSources=null,this._inputFeatures=null)}dv(pv(t.prototype),"setMap",this).call(this,e),this.options.position&&this.setPosition(this.options.position)}},{key:"getData",value:function(){return this._reverseGeocodingLocations}},{key:"initialize",value:function(e){this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,resources:["StreetAddress","PositionOfInterest","CadastralParcel"],delimitations:["Point","Circle","Extent"],reverseGeocodeOptions:{},layerDescription:{title:"Saisie (recherche inverse)",description:"Couche de saisie d'une zone de recherche pour la recherche inverse"}},nn.assign(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=yu.generate(),this._currentGeocodingType=null,this._initGeocodingType(),this._currentGeocodingDelimitation=null,this._initGeocodingDelimitation(),this._showReverseGeocodingButton=null,this._panelContainer=null,this._panelHeaderContainer=null,this._panelTitleContainer=null,this._returnPictoContainer=null,this._panelCloseButton=null,this._formContainer=null,this._resultsContainer=null,this._resultsListContainer=null,this._waitingContainer=null,this._inputFeatures=null,this._inputFeaturesSource=null,this._inputFeaturesLayer=null,this._mapInteraction=null,this._requestOptions=null,this._requestGeom=null,this._requestPosition=null,this._waiting=!1,this._timer=null,this._reverseGeocodingLocations=[],this._reverseGeocodingLocationsMarkers=[],this._resultsDefaultStyle=new St.Style({image:new St.Icon({src:xt.lightOrange,anchor:[.5,1]})}),this._resultsSelectedStyle=new St.Style({image:new St.Icon({src:xt.red,anchor:[.5,1]})}),this._resultsHoverInteraction=null,this._resultsSelectInteraction=null,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null}},{key:"_checkInputOptions",value:function(e){var t,n;if(e.resources){var i=e.resources;if(Array.isArray(i)){var o=["StreetAddress","PositionOfInterest","CadastralParcel"],r=[];for(t=0;t<i.length;t++)-1===o.indexOf(i[t])&&(r.push(t),gv.log("[ReverseGeocode] options.resources : "+i[t]+" is not a resource for reverse geocode"));if(0!==r.length)for(n=0;n<r.length;n++)i.splice(r[n],1)}else gv.log("[ReverseGeocode] 'options.resources' parameter should be an array"),i=null}if(e.delimitations){var a=e.delimitations;if(Array.isArray(a)){var s=["Circle","Point","Extent"],l=[];for(t=0;t<a.length;t++)-1===s.indexOf(a[t])&&(l.push(t),gv.log("[ReverseGeocode] options.delimitations : "+a[t]+" is not a delimitation for reverse geocode"));if(0!==l.length)for(n=0;n<l.length;n++)a.splice(l[n],1)}else gv.log("[ReverseGeocode] 'options.delimitations' parameter should be an array"),a=null}}},{key:"_initGeocodingType",value:function(){this._currentGeocodingType="StreetAddress";var e=this.options.resources;e&&0!==e.length||(this.options.resources=["StreetAddress","PositionOfInterest","CadastralParcel"]),Array.isArray(e)&&e.length&&("StreetAddress"!==e[0]&&"PositionOfInterest"!==e[0]&&"CadastralParcel"!==e[0]||(this._currentGeocodingType=e[0]));var t=this.options.reverseGeocodeOptions;t.filterOptions&&Array.isArray(t.filterOptions.type)&&0!==t.filterOptions.type.length&&(this._currentGeocodingType=t.filterOptions.type[0])}},{key:"_initGeocodingDelimitation",value:function(){this._currentGeocodingDelimitation="Point";var e=this.options.delimitations;if(e&&0!==e.length||(this.options.delimitations=["Point","Circle","Extent"]),Array.isArray(e)&&e.length){var t=e[0].toLowerCase();"point"!==t&&"circle"!==t&&"extent"!==t||(this._currentGeocodingDelimitation=e[0])}}},{key:"_initPopupDiv",value:function(){var e=this,t=document.createElement("div");t.className="gp-feature-info-div";var n=document.createElement("input");return n.type="button",n.className="gp-styling-button closer",n.onclick=function(){return null!=e._popupOverlay&&e._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",t.appendChild(this._popupContent),t.appendChild(n),t}},{key:"_initContainer",value:function(){var e=this._createMainContainerElement(),t=this._showReverseGeocodingButton=this._createShowReverseGeocodingPictoElement();e.appendChild(t);var n=this._panelContainer=this._createReverseGeocodingPanelElement(),i=this._createReverseGeocodingPanelDivElement();n.appendChild(i);var o=this._panelHeaderContainer=this._createReverseGeocodingPanelHeaderElement(),r=this._returnPictoContainer=this._createReverseGeocodingPanelReturnPictoElement();o.appendChild(r);var a=this._panelTitleContainer=this._createReverseGeocodingPanelTitleElement();o.appendChild(a);var s=this._panelCloseButton=this._createReverseGeocodingPanelCloseElement();o.appendChild(s),i.appendChild(o);var l=this._formContainer=this._createReverseGeocodingPanelFormElement();l.appendChild(this._createReverseGeocodingFormModeChoiceGeocodingTypeElement(this.options.resources)),l.appendChild(this._createReverseGeocodingFormModeChoiceGeocodingDelimitationElement(this.options.delimitations));var c=this._createReverseGeocodingSubmitFormElement();l.appendChild(c),i.appendChild(l);var u=this._waitingContainer=this._createReverseGeocodingWaitingElement();i.appendChild(u);var d=this._resultsContainer=this._createReverseGeocodingResultsPanelElement(),p=this._resultsListContainer=this._createReverseGeocodingResultsListElement();return d.appendChild(p),i.appendChild(d),e.appendChild(n),gv.log(e),e}},{key:"_activateMapInteraction",value:function(e){var t=this;if(!this.collapsed){switch(null==this._inputFeaturesLayer&&(this._inputFeatures=new(Oy()),this._inputFeaturesSource=new(a())({features:this._inputFeatures}),this._inputFeaturesLayer=new(rr())({source:this._inputFeaturesSource,style:new St.Style({fill:new St.Fill({color:"rgba(0, 183, 152, 0.3)"}),stroke:new St.Stroke({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new St.Icon({src:xt.turquoiseBlue,anchor:[.5,1]})})}),this._inputFeaturesLayer.gpResultLayerId="reverseGeocoding",e.addLayer(this._inputFeaturesLayer)),this._currentGeocodingDelimitation.toLowerCase()){case"point":this._activatePointInteraction(e);break;case"circle":this._activateCircleInteraction(e);break;case"extent":this._activateBoxInteraction(e)}e.getControls().forEach((function(e){if(e instanceof Np){var n=t._inputFeaturesLayer.gpLayerId;e._layers[n].title===n&&(e.addLayer(t._inputFeaturesLayer,{title:t.options.layerDescription.title,description:t.options.layerDescription.description}),e.setRemovable(t._inputFeaturesLayer,!1))}}))}}},{key:"_activatePointInteraction",value:function(e){var t=this;this._mapInteraction=new h.Draw({style:new St.Style({image:new St.Circle({radius:0,fill:new St.Fill({color:"rgba(0, 183, 152, 0.8)"})})}),type:"Point",source:this._inputFeaturesSource}),this._mapInteraction.on("drawstart",(function(e){gv.log("on drawstart ",e),t._inputFeatures.clear(),t._onDrawStart(e,"point")})),this._mapInteraction.on("drawend",(function(e){gv.log("on drawend",e),e.feature&&e.feature.getGeometry&&(t._requestGeom={type:"Point",coordinates:[t._requestPosition.lon,t._requestPosition.lat]})})),e.addInteraction(this._mapInteraction),this._setCursor("crosshair",e)}},{key:"_activateCircleInteraction",value:function(e){var t=this;this._mapInteraction=new h.Draw({style:new St.Style({fill:new St.Fill({color:"rgba(0, 183, 152, 0.3)"}),stroke:new St.Stroke({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new St.Circle({radius:4,fill:new St.Fill({color:"rgba(0, 183, 152, 0.8)"})})}),type:"Circle",source:this._inputFeaturesSource}),this._mapInteraction.on("drawstart",(function(e){gv.log("on drawstart ",e),t._inputFeatures.clear(),t._onDrawStart(e,"circle")})),this._mapInteraction.on("drawend",(function(e){if(gv.log("on drawend",e),e.feature&&e.feature.getGeometry){var n=e.feature.getGeometry().getRadius();t._requestGeom={},t._requestGeom.type="Circle",t._requestGeom.radius=n,t._requestPosition&&(t._requestGeom.coordinates=[t._requestPosition.lon,t._requestPosition.lat]),gv.log("circle radius : ",n)}})),e.addInteraction(this._mapInteraction)}},{key:"_activateBoxInteraction",value:function(e){var t=this;this._mapInteraction=new h.Draw({style:new St.Style({fill:new St.Fill({color:"rgba(0, 183, 152, 0.3)"}),stroke:new St.Stroke({color:"rgba(0, 183, 152, 0.8)",width:3}),image:new St.Circle({radius:4,fill:new St.Fill({color:"rgba(0, 183, 152, 0.8)"})})}),type:"LineString",source:this._inputFeaturesSource,maxPoints:2,geometryFunction:function(e,t){t||(t=new Ty.Polygon([]));var n=e[0],i=e[1];return t.setCoordinates([[n,[n[0],i[1]],i,[i[0],n[1]],n]]),t}}),this._mapInteraction.on("drawstart",(function(e){gv.log("on drawstart",e),t._inputFeatures.clear(),t._onDrawStart(e,"polygon")})),this._mapInteraction.on("drawend",(function(e){gv.log("on drawend",e),t._onBoxDrawEnd(e)})),e.addInteraction(this._mapInteraction)}},{key:"_removeMapInteraction",value:function(e){null!=this._mapInteraction&&(e.removeInteraction(this._mapInteraction),this._mapInteraction=null),this._setCursor()}},{key:"_onDrawStart",value:function(e,t){var n;if(e.feature&&e.feature.getGeometry){var i=e.feature.getGeometry();"point"===t&&(n=i.getCoordinates()),"circle"===t&&(n=i.getCenter()),"polygon"===t&&(n=i.getFirstCoordinate())}if(n){var o;if(this.options.reverseGeocodeOptions&&this.options.reverseGeocodeOptions.srs)o=this.options.reverseGeocodeOptions.srs;else{var r=this.getMap();if(!r||!r.getView())return;o=r.getView().getProjection()}var a=(0,Si.transform)(n,o,"EPSG:4326");this._requestPosition={lon:a[0],lat:a[1]},gv.log("position coordinates : ",this._requestPosition)}}},{key:"_onBoxDrawEnd",value:function(e){if(e.feature&&e.feature.getGeometry){var t,n=e.feature.getGeometry().getCoordinates()[0],i=n[0],o=n[2];if(this.options.reverseGeocodeOptions&&this.options.reverseGeocodeOptions.srs)t=this.options.reverseGeocodeOptions.srs;else{var r=this.getMap();if(!r||!r.getView())return;t=r.getView().getProjection()}var a=(0,Si.transform)(i,t,"EPSG:4326"),s=(0,Si.transform)(o,t,"EPSG:4326"),l={};a[0]<s[0]?(l.left=a[0],l.right=s[0]):(l.left=s[0],l.right=a[0]),a[1]<s[1]?(l.bottom=a[1],l.top=s[1]):(l.bottom=s[1],l.top=a[1]),this._requestGeom={type:"Polygon",coordinates:[[[l.left,l.top],[l.left,l.bottom],[l.right,l.bottom],[l.right,l.top],[l.left,l.top]]]},gv.log("searchGeometry filter : ",this._requestGeom)}}},{key:"_setCursor",value:function(e,t){if(t=t||this.getMap()){var n=t.getTargetElement();n.style.cursor=e||null}}},{key:"_reverseGeocodingRequest",value:function(){var e=this.getMap();this._requestOptions=this._getReverseGeocodingRequestOptions(),this._removeMapInteraction(e),this._displayWaitingContainer(),ft.Services.reverseGeocode(this._requestOptions)}},{key:"_getReverseGeocodingRequestOptions",value:function(){var e=this.getMap(),t=this.options.reverseGeocodeOptions,n=this;"boolean"!=typeof this.options.ssl&&(this.options.ssl=!0);var i=!(null===t.onFailure||"function"!=typeof t.onFailure),o=!(null===t.onSuccess||"function"!=typeof t.onSuccess),r={apiKey:t.apiKey||this.options.apiKey,ssl:this.options.ssl,position:this._requestPosition,filterOptions:{type:[this._currentGeocodingType]},srs:"CRS:84",returnFreeForm:!1,maximumResponses:t.maximumResponses||18,timeOut:t.timeOut||3e4,onSuccess:function(e){e.locations&&(gv.log("reverseGeocode results : ",e.locations),n._displayGeocodedLocations(e.locations)),o&&t.onSuccess.call(n,e.locations)},onFailure:function(o){n._hideWaitingContainer(),n._clearResults(),n._clearInputFeatures(),n._activateMapInteraction(e),gv.log(o.message),i&&t.onFailure.call(n,o)}};return"circle"===this._requestGeom.type.toLowerCase()?(this._requestGeom.radius>500&&(gv.log("INFO : initial circle radius ("+this._requestGeom.radius+") limited to 1000m."),this._requestGeom.radius=500),r.searchGeometry=this._requestGeom):"polygon"===this._requestGeom.type.toLowerCase()?r.searchGeometry=this._requestGeom:"point"===this._requestGeom.type.toLowerCase()&&("StreetAddress"===this._currentGeocodingType?(r.searchGeometry={type:"Circle",radius:50,coordinates:this._requestGeom.coordinates},r.maximumResponses=1):r.searchGeometry=this._requestGeom),gv.log("reverseGeocode request options : ",r),r}},{key:"_displayGeocodedLocations",value:function(e){this._clearResults(),this._reverseGeocodingLocations=e,this.dispatchEvent({type:"reversegeocode:compute"}),this._formContainer.className="GPelementHidden gpf-hidden",this._hideWaitingContainer(),this._panelTitleContainer.innerHTML="RÃ©sultats de la recherche",this._returnPictoContainer.classList.remove("GPelementHidden"),this._returnPictoContainer.classList.remove("gpf-hidden"),this._resultsContainer.className="GPpanel gpf-panel gpf-panel-reverse",this._fillGeocodedLocationListContainer(e),this._displayGeocodedLocationsOnMap(e)}},{key:"_fillGeocodedLocationListContainer",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];gv.log(n);var i=this._fillGeocodedLocationDescription(n);0!==i.length&&this._createReverseGeocodingResultElement(i,t)}}},{key:"_fillGeocodedLocationDescription",value:function(e){if(e&&e.placeAttributes){var t=e.placeAttributes,n="";switch(e.type){case"StreetAddress":t.street&&(n+=t.housenumber?t.housenumber+" ":"",n+=t.street+", "),n+=t.postcode+" "+t.city;break;case"PositionOfInterest":n+=t.toponym,1===t.postcode.length&&(n+=", "+t.postcode[0]),n+=" ("+t.category.join(",")+")";break;case"CadastralParcel":n+=t.id,n+=t.city?" ("+t.city+")":"";break;default:n+=t.city?t.city:""}return n}}},{key:"_displayGeocodedLocationsOnMap",value:function(e){var t=this;if(0!==this._reverseGeocodingLocations.length){var n=this.getMap();this._createResultsLayer();for(var i=0;i<e.length;i++)this._addResultFeature(e[i],i);if(this._resultsFeatures.getLength()>1){if(this._resultsFeaturesSource&&this._resultsFeaturesSource.getExtent){var o=this._resultsFeaturesSource.getExtent();n.getView().fit(o,n.getSize())}}else{var r=this._resultsFeatures.item(0).getGeometry().getCoordinates();n.getView().setCenter(r),n.getView().setZoom(17)}this._resultsHoverInteraction=new h.Select({condition:Dy.pointerMove,layers:[this._resultsFeaturesLayer]}),this._resultsHoverInteraction.on("select",(function(e){return t._onResultsFeatureMouseOver(e)})),n.addInteraction(this._resultsHoverInteraction),this._resultsSelectInteraction=new h.Select({layers:[this._resultsFeaturesLayer]}),this._resultsSelectInteraction.on("select",(function(e){return t._onResultsFeatureSelect(e)})),n.addInteraction(this._resultsSelectInteraction);var a="";switch(this._currentGeocodingType){case"StreetAddress":a="adresses";break;case"PositionOfInterest":a="toponymes";break;case"CadastralParcel":a="parcelles cadastrales"}n.getControls().forEach((function(e){if(e instanceof Np){var n=t._resultsFeaturesLayer.gpLayerId;e._layers[n].title===n&&(e.addLayer(t._resultsFeaturesLayer,{title:"RÃ©sultats de la recherche inverse",description:"RÃ©sultats de la recherche inverse sur les "+a}),e.setRemovable(t._resultsFeaturesLayer,!1))}}))}}},{key:"_createResultsLayer",value:function(){var e=this.getMap();this._resultsFeatures=new(Oy()),this._resultsFeaturesSource=new(a())({features:this._resultsFeatures}),this._resultsFeaturesLayer=new(rr())({source:this._resultsFeaturesSource}),this._resultsFeaturesLayer.gpResultLayerId="reverseGeocodingResults",e.addLayer(this._resultsFeaturesLayer)}},{key:"_addResultFeature",value:function(e,t){var n=this.getMap(),i=[e.position.lon,e.position.lat];if(0!==i.length){var o=n.getView().getProjection().getCode();"EPSG:4326"!==o&&(i=(0,Si.transform)(i,"EPSG:4326",o));var r=new(kt())({geometry:new Ty.Point(i)});r.setStyle(this._resultsDefaultStyle),r.setId(t),r.setProperties({location:e,popupContent:this._fillPopupContent(e)}),this._resultsFeatures.push(r)}}},{key:"_fillPopupContent",value:function(e){var t="<ul>",n=e.placeAttributes;for(var i in n)n.hasOwnProperty(i)&&"trueGeometry"!==i&&"extraFields"!==i&&"houseNumberInfos"!==i&&"_count"!==i&&(t+="<li>",t+='<span class="gp-attname-others-span">'+i.toUpperCase()+" : </span>",t+=n[i],t+=" </li>");return t+=" </ul>"}},{key:"_onResultsFeatureMouseOver",value:function(e){var t;if(0!==e.selected.length){if((t=e.selected[0]).setStyle(this._resultsSelectedStyle),null!=t.getId()){var n=document.getElementById("GPreverseGeocodedLocation_"+t.getId()+"-"+this._uid);n&&n.classList&&n.classList.add("GPlocationHighlight")}document.getElementById("GPreverseGeocodedLocation_"+t.getId()+"-"+this._uid)}if(0!==e.deselected.length){(t=e.deselected[0]).setStyle(this._resultsDefaultStyle);var i=document.getElementById("GPreverseGeocodedLocation_"+t.getId()+"-"+this._uid);i&&i.classList&&i.classList.remove("GPlocationHighlight")}}},{key:"_onResultsFeatureSelect",value:function(e){var t=this.getMap();if(0!==e.selected.length){var i=e.selected[0];this._popupContent.innerHTML=i.getProperties().popupContent,this._popupOverlay?this._popupOverlay.setPosition(e.mapBrowserEvent.coordinate):(this._popupOverlay=new(n())({element:this._popupDiv,positioning:"bottom-center",position:e.mapBrowserEvent.coordinate}),t.addOverlay(this._popupOverlay)),this.dispatchEvent({type:"reversegeocode:onclickresult",location:i.getProperties().location})}else null!=this._popupOverlay&&this._popupOverlay.setPosition(void 0)}},{key:"onShowReverseGeocodingClick",value:function(){var e=this.getMap();if(e){$p.unset(e);var t=this._showReverseGeocodingButton.ariaPressed;this.collapsed=!("true"===t),this.dispatchEvent("change:collapsed"),this._waiting||this._reverseGeocodingLocations.length||(this.collapsed?(this._clearResults(),this._clearInputFeatures(),this._removeMapInteraction(e),null!=this._inputFeaturesLayer&&(e.removeLayer(this._inputFeaturesLayer),this._inputFeaturesLayer=null,this._inputFeaturesSources=null,this._inputFeatures=null)):this._activateMapInteraction(e))}}},{key:"onReverseGeocodingTypeChange",value:function(e){var t=e.target.selectedIndex,n=e.target.options[t].value;n&&(gv.log(n),this._currentGeocodingType=n)}},{key:"onReverseGeocodingDelimitationChange",value:function(e){var t=e.target.selectedIndex,n=e.target.options[t].value;if(n){gv.log(n),this._currentGeocodingDelimitation=n;var i=this.getMap();this._clearInputFeatures(),this._removeMapInteraction(i),this._activateMapInteraction(i)}}},{key:"onGPreverseGeocodingReturnPictoClick",value:function(){this._clearResults(),this._clearInputFeatures(),this._activateMapInteraction(this.getMap())}},{key:"onReverseGeocodingSubmit",value:function(){this._requestPosition?this._reverseGeocodingRequest():gv.log("missing position")}},{key:"onReverseGeocodingResultClick",value:function(e){var t=e.target.id,n=t.substring(t.indexOf("_")+1),i=this._resultsFeaturesSource.getFeatureById(parseInt(n,10));this.dispatchEvent({type:"reversegeocode:onclickresult",location:i.getProperties().location})}},{key:"onReverseGeocodingResultMouseOver",value:function(e){var t=e.target.id,n=t.substring(t.indexOf("_")+1);e.target.classList&&e.target.classList.add("GPlocationHighlight"),this._resultsFeaturesSource&&this._resultsFeaturesSource.getFeatureById(parseInt(n,10)).setStyle(this._resultsSelectedStyle)}},{key:"onReverseGeocodingResultMouseOut",value:function(e){var t=e.target.id,n=t.substring(t.indexOf("_")+1);e.target.classList&&e.target.classList.remove("GPlocationHighlight"),this._resultsFeaturesSource&&this._resultsFeaturesSource.getFeatureById(parseInt(n,10)).setStyle(this._resultsDefaultStyle)}},{key:"_clearResults",value:function(){var e=this.getMap();if(this._reverseGeocodingLocations=[],this._resultsListContainer)for(;this._resultsListContainer.firstChild;)this._resultsListContainer.removeChild(this._resultsListContainer.firstChild);this._resultsFeaturesLayer&&(e.removeLayer(this._resultsFeaturesLayer),this._resultsFeaturesLayer=null),null!=this._popupOverlay&&(e.removeOverlay(this._popupOverlay),this._popupOverlay=null),null!=this._resultsSelectInteraction&&(e.removeInteraction(this._resultsSelectInteraction),this._resultsSelectInteraction=null),null!=this._resultsHoverInteraction&&(e.removeInteraction(this._resultsHoverInteraction),this._resultsHoverInteraction=null)}},{key:"_clearInputFeatures",value:function(){this._inputFeatures&&this._inputFeatures.clear(),this._requestGeom=null,this._requestPosition=null}},{key:"_displayWaitingContainer",value:function(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0,this._timer&&(clearTimeout(this._timer),this._timer=null);var e=this;this._timer=setTimeout((function(){!0===e._waiting?e._hideWaitingContainer():e._timer&&clearTimeout(e._timer)}),16e3)}},{key:"_hideWaitingContainer",value:function(){this._waiting&&(this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1,clearTimeout(this._timer),this._timer=null)}}],o&&av(i.prototype,o),r&&av(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o,r}(lu);Object.assign(mv.prototype,ov);const fv=mv;window.ol&&window.ol.control&&(window.ol.control.ReverseGeocode=mv);const yv=ol.format.WMSCapabilities;var Av=__webpack_require__.n(yv);const vv=ol.format.WMTSCapabilities;var Cv=__webpack_require__.n(vv),bv=__webpack_require__(3110),Iv=__webpack_require__.n(bv);const _v={onloaded:"editor:onloaded",layer:{onclickvisibility:"editor:layer:onclickvisibility",onclickclone:"editor:layer:onclickclone",onclickremove:"editor:layer:onclickremove"},legend:{onclickedition:"editor:legend:onclickedition",onchangevalue:"editor:legend:onchangevalue"},group:{oncollapse:"editor:group:oncollapse"},style:{oneditjson:"editor:style:oneditjson",scale:{onchangemin:"editor:style:scale:onchangemin",onchangemax:"editor:style:scale:onchangemax"}},filter:{oneditjson:"editor:filter:oneditjson"},themes:{onclickimage:"editor:themes:onclickimage",onclicktitle:"editor:themes:onclicktitle"},search:{onsubmit:"editor:search:onsubmit",onautocomplete:"editor:search:onautocomplete"}};function wv(e){return wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(e)}function Ev(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Sv(i.key),i)}}function Sv(e){var t=function(e,t){if("object"!=wv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=wv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wv(t)?t:t+""}var Pv=yt.getLogger("editor-style"),Mv=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pv.trace("[constructor] Style",t),this.options=t||{target:null,position:0,tools:null,title:null,obj:null},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()},t=[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={scale:!0,edition:!1};this.options.tools||(this.options.tools=e),nn.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={paint:{},layout:{}}),this.options.title||(this.options.title="JSON Styles :"),this.container=null,this.name={target:"GPEditorMapBoxStyleTarget",container:"GPEditorMapBoxStyleContainer",containerjson:"GPEditorMapBoxStyleJsonContainer",jsonlabel:"GPEditorMapBoxStyleJsonTitle",jsondisplay:"GPEditorMapBoxStyleJsonDisplay",containertoolsscale:"GPEditorMapBoxStyleToolsScaleContainer",scaletitle:"GPEditorMapBoxStyleScaleTitle",containertoolsminscale:"GPEditorMapBoxStyleToolsScaleMinContainer",scalelabelmin:"GPEditorMapBoxStyleScaleLabelMin",scaleinputmin:"GPEditorMapBoxStyleScaleInputMin",containertoolsmaxscale:"GPEditorMapBoxStyleToolsScaleMaxContainer",scalelabelmax:"GPEditorMapBoxStyleScaleLabelMax",scaleinputmax:"GPEditorMapBoxStyleScaleInputMax",containertoolsedit:"GPEditorMapBoxStyleToolsEditionContainer"}}},{key:"_initContainer",value:function(){var e=this,t=!1,n=JSON.parse(JSON.stringify(this.options.obj)),i={};n.paint&&(t=!0,i.paint=n.paint,0===Object.keys(n.paint).length&&Pv.info("tag 'paint' is empty !")),n.layout&&(t=!0,i.layout=n.layout,n.layout.visibility&&delete i.visibility,0===Object.keys(n.layout).length&&Pv.info("tag 'layout' is empty !"));var o=document.createElement("div");o.className=this.name.container;var r=null;if(t){var a=JSON.stringify(i,null,4);r=this._syntaxHighlight(a)}var s=document.createElement("div");s.className=this.name.containerjson;var l=document.createElement("label");l.className=this.name.jsonlabel,l.innerHTML=this.options.title,s.appendChild(l);var c=document.createElement("pre");c.className=this.name.jsondisplay,c.innerHTML=r,c.addEventListener?c.addEventListener("click",(function(t){e.options.tools.edition&&e.onEditJsonStyleMapBox(t)})):c.attachEvent&&c.attachEvent("onclick",(function(t){e.options.tools.edition&&e.onEditJsonStyleMapBox(t)})),s.appendChild(c),o.appendChild(s),this.options.tools.scale&&o.appendChild(this._createElementToolsScale({min:i.layout?i.layout.minzoom:0,max:i.layout?i.layout.maxzoom:21})),this.options.tools.edition&&o.appendChild(this._createElementToolsEdition()),this.container=o}},{key:"_createElementToolsScale",value:function(e){Pv.trace("_createElementToolsScale");var t=this,n=this.options.obj,i=document.createElement("div");i.className=this.name.containertoolsscale;var o=document.createElement("div");o.className=this.name.containertoolsminscale;var r=document.createElement("label");r.className=this.name.scalelabelmin,r.innerHTML="min :",o.appendChild(r);var a=document.createElement("input");a.className=this.name.scaleinputmin,a.type="range",a.value=e.min||0,a.title=e.min||0,a.disabled=!1,a.min=0,a.max=21,a.data=n,a.addEventListener?a.addEventListener("change",(function(e){t.onChangeStyleScaleMinMapBox(e)})):a.appendChild&&a.appendChild("onchange",(function(e){t.onChangeStyleScaleMinMapBox(e)})),o.appendChild(a),i.appendChild(o);var s=document.createElement("div");s.className=this.name.containertoolsmaxscale;var l=document.createElement("label");l.className=this.name.scalelabelmax,l.innerHTML="max :",s.appendChild(l);var c=document.createElement("input");return c.className=this.name.scaleinputmin,c.type="range",c.value=e.max||21,c.title=e.max||21,c.disabled=!1,c.min=0,c.max=21,c.data=n,c.addEventListener?c.addEventListener("change",(function(e){t.onChangeStyleScaleMaxMapBox(e)})):c.appendChild&&c.appendChild("onchange",(function(e){t.onChangeStyleScaleMaxMapBox(e)})),s.appendChild(c),i.appendChild(s),i}},{key:"_createElementToolsEdition",value:function(){Pv.warn("_createElementToolsEdition, it's not yet implemented !");var e=document.createElement("div");return e.className=this.name.containertoolsedit,e}},{key:"_syntaxHighlight",value:function(e){return(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,(function(e){var t="gp-json-number";return/^"/.test(e)?t=/:$/.test(e)?"gp-json-key":"gp-json-string":/true|false/.test(e)?t="gp-json-boolean":/null/.test(e)&&(t="gp-json-null"),"<span class='"+t+"'>"+e+"</span>"}))}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return Pv.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"getContainer",value:function(){return this.container}},{key:"onEditJsonStyleMapBox",value:function(e){Pv.trace("onEditJsonStyleMapBox",e),e.editorID=this.id,e.data=this.options,Iv().dispatch(_v.style.oneditjson,e)}},{key:"onChangeStyleScaleMinMapBox",value:function(e){Pv.trace("onChangeStyleScaleMinMapBox",e),e.editorID=this.id,e.data=this.options,Iv().dispatch(_v.style.scale.onchangemin,e)}},{key:"onChangeStyleScaleMaxMapBox",value:function(e){Pv.trace("onChangeStyleScaleMaxMapBox",e),e.editorID=this.id,e.data=this.options,Iv().dispatch(_v.style.scale.onchangemax,e)}}],t&&Ev(e.prototype,t),n&&Ev(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();const xv=Mv;function Gv(e){return Gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(e)}function kv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Rv(i.key),i)}}function Rv(e){var t=function(e,t){if("object"!=Gv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Gv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gv(t)?t:t+""}window.ol&&window.ol.style&&(window.ol.style.editor||(window.ol.style.editor={}),window.ol.style.editor.Style=Mv);var Lv=yt.getLogger("editor-themes"),Ov=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Lv.trace("[constructor] Themes",t),this.options=t||{},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()},t=[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target;var e={thumbnails:!0,button:{visible:!0,type:"radio"}};this.options.tools&&0!==Object.keys(this.options.tools).length||(this.options.tools=e),nn.mergeParams(this.options.tools,e,!1),void 0!==this.options.obj&&null!==this.options.obj&&this.options.obj||(this.options.obj={themesSummary:"",themes:[]}),this.container=null,this.name={target:"GPEditorMapBoxThemeTarget",container:"GPEditorMapBoxThemesContainer",containertheme:"GPEditorMapBoxThemeContainer",containerthemeID:"GPEditorMapBoxThemeContainer_ID_",input:"GPEditorMapBoxThemeInput",inputID:"GPEditorMapBoxThemeInput_ID_",label:"GPEditorMapBoxThemeTitle",labelID:"GPEditorMapBoxThemeTitle_ID_",image:"GPEditorMapBoxThemeImage",imageID:"GPEditorMapBoxThemeImage_ID_",message:"GPEditorMapBoxThemeMessage"}}},{key:"_initContainer",value:function(){var e=this,t=this.options.obj,n=this.id||yu.generate(),i=document.createElement("div");i.className=this.name.container,i.title=t.themesSummary||"";var o=t.themes;if(o)for(var r=0;r<o.length;r++){var a=o[r],s=document.createElement("div");s.id=this.name.containerthemeID+r+"_"+n,s.className=this.name.containertheme,s.tabIndex=r;var l=a.url,c=a.selected||!1;if(l){var u=this.options.tools.button;if(u.visible){var d="checkbox"===u.type?"checkbox":"radio",p=document.createElement("input");p.type=d,p.id=this.name.inputID+r+"_"+n,p.className=this.name.input,p.name=n,p.checked=c,p.data=l,p.addEventListener?p.addEventListener("click",(function(t){e.onClickThemeTitleMapBox(t)})):p.attachEvent&&p.attachEvent("onclick",(function(t){e.onClickThemeTitleMapBox(t)})),s.appendChild(p)}if(this.options.tools.thumbnails&&a.thumbnail){var h=document.createElement("img");h.id=this.name.imageID+r+"_"+n,h.className=this.name.image,h.src=a.thumbnail,h.alt=a.thumbnail,h.title=a.description||"",h.data=l,h.addEventListener?h.addEventListener("click",(function(t){e.onClickThemeImageMapBox(t);var n=t.target.parentElement.childNodes;if(n){var i=n[0];"input"===i.tagName.toLowerCase()&&(i.checked=!i.checked)}})):h.attachEvent&&h.attachEvent("onclick",(function(t){e.onClickThemeImageMapBox(t);var n=t.target.parentElement.childNodes;if(n){var i=n[0];"input"===i.tagName.toLowerCase()&&(i.checked=!i.checked)}})),s.appendChild(h)}if(a.name){var g=document.createElement("label");g.id=this.name.labelID+r+"_"+n,this.options.tools.button.visible&&(g.htmlFor=p.id),g.className=this.name.label,g.innerHTML=a.name,g.title=a.description||"",g.data=l,this.options.tools.button.visible||(g.addEventListener?g.addEventListener("click",(function(t){e.onClickThemeTitleMapBox(t)})):g.attachEvent&&g.attachEvent("onclick",(function(t){e.onClickThemeTitleMapBox(t)}))),s.appendChild(g)}}else{var m=document.createElement("label");m.className=this.name.message,m.innerHTML="ThÃ¨me non disponible...",s.appendChild(m)}i.appendChild(s)}this.container=i}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return Lv.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"getContainer",value:function(){return this.container}},{key:"onClickThemeImageMapBox",value:function(e){if(Lv.trace("onClickThemeImageMapBox",e),e.editorID=this.id,e.data=this.options,"checkbox"===this.options.tools.button.type)for(var t=e.target.previousSibling.id.substring(e.target.previousSibling.id.lastIndexOf("_")+1),n=document.getElementsByClassName(this.name.input),i=0;i<n.length;i++){var o=n[i];o.id!==e.target.previousSibling.id&&o.id.substring(o.id.lastIndexOf("_")+1)===t&&(o.checked=!1)}Iv().dispatch(_v.themes.onclickimage,e)}},{key:"onClickThemeTitleMapBox",value:function(e){if(Lv.trace("onClickThemeTitleMapBox",e),e.editorID=this.id,e.data=this.options,"checkbox"===this.options.tools.button.type)for(var t=e.target.id.substring(e.target.id.lastIndexOf("_")+1),n=document.getElementsByClassName(this.name.input),i=0;i<n.length;i++){var o=n[i];o.id!==e.target.id&&o.id.substring(o.id.lastIndexOf("_")+1)===t&&(o.checked=!1)}Iv().dispatch(_v.themes.onclicktitle,e)}}],t&&kv(e.prototype,t),n&&kv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();const Tv=Ov;function Dv(e){return Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(e)}function Nv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Uv(i.key),i)}}function Uv(e){var t=function(e,t){if("object"!=Dv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Dv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dv(t)?t:t+""}window.ol&&window.ol.style&&(window.ol.style.editor||(window.ol.style.editor={}),window.ol.style.editor.Themes=Ov);var jv=yt.getLogger("editor-filter"),Bv=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jv.trace("[constructor] Filter",t),this.options=t||{target:null,position:0,tools:null,title:null,obj:null},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()},t=[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={edition:!1};this.options.tools||(this.options.tools=e),nn.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={filter:[]}),this.options.title||(this.options.title="JSON Filtres :"),this.container=null,this.name={target:"GPEditorMapBoxFilterTarget",container:"GPEditorMapBoxFilterContainer",containerjson:"GPEditorMapBoxFilterJsonContainer",jsonlabel:"GPEditorMapBoxFilterTitleJson",jsondisplay:"GPEditorMapBoxFilterDisplayJson",containertoolsedit:"GPEditorMapBoxFilterToolsEditionContainer"}}},{key:"_initContainer",value:function(){var e=this,t=!1,n=JSON.parse(JSON.stringify(this.options.obj));n.filter&&(t=!0,0===n.filter.length&&jv.info("tag 'filter' is empty !"));var i=document.createElement("div");i.className=this.name.container;var o=null;t&&(o=JSON.stringify(n.filter,null,4));var r=document.createElement("div");r.className=this.name.containerjson;var a=document.createElement("label");a.className=this.name.jsonlabel,a.innerHTML=this.options.title,r.appendChild(a);var s=document.createElement("pre");if(s.className=this.name.jsondisplay,s.innerHTML=o,s.addEventListener?s.addEventListener("click",(function(t){e.options.tools.edition&&e.onEditJsonFilterMapBox(t)})):s.attachEvent&&s.attachEvent("onclick",(function(t){e.options.tools.edition&&e.onEditJsonFilterMapBox(t)})),r.appendChild(s),i.appendChild(r),this.options.tools.edition){var l=document.createElement("div");l.className=this.name.containertoolsedit,i.appendChild(l)}this.container=i}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return jv.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"getContainer",value:function(){return this.container}},{key:"onEditJsonFilterMapBox",value:function(e){jv.trace("onEditJsonFilterMapBox",e),e.editorID=this.id,e.data=this.options,Iv().dispatch(_v.filter.oneditjson,e)}}],t&&Nv(e.prototype,t),n&&Nv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();const Fv=Bv;function zv(e){return zv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(e)}function Vv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,qv(i.key),i)}}function qv(e){var t=function(e,t){if("object"!=zv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=zv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zv(t)?t:t+""}window.ol&&window.ol.style&&(window.ol.style.editor||(window.ol.style.editor={}),window.ol.style.editor.Filter=Bv);var Wv=yt.getLogger("editor-legend"),Hv=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wv.trace("[constructor] Legend",t),this.options=t||{target:null,position:0,sprites:null,obj:null},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}return t=e,n=[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0),this.options.obj||(this.options.obj={title:"vide...",editable:!0,paint:{"fill-color":"#FFFFFF"}});var e=this.options.obj.editable;this.editable=void 0!==e&&e,this.legendRender={type:"fill",values:{width:1,stroke:"#FFFFFF",color:"#000000",opacity:1}},this.container=null,this.rendercontainer=null,this.toolscontainer=null,this.name={target:"GPEditorMapBoxLegendTarget",container:"GPEditorMapBoxLegendContainer",containerlegendrender:"GPEditorMapBoxLegendRenderContainer",legendrender:"GPEditorMapBoxLegendRender",legendeditable:"GPEditorMapBoxLegendEditable",legendtitle:"GPEditorMapBoxLegendTitle",containerlegendtools:"GPEditorMapBoxLegendToolsContainer"},this.labels={"line-color":"Couleur du trait","line-width":"Epaisseur du trait","line-opacity":"OpacitÃ© du trait","fill-color":"Couleur de remplissage","fill-opacity":"OpacitÃ© du remplissage"}}},{key:"_initContainer",value:function(){var e=this.options.obj,t=document.createElement("div");t.className=this.name.container;var n=Object.assign({},e.paint,e.layout),i=Object.keys(n);if(0!==i.length){for(var o={},r=!1,a=0;a<i.length;a++){var s=i[a];if(/fill-/.test(s)||/line-/.test(s)||/circle-/.test(s)||/background-/.test(s)||/text-/.test(s)||/icon-/.test(s)){r=!0;var l=e.title||"",c=s.split("-")[0];"text"!==c&&"icon"!==c||(c="symbol"),this.legendRender=this._getProperties(c,n),o={edit:this.editable,title:l,type:this.legendRender.type,values:this.legendRender.values},t.appendChild(this._createElementIconLegend(o));break}}r||(o={edit:this.editable,title:"",type:this.legendRender.type,values:this.legendRender.values},t.appendChild(this._createElementIconLegend(o)),Wv.warn("legend type unknown, default legend used...")),this.toolscontainer=this._createElementEditionLegend(o),t.appendChild(this.toolscontainer),this.container=t}else Wv.info("tag 'paint' or 'layout' is empty !")}},{key:"_getProperties",value:function(t,n){if("symbol"===t){var i=n["text-field"],o=n["icon-image"];if("unknow"==(t=i&&o?"icon":i?"text":o?"icon":"unknow"))return void Wv.warn("type unknow !?")}var r={};for(var a in n)if(Object.hasOwnProperty.call(n,a)){var s=n[a];if(e.PROPERTIES[t].includes(a)){var l=a.replace(t,"").slice(1),c=this._getValue(s);if(c){if(!("pattern"!==l&&"image"!==l||this.options.sprites&&this.options.sprites.json&&this.options.sprites.json[c])){var u=t+":"+l;Wv.warn("sprites mandatory for key ",u);break}r[l]=c}}else Wv.warn("property not supported : ",a)}return{type:t,values:r}}},{key:"_renderThumbnail",value:function(e,t){var n=this.rendercontainer;if(!n)return!1;var i=null;switch(t.color||(t.color="#FFFFFF"),e){case"text":i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><text x='50' y='50' fill='%color%' fill-opacity='%opacity%'  text-anchor='middle' dominant-baseline='central' style='%style%'> T </text></svg>\")",n.style.background=i.replace("%color%",0===t.color.indexOf("rgb")?t.color:Mt.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%style%","font-size: 5em;font-weight: bold;");break;case"icon":t.image?(i="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' width='27px' height='27px' x='0' y='0' viewBox='%x% %y% %w% %h%'><image width='%W%px' height='%H%px' href='%URL%'/></svg>".replace("%x%",this.options.sprites.json[t.image].x).replace("%y%",this.options.sprites.json[t.image].y).replace(/%w%/g,this.options.sprites.json[t.image].width).replace(/%h%/g,this.options.sprites.json[t.image].height).replace("%W%",this.options.sprites.size.w).replace("%H%",this.options.sprites.size.h).replace("%URL%",this.options.sprites.url),n.innerHTML=i):(i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><path d='M 50,20 80,82.5 20,82.5 z' stroke='%color%' style='%style%'/></svg>\")",n.style.background=i.replace("%color%",0===t.color.indexOf("rgb")?t.color:Mt.hexToRgba(t.color,1)).replace("%style%","fill: transparent;stroke-width: 10;"));break;case"line":var o=Array.isArray(t.dasharray)?t.dasharray.join(" "):0;i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><line x1='0' y1='100' x2='100' y2='0' stroke='%color%' stroke-width='%stroke-width%' stroke-opacity='%stroke-opacity%' stroke-dasharray='%stroke-dasharray%' /></svg>\")",n.style.background=i.replace("%color%",0===t.color.indexOf("rgb")?t.color:Mt.hexToRgba(t.color,1)).replace("%stroke-opacity%",t.opacity||1).replace("%stroke-dasharray%",o).replace("%stroke-width%",3*(t.width||0));break;case"circle":var r=t["stroke-color"]||"#FFFFFF";i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' stroke='%stroke-color%' stroke-width='%stroke-width%' stroke-opacity='%strock-opacity%' fill='%color%' fill-opacity='%opacity%' /></svg>\")",n.style.background=i.replace("%color%",0===t.color.indexOf("rgb")?t.color:Mt.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%stroke-color%",0===r.indexOf("rgb")?r:Mt.hexToRgba(r,1)).replace("%stroke-opacity%",t["stroke-opacity"]||1).replace("%stroke-width%",3*(t["stroke-width"]||0));break;case"background":case"fill":if(t.pattern)i="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' width='27px' height='27px' x='0' y='0' viewBox='%x% %y% %w% %h%'><image width='%W%px' height='%H%px' href='%URL%'/></svg>".replace("%x%",this.options.sprites.json[t.pattern].x).replace("%y%",this.options.sprites.json[t.pattern].y).replace(/%w%/g,this.options.sprites.json[t.pattern].width).replace(/%h%/g,this.options.sprites.json[t.pattern].height).replace("%W%",this.options.sprites.size.w).replace("%H%",this.options.sprites.size.h).replace("%URL%",this.options.sprites.url),n.innerHTML=i;else{var a=t["outline-color"]||"#FFFFFF";i="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><rect x='0' y='0' width='100' height='100' rx='5' ry='5' stroke='%stroke-color%' stroke-width='3' fill='%color%' fill-opacity='%opacity%' /></svg>\")",n.style.background=i.replace("%color%",0===t.color.indexOf("rgb")?t.color:Mt.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%stroke-color%",0===a.indexOf("rgb")?a:Mt.hexToRgba(a,1))}break;default:return Wv.warn("type not found, no thumbnail..."),!1}return!0}},{key:"_getValue",value:function(e){var t=null;if("string"==typeof e)t=e;else if("number"==typeof e)t=e;else if(Array.isArray(e)){var n=!0;e.forEach((function(e){"number"!=typeof e&&(n=!1)})),n&&(t=e)}else"object"===zv(e)?(t=null,"stops"in e&&(e.stops.sort((function(e,t){var n=e[0],i=t[0];return n>i?-1:n<i?1:0})),t=e.stops.slice(-1)[0][1])):Wv.warn("value not supported !");return t}},{key:"_createElementIconLegend",value:function(e){var t=this,n=document.createElement("div");n.className=this.name.containerlegendrender;var i=this.rendercontainer=document.createElement("div");i.className=this.name.legendrender,e.edit&&(i.className+=" ",i.className+=this.name.legendeditable,i.addEventListener?i.addEventListener("click",(function(e){t.onEditionLegendMapBox(e)})):i.attachEvent&&i.attachEvent("onclick",(function(e){t.onEditionLegendMapBox(e)})));var o=e.type;this._renderThumbnail(o,e.values)?i.className+=e.edit?" legend-"+o:" legend-"+o+"-not-editable":i.className+=" legend-unknow",n.appendChild(i);var r=document.createElement("span");return r.className=this.name.legendtitle,r.innerHTML=e.title||"",n.appendChild(r),n}},{key:"_createElementEditionLegend",value:function(e){var t=this,n=document.createElement("div");if(n.className=this.name.containerlegendtools,!e.edit)return n;switch(e.type){case"line":(function(){var i=document.createElement("div");i.className="legend-styling-div";var o=document.createElement("label");o.className="legend-line",o.htmlFor=this.id?"line-color-"+this.id:"line-color",o.innerHTML=this.labels["line-color"];var r=document.createElement("input");r.className="legend-styling",r.id=this.id?"line-color-"+this.id:"line-color",r.title="Selectionner une couleur de trait",r.type="color",r.value=e.values.color,r.setAttribute("data-id","line-color"),r.addEventListener?r.addEventListener("change",(function(n){t._renderThumbnail(e.type,Object.assign(e.values,{color:n.target.value})),t.onChangeValueLegendMapBox(n)})):r.attachEvent&&r.attachEvent("onchange",(function(n){t._renderThumbnail(e.type,Object.assign(e.values,{color:n.target.value})),t.onChangeValueLegendMapBox(n)})),i.appendChild(o),i.appendChild(r),n.appendChild(i)}).call(t),function(){var i=document.createElement("div");i.className="legend-styling-div";var o=document.createElement("label");o.className="legend-line",o.htmlFor=this.id?"line-width-"+this.id:"line-width",o.innerHTML=this.labels["line-width"];var r=document.createElement("input");r.className="legend-styling",r.id=this.id?"line-width-"+this.id:"line-width",r.title=e.values.width,r.type="range",r.min="0",r.max="10",r.step="1",r.defaultValue=e.values.width,r.setAttribute("data-id","line-width"),r.addEventListener?r.addEventListener("change",(function(n){Wv.trace(n),n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{width:n.target.value})),t.onChangeValueLegendMapBox(n)})):r.attachEvent&&r.attachEvent("onchange",(function(n){Wv.trace(n),n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{width:n.target.value})),t.onChangeValueLegendMapBox(n)})),i.appendChild(o),i.appendChild(r),n.appendChild(i)}.call(t),function(){var i=document.createElement("div");i.className="legend-styling-div";var o=document.createElement("label");o.className="legend-line",o.htmlFor=this.id?"line-opacity-"+this.id:"line-opacity",o.innerHTML=this.labels["line-opacity"];var r=document.createElement("input");r.className="legend-styling",r.id=this.id?"line-opacity-"+this.id:"line-opacity",r.title=e.values.opacity,r.type="range",r.min="0",r.max="1",r.step="0.1",r.defaultValue=e.values.opacity,r.setAttribute("data-id","line-opacity"),r.addEventListener?r.addEventListener("change",(function(n){Wv.trace(n),n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:n.target.value})),t.onChangeValueLegendMapBox(n)})):r.attachEvent&&r.attachEvent("onchange",(function(n){Wv.trace(n),n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:n.target.value})),t.onChangeValueLegendMapBox(n)})),i.appendChild(o),i.appendChild(r),n.appendChild(i)}.call(t);break;case"background":case"fill":(function(){var i=document.createElement("div");i.className="legend-styling-div";var o=document.createElement("label");o.className="legend-fill",o.htmlFor=this.id?"fill-color-"+this.id:"fill-color",o.innerHTML=this.labels["fill-color"];var r=document.createElement("input");r.className="legend-styling",r.id=this.id?"fill-color-"+this.id:"fill-color",r.title="Selectionner une couleur de remplissage",r.type="color",r.value=e.values.color,r.setAttribute("data-id","fill-color"),r.addEventListener?r.addEventListener("change",(function(n){t._renderThumbnail(e.type,Object.assign(e.values,{color:n.target.value})),t.onChangeValueLegendMapBox(n)})):r.attachEvent&&r.attachEvent("onchange",(function(n){t._renderThumbnail(e.type,Object.assign(e.values,{color:n.target.value})),t.onChangeValueLegendMapBox(n)})),i.appendChild(o),i.appendChild(r),n.appendChild(i)}).call(t),function(){var i=document.createElement("div");i.className="legend-styling-div";var o=document.createElement("label");o.className="legend-fill",o.htmlFor=this.id?"fill-opacity-"+this.id:"fill-opacity",o.innerHTML=this.labels["fill-opacity"];var r=document.createElement("input");r.className="legend-styling",r.id=this.id?"fill-opacity-"+this.id:"fill-opacity",r.title=e.values.opacity,r.type="range",r.min="0",r.max="1",r.step="0.1",r.defaultValue=e.values.opacity,r.setAttribute("data-id","fill-opacity"),r.addEventListener?r.addEventListener("change",(function(n){n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:n.target.value})),t.onChangeValueLegendMapBox(n)})):r.attachEvent&&r.attachEvent("onchange",(function(n){n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:n.target.value})),t.onChangeValueLegendMapBox(n)})),i.appendChild(o),i.appendChild(r),n.appendChild(i)}.call(t)}return n}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return Wv.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"isEditable",value:function(){return this.editable}},{key:"getRenderContainer",value:function(){return this.rendercontainer}},{key:"getToolsContainer",value:function(){return this.toolscontainer}},{key:"getContainer",value:function(){return this.container}},{key:"onEditionLegendMapBox",value:function(e){Wv.trace("onEditionLegendMapBox",e),e.editorID=this.id,e.data=this.options,Iv().dispatch(_v.legend.onclickedition,e)}},{key:"onChangeValueLegendMapBox",value:function(e){Wv.trace("onChangeValueLegendMapBox",e),e.editorID=this.id,e.data=this.options,Iv().dispatch(_v.legend.onchangevalue,e)}}],n&&Vv(t.prototype,n),i&&Vv(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();Hv.PROPERTIES={line:["line-color","line-dasharray","line-opacity","line-width"],fill:["fill-color","fill-opacity","fill-outline-color","fill-pattern"],background:["background-color","background-opacity","background-pattern"],circle:["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-stroke-width"],icon:["icon-color","icon-image","icon-opacity","__icon-size"],text:["__text-anchor","text-color","text-field","__text-font","__text-opacity","__text-size"]};const Yv=Hv;function Zv(e){return Zv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(e)}function Jv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Xv(i.key),i)}}function Xv(e){var t=function(e,t){if("object"!=Zv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Zv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zv(t)?t:t+""}window.ol&&window.ol.style&&(window.ol.style.editor||(window.ol.style.editor={}),window.ol.style.editor.Legend=Hv);var Kv=yt.getLogger("editor-layer"),Qv=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Kv.trace("[constructor] Layer",t),this.options=t||{},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()},t=[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={visibility:!0,icon:{image:!0,anchor:"end"},type:!0,pin:!0,remove:!1,clone:!1};this.options.tools||(this.options.tools=e),nn.mergeParams(this.options.tools,e,!1);var t={id:"",type:"",source:"","source-layer":""};this.options.obj||(this.options.obj=t),nn.mergeParams(this.options.obj,t,!1),this.bSlotLegend=!1,this.oFilter=null,this.oStyle=null,this.oLegend=null,this.container=null,this.DomVisibility=null,this.DomToggle=null,this.name={target:"GPEditorMapBoxLayerTarget",container:"GPEditorMapBoxLayerContainer",containerlegend:"GPEditorMapBoxLayerLegendContainer",containertitle:"GPEditorMapBoxLayerTitleContainer",imagelabelinput:"GPEditorMapBoxLayerImageInput",imagelabel:"GPEditorMapBoxLayerImageLabel",typeimg:"GPEditorMapBoxLayerTypeImage",titleinput:"GPEditorMapBoxLayerTitleInput",titlelabel:"GPEditorMapBoxLayerTitleLabel",containertools:"GPEditorMapBoxToolsContainer",visibilityinput:"GPEditorMapBoxToolsVisibilityInput",visibilitylabel:"GPEditorMapBoxToolsVisibilityLabel",visibilityinputdisable:"GPEditorMapBoxToolsVisibilityInputDisable",visibilitylabeldisable:"GPEditorMapBoxToolsVisibilityLabelDisable"}}},{key:"_initContainer",value:function(){var e=this,t=this.options.obj,n=document.createElement("div");n.className=this.name.container;var i=document.createElement("div");if(i.id=this.name.containertitle+"-"+this.options.position,i.className=this.name.containertitle,this.options.tools.pin){var o=document.createElement("input");o.id=this.name.imagelabelinput+"-"+this.options.position,o.className=this.name.imagelabelinput,o.type="checkbox",i.appendChild(o);var r=document.createElement("label");r.className=this.name.imagelabel,r.htmlFor=o.id,r.addEventListener?r.addEventListener("click",(function(t){e.onClickLayerMapBox(t)})):r.attachEvent&&r.attachEvent("onclick",(function(t){e.onClickLayerMapBox(t)})),i.appendChild(r)}var a=function(){var t=document.createElement("div");if(t.id=this.name.containertools+"-"+this.options.position,t.className=this.name.containertools,this.options.tools.visibility){var i=document.createElement("input");i.id=this.name.visibilityinput+"-"+this.options.position,i.className=this.options.tools.icon.image?this.name.visibilityinput:this.name.visibilityinputdisable,i.type="checkbox",i.checked="checked",i.addEventListener?i.addEventListener("click",(function(t){e.onVisibilityLayerMapBox(t)})):i.attachEvent&&i.attachEvent("onclick",(function(t){e.onVisibilityLayerMapBox(t)})),t.appendChild(i),this.DomVisibility=i;var o=document.createElement("label");o.htmlFor=this.name.visibilityinput+"-"+this.options.position,o.id=this.name.visibilitylabel+"-"+this.options.position,o.className=this.options.tools.icon.image?this.name.visibilitylabel:this.name.visibilitylabeldisable,o.title="Afficher/masquer la couche",t.appendChild(o),n.appendChild(t)}this.options.tools.clone&&Kv.warn("Dom for tools clone, it's not yet implemented !"),this.options.tools.remove&&Kv.warn("Dom for tools remove, it's not yet implemented !")};if("start"===this.options.tools.icon.anchor&&a.apply(this),this.options.tools.type&&t.type){var s=document.createElement("img");switch(s.className=this.name.typeimg,t.type.toUpperCase()){case"SYMBOL-ICON":s.style["background-position"]="0px 0";break;case"SYMBOL-TEXT":s.style["background-position"]="-194px 0";break;case"SYMBOL":s.style["background-position"]="-84px 0";break;case"LINE":s.style["background-position"]="-28px 0";break;case"FILL":s.style["background-position"]="-56px 0";break;case"BACKGROUND":s.style["background-position"]="-140px 0";break;case"CIRCLE":s.style["background-position"]="-168px 0";break;default:s.style["background-position"]="-112px 0"}i.appendChild(s)}var l=document.createElement("div");l.id=this.name.containerlegend+"-"+this.options.position,l.className=this.name.containerlegend,i.appendChild(l);var c=document.createElement("input");c.id=this.name.titleinput+"-"+this.options.position,c.className=this.name.titleinput,c.type="checkbox",i.appendChild(c);var u=document.createElement("label");u.className=this.name.titlelabel,u.htmlFor=c.id,u.innerHTML=t.id||t["source-layer"]||t.source,u.title=t["source-layer"]||t.source||t.id,u.addEventListener?u.addEventListener("click",(function(t){e.onClickLayerMapBox(t)})):u.attachEvent&&u.attachEvent("onclick",(function(t){e.onClickLayerMapBox(t)})),i.appendChild(u),this.DomToggle=u,n.appendChild(i),"end"===this.options.tools.icon.anchor&&a.apply(this),this.container=n}},{key:"add",value:function(){if(Kv.trace("add()"),!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"addStyle",value:function(e){Kv.trace("addStyle()",e),e&&"object"===Zv(e)&&e instanceof xv&&(this.oStyle=e,this.oStyle.display(!1))}},{key:"addFilter",value:function(e){Kv.trace("addFilter()",e),e&&"object"===Zv(e)&&e instanceof Fv&&(this.oFilter=e,this.oFilter.display(!1))}},{key:"addLegend",value:function(e){Kv.trace("addLegend()",e),e&&"object"===Zv(e)&&e instanceof Yv&&(this.oLegend=e,this.oLegend.display(!1))}},{key:"slotLegend",value:function(){var e=this.oLegend;if(e){var t=null,n=this.container.childNodes;if(n.length)for(var i=n["start"===this.options.tools.icon.anchor?1:0].childNodes,o=0;o<i.length;o++){var r=i[o];-1!==r.id.indexOf(this.name.containerlegend)&&(t=r)}if(t){var a=e.getRenderContainer();a&&(t.appendChild(a),this.bSlotLegend=!0)}}}},{key:"visibility",value:function(e){if(Kv.trace("visibility()",e),this.options.tools.visibility)return void 0!==e&&(this.DomVisibility.checked=e?"checked":""),this.DomVisibility.checked}},{key:"collapse",value:function(){Kv.trace("collapse()"),this.DomToggle.click()}},{key:"visible",value:function(){Kv.trace("visible()"),this.options.tools.visibility&&this.DomVisibility.click()}},{key:"display",value:function(e){Kv.trace("display()",e);var t=document.getElementById(this.DomToggle.htmlFor).checked;return void 0!==e&&(this.container.style.display=e?"inline-flex":"none",this.oStyle&&this.oStyle.display(e&&t),this.oFilter&&this.oFilter.display(e&&t),this.oLegend&&this.oLegend.display(e&&t)),t}},{key:"active",value:function(e){return Kv.trace("active()",e),void 0!==e&&(this.container.className=e?this.name.container:this.name.container+" disabled"),this.container.className===this.name.container}},{key:"getContainer",value:function(){return this.container}},{key:"onClickLayerMapBox",value:function(e){Kv.trace("onClickLayerMapBox",e);var t=e.target.htmlFor.substring(e.target.htmlFor.indexOf("-")),n=document.getElementById(e.target.htmlFor).checked;e.target.htmlFor===this.name.imagelabelinput+t&&(document.getElementById(this.name.titleinput+t).checked=!n),e.target.htmlFor===this.name.titleinput+t&&document.getElementById(this.name.imagelabelinput+t)&&(document.getElementById(this.name.imagelabelinput+t).checked=!n),this.oStyle&&this.oStyle.display(!n),this.oFilter&&this.oFilter.display(!n),this.oLegend&&this.oLegend.isEditable()&&this.oLegend.display(!n)}},{key:"onVisibilityLayerMapBox",value:function(e){Kv.trace("onVisibilityLayerMapBox",e),e.editorID=this.id,e.data=this.options,Iv().dispatch(_v.layer.onclickvisibility,e)}},{key:"onCloneLayerMapBox",value:function(e){Kv.trace("onCloneLayerMapBox",e),e.editorID=this.id,e.data=this.options,Iv().dispatch(_v.layer.onclickclone,e)}},{key:"onRemoveLayerMapBox",value:function(e){Kv.trace("onRemoveLayerMapBox",e),e.editorID=this.id,e.data=this.options,Iv().dispatch(_v.layer.onclickremove,e)}}],t&&Jv(e.prototype,t),n&&Jv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();const $v=Qv;function eC(e){return eC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eC(e)}function tC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,nC(i.key),i)}}function nC(e){var t=function(e,t){if("object"!=eC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=eC(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eC(t)?t:t+""}window.ol&&window.ol.style&&(window.ol.style.editor||(window.ol.style.editor={}),window.ol.style.editor.Layer=Qv);var iC=yt.getLogger("editor-group"),oC=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),iC.trace("[constructor] Group",t),this.options=t||{},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()},t=[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.title||(this.options.title="DÃ©tails du groupe..."),void 0===this.options.collapse&&(this.options.collapse=!0),this.container=null,this.name={target:"GPEditorMapBoxGroupTarget",container:"GPEditorMapBoxGroupContainer",details:"GPEditorMapBoxGroupDetails",summary:"GPEditorMapBoxGroupSummary"}}},{key:"_initContainer",value:function(){var e=document.createElement("div");e.className=this.name.container;var t=document.createElement("details");t.className=this.name.details,t.open=!this.options.collapse,e.appendChild(t);var n=document.createElement("summary");n.className=this.name.summary,n.innerHTML=this.options.title,t.appendChild(n),this.container=e}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}this.container&&this.options.target.appendChild(this.container)}},{key:"display",value:function(e){this.container.style.display=e?"flex":"none"}},{key:"getContainer",value:function(){var e=this.container.childNodes;return e.length?e[0]:this.container}},{key:"onCollapseGroupMapBox",value:function(e){iC.trace("onCollapseGroupMapBox",e),e.editorID=this.id,e.data=this.options,Iv().dispatch(_v.group.oncollapse,e)}}],t&&tC(e.prototype,t),n&&tC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();const rC=oC;function aC(e){return aC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aC(e)}function sC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,lC(i.key),i)}}function lC(e){var t=function(e,t){if("object"!=aC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=aC(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aC(t)?t:t+""}var cC=yt.getLogger("editor-search"),uC=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cC.trace("[constructor] Search",t),this.options=t||{target:null,tools:null,title:null,obj:null},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()},t=[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target;var e={};this.options.tools||(this.options.tools=e),nn.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={}),this.options.title||(this.options.title="Recherche de couches :"),this.container=null,this.name={target:"GPEditorMapBoxSearchTarget",container:"GPEditorMapBoxSearchContainer"}}},{key:"_initContainer",value:function(){var e=JSON.parse(JSON.stringify(this.options.obj));e.layers&&0===e.layers.length&&cC.info("tag 'layers' is empty !");var t=document.createElement("div");t.className=this.name.container,this.container=t}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return cC.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"getContainer",value:function(){return this.container}},{key:"onSubmitSearchLayersMapBox",value:function(e){cC.trace("onSubmitSearchLayersMapBox",e),e.editorID=this.id,e.data=this.options,Iv().dispatch(_v.search.onsubmit,e)}},{key:"onAutocompleteSearchLayersMapBox",value:function(e){cC.trace("onAutocompleteSearchLayersMapBox",e),e.editorID=this.id,e.data=this.options,Iv().dispatch(_v.search.onautocomplete,e)}}],t&&sC(e.prototype,t),n&&sC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();const dC=uC;const pC={_addUID:function(e){return this._uid?e+"-"+this._uid:e}};function hC(e){return hC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hC(e)}function gC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,mC(i.key),i)}}function mC(e){var t=function(e,t){if("object"!=hC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=hC(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hC(t)?t:t+""}var fC=yt.getLogger("editor"),yC=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),fC.trace("[constructor] Editor",t),this.options=t||{},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize()},t=[{key:"_initialize",value:function(){if(this.options.target||fC.info("La 'target' n'est pas renseignÃ©e (options.target)."),this.options.style){this.options.events?this._initEvents():fC.warn("Les 'handlers' ne sont pas renseignÃ©s (options.events) !"),this.options.themes||fC.info("Les 'themes' MapBox ne sont pas renseignÃ©s (options.themes).");var e={themes:!1,layers:!0,search:!1,style:!1,filter:!1,legend:!1,group:!1,groupAuto:!1,sort:!0,sortBy:"id",sortOrder:"asc",title:!0,collapse:void 0,type:!0,pin:!0,visibility:!0,icon:{image:!0,anchor:"end"},editable:!0};this.options.tools||(fC.trace("Utilisation des outils MapBox par dÃ©faut (options.tools)."),this.options.tools=e),nn.mergeParams(this.options.tools,e,!1),this.id=this.options.id||yu.generate(),this.context={},this.layers=[],this.container=null,this.name={target:"GPEditorMapBoxTarget",container:"GPEditorMapBoxContainer",containerID:"GPEditorMapBoxContainer_ID_",containerLayers:"GPEditorMapBoxLayersContainer",titleLayers:"GPEditorMapBoxLayersTitle",titleLayersID:"GPEditorMapBoxLayersTitle_ID_",titleThemes:"GPEditorMapBoxThemesTitle",titleThemesID:"GPEditorMapBoxThemesTitle_ID_",sep:"GPEditorMapBoxSep"},this.mapbox={},this.sprites={}}else fC.error("Le 'style' MapBox n'est pas renseignÃ© (options.style) !")}},{key:"_initEvents",value:function(){var e=this.options.scope||this,t=this.options.events;if(t)for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];i&&(Iv().hasEventListener(n,i,e)||Iv().addEventListener(n,i,e))}}},{key:"_initContainer",value:function(){fC.trace(this.mapbox);var e=document.createElement("div");e.id=this.name.containerID+this.id,e.className=this.name.container;var t=this.options.tools.themes;if(t&&this.options.themes){if(this.options.tools.title){var n=document.createElement("div");n.id=this.name.titleThemesID+this.id,n.className=this.name.titleThemes,n.innerHTML="Liste des 'thÃ¨mes'",e.appendChild(n)}new Tv({id:this.id,target:e,tools:"object"===hC(t)?t:{},obj:this.options.themes}).add()}for(var i in this.options.tools.search&&new dC({id:this.id,target:e,tools:{},obj:this.mapbox.layers}).add(),this.mapbox.sources)if(this.mapbox.sources.hasOwnProperty(i)){if(this.options.tools.layers){var o=Object.keys(this.mapbox.sources).length>1?1:0;if(o){var r=document.createElement("hr");r.className=this.name.sep,e.appendChild(r)}if(this.options.tools.title){var a=document.createElement("div");a.id=this.name.titleLayersID+this.id,a.className=this.name.titleLayers,a.innerHTML=o?"Liste des 'couches' ("+i+")":"Liste des 'couches'",e.appendChild(a)}}var s=this.mapbox.layers.slice();if(s.forEach((function(e,t){var n=e.metadata;n?n["geoportail:order"]=t:e.metadata={"geoportail:order":t}})),this.options.tools.sort){var l=this.options.tools.sortBy,c=this.options.tools.sortOrder;s.sort((function(e,t){var n=0;if(e.metadata&&e.metadata["geoportail:group"]&&t.metadata&&t.metadata["geoportail:group"]){var i,o=null;o=e.metadata["geoportail:group"],i=t.metadata["geoportail:group"],n=o.localeCompare(i)}else switch(l){case"geom":n="asc"===c?e.type.localeCompare(t.type)||e.id.localeCompare(t.id):t.type.localeCompare(e.type)||t.id.localeCompare(e.id);break;case"class":n="asc"===c?e["source-layer"].localeCompare(t["source-layer"])||e.id.localeCompare(t.id):t["source-layer"].localeCompare(e["source-layer"])||t.id.localeCompare(e.id);break;default:n="asc"===c?e.id.localeCompare(t.id):t.id.localeCompare(e.id)}return n}))}fC.trace("Layers : ",s);var u=this.options.tools.sortBy,d=this.options.tools.groupAuto,p={};s.forEach((function(e){var t=e.metadata;if(t&&t["geoportail:group"]){var n=t["geoportail:group"];p[n]=p[n]?p[n]+1:1}else{var i=null;switch(u){case"class":i=e["source-layer"];break;case"geom":i=e.type;break;default:i=e.id}var o=i;if(d){var r=i.search(/_|-|:|=/);o=-1!==r?i.substring(0,r).trim():i}p[o]=p[o]?p[o]+1:1,t?t["geoportail:group"]=o:e.metadata={"geoportail:group":o}}})),fC.trace("Groups : ",p);var h,g=document.createElement("div");if(g.className=this.name.containerLayers,e.appendChild(g),void 0!==this.options.tools.collapse){(h=document.createElement("details")).className="",h.open=!this.options.tools.collapse,g.appendChild(h);var m=document.createElement("summary");m.className="",m.innerHTML="",h.appendChild(m)}for(var f=void 0!==this.options.tools.collapse?h:g,y=-1,A=0;A<s.length;A++){var v=s[A];if(y++,v.source===i){if(this.options.tools.group&&this.options.tools.sort)if(v.metadata){var C=v.metadata["geoportail:group"];if(C)if(p[C]>1){p[C]=-1;var b=new rC({id:this.id,target:void 0!==this.options.tools.collapse?h:g,title:C,collapse:!0});b.add(),f=b.getContainer()}else 1===p[C]&&(f=void 0!==this.options.tools.collapse?h:g);else f=void 0!==this.options.tools.collapse?h:g}else f=void 0!==this.options.tools.collapse?h:g;if(this.options.tools.layers){var I=new $v({id:this.id,target:f,position:y+"_"+this.id,tools:{visibility:this.options.tools.visibility,icon:this.options.tools.icon,type:this.options.tools.type,pin:this.options.tools.pin},obj:{id:v.id,type:v.type,source:v.source,"source-layer":v["source-layer"]}});I.add(),v.layout&&v.layout.visibility&&"none"===v.layout.visibility&&I.visibility(!1),this.layers.push(I)}if(this.options.tools.legend){var _=this.options.tools.editable;void 0===_&&(_=v.editable);var w=new Yv({id:this.id,target:f,sprites:this.sprites,obj:{id:v.id,source:v.source,title:v.id,editable:void 0!==_&&_,paint:v.paint,layout:v.layout}});w.add(),w.display(!1),I&&(I.addLegend(w),I.slotLegend())}if(this.options.tools.style){var E=new xv({id:this.id,target:f,position:y+"_"+this.id,obj:{id:v.id,source:v.source,layout:v.layout,paint:v.paint}});E.add(),E.display(!1),I&&I.addStyle(E),v.layout&&v.layout.visibility&&"none"===v.layout.visibility&&I.visibility(!1)}if(this.options.tools.filter){var S=new Fv({id:this.id,target:f,position:y+"_"+this.id,obj:{id:v.id,source:v.source,filter:v.Filter}});S.add(),S.display(!1),I&&I.addFilter(S)}}else y>=0&&y--}}if(this.container=e,!this.options.target){if(!document.getElementById(this.name.target)){var P=document.createElement("div");P.id=this.name.target,(document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]||document.documentElement).appendChild(P)}this.options.target=document.getElementById(this.name.target)}this.container&&this.options.target.appendChild(this.container),Iv().dispatch(_v.onloaded,this)}},{key:"_getSprites",value:function(e){var t,n=this;return e&&e.startsWith("mapbox://")?new Promise((function(e,t){fC.error("Protocole mapbox:// non gÃ©rÃ© !"),e(n)})):e?Promise.all([(t=e+".png",fetch(t,{credentials:"same-origin"}).then((function(e){if(e.ok)return e.blob().then((function(e){n.sprites.url=t;var i=new Image;return i.src=t,i.decode().then((function(){n.sprites.size={},n.sprites.size.h=i.height,n.sprites.size.w=i.width}))})).catch((function(e){fC.warn("fetch image sprites exception :",e)}));throw new Error("HTTP status code: "+e.status)})).catch((function(e){return new Promise((function(t,n){fC.error("fetch image sprites exception :",e),n(e)}))}))),fetch(e+".json",{credentials:"same-origin"}).then((function(e){if(e.ok)return e.json().then((function(e){n.sprites.json=e})).catch((function(e){fC.warn("fetch json sprites exception :",e)}));throw new Error("HTTP status code: "+e.status)})).catch((function(e){return new Promise((function(t,n){fC.error("fetch json sprites exception :",e),n(e)}))}))]):new Promise((function(e,t){fC.error("Auncun sprites disponibles !"),e(n)}))}},{key:"createElement",value:function(){var e=this;return"object"===hC(this.options.style)?(this.mapbox=this.options.style,this.options.tools.legend?this._getSprites(this.mapbox.sprite).then((function(){return e._initContainer(),e})).catch((function(e){fC.warn("fetch sprites exception :",e)})):new Promise((function(t,n){e._initContainer(),t(e)}))):"string"==typeof this.options.style?fetch(this.options.style,{credentials:"same-origin"}).then((function(t){return t.json().then((function(t){e.mapbox=t})).then((function(){return e.options.tools.legend?e._getSprites(e.mapbox.sprite).then((function(){return e._initContainer(),e})).catch((function(e){fC.warn("fetch sprites exception :",e)})):new Promise((function(t,n){e._initContainer(),t(e)}))})).catch((function(e){fC.error("json exception :",e)}))})).catch((function(e){fC.error("fetch exception :",e)})):void 0}},{key:"display",value:function(e){this.container.style.display=e?"block":"none"}},{key:"setContext",value:function(e,t){this.context[e]=t}},{key:"getContext",value:function(e){return this.context[e]}},{key:"getID",value:function(){return this.id}},{key:"getContainer",value:function(){return this.container}},{key:"getStyle",value:function(){return this.mapbox}},{key:"getStyleLayer",value:function(e){for(var t=null,n=this.getLayer(e).options.obj.id,i=0;i<this.mapbox.layers.length;i++){var o=this.mapbox.layers[i];if(o.id===n){t=o;break}}return t}},{key:"getLayerFromStyle",value:function(e){for(var t=null,n=this.mapbox.layers[e],i=0;i<this.getLayers().length;i++){var o=this.getLayer(i);if(n.id===o.options.obj.id){t=o;break}}return t}},{key:"getLayers",value:function(){return this.layers}},{key:"getLayer",value:function(e){return this.layers[e]}}],t&&gC(e.prototype,t),n&&gC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();nn.assign(yC.prototype,pC);const AC=yC;window.ol&&window.ol.style&&(window.ol.style.Editor=yC);var vC={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createLoadingElement:function(){var e=document.createElement("div");return e.id="GPmapLoading",e.className="",e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimport"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowImportPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowImportPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowImportPicto gpf-btn gpf-btn-icon gpf-btn-icon-import fr-btn",t.title="Ouvrir l'import de couches",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e._onShowImportClick()})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e._onShowImportClick()})),t},_createImportPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPimportPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createImportPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createImportPanelHeaderElement:function(){var e=document.createElement("div");return e.className="GPpanelHeader gpf-panel__header fr-modal__header",e},_createImportPanelTitleElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportHeaderTitle"),e.className="GPpanelTitle gpf-panel__title fr-modal__title fr-pt-4w",e.innerHTML="Import de donnÃ©es",e},_createImportPanelCloseElement:function(){var e=this,t=document.createElement("button");t.id=this._addUID("GPimportPanelClose"),t.className="GPpanelClose GPimportPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",t.title="Fermer le panneau",t.addEventListener?t.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click()}),!1):t.attachEvent&&t.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click()}));var n=document.createElement("span");return n.className="GPelementHidden gpf-visible",n.innerText="Fermer",t.appendChild(n),t},_createImportPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPimportForm"),t.className="GPform gpf-panel__content fr-modal__content",t.addEventListener?t.addEventListener("submit",(function(t){t.preventDefault(),e._onImportSubmit()})):t.attachEvent&&t.attachEvent("onsubmit",(function(t){t.preventDefault(),e._onImportSubmit()})),t},_createImportTypeLineElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPimportTypeLine"),n.className="GPimportInputLine";var i=document.createElement("label");i.id=this._addUID("GPimportTypeLabel"),i.className="GPlabel gpf-label fr-label",i.innerHTML="Type de donnÃ©e",i.title="Type de donnÃ©e",n.appendChild(i);var o,r=document.createElement("select");r.setAttribute("aria-labelledby",this._addUID("GPimportTypeLabel")),r.className="GPselect gpf-select fr-select",r.addEventListener?r.addEventListener("change",(function(e){"KML"===this.value||"GPX"===this.value||"GeoJSON"===this.value||"MAPBOX"===this.value?(document.getElementById(t._addUID("GPimportStaticParams")).className="GPelementVisible gpf-visible fr-my-4w",document.getElementById(t._addUID("GPimportServiceParams")).className="GPelementHidden gpf-hidden"):"WMS"!==this.value&&"WMTS"!==this.value&&"WFS"!==this.value||(document.getElementById(t._addUID("GPimportServiceParams")).className="GPelementVisible gpf-visible fr-my-4w",document.getElementById(t._addUID("GPimportStaticParams")).className="GPelementHidden gpf-hidden"),t._onImportTypeChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(){"KML"===this.value||"GPX"===this.value||"GeoJSON"===this.value||"MAPBOX"===this.value?(document.getElementById(t._addUID("GPimportStaticParams")).className="GPelementVisible gpf-visible fr-my-4w",document.getElementById(t._addUID("GPimportServiceParams")).className="GPelementHidden gpf-hidden"):"WMS"!==this.value&&"WMTS"!==this.value&&"WFS"!==this.value||(document.getElementById(t._addUID("GPimportServiceParams")).className="GPelementVisible gpf-visible fr-my-4w",document.getElementById(t._addUID("GPimportStaticParams")).className="GPelementHidden gpf-hidden"),t._onImportTypeChange()})),r.id=this._addUID("GPimportTypeSelect"),e&&Array.isArray(e)||(e=["KML","GPX","GeoJSON","MAPBOX","WMS","WMTS","WFS"]);for(var a=0;a<e.length;a++)(o=document.createElement("option")).value=e[a],o.text="MAPBOX"===e[a]?"Tuiles vectorielles":e[a],r.appendChild(o);return n.appendChild(r),n},_createImportWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPimportWaitingContainer"),e.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var t=document.createElement("p");return t.className="GPwaitingContainerInfo gpf-waiting_info",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createImportStaticParamsContainer:function(e){var t=document.createElement("div");return t.id=this._addUID("GPimportStaticParams"),t.className="KML"===e||"GPX"===e||"GeoJSON"===e||"MAPBOX"===e?"GPelementVisible gpf-visible fr-my-4w":"GPelementHidden gpf-hidden",t},_createStaticNameLabel:function(){var e=document.createElement("div");e.className="GPimportInputLine fr-mb-1w";var t=document.createElement("label");t.className="GPlabel gpf-label fr-label",t.htmlFor=this._addUID("GPimportName"),t.innerHTML="Nom",t.title="Nom",e.appendChild(t);var n=document.createElement("input");return n.type="text",n.id=this._addUID("GPimportName"),n.className="GPinput gpf-input fr-input",e.appendChild(n),e},_createStaticModeChoiceDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportChoice"),e.className="fr-my-1w",e},_createStaticLocalChoiceDiv:function(){var e=this,t=document.createElement("div");t.className="GPimportChoiceAlt gpf-radio-group fr-radio-group";var n=document.createElement("input");n.type="radio",n.addEventListener?n.addEventListener("change",(function(t){document.getElementById(e._addUID("GPimportValueLocal")).className="GPimportInputLine fr-mb-1w",document.getElementById(e._addUID("GPimportValueUrl")).className="GPelementHidden gpf-hidden",e._onStaticImportTypeChange(t)})):n.appendChild&&n.appendChild("onchange",(function(){document.getElementById(e._addUID("GPimportValueLocal")).className="GPimportInputLine fr-mb-1w",document.getElementById(e._addUID("GPimportValueUrl")).className="GPelementHidden gpf-hidden",e._onStaticImportTypeChange()})),n.name="GPimportChoiceMode",n.value="local",n.checked=!0,n.id=this._addUID("GPimportChoiceAltLocal"),t.appendChild(n);var i=document.createElement("label");return i.className="GPimportChoiceAltTxt gpf-label fr-label",i.htmlFor=this._addUID("GPimportChoiceAltLocal"),i.innerHTML="par fichier local",i.title="par fichier local",t.appendChild(i),t},_createStaticUrlChoiceDiv:function(){var e=this,t=document.createElement("div");t.className="GPimportChoiceAlt gpf-radio-group fr-radio-group";var n=document.createElement("input");n.type="radio",n.addEventListener?n.addEventListener("change",(function(t){document.getElementById(e._addUID("GPimportValueUrl")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueLocal")).className="GPelementHidden gpf-hidden",e._onStaticImportTypeChange(t)})):n.appendChild&&n.appendChild("onchange",(function(){document.getElementById(e._addUID("GPimportValueUrl")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueLocal")).className="GPelementHidden gpf-hidden",e._onStaticImportTypeChange()})),n.id=this._addUID("GPimportChoiceAltUrl"),n.name="GPimportChoiceMode",n.value="url",n.checked=!1,t.appendChild(n);var i=document.createElement("label");return i.className="GPimportChoiceAltTxt gpf-label fr-label",i.htmlFor=this._addUID("GPimportChoiceAltUrl"),i.innerHTML="par URL",i.title="par URL",t.appendChild(i),t},_createStaticLocalInputDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportValueLocal"),e.className="GPimportInputLine",e},_createStaticLocalInputLabel:function(){var e=document.createElement("label");return e.className="GPlabel gpf-label fr-label fr-mb-1w",e.htmlFor=this._addUID("GPimportFile"),e.innerHTML="Fichier local",e.title="Fichier local",e},_createStaticLocalInput:function(){var e=document.createElement("input");return e.type="file",e.id=this._addUID("GPimportFile"),e.className="GPimportInputFile gpf-upload fr-upload",e},_createStaticUrlInputDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportValueUrl"),e.className="GPelementHidden gpf-hidden",e},_createStaticUrlInputLabel:function(){var e=document.createElement("label");return e.className="GPlabel gpf-label fr-label",e.htmlFor=this._addUID("GPimportUrl"),e.innerHTML="URL",e.title="URL",e},_createStaticUrlInput:function(){var e=document.createElement("input");return e.type="text",e.id=this._addUID("GPimportUrl"),e.className="GPinput gpf-input fr-input",e},_createServiceParamsContainer:function(e){var t=document.createElement("div");return t.id=this._addUID("GPimportServiceParams"),t.className="WMS"===e||"WMTS"===e||"WFS"===e?"GPelementVisible gpf-visible":"GPelementHidden gpf-hidden",t},_createServiceUrlDiv:function(){var e=document.createElement("div");return e.className="GPimportInputLine",e},_createServiceUrlInputLabel:function(){var e=document.createElement("label");return e.className="GPlabel gpf-label fr-label",e.htmlFor=this._addUID("GPimportServiceUrl"),e.innerHTML="URL du service",e.title="URL du service",e},_createServiceUrlInput:function(){var e=document.createElement("input");return e.type="text",e.id=this._addUID("GPimportServiceUrl"),e.className="GPinput gpf-input fr-input",e},_createImportSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPimportSubmit"),e.className="GPsubmit gpf-btn fr-btn fr-btn--secondary",e.type="submit",e.value="Importer",e},_createImportGetCapPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportGetCapPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createImportGetCapPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title",n.innerHTML="Couches accessibles",n.title="Couches accessibles",t.appendChild(n);var i=document.createElement("button");return i.className="GPpanelClose GPimportGetCapPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",i.title="Fermer le panneau",i.id=this._addUID("GPimportGetCapPanelClose"),i.addEventListener?i.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click(),document.getElementById(e._addUID("GPimportGetCapPanel")).style.display="none",e._onGetCapPanelClose()})):i.attachEvent&&i.attachEvent("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click(),document.getElementById(e._addUID("GPimportGetCapPanel")).style.display="none",e._onGetCapPanelClose()})),t.appendChild(i),t},_createImportGetCapResultsContainer:function(){var e=document.createElement("div");return e.className="GPimportGetCapRoot gpf-panel__list",e.id=this._addUID("GPimportGetCapResults"),e},_addImportGetCapResultListRubrique:function(e,t){var n=document.createElement("ul");return n.className="GPimportGetCapListRubrique",n.title=e,t.appendChild(n),t},_addImportGetCapResultRubrique:function(e,t){var n=document.createElement("li");n.className="GPimportGetCapRubrique gpf-panel__items";var i=document.createElement("input");i.id="GPimportGetCapRubrique-"+yu.generate(),i.className="GPimportGetCapRubrique",i.type="checkbox",n.appendChild(i);var o=document.createElement("label");return o.className="GPimportGetCapRubriqueTitle gpf-label fr-btn fr-btn--secondary",o.htmlFor=i.id,o.innerHTML=e,o.title=e,n.appendChild(o),t.appendChild(n),t},_addImportGetCapResultListLayer:function(e){var t=document.createElement("ul");return t.className="GPimportGetCapListLayer",e.appendChild(t),e},_addImportGetCapResultLayer:function(e,t,n){var i=document.createElement("li");i.className="GPimportGetCapProposal gpf-panel__items",i.innerHTML=e.content,i.title=e.title,i.id="GPimportGetCapProposal_"+t;var o=this;return i.addEventListener?i.addEventListener("click",(function(e){o._onGetCapResponseLayerClick(e)})):i.attachEvent&&i.attachEvent("onclick",(function(){o._onGetCapResponseLayerClick()})),n.appendChild(i),n},_createImportMapBoxPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportMapBoxPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createImportMapBoxPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("button");n.id=this._addUID("GPimportMapBoxPanelReturnPicto"),n.title="Masquer le panneau",n.className="GPreturnPicto GPimportMapBoxPanelReturnPicto gpf-btn gpf-btn-icon-return fr-btn fr-btn--secondary",n.addEventListener?n.addEventListener("click",(function(t){document.getElementById(e._addUID("GPshowImportPicto")).click(),e._onMapBoxReturnPictoClick(t)})):n.attachEvent&&n.attachEvent("onclick",(function(t){document.getElementById(e._addUID("GPshowImportPicto")).click(),e._onMapBoxReturnPictoClick(t)})),t.appendChild(n);var i=document.createElement("div");i.className="GPpanelTitle gpf-panel__title fr-modal__title",i.innerHTML="Edition des styles",i.title="Edition des styles",t.appendChild(i);var o=document.createElement("button");return o.className="GPpanelClose GPimportMapBoxPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",o.title="Fermer le panneau",o.id=this._addUID("GPimportMapBoxPanelClose"),o.addEventListener?o.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click(),document.getElementById(e._addUID("GPimportMapBoxPanel")).style.display="none",e._onMapBoxPanelClose()})):o.attachEvent&&o.attachEvent("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click(),document.getElementById(e._addUID("GPimportMapBoxPanel")).style.display="none",e._onMapBoxPanelClose()})),t.appendChild(o),t},_createImportMapBoxResultsContainer:function(){var e=document.createElement("div");return e.className="GPimportMapBoxpRoot",e.id=this._addUID("GPimportMapBoxResults"),e}};const CC=vC;var bC={_toolboxId:"GPtoolbox-measure-main",_buttonId:"GPtoolbox-measure-button",_widgetId:"GPtoolbox-measure-widget",getToolBoxID:function(e){return e?this._toolboxId+"-"+e:this._toolboxId},getButtonID:function(e){return e?this._buttonId+"-"+e:this._buttonId},getWidgetID:function(e){return e?this._widgetId+"-"+e:this._widgetId},_createToolBoxContainerElement:function(e){var t=document.createElement("div");t.id=this.getToolBoxID(e),t.className="GPshowAdvancedToolPicto";var n=document.createElement("button");n.id=this.getButtonID(e),n.className="GPshowOpen GPshowAdvancedToolPicto GPshowToolBoxPicto gpf-btn gpf-btn-icon-toolbox fr-btn",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!1);var i=this;n.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),this.blur();var o=document.getElementById(i.getWidgetID(e));"block"===o.style.display?o.style.display="none":o.style.display="block"})),t.appendChild(n);var o=document.createElement("div");return o.id=this.getWidgetID(e),o.addEventListener("click",(function(){}),!1),t.appendChild(o),t}};const IC=bC;var _C=yt.getLogger("toolbox"),wC={_toolbox:{},add:function(e,t){if(_C.trace("ToolBox.add()",t),e){var n="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;n&&(this._toolbox=n.gpShareMeasureToolBox||{});var i=e.getTargetElement(),o=i.ownerDocument,r=i.id;this._toolbox&&0!==Object.keys(this._toolbox).length?this._toolbox[r]||(this._toolbox[r]=yu.generate()):(this._toolbox={},this._toolbox[r]=yu.generate());var a=this._toolbox[r];if(!o.getElementById(this.getToolBoxID(a))){_C.trace("create toolbox !");var s=this._createToolBoxContainerElement(a);s.style.pointerEvents="auto",i.getElementsByClassName("ol-overlaycontainer-stopevent")[0].appendChild(s)}var l=o.getElementById(this.getWidgetID(a));t.setTarget(l),n&&(n.gpShareMeasureToolBox=this._toolbox),_C.trace("add control to toolbox !")}else _C.trace("map doesn't exist !?")}};nn.assign(wC,IC);const EC=wC;var SC=yt.getLogger("measures"),PC={DEFAULT_POINTER_STYLE:new St.Circle({radius:5,stroke:new St.Stroke({color:"#002A50",width:2}),fill:new St.Fill({color:"rgba(255, 155, 0, 0.7)"})}),DEFAULT_DRAW_START_STYLE:new St.Style({fill:new St.Fill({color:"rgba(0, 183, 152, 0.2)"}),stroke:new St.Stroke({color:"#002A50",lineDash:[10,10],width:2})}),DEFAULT_DRAW_FINISH_STYLE:new St.Style({fill:new St.Fill({color:"rgba(0, 183, 152, 0.3)"}),stroke:new St.Stroke({color:"#002A50",width:3})}),tools:{MeasureLength:[],MeasureArea:[],MeasureAzimuth:[]},measureDraw:null,measureSource:null,measureVector:null,sketch:null,measureTooltipElement:null,measureTooltip:null,helpTooltipElement:null,helpTooltip:null,clean:function(){var e=this.CLASSNAME;SC.trace("["+e+"] deactived tool !"),this.clearMeasure(),this.clearMeasureToolTip(),this.removeMeasureEvents(),this._pictoContainer.setAttribute("aria-pressed",!1)},onPointerMoveHandler:function(e){if(!e.dragging){var t=e.coordinate;if(this.sketch){var n,i=this.sketch.getGeometry();if(n=this.format(i),"LineString"===i.getType())t=i.getLastCoordinate();else{if("Polygon"!==i.getType())return;t=i.getInteriorPoint().getCoordinates()}this.measureTooltipElement.innerHTML=n,this.measureTooltip.setPosition(t)}}},onShowMeasureClick:function(e,t){var n=this.getMap(),i=n.getTargetElement().id,o="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;o&&(this.tools=o.gpShareMeasures||{});var r=this.CLASSNAME;for(var a in this.tools)if(this.tools.hasOwnProperty(a))for(var s=this.tools[a],l=0;l<s.length;l++){var c=s[l];c&&c.active&&a!==r&&c.map===i&&(c.active=!1,null!==c.instance&&c.instance.clean())}if($p.unset(n,{current:"Measures"}),"true"===this._pictoContainer.ariaPressed){this.addMeasureEvents(),this.initMeasureInteraction(),this.addMeasureInteraction(t);for(var u=0;u<this.tools[r].length;u++)this.tools[r][u].map===i&&(this.tools[r][u].active=!0)}else{this.clearMeasure(),this.clearMeasureToolTip(),this.removeMeasureEvents();for(var d=0;d<this.tools[r].length;d++)this.tools[r][d].map===i&&(this.tools[r][d].active=!1)}},clearMeasureToolTip:function(){var e=this.getMap();if(e)for(var t=e.getTargetElement().getElementsByClassName("ol-overlaycontainer"),n=0;n<t.length;n++){for(var i=t[n],o=i.children.length,r=[],a=0;a<o;a++){var s=i.children[a];if(0!==s.children.length){var l=s.children[0];"GPmeasureTooltip GPmeasureTooltip-static"!==l.className&&"GPmeasureTooltip GPmeasureTooltip-measure"!==l.className||r.push(s)}}for(var c=0;c<r.length;c++)i.removeChild(r[c])}},clearMeasure:function(){var e=this.getMap();this.measureVector&&(e.removeLayer(this.measureVector),this.measureVector=null),this.measureDraw&&(e.removeInteraction(this.measureDraw),this.measureDraw=null)},createMeasureTooltip:function(e){this.measureTooltipElement&&this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="GPmeasureTooltip GPmeasureTooltip-measure",this.measureTooltip=new(n())({element:this.measureTooltipElement,stopEvent:!1,offset:[0,-15],positioning:"bottom-center"}),e.addOverlay(this.measureTooltip)},createHelpTooltip:function(e){this.helpTooltipElement&&this.helpTooltipElement.parentNode.removeChild(this.helpTooltipElement),this.helpTooltipElement=document.createElement("div"),this.helpTooltipElement.className="tooltip hidden",this.helpTooltip=new(n())({element:this.helpTooltipElement,stopEvent:!1,offset:[15,0],positioning:"center-left"}),e.addOverlay(this.helpTooltip)},createStylingMeasureInteraction:function(e){this.options.styles=e||{},SC.trace("style start",this.options.styles.start);var t={image:PC.DEFAULT_POINTER_STYLE,fill:PC.DEFAULT_DRAW_START_STYLE.getFill(),stroke:PC.DEFAULT_DRAW_START_STYLE.getStroke()};this.options.styles.hasOwnProperty("pointer")&&this.options.styles.pointer instanceof Image&&(t.image=this.options.styles.pointer),this.options.styles.hasOwnProperty("start")&&this.options.styles.start instanceof St.Style&&(null!=this.options.styles.start.getFill()&&(t.fill=this.options.styles.start.getFill()),null!=this.options.styles.start.getStroke()&&(t.stroke=this.options.styles.start.getStroke())),this.options.styles.start=new St.Style(t),SC.trace("style finish",this.options.styles.finish);var n={fill:PC.DEFAULT_DRAW_FINISH_STYLE.getFill(),stroke:PC.DEFAULT_DRAW_FINISH_STYLE.getStroke()};this.options.styles.hasOwnProperty("finish")&&this.options.styles.finish instanceof St.Style&&(null!=this.options.styles.finish.getFill()&&(n.fill=this.options.styles.finish.getFill()),null!=this.options.styles.finish.getStroke()&&(n.stroke=this.options.styles.finish.getStroke())),this.options.styles.finish=new St.Style(n)},addMeasureInteraction:function(e){var t=this.getMap(),n=this;this.measureDraw=new h.Draw({source:this.measureSource,condition:function(e){return!e.originalEvent.ctrlKey||(n.sketch&&this.removeLastPoint(),!1)},type:e,style:this.options.styles.start||PC.DEFAULT_DRAW_START_STYLE}),this.measureDraw.setProperties({name:"Measures",source:this}),t.addInteraction(this.measureDraw),this.createMeasureTooltip(t),this.measureDraw.on("drawstart",(function(e){n.sketch=e.feature})),this.measureDraw.on("drawend",(function(){if(n.sketch){var e,i,o=n.sketch.getGeometry();if(e=n.format(o),"LineString"===o.getType())i=o.getLastCoordinate();else{if("Polygon"!==o.getType())return;i=o.getInteriorPoint().getCoordinates()}n.measureTooltipElement.innerHTML=e,n.measureTooltip.setPosition(i)}n.measureTooltipElement.className="GPmeasureTooltip GPmeasureTooltip-static",n.measureTooltip.setOffset([0,-7]),n.sketch=null,n.measureTooltipElement=null,n.createMeasureTooltip(t)}))},initMeasureInteraction:function(){var e=this,t=this.getMap();this.measureSource=new(a()),this.measureVector=new(rr())({source:this.measureSource,style:this.options.styles.finish||PC.DEFAULT_DRAW_FINISH_STYLE}),this.measureVector.gpResultLayerId="measure",t.addLayer(this.measureVector),t.getControls().forEach((function(t){if(t instanceof Np){var n=e.measureVector.gpLayerId;t._layers[n].title===n&&t.addLayer(e.measureVector,{title:e.options.layerDescription.title,description:e.options.layerDescription.description})}}))}};const MC=PC;var xC={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPelevationPath"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowElevationPathPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowElevationPathPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn gpf-btn-icon gpf-btn-icon-elevation fr-btn",t.title="Calculer un profil",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowElevationPathClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowElevationPathClick(t)})),t},_createElevationPathPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPelevationPathPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createElevationPathPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createElevationPathPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("button");n.id=this._addUID("GPelevationPathPanelInfo"),n.className="GPpanelInfo gpf-btn gpf-btn-icon-info fr-btn fr-btn--secondary fr-m-1w",n.title="Informations",n.addEventListener?n.addEventListener("click",(function(){e.onOpenElevationPathInfoClick()})):n.attachEvent&&n.attachEvent("onclick",(function(){e.onOpenElevationPathInfoClick()})),t.appendChild(n);var i=document.createElement("div");i.className="GPpanelTitle gpf-panel__title fr-modal__title fr-pt-4w",i.innerHTML="Profil AltimÃ©trique",t.appendChild(i);var o=document.createElement("button");o.id=this._addUID("GPelevationPathPanelReduce"),o.className="GPpanelReduce gpf-btn gpf-btn-icon-reduce fr-btn fr-btn--secondary",o.title="Masquer le panneau",o.addEventListener?o.addEventListener("click",(function(t){"function"==typeof e.onReduceElevationPathPanelClick&&e.onReduceElevationPathPanelClick()}),!1):o.attachEvent&&o.attachEvent("onclick",(function(t){"function"==typeof e.onReduceElevationPathPanelClick&&e.onReduceElevationPathPanelClick()})),t.appendChild(o);var r=document.createElement("button");r.id=this._addUID("GPelevationPathPanelClose"),r.className="GPpanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",r.title="Fermer le panneau",r.addEventListener?r.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowElevationPathPicto")).click()}),!1):r.attachEvent&&r.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowElevationPathPicto")).click()}));var a=document.createElement("span");return a.className="GPelementHidden gpf-visible",a.innerText="Fermer",r.appendChild(a),t.appendChild(r),t},_createElevationPathPanelProfilElement:function(){var e=document.createElement("div");return e.id="GPelevationPathProfil",e},_createElevationPathWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPelevationPathCalcWaitingContainer"),e.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var t=document.createElement("p");return t.className="GPwaitingContainerInfo gpf-waiting_info",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createElevationPathInformationsElement:function(){var e=document.createElement("div");e.id=this._addUID("GPelevationPathInformationsContainer"),e.className="GPelementHidden gpf-hidden";var t=document.createElement("p");return t.className="GPelevationPathInformations",t.innerHTML="Aucune information...",e.appendChild(t),e},_addElevationPathInformationsItem:function(e){var t=document.getElementById(this._addUID("GPelevationPathInformationsContainer"));if(t){var n=document.createElement("p");n.className="GPelevationPathInformations",n.innerHTML=e,t.appendChild(n)}return t}};const GC=xC;var kC={_getCssProperty:function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},_getTextWidth:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=(this.canvas||(this.canvas=document.createElement("canvas"))).getContext("2d");return i.font=null===n?"".concat(this._getCssProperty(t,"font-weight")," ").concat(this._getCssProperty(t,"font-size")," ").concat(this._getCssProperty(t,"font-family")):n,i.measureText(e).width},_dataZToSvgY:function(e,t,n,i){return t-(e-n)*i-.5},_dataDistToSvgX:function(e,t,n,i){return t-n+e*i},_svgXToDataDist:function(e,t,n,i){return(e+n-t)/i},_arrayBisect:function(e,t){var n;if(0===e.length)return 0;for(n=0;n<e.length;n++)if(t<e[n].dist)return n;return n-1},displayProfileByDefault:function(e,t,n,i){var o=n;if(t&&e){for(;t.firstChild;)t.removeChild(t.firstChild);var r=25,a=15,s=10,l=10,c=o.options.displayProfileOptions,u=e.points,d=JSON.parse(JSON.stringify(u));d.sort((function(e,t){return e.z-t.z}));var p=d[0].z,h=d[d.length-1].z,g=e.distance,m="m",f=document.createElement("div");f.id="profileElevationByDefault",t.appendChild(f);var y=window.getComputedStyle(t).getPropertyValue("width").replace(/px/,""),A=window.getComputedStyle(t).getPropertyValue("height").replace(/px/,""),v=A-r-s,C=y-l-a,b=17,I=this._getTextWidth(Math.round(h).toLocaleString()+",88",t,"400 10 Verdana"),_=this._getTextWidth(Math.round(g).toLocaleString()+",5",t),w=v-17-15,E=C-b-I,S=document.createElementNS("http://www.w3.org/2000/svg","svg");S.id="profileElevationByDefaultSvg",S.setAttribute("style","display: block; margin: auto; overflow: visible; position: absolute; left: 10px;"),S.setAttribute("viewBox","0 0 ".concat(y," ").concat(A)),S.setAttribute("width","100%"),S.setAttribute("height","100%");var P,M=Math.floor(w/15);P=h===p?.1:Math.pow(10,Math.ceil(Math.log((h-p)/M)/Math.log(10)))/2;var x=Math.floor(p/P)*P,G=Math.ceil(h/P)*P;G===h&&(G+=P),x=Math.round(100*x)/100,G=Math.round(100*G)/100;var k=Math.round((G-x)/P);k+1>M&&(P=Math.pow(10,Math.ceil(Math.log((h-p)/M)/Math.log(10))),x=Math.floor(p/P)*P,(G=Math.ceil(h/P)*P)===h&&(G+=P),x=Math.round(100*x)/100,G=Math.round(100*G)/100,k=Math.floor((G-x)/P)),k=Math.max(Math.round(k),1);var R=document.createElementNS("http://www.w3.org/2000/svg","g");R.setAttribute("class","profile-z-vertical");var L,O,T,D,N,U,j,B=document.createElementNS("http://www.w3.org/2000/svg","g"),F=w/k;L=h===p?w/.2:w/(G-x);for(var z=0;z<=k;z++)(O=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("class","profile-z-graduation"),O.setAttribute("font-family","Verdana"),O.setAttribute("font-size","10px"),O.setAttribute("fill","#5E5E5E"),O.textContent=(Math.round(100*(x+z*P))/100).toLocaleString(),T=w-z*F,O.setAttribute("transform","translate(".concat(b+I-8,", ").concat(T+5,")")),O.setAttribute("text-anchor","end"),R.appendChild(O),D=Math.round(T)-.5,N=document.createElementNS("http://www.w3.org/2000/svg","g"),(U=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),U.setAttribute("stroke-width","1"),0!==z?U.setAttribute("stroke-opacity","0.2"):U.setAttribute("stroke-opacity","1"),U.setAttribute("stroke","#000000"),U.setAttribute("fill","none"),U.setAttribute("d","M".concat(b+I,",").concat(D," L").concat(E+b+I,",").concat(D)),(j=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),j.setAttribute("stroke-width","1"),j.setAttribute("stroke-opacity","1"),j.setAttribute("stroke","#000000"),j.setAttribute("fill","none"),j.setAttribute("d","M".concat(b+I,",").concat(D," L").concat(b+I+5,",").concat(D)),j.setAttribute("transform","translate(-5, 0)"),N.appendChild(j),N.appendChild(U),B.appendChild(N);var V=document.createElementNS("http://www.w3.org/2000/svg","text");V.setAttribute("class","profile-z-legend"),V.setAttribute("font-family","Verdana"),V.setAttribute("font-size","11px"),V.setAttribute("fill","#5E5E5E"),V.textContent="Altitude (m)",V.setAttribute("transform","translate(".concat(9,", ").concat(Math.round(w/2),") rotate(-90)")),V.setAttribute("text-anchor","middle"),R.appendChild(V),S.appendChild(R),S.appendChild(B),g>2e3&&(g/=1e3,m="km");var q=Math.floor(E/_),W=Math.pow(10,Math.ceil(Math.log(g/q)/Math.log(10)))/2,H=g,Y=Math.floor(H/W);Y>q?(W=Math.pow(10,Math.ceil(Math.log(g/q)/Math.log(10))),Y=Math.floor(H/W)):Y<1&&(W=Math.pow(10,Math.ceil(Math.log(g/q)/Math.log(10))-1),Y=Math.floor(H/W));var Z=W*(Y=Math.max(Y,1)),J=document.createElementNS("http://www.w3.org/2000/svg","g");J.setAttribute("class","profile-x-vertical");for(var X,K,Q,$,ee,te,ne=document.createElementNS("http://www.w3.org/2000/svg","g"),ie=E/H,oe=(H-Z)*ie,re=Math.round((E-oe)/Y),ae=0;ae<=Y+1;ae++)(X=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("class","profile-x-graduation"),X.setAttribute("font-family","Verdana"),X.setAttribute("font-size","10px"),X.setAttribute("fill","#5E5E5E"),ae!==Y+1&&(X.textContent=(Math.round(100*ae*W)/100).toLocaleString()),K=b+I+ae*re,ae===Y+1&&(K=b+I+E),X.setAttribute("transform","translate(".concat(K,", ").concat(w+15+5,")")),X.setAttribute("text-anchor","middle"),J.appendChild(X),Q=K-.5,$=document.createElementNS("http://www.w3.org/2000/svg","g"),(ee=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),ee.setAttribute("stroke-width","1"),0!==ae?ee.setAttribute("stroke-opacity","0.2"):ee.setAttribute("stroke-opacity","1"),ee.setAttribute("stroke","#000000"),ee.setAttribute("fill","none"),ee.setAttribute("d","M".concat(Q,",").concat(w," L").concat(Q,",0")),(te=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),te.setAttribute("stroke-width","1"),te.setAttribute("stroke-opacity","1"),te.setAttribute("stroke","#000000"),te.setAttribute("fill","none"),te.setAttribute("d","M".concat(Q,",").concat(w," L").concat(Q,",").concat(w-5)),te.setAttribute("transform","translate(0, 5)"),$.appendChild(te),$.appendChild(ee),ne.appendChild($);var se=document.createElementNS("http://www.w3.org/2000/svg","text");se.setAttribute("class","profile-x-legend"),se.setAttribute("font-family","Verdana"),se.setAttribute("font-size","11px"),se.setAttribute("fill","#5E5E5E"),se.textContent="Distance (".concat(m,")"),se.setAttribute("transform","translate(".concat(b+I+E/2,", ").concat(w+15+17+3,")")),se.setAttribute("text-anchor","middle"),J.appendChild(se),S.appendChild(J),S.appendChild(ne);var le=document.createElementNS("http://www.w3.org/2000/svg","g"),ce=1;"km"===m&&(ce=1e3);for(var ue=this._dataDistToSvgX(u[0].dist/ce,C,E,ie),de=this._dataZToSvgY(u[0].z,w,x,L),pe="M".concat(ue,",").concat(de),he=1;he<u.length;he++)ue=this._dataDistToSvgX(u[he].dist/ce,C,E,ie),de=this._dataZToSvgY(u[he].z,w,x,L),pe+=" L".concat(ue,",").concat(de);var ge=document.createElementNS("http://www.w3.org/2000/svg","path");ge.setAttribute("cs","100,100"),ge.setAttribute("stroke-width","1"),ge.setAttribute("stroke-opacity","1"),ge.setAttribute("stroke","#0B6BA7"),ge.setAttribute("fill","none"),ge.setAttribute("d",pe),pe+=" L".concat(ue,",").concat(w),pe+=" L".concat(C-E,",").concat(w);var me=document.createElementNS("http://www.w3.org/2000/svg","path");me.setAttribute("cs","100,100"),me.setAttribute("stroke-width","1"),me.setAttribute("stroke-opacity","0"),me.setAttribute("stroke","#000000"),me.setAttribute("fill","#00B798"),me.setAttribute("fill-opacity","0.4"),me.setAttribute("d",pe),le.appendChild(ge),le.appendChild(me),S.appendChild(le);var fe=document.createElementNS("http://www.w3.org/2000/svg","g"),ye=document.createElementNS("http://www.w3.org/2000/svg","rect");ye.setAttribute("width",E),ye.setAttribute("height",w),ye.setAttribute("transform","translate(".concat(C-E,",0)")),ye.setAttribute("visibility","hidden"),ye.setAttribute("pointer-events","all");var Ae=JSON.parse(JSON.stringify(u));Ae.sort((function(e,t){return e.dist-t.dist}));var ve=document.createElementNS("http://www.w3.org/2000/svg","line");ve.setAttribute("id","focusLineX"),ve.setAttribute("class","focusLine-default"),ve.setAttribute("fill","none"),ve.setAttribute("stroke","#F90"),ve.setAttribute("stroke-width","0.5px"),ve.setAttribute("visibility","hidden");var Ce=document.createElementNS("http://www.w3.org/2000/svg","line");Ce.setAttribute("id","focusLineY"),Ce.setAttribute("class","focusLine-default"),Ce.setAttribute("fill","none"),Ce.setAttribute("stroke","#F90"),Ce.setAttribute("stroke-width","0.5px"),Ce.setAttribute("visibility","hidden");var be=document.createElementNS("http://www.w3.org/2000/svg","circle");be.setAttribute("id","focusCircle"),be.setAttribute("r",4),be.setAttribute("class","circle-default focusCircle-default"),be.setAttribute("fill","#F90"),be.setAttribute("visibility","hidden"),fe.appendChild(be),fe.appendChild(ve),fe.appendChild(Ce);var Ie=document.createElementNS("http://www.w3.org/2000/svg","text"),_e=document.createElementNS("http://www.w3.org/2000/svg","tspan"),we=document.createElementNS("http://www.w3.org/2000/svg","tspan"),Ee=document.createElementNS("http://www.w3.org/2000/svg","tspan");Ie.setAttribute("style","text-align:center; max-width:220px; font-size:10px; color:#000000; font-family:Verdana; z-index:50;"),Ie.style.pointerEvents="none",Ie.style.position="fixed",Ie.setAttribute("class","tooltipInit"),Ie.setAttribute("text-anchor","middle"),f.appendChild(Ie),_e.setAttribute("class","altiPathValue"),_e.setAttribute("x","0"),_e.setAttribute("dy","-.7em"),we.setAttribute("class","altiPathValue"),we.setAttribute("x","0"),we.setAttribute("dy","1em"),Ee.setAttribute("class","altiPathCoords"),Ee.setAttribute("x","0"),Ee.setAttribute("dy","1em"),Ie.appendChild(_e),c.currentSlope&&Ie.appendChild(we),Ie.appendChild(Ee);var Se=document.createElementNS("http://www.w3.org/2000/svg","g");fe.appendChild(Se);var Pe=document.createElementNS("http://www.w3.org/2000/svg","path");Pe.setAttribute("cs","100,100"),Pe.setAttribute("fill","#FFFFFF"),Pe.setAttribute("stroke","#CCCCCC"),Pe.setAttribute("fill-opacity","0.8"),Pe.setAttribute("stroke-width","1"),Pe.setAttribute("stroke-opacity","1");var Me=document.createElementNS("http://www.w3.org/2000/svg","path");return Me.setAttribute("cs","100,100"),Me.setAttribute("fill","#FFFFFF"),Me.setAttribute("stroke","#000000"),Me.setAttribute("fill-opacity","0"),Me.setAttribute("stroke-width","1"),Me.setAttribute("stroke-opacity","0.4"),Me.setAttribute("transform","translate(1,1)"),Se.appendChild(Me),Se.appendChild(Pe),Se.appendChild(Ie),Se.setAttribute("class","tooltipInit"),Se.style.pointerEvents="none",ye.addEventListener("pointerover",(function(){ve.setAttribute("visibility","visible"),Ce.setAttribute("visibility","visible"),be.setAttribute("visibility","visible"),i.__createProfileMarker(o,u[0]),Ie.setAttribute("class","tooltipFadeIn"),Se.setAttribute("class","tooltipFadeIn")})),ye.addEventListener("pointerout",(function(){ve.setAttribute("visibility","hidden"),Ce.setAttribute("visibility","hidden"),be.setAttribute("visibility","hidden"),i.__removeProfileMarker(o),Ie.setAttribute("class","tooltipFadeOut"),Se.setAttribute("class","tooltipFadeOut")})),ye.addEventListener("pointermove",function(e){var t=S.createSVGPoint();t.x=e.clientX,t.y=e.clientY;var n=t.matrixTransform(S.getScreenCTM().inverse()),r=this._svgXToDataDist(n.x,C,E,ie)*ce,a=Math.max(1,this._arrayBisect(Ae,r)),s=u[a-1],l=u[a],c=s;r-s.dist>l.dist-r&&(c=l);var d=this._dataDistToSvgX(c.dist/ce,C,E,ie),p=this._dataZToSvgY(c.z,w,x,L);be.setAttribute("cx",d),be.setAttribute("cy",p),ve.setAttribute("x1",d),ve.setAttribute("y1",w),ve.setAttribute("x2",d),ve.setAttribute("y2",0),Ce.setAttribute("x1",b+I),Ce.setAttribute("y1",p),Ce.setAttribute("x2",E+b+I),Ce.setAttribute("y2",p),i.__updateProfileMarker(o,c);var h="Altitude : ".concat(c.z.toLocaleString()," m"),m="Pente : ".concat(c.slope," %"),f="(lat : ".concat(c.lat.toLocaleString()," / lon : ").concat(c.lon.toLocaleString(),")");_e.innerHTML=h,we.innerHTML=m,Ee.innerHTML=f;var y,A=Math.max(this._getTextWidth(f,Ee),this._getTextWidth(h,_e));c.dist>g*ce/2?(y="M -0.5 -0.5 l -6 6 l 0 16 l -".concat(A+10," 0 l 0 -44 l ").concat(A+10," 0 l 0 16 l 6 6"),Ie.setAttribute("transform","translate(".concat(-(A/2+12),",0)"))):c.dist<=g*ce/2&&(y="M -0.5 -0.5 l 6 6 l 0 16 l ".concat(A+10," 0 l 0 -44 l -").concat(A+10," 0 l 0 16 l -6 6"),Ie.setAttribute("transform","translate(".concat(A/2+12,",0)"))),Pe.setAttribute("d",y),Me.setAttribute("d",y),Se.setAttribute("transform","translate(".concat(d,",").concat(p,")")),Se.style.transform="translate(".concat(d,"px,").concat(p,"px)")}.bind(this)),fe.appendChild(ye),S.appendChild(fe),f.appendChild(S),t}},displayProfileRaw:function(e,t,n,i){if(t){for(;t.firstChild;)t.removeChild(t.firstChild);var o=e&&e.points?e.points:{},r=document.createElement("textarea");return r.id="profilElevationResults",r.rows=10,r.cols=50,r.style.width="100%",r.innerHTML=JSON.stringify(o,void 0,4),r.addEventListener("mouseover",(function(e){i.__customRawProfileMouseOverEvent(n,e)})),t.appendChild(r),t}},displayProfileLibD3:function(e,t,n,i){var o=n;if(t&&e){for(;t.firstChild;)t.removeChild(t.firstChild);var r=e.points;if(e.distance>2e3){e.unit="km";for(var a=0;a<r.length;a++)r[a].dist/=1e3}var s=o.options.displayProfileOptions,l=20,c=20,u=30,d=40,p=window.getComputedStyle(t).getPropertyValue("width"),h=window.getComputedStyle(t).getPropertyValue("height"),g=p.replace(/px/,"")-d-c,m=h.replace(/px/,"")-l-u,f=d3.scale.linear().range([0,g]),y=d3.scale.linear().range([m,0]),A=d3.svg.axis().scale(f).orient("bottom").ticks(5),v=d3.svg.axis().scale(y).orient("left").ticks(5),C=d3.svg.line().interpolate("basis").x((function(e){return f(e.dist)})).y((function(e){return y(e.z)})),b=d3.svg.area().interpolate("basis").x((function(e){return f(e.dist)})).y0(m).y1((function(e){return y(e.z)})),I=d3.select(t).append("svg").attr("width",g+d+c).attr("height",m+l+u).append("g").attr("transform","translate("+d+","+l+")"),_=d3.extent(r,(function(e){return e.dist}));f.domain(_);var w=[0,d3.max(r,(function(e){return e.z}))];y.domain(w),I.append("path").datum(r).attr("class","area-d3").attr("d",b),I.append("g").attr("class","x axis-d3").attr("transform","translate(0,"+m+")").call(A).append("text").attr("y",-15).attr("dy",".71em").attr("x",g).text("Distance ("+e.unit+")"),I.append("g").attr("class","y axis-d3").call(v).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").text("Altitude (m)"),I.append("g").attr("class","grid-d3 vertical").attr("transform","translate(0,"+m+")").call(A.orient("bottom").tickSize(-m,0,0).tickFormat("")),I.append("g").attr("class","grid-d3 horizontal").call(v.orient("left").tickSize(-g,0,0).tickFormat("")),I.append("path").datum(r).attr("class","line-d3").attr("d",C),I.selectAll("circle").data(r).enter().append("circle").attr("cx",(function(e){return f(e.dist)})).attr("cy",(function(e){return y(e.z)})).attr("r",0).attr("class","circle-d3");var E=I.append("g").style("display","none");E.append("line").attr("id","focusLineX").attr("class","focusLine-d3"),E.append("line").attr("id","focusLineY").attr("class","focusLine-d3"),E.append("circle").attr("id","focusCircle").attr("r",4).attr("class","circle-d3 focusCircle-d3");var S=d3.select(t).append("div").attr("class","tooltip-d3").style("opacity",0),P=d3.bisector((function(e){return e.dist})).left;return I.append("rect").attr("class","overlay-d3").attr("width",g).attr("height",m).on("mouseover",(function(){E.style("display",null),i.__createProfileMarker(o,r[0])})).on("mouseout",(function(){E.style("display","none"),i.__removeProfileMarker(o),S.transition().duration(500).style("opacity",0)})).on("mousemove",(function(){var e=d3.mouse(this),t=f.invert(e[0]),n=Math.max(1,P(r,t)),a=r[n-1],l=r[n],c=t-a[0]>l[0]-t?l:a,u=f(c.dist),d=y(c.z);E.select("#focusCircle").attr("cx",u).attr("cy",d),E.select("#focusLineX").attr("x1",u).attr("y1",y(w[0])).attr("x2",u).attr("y2",y(w[1])),E.select("#focusLineY").attr("x1",f(_[0])).attr("y1",d).attr("x2",f(_[1])).attr("y2",d),i.__updateProfileMarker(o,c),S.transition().duration(200).style("opacity",.9);var p="";p+=" Altitude : "+c.z+" m",s.currentSlope&&(p+="<br/> Pente : "+c.slope+" %"),p+="<br/> (Lat : "+c.lat+"/ Lon : "+c.lon+")",S.html(p).style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")})),I}},displayProfileLibAmCharts:function(e,t,n,i){var o=n;if(t&&e){var r=e.points,a="<span class='altiPathValue'>[[title]] : [[value]]m</span><br/>";if(o.options.displayProfileOptions.currentSlope&&(a+="<span class='altiPathValue'>Pente : [[slope]] %</span><br/>"),a+="<span class='altiPathCoords'>(Lat: [[lat]] / Lon:[[lon]])</span>",AmCharts.addInitHandler((function(){})),e.distance>2e3){e.unit="km";for(var s=0;s<r.length;s++)r[s].dist/=1e3}for(var l=0;l<r.length;l++){var c=r[l].dist,u=100;c>100?u=1:c>10&&(u=10),c=Math.round(c*u)/u,r[l].dist=c}var d={type:"serial",pathToImages:"http://cdn.amcharts.com/lib/3/images/",categoryField:"dist",autoMarginOffset:0,marginRight:10,marginTop:10,startDuration:0,color:"#5E5E5E",fontSize:8,theme:"light",thousandsSeparator:"",numberFormatter:{precision:-1,decimalSeparator:",",thousandsSeparator:" "},categoryAxis:{color:"#5E5E5E",gridPosition:"start",minHorizontalGap:40,tickPosition:"start",title:"Distance ("+e.unit+")",titleColor:"#5E5E5E",labelOffset:0,startOnAxis:!0},chartCursor:{animationDuration:0,bulletsEnabled:!0,bulletSize:10,categoryBalloonEnabled:!1,cursorColor:"#F90",graphBulletAlpha:1,graphBulletSize:1,zoomable:!1},trendLines:[],graphs:[{balloonColor:"#CCCCCC",balloonText:a,bullet:"round",bulletAlpha:0,bulletBorderColor:"#FFF",bulletBorderThickness:2,bulletColor:"#F90",bulletSize:6,hidden:!1,id:"AmGraph-1",fillAlphas:.4,fillColors:"#C77A04",lineAlpha:1,lineColor:"#C77A04",lineThickness:1,title:"Altitude",valueField:"z"}],guides:[],valueAxes:[{id:"ValueAxis-1",minVerticalGap:20,title:"Altitude (m)"}],balloon:{borderColor:"#CCCCCC",borderThickness:1,fillColor:"#FFFFFF",showBullet:!0},titles:[],allLabels:[],dataProvider:r},p=AmCharts.makeChart(t,d);return p.addListener("changed",(function(e){var t=e.chart.dataProvider[e.index];i.__updateProfileMarker(o,t)})),p}}};const RC=kC;var LC;function OC(e){return OC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OC(e)}function TC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,zC(i.key),i)}}function DC(e,t,n){return t=BC(t),NC(e,UC()?Reflect.construct(t,n||[],BC(e).constructor):t.apply(e,n))}function NC(e,t){if(t&&("object"==OC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function UC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(UC=function(){return!!e})()}function jC(){return jC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=BC(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},jC.apply(null,arguments)}function BC(e){return BC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},BC(e)}function FC(e,t){return FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},FC(e,t)}function zC(e){var t=function(e,t){if("object"!=OC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=OC(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OC(t)?t:t+""}var VC,qC,WC,HC=yt.getLogger("elevationpath"),YC=(LC=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),HC.trace("ElevationPath()"),!((n=DC(this,t,[{element:(e=e||{}).element,target:e.target,render:e.render}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.CLASSNAME="ElevationPath",n._uid=yu.generate(),n._showContainer=null,n._pictoButton=null,n._panelContainer=null,n._profileContainer=null,n._waitingContainer=null,n._infoContainer=null,n._timerHdlr=null,n._drawStyleStart=null,n._drawStyleFinish=null,n._markerStyle=null,n._profile=null,n._data={},n._measureSource=null,n._measureVector=null,n._measureDraw=null,n._lastSketch=null,n._currentSketch=null,n._marker=null,n._initialize(e),n._container=n._initializeContainer(),n.element?n.element.appendChild(n._container):n.element=n._container,NC(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FC(e,t)}(t,e),n=t,i=[{key:"setMap",value:function(e){if(HC.trace("ElevationPath::setMap"),e&&(this.options.active&&(null===this._profile&&(this._panelContainer.style.display="none"),this._initMeasureInteraction(e),this._addMeasureInteraction(e)),this.options.target||this.options.position||EC.add(e,this),this.options.export)){var n=nn.assign({control:this},this.options.export);this.export=new SA(n),this.export.render();var i=this;this.export.on("export:compute",(function(e){i.dispatchEvent({type:"export:compute",content:e.content})}))}jC(BC(t.prototype),"setMap",this).call(this,e),this.options.position&&this.setPosition(this.options.position)}},{key:"getActive",value:function(){return HC.trace("ElevationPath::getActive"),this.options.active}},{key:"setActive",value:function(e){HC.trace("ElevationPath::setActive"),this.options.active=e}},{key:"getData",value:function(){return nn.assign({type:"elevationpath"},this._data)}},{key:"setData",value:function(e){this._data=e}},{key:"getContainer",value:function(){return this._container}},{key:"getLayer",value:function(){return this._measureVector}},{key:"setLayer",value:function(e){e?e instanceof rr()?(e.setStyle(this._drawStyleFinish),this._measureVector=e,this._measureSource=e.getSource()):HC.log("no valid layer given for hosting drawn features."):this._measureVector=null}},{key:"getGeoJSON",value:function(){var e=this._measureVector.getSource().getFeatures();return new qn({defaultStyle:this._drawStyleFinish}).writeFeatures(e,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}},{key:"getStyle",value:function(){return this._drawStyleFinish}},{key:"clean",value:function(e){HC.trace("ElevationPath::clean");var t=this.getMap();this._panelContainer.style.display="none",this._pictoButton.setAttribute("aria-pressed",!1),this._removeProfile(),this._removeMeasureInteraction(t,void 0!==e&&e),this.setLayer()}},{key:"init",value:function(){this._pictoButton.setAttribute("aria-pressed",!0),this._panelContainer.style.display="block",this._displayProfile(this._data),this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden"}},{key:"_initialize",value:function(e){HC.trace("ElevationPath::_initialize : ",e),this.options={target:null,render:null,active:!1,apiKey:null,export:!1,elevationOptions:{outputFormat:"json"},layerDescription:{title:"Profil altimÃ©trique",description:"Mon profil altimÃ©trique"},displayProfileOptions:{totalDistance:!0,greaterSlope:!0,meanSlope:!0,ascendingElevation:!0,descendingElevation:!0,currentSlope:!0,apply:null,target:null},stylesOptions:{profile:null,draw:null,marker:null}},nn.mergeParams(this.options,e),this.options.target=e.target||null,this.options.apiKey=e.apiKey;var n=e.displayProfileOptions||{};this.export=null;var i=n.apply;this.options.displayProfileOptions.apply="function"==typeof i?i:t.DISPLAY_PROFILE_BY_DEFAULT;var o=n.target;this.options.displayProfileOptions.target=void 0!==o?o:null;var r=e.stylesOptions||{};this.options.stylesOptions.draw=r.draw||{},this._createStylingDraw(),this.options.stylesOptions.marker=r.marker||{},this._createStylingMarker()}},{key:"_initializeContainer",value:function(){HC.trace("ElevationPath::_initializeContainer : ",this._uid);var e=this._createMainContainerElement(),t=this._pictoButton=this._createShowElevationPathPictoElement();e.appendChild(t),this.options.active&&this._pictoButton.click();var n=this._panelContainer=this._createElevationPathPanelElement(),i=this._createElevationPathPanelDivElement();n.appendChild(i);var o=this._createElevationPathPanelHeaderElement();i.appendChild(o);var r=this._profileContainer=this._createElevationPathPanelProfilElement();i.appendChild(r);var a=this._waitingContainer=this._createElevationPathWaitingElement();i.appendChild(a);var s=this._infoContainer=this._createElevationPathInformationsElement();return i.appendChild(s),null===this.options.displayProfileOptions.target&&e.appendChild(n),e}},{key:"_createStylingMarker",value:function(){HC.trace("ElevationPath::_createStylingMarker ");var e=t.DEFAULT_STYLES.MARKER;HC.trace("style marker",e),this.options.stylesOptions.marker instanceof St.Image&&(e=this.options.stylesOptions.marker),this._markerStyle=new St.Style({image:e})}},{key:"_createStylingDraw",value:function(){HC.trace("ElevationPath::_createStylingDraw");var e=this.options.stylesOptions.draw;HC.trace("style start",e.start);var t={image:MC.DEFAULT_POINTER_STYLE,stroke:MC.DEFAULT_DRAW_START_STYLE.getStroke()};e.hasOwnProperty("pointer")&&e.pointer instanceof St.Image&&(t.image=e.pointer),e.hasOwnProperty("start")&&e.start instanceof St.Stroke&&(t.stroke=e.start),this._drawStyleStart=new St.Style(t),HC.trace("style finish",e.finish);var n={stroke:MC.DEFAULT_DRAW_FINISH_STYLE.getStroke()};e.hasOwnProperty("finish")&&e.finish instanceof St.Stroke&&(n.stroke=e.finish),this._drawStyleFinish=new St.Style(n)}},{key:"_createStylingProfile",value:function(){HC.trace("ElevationPath::_createStylingProfile");var e=this.options.stylesOptions.profile;HC.trace("style profile",e);var n=t.DEFAULT_STYLES.PROFILE;Object.keys(n).forEach((function(t){if(e.hasOwnProperty(t)){var i=n[t];"object"===OC(i)&&(nn.mergeParams(i,e[t]),e[t]=i)}else e[t]=n[t]}))}},{key:"_initMeasureInteraction",value:function(e){var t=this;HC.trace("ElevationPath::_initMeasureInteraction()"),e&&(this._measureSource=new(a()),this._measureVector=new(rr())({source:this._measureSource,style:this._drawStyleFinish}),this._measureVector.gpResultLayerId="measure:profil",e.addLayer(this._measureVector),e.getControls().forEach((function(e){if(e instanceof Np){var n=t._measureVector.gpLayerId;e._layers[n].title===n&&e.addLayer(t._measureVector,{title:t.options.layerDescription.title,description:t.options.layerDescription.description})}})))}},{key:"_addMeasureInteraction",value:function(e){var t=this;HC.trace("ElevationPath::_addMeasureInteraction()"),e&&(this._measureDraw=new h.Draw({source:this._measureSource,type:"LineString",style:this._drawStyleStart,stopClick:!0}),this._measureDraw.setProperties({name:"ElevationPath",source:this}),e.addInteraction(this._measureDraw),this._measureDraw.on("drawstart",(function(e){HC.trace("drawstart",e),null!==t._marker&&(t._measureSource.removeFeature(t._marker),t._marker=null),null!==t._lastSketch&&(t._measureSource.removeFeature(t._lastSketch),t._lastSketch=null),t._currentSketch=e.feature;for(var n=t._measureSource.getFeatures(),i=0;i<n.length;i++)t._measureSource.removeFeature(n[i]);t.dispatchEvent("elevationpath:drawstart")})),this._measureDraw.on("drawend",(function(e){HC.trace("drawend",e),t.dispatchEvent("elevationpath:drawend"),t._lastSketch=t._currentSketch,void 0===t.options.elevationOptions.onSuccess&&null===t.options.displayProfileOptions.target&&(t._panelContainer.style.display="block"),t._measureDraw.setActive(!1),t._requestService()})))}},{key:"_removeMeasureInteraction",value:function(e,t){HC.trace("ElevationPath::_removeMeasureInteraction()"),e&&(t&&this._measureVector&&(e.removeLayer(this._measureVector),this._measureVector=null),this._measureDraw&&(e.removeInteraction(this._measureDraw),this._measureDraw=null))}},{key:"_getGeometry",value:function(){if(null!==this._currentSketch){for(var e=[],t=this.getMap().getView().getProjection(),n="EPSG:4326",i=this._currentSketch.getGeometry().getCoordinates(),o=0;o<i.length;o++){var r=i[o],a=r;t!==n&&(a=(0,Si.transform)(r,t,n)),e.push({lon:Math.round(1e8*a[0])/1e8,lat:Math.round(1e8*a[1])/1e8})}return e}HC.warn("Current Feature undefined !?")}},{key:"_getLength",value:function(){if(null!==this._currentSketch){for(var e=0,t=this.getMap().getView().getProjection(),n="EPSG:4326",i=this._currentSketch.getGeometry().getCoordinates(),o=0,r=i.length-1;o<r;++o){var a=(0,Si.transform)(i[o],t,n),s=(0,Si.transform)(i[o+1],t,n);a[0]=Math.round(1e8*a[0])/1e8,a[1]=Math.round(1e8*a[1])/1e8,s[0]=Math.round(1e8*s[0])/1e8,s[1]=Math.round(1e8*s[1])/1e8,e+=(0,Ny.getDistance)(a,s)}return e}HC.warn("Current Feature undefined !?")}},{key:"_getSketchCoords",value:function(){if(null!==this._currentSketch){for(var e=this.getMap().getView().getProjection(),t=[],n=this._currentSketch.getGeometry().getCoordinates(),i=0;i<n.length;i++){var o=(0,Si.transform)(n[i],e,"EPSG:4326");o[0]=Math.round(1e8*o[0])/1e8,o[1]=Math.round(1e8*o[1])/1e8,t.push(o)}return t}HC.warn("Current Feature undefined !?")}},{key:"_requestService",value:function(){HC.trace("ElevationPath::_requestService");var e=this._getGeometry();if(HC.trace("geometry",e),e){var t={};nn.mergeParams(t,this.options.elevationOptions),nn.mergeParams(t,{apiKey:t.apiKey||this.options.apiKey}),"boolean"!=typeof t.ssl&&("boolean"==typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),nn.mergeParams(t,{ssl:t.ssl});var n=this,i=!(null===this.options.elevationOptions.onFailure||"function"!=typeof this.options.elevationOptions.onFailure),o=!(null===this.options.elevationOptions.onSuccess||"function"!=typeof this.options.elevationOptions.onSuccess);if(nn.mergeParams(t,{onSuccess:function(e){HC.trace(e),e&&(n._panelContainer.style.display="block",n._data&&(n._data={}),n._data=n._computeElevationMeasure(e.elevations),n._displayProfile(n._data),n._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",n._waiting=!1,n._measureDraw.setActive(!0)),o&&n.options.elevationOptions.onSuccess.call(n,n.getData())},onFailure:function(e){n._panelContainer.style.display="none",HC.error(e.message),n._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",n._waiting=!1,n._measureDraw.setActive(!0),i&&n.options.elevationOptions.onFailure.call(n,e)}}),!t.sampling){var r,a=this._getLength();HC.trace("length",a);var s=Math.max(50,Math.floor(a)/5);r=s>200?200:Math.floor(s),this._getSketchCoords().length>100&&(r=0)}r>0&&nn.mergeParams(t,{sampling:r}),nn.mergeParams(t,{positions:e}),HC.trace("options du service",t),this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",ft.Services.getAltitude(t)}else HC.warn("missing geometry !?")}},{key:"_computeElevationMeasure",value:function(e){HC.trace("ElevationPath::_computeElevationMeasure",e);var t=e,n=this._getSketchCoords();if(n){var i=0,o=0,r=n[1];t[0].dist=0,t[0].slope=0,t[0].lat=Math.round(1e4*t[0].lat)/1e4,t[0].lon=Math.round(1e4*t[0].lon)/1e4;for(var a=0,s=0,l=0,c=0,u=0,d=0,p=[],h=1;h<t.length;h++){var g=[t[h].lon,t[h].lat],m=o+(0,Ny.getDistance)(g,n[i]),f=m-u;g[0]===r[0]&&g[1]===r[1]&&(i++,o=m,h!==t.length-1&&(r=n[i+1]));var y=t[h].z,A=t[h-1].z;y<0&&(y=0),A<0&&(A=0);var v=y-A;v<0?(a+=f,c+=v):v>0&&(s+=f,l+=v),u=m,t[h].dist=m,p.push(m),d+=v?Math.abs(Math.round(v/f*100)):0,t[h].slope=v?Math.abs(Math.round(v/f*100)):0;var C=t[h].slope;t[h].color=C>15&&C<30?"#005b4c":C>30&&C<45?"#00362d":C>45?"#00120f":"#00B798",t[h].lat=Math.round(1e4*t[h].lat)/1e4,t[h].lon=Math.round(1e4*t[h].lon)/1e4}HC.trace("List Distances",p);for(var b=t[0].z,I=t[0].z,_=t[0].slope,w=0;w<t.length;w++){var E=t[w];E.z<-100&&(E.z=0),E.z>I&&(I=E.z),E.z<b&&(b=E.z),E.slope>_&&(_=E.slope)}return{greaterSlope:_,meanSlope:Math.round(d/t.length),distancePlus:s,distanceMinus:a,ascendingElevation:l,descendingElevation:c,altMin:b.toLocaleString(),altMax:I.toLocaleString(),distance:this._getLength(),unit:"m",points:t}}}},{key:"_displayProfile",value:function(e){HC.trace("ElevationPath::_displayProfile",e),this._updateInfoContainer();var t=this.options.displayProfileOptions.target;t&&t.appendChild(this._panelContainer),t=this._profileContainer,this.options.displayProfileOptions.apply.call(this,e,t,this);var n=this.options.displayProfileOptions,i=document.getElementById("GPelevationPathPanelInfo-"+this._uid);i&&(n.totalDistance||n.greaterSlope||n.meanSlope||n.ascendingElevation||n.descendingElevation)&&(i.style.display="block"),this.dispatchEvent({type:"elevationpath:compute"})}},{key:"_updateInfoContainer",value:function(){HC.trace("ElevationPath::_updateInfoContainer");var e=this.options.displayProfileOptions.totalDistance,t=this.options.displayProfileOptions.meanSlope,n=this.options.displayProfileOptions.greaterSlope,i=this.options.displayProfileOptions.ascendingElevation,o=this.options.displayProfileOptions.descendingElevation,r=this._infoContainer;if(r.childElementCount)for(;r.firstChild;)r.removeChild(r.firstChild);e&&this._addElevationPathInformationsItem("Distance totale : "+Math.round(this._data.distance).toLocaleString()+" m"),i&&this._addElevationPathInformationsItem("DÃ©nivelÃ© positif : "+this._data.ascendingElevation.toLocaleString()+" m"),o&&this._addElevationPathInformationsItem("DÃ©nivelÃ© nÃ©gatif : "+this._data.descendingElevation.toLocaleString()+" m"),t&&this._addElevationPathInformationsItem("Pente moyenne : "+this._data.meanSlope.toLocaleString()+" %"),n&&this._addElevationPathInformationsItem("Plus forte pente : "+this._data.greaterSlope.toLocaleString()+" %")}},{key:"_removeMeasure",value:function(){if(this._lastSketch=null,this._currentSketch=null,this._measureSource){this._marker&&(this._measureSource.removeFeature(this._marker),this._marker=null);for(var e=this._measureSource.getFeatures(),t=0;t<e.length;t++)this._measureSource.removeFeature(e[t])}}},{key:"_removeProfile",value:function(){if(this._profile=null,this._profileContainer)for(;this._profileContainer.firstChild;)this._profileContainer.removeChild(this._profileContainer.firstChild)}},{key:"onShowElevationPathClick",value:function(e){var t=this.getMap();$p.unset(t,{current:"ElevationPath"}),"true"===this._pictoButton.ariaPressed?(null===this._profile&&(this._panelContainer.style.display="none"),this._initMeasureInteraction(t),this._addMeasureInteraction(t)):(this._panelContainer.style.display="none",e&&e.target.dataset&&e.target.dataset.removeMeasure?"true"===e.target.dataset.removeMeasure?this._removeMeasure():(this._lastSketch=null,this._currentSketch=null):this._removeMeasure(),this._removeProfile(),e&&e.target.dataset&&e.target.dataset.removeLayer?this._removeMeasureInteraction(t,"true"===e.target.dataset.removeLayer):this._removeMeasureInteraction(t,!0))}},{key:"onOpenElevationPathInfoClick",value:function(){var e=this._infoContainer;"GPelementVisible gpf-visible"===e.className?(clearTimeout(this._timerHdlr),e.className="GPelementHidden gpf-hidden"):e.className="GPelevationPathInformationsContainerVisible",this._timerHdlr=setTimeout((function(){e.className="GPelementHidden gpf-hidden"}),4e3)}}],o=[{key:"__removeProfileMarker",value:function(e){var t=e;t._marker&&(t._measureSource.removeFeature(t._marker),t._marker=null)}},{key:"__createProfileMarker",value:function(e,t){var n=e;n._marker&&(n._measureSource.removeFeature(n._marker),n._marker=null);var i=n.getMap().getView().getProjection(),o=(0,Si.transform)([t.lon,t.lat],"EPSG:4326",i),r=n._measureSource.getFeatures()[0].getGeometry().getClosestPoint(o),a=new Ty.Point(r);n._marker=new(kt())({geometry:a}),HC.trace(a),n._marker.setStyle(n._markerStyle),n._measureSource.addFeature(n._marker)}},{key:"__updateProfileMarker",value:function(e,n){var i=e;t.__removeProfileMarker(i),t.__createProfileMarker(i,n)}},{key:"__customRawProfileOperation",value:function(e,n){HC.log("__customRawProfileOperation");for(var i=e,o=n.points,r=i.getMap().getView().getProjection(),a=0;a<o.length;a++){var s=o[a],l=(0,Si.transform)([s.lon,s.lat],"EPSG:4326",r),c=new Ty.Point(l);i._marker=new(kt())({geometry:c}),HC.trace(c);var u=t.DEFAULT_STYLES.RESULTS,d=new St.Circle({radius:u.imageRadius,stroke:new St.Stroke({color:u.imageStrokeColor,width:u.imageStrokeWidth}),fill:new St.Fill({color:u.imageFillColor})});i._marker.setStyle(new St.Style({image:d})),i._measureSource.addFeature(i._marker)}}},{key:"__customRawProfileMouseOverEvent",value:function(e,t){HC.log("__customRawProfileMouseOverEvent",e,t)}},{key:"DISPLAY_PROFILE_LIB_AMCHARTS",value:function(e,n,i){if(HC.trace("ElevationPath.DISPLAY_PROFILE_LIB_AMCHARTS"),"undefined"!=typeof AmCharts){var o=RC.displayProfileLibAmCharts(e,n,i,t);o&&(this._profile=o)}else HC.log("Lib. AmCharts is not loaded !")}},{key:"DISPLAY_PROFILE_LIB_D3",value:function(e,n,i){if(HC.trace("ElevationPath.DISPLAY_PROFILE_LIB_D3"),"undefined"!=typeof d3){var o=RC.displayProfileLibD3(e,n,i,t);o&&(this._profile=o)}else HC.log("Lib. D3 is not loaded !")}},{key:"DISPLAY_PROFILE_RAW",value:function(e,n,i){HC.trace("ElevationPath.DISPLAY_PROFILE_RAW");var o=RC.displayProfileRaw(e,n,i,t);o&&(this._profile=o)}},{key:"DISPLAY_PROFILE_BY_DEFAULT",value:function(e,n,i){HC.trace("ElevationPath.DISPLAY_PROFILE_BY_DEFAULT");var o=RC.displayProfileByDefault(e,n,i,t);o&&(this._profile=o)}}],i&&TC(n.prototype,i),o&&TC(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(lu),VC=LC,qC="DEFAULT_STYLES",WC={MARKER:new St.Icon({src:xt.lightOrange,anchor:[.5,1],snapToPixel:!0}),RESULTS:{imageRadius:5,imageFillColor:"rgba(128, 128, 128, 0.2)",imageStrokeColor:"rgba(0, 0, 0, 0.7)",imageStrokeWidth:2}},(qC=zC(qC))in VC?Object.defineProperty(VC,qC,{value:WC,enumerable:!0,configurable:!0,writable:!0}):VC[qC]=WC,LC);Object.assign(YC.prototype,GC);const ZC=YC;var JC;function XC(e){return XC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XC(e)}function KC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ob(i.key),i)}}function QC(e,t,n){return t=nb(t),$C(e,eb()?Reflect.construct(t,n||[],nb(e).constructor):t.apply(e,n))}function $C(e,t){if(t&&("object"==XC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function eb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(eb=function(){return!!e})()}function tb(){return tb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=nb(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},tb.apply(null,arguments)}function nb(e){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nb(e)}function ib(e,t){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ib(e,t)}function ob(e){var t=function(e,t){if("object"!=XC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=XC(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XC(t)?t:t+""}window.ol&&window.ol.control&&(window.ol.control.ElevationPath=YC);var rb=yt.getLogger("layerimport"),ab=(JC=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=QC(this,t,[{element:(e=e||{}).element,target:e.target,render:e.render}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n._initialize(e),n._container=n._initContainer(e),n.element?n.element.appendChild(n._container):n.element=n._container,$C(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ib(e,t)}(t,e),function(e,t,n){return t&&KC(e.prototype,t),n&&KC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"setMap",value:function(e){if(e){var n=this;e.getLayers().on("remove",(function(e){"layerimport:MAPBOX"===e.element.gpResultLayerId&&e.element.gpEditorId&&n._mapBoxPanel&&n._importPanel&&(n.cleanMapBoxResults(e.element.gpEditorId),n._mapBoxPanel.style.display="none",n._importPanel.style.display="")}),n),this.draggable&&(yy.dragElement(this._importPanel,this._importPanelHeader,this.options.position?null:e.getTargetElement()),yy.dragElement(this._getCapPanel,this._getCapPanelHeader,e.getTargetElement()),yy.dragElement(this._mapBoxPanel,this._mapBoxPanelHeader,e.getTargetElement())),this.collapsed||this._showImportButton.setAttribute("aria-pressed",!0)}tb(nb(t.prototype),"setMap",this).call(this,e),this.options.position&&this.setPosition(this.options.position)}},{key:"getCollapsed",value:function(){return this.collapsed}},{key:"setCollapsed",value:function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?this._panelCloseButton.click():this._showImportButton.click(),this.collapsed=e):rb.error("[ERROR] LayerImport:setCollapsed - missing collapsed parameter")}},{key:"getStaticImportContent",value:function(){return this.contentStatic}},{key:"getServiceImportContent",value:function(){return this.contentService}},{key:"getName",value:function(){return this._name}},{key:"_initialize",value:function(e){if(this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,layerTypes:["KML","GPX","GeoJSON","WMS","WMTS","MAPBOX"],webServicesOptions:{},vectorStyleOptions:{KML:{extractStyles:!0,showPointNames:!0,defaultStyle:{}},GPX:{defaultStyle:{}},GeoJSON:{defaultStyle:{}},MapBox:{defaultStyle:{},editor:{}}}},e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.extractStyles&&(this.options.vectorStyleOptions.KML.extractStyles=e.vectorStyleOptions.KML.extractStyles),e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.showPointNames&&(this.options.vectorStyleOptions.KML.showPointNames=e.vectorStyleOptions.KML.showPointNames),e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.defaultStyle?this.options.vectorStyleOptions.KML.defaultStyle=e.vectorStyleOptions.KML.defaultStyle:this.options.vectorStyleOptions.KML.defaultStyle=new St.Style({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.GPX&&e.vectorStyleOptions.GPX.defaultStyle?this.options.vectorStyleOptions.GPX.defaultStyle=e.vectorStyleOptions.GPX.defaultStyle:this.options.vectorStyleOptions.GPX.defaultStyle=new St.Style({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.GeoJSON&&e.vectorStyleOptions.GeoJSON.defaultStyle?this.options.vectorStyleOptions.GeoJSON.defaultStyle=e.vectorStyleOptions.GeoJSON.defaultStyle:this.options.vectorStyleOptions.GeoJSON.defaultStyle=new St.Style({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.defaultStyle?this.options.vectorStyleOptions.MapBox.defaultStyle=e.vectorStyleOptions.MapBox.defaultStyle:this.options.vectorStyleOptions.MapBox.defaultStyle=new St.Style({image:t.DefaultStyles.image,stroke:t.DefaultStyles.stroke,fill:t.DefaultStyles.fill,text:t.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.editor?this.options.vectorStyleOptions.MapBox.editor=e.vectorStyleOptions.MapBox.editor:this.options.vectorStyleOptions.MapBox.editor={title:!0,collapse:!1,themes:!1,layers:!0,style:!0,filter:!1,legend:!0,group:!1},e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.hasOwnProperty("display")?this.options.vectorStyleOptions.MapBox.display=e.vectorStyleOptions.MapBox.display:this.options.vectorStyleOptions.MapBox.display=!0,Array.isArray(e.layerTypes)){for(var n=[],i=0;i<e.layerTypes.length;i++)n.push(e.layerTypes[i]);this.options.layerTypes=n}nn.mergeParams(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=yu.generate(),this._waiting=!1,this._timer=null,this._initImportTypes(),this._initDefaultStyles(),this._showImportButton=null,this._importPanel=null,this._panelCloseButton=null,this._importPanelHeader=null,this._formContainer=null,this._staticLocalImportInput=null,this._staticUrlImportInput=null,this._serviceUrlImportInput=null,this._getCapPanel=null,this._getCapPanelHeader=null,this._getCapResultsListContainer=null,this._mapBoxPanel=null,this._mapBoxPanelHeader=null,this._mapBoxResultsListContainer=null,this._waitingContainer=null,this._loadingContainer=null,this._getCapRequestUrl=null,this._getCapResponseWMS=null,this._getCapResponseWMSLayers=[],this._getCapResponseWMTS=null,this._getCapResponseWMTSLayers=[],this._hasMapBoxResults=!1,this.contentStatic=null,this._url=null,this._file=null,this._name=null}},{key:"_checkInputOptions",value:function(e){if(e.layerTypes){var t=e.layerTypes;if(Array.isArray(t)){for(var n=["KML","GPX","GEOJSON","WMS","WMTS","WFS","MAPBOX"],i=[],o=0;o<t.length;o++)"string"!=typeof t[o]?(i.push(o),rb.warn("[ol.control.LayerImport] 'options.layerTypes' elements should be of type string ("+t[o]+")")):(t[o]=t[o].toUpperCase(),-1===n.indexOf(t[o])&&(i.push(o),rb.log("[ol.control.LayerImport] options.layerTypes : "+t[o]+" is not a supported type")),"GEOJSON"===t[o]&&(t[o]="GeoJSON"),"MAPBOX"===t[o]&&(t[o]="MAPBOX"));if(0!==i.length)for(var r=i.length-1;r>=0;r--)t.splice(i[r],1)}else rb.warn('[ol.control.LayerImport] \'options.layerTypes\' parameter should be an array. Set default values ["KML", "GPX", "GeoJSON", "WMS", "WMTS"]'),e.layerTypes=["KML","GPX","GeoJSON","WMS","WMTS","MAPBOX"]}}},{key:"_initDefaultStyles",value:function(){var e=this.options.vectorStyleOptions.KML.defaultStyle;this._defaultKMLStyle=new St.Style({image:e.image,stroke:e.stroke,fill:e.fill,text:e.text});var t=this.options.vectorStyleOptions.GPX.defaultStyle;this._defaultGPXStyle=new St.Style({image:t.image,stroke:t.stroke,fill:t.fill,text:t.text});var n=this.options.vectorStyleOptions.GeoJSON.defaultStyle;this._defaultGeoJSONStyle=new St.Style({image:n.image,stroke:n.stroke,fill:n.fill,text:n.text});var i=this.options.vectorStyleOptions.MapBox.defaultStyle;this._defaultMapBoxStyle=new St.Style({image:i.image,stroke:i.stroke,fill:i.fill,text:i.text})}},{key:"_initImportTypes",value:function(){this._currentImportType=this.options.layerTypes[0]||"KML","KML"===this._currentImportType||"GPX"===this._currentImportType||"GeoJSON"===this._currentImportType||"MAPBOX"===this._currentImportType?this._isCurrentImportTypeStatic=!0:"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||(this._isCurrentImportTypeStatic=!1),this._currentStaticImportType="local"}},{key:"_initContainer",value:function(){var e=this._createMainContainerElement(),t=this._showImportButton=this._createShowImportPictoElement();e.appendChild(t);var n=this._importPanel=this._createImportPanelElement(),i=this._createImportPanelDivElement();n.appendChild(i);var o=this._importPanelHeader=this._createImportPanelHeaderElement(),r=this._createImportPanelTitleElement();o.appendChild(r);var a=this._panelCloseButton=this._createImportPanelCloseElement();o.appendChild(a),i.appendChild(o);var s=this._formContainer=this._initInputFormElement();i.appendChild(s);var l=this._getCapPanel=this._createImportGetCapPanelElement(),c=this._getCapPanelHeader=this._createImportGetCapPanelHeaderElement();l.appendChild(c);var u=this._getCapResultsListContainer=this._createImportGetCapResultsContainer();l.appendChild(u),i.appendChild(l);var d=this._mapBoxPanel=this._createImportMapBoxPanelElement(),p=this._mapBoxPanelHeader=this._createImportMapBoxPanelHeaderElement();d.appendChild(p);var h=this._mapBoxResultsListContainer=this._createImportMapBoxResultsContainer();d.appendChild(h);var g=this._loadingContainer=this._createLoadingElement();d.appendChild(g),i.appendChild(d);var m=this._waitingContainer=this._createImportWaitingElement();return i.appendChild(m),e.appendChild(n),e}},{key:"_initInputFormElement",value:function(){var e=this._createImportPanelFormElement(),t=this._createImportTypeLineElement(this.options.layerTypes);e.appendChild(t);var n=this._createImportStaticParamsContainer(this.options.layerTypes[0]),i=this._createStaticNameLabel();n.appendChild(i);var o=this._createStaticModeChoiceDiv(),r=this._createStaticLocalChoiceDiv();o.appendChild(r);var a=this._createStaticUrlChoiceDiv();o.appendChild(a),n.appendChild(o);var s=this._createStaticLocalInputDiv();s.appendChild(this._createStaticLocalInputLabel()),this._staticLocalImportInput=this._createStaticLocalInput(),s.appendChild(this._staticLocalImportInput),n.appendChild(s);var l=this._createStaticUrlInputDiv();l.appendChild(this._createStaticUrlInputLabel()),this._staticUrlImportInput=this._createStaticUrlInput(),l.appendChild(this._staticUrlImportInput),n.appendChild(l),e.appendChild(n);var c=this._createServiceParamsContainer(this.options.layerTypes[0]),u=this._createServiceUrlDiv();u.appendChild(this._createServiceUrlInputLabel()),this._serviceUrlImportInput=this._createServiceUrlInput(),u.appendChild(this._serviceUrlImportInput),c.appendChild(u),e.appendChild(c);var d=this._createImportSubmitFormElement();return e.appendChild(d),e}},{key:"_onShowImportClick",value:function(){var e=this.getMap();$p.unset(e);var t=this._showImportButton.ariaPressed;this.collapsed=!("true"===t),this.dispatchEvent("change:collapsed"),this._hasMapBoxResults?this._mapBoxPanel.style.display="block":(this._formContainer.style.display="block",this._importPanelHeader.style.display="")}},{key:"_onImportTypeChange",value:function(e){this._currentImportType=e.target.value,"KML"===this._currentImportType||"GPX"===this._currentImportType||"GeoJSON"===this._currentImportType||"MAPBOX"===this._currentImportType?this._isCurrentImportTypeStatic=!0:"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||(this._isCurrentImportTypeStatic=!1)}},{key:"_onStaticImportTypeChange",value:function(e){this._currentStaticImportType=e.target.value}},{key:"_onGetCapPanelClose",value:function(){"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||this.cleanGetCapResultsList()}},{key:"_onMapBoxPanelClose",value:function(){this.cleanMapBoxResultsList(),this._loadingContainer.className=""}},{key:"_onMapBoxReturnPictoClick",value:function(e){this._mapBoxPanel.style.display="none",this._loadingContainer.className=""}},{key:"_onImportSubmit",value:function(){rb.log("import d'une couche de type : "+this._currentImportType),this.contentStatic=null,this.contentService=null,this._isCurrentImportTypeStatic?this._importStaticLayer():this._importServiceLayers()}},{key:"_importStaticLayer",value:function(){var e,t=document.getElementById(this._addUID("GPimportName"));t&&(e=t.value||"",rb.log("import layer name : "+e)),"local"===this._currentStaticImportType?(rb.log("import static layer from local file"),this._importStaticLayerFromLocalFile(e)):"url"===this._currentStaticImportType&&(rb.log("import static layer from url"),this._importStaticLayerFromUrl(e))}},{key:"_importStaticLayerFromUrl",value:function(e){var t=this._staticUrlImportInput.value;if(rb.log("url : ",t),0!==t.length){t.trim&&(t=t.trim()),this._url=t,e||(e=this._url.substring(this._url.lastIndexOf("/")+1,this._url.lastIndexOf("."))),this._name=e,this.options.webServicesOptions&&this.options.webServicesOptions.proxyUrl&&(t=vt.proxifyUrl(t,this.options.webServicesOptions));var n=this;ft.Protocols.XHR.call({url:t,method:"GET",timeOut:15e3,onResponse:function(t){n._hideWaitingContainer(),n._addFeaturesFromImportStaticLayer(t,e)},onFailure:function(e){n._hideWaitingContainer(),rb.error("[ol.control.LayerImport] KML/GPX/GeoJSON/MapBox request failed : ",e)}})}else rb.error("[ol.control.LayerImport] url parameter is mandatory")}},{key:"_importStaticLayerFromLocalFile",value:function(e){var t=this._staticLocalImportInput.files[0];if(t){this._file=t,e||(e=this._file.name.substring(this._file.name.lastIndexOf("/")+1,this._file.name.lastIndexOf("."))),this._name=e;var n=new FileReader,i=this;n.onerror=function(e){i._hideWaitingContainer(),rb.error("error fileReader : ",e)},n.onprogress=function(){rb.log("onprogress")},n.onloadstart=function(){i._displayWaitingContainer(),rb.log("onloadstart")},n.onabort=function(){i._hideWaitingContainer(),rb.log("onabort")},n.onloadend=function(e){rb.log("onloadend : ",e)},n.onload=function(t){rb.log("fileReader onload - file content : ",t.target.result),i._hideWaitingContainer(),i._addFeaturesFromImportStaticLayer(t.target.result,e)},n.readAsText(t)}else rb.warn("[ol.control.LayerImport] missing file")}},{key:"_addFeaturesFromImportStaticLayer",value:function(e,t){var n=this.getMap();if(n&&e){var i=null,r=null,s=null,l=null;if(this.contentStatic=e,"MAPBOX"===this._currentImportType){this._hasMapBoxResults=!0;var c=this,u=JSON.parse(e),d=u.sources,p=Object.keys(d).length>1?1:0;for(var h in d)if(d.hasOwnProperty(h)){var g="",m="",f=null,y=null,A=null,v=null;if(u.metadata)for(var C in u.metadata)if(u.metadata.hasOwnProperty(C)){var b=C.split(":");if("geoportail"===b[0]){var I=b[1];if("title"===I){g=u.metadata[C];continue}if("description"===I){m=u.metadata[C];continue}if("quicklookUrl"===I){f=u.metadata[C];continue}if("legends"===I){y=u.metadata[C];continue}if("metadata"===I){A=u.metadata[C];continue}if("originators"===I){v=u.metadata[C];continue}}}g||(g="Couche MapBox"),m||(m="Couche MapBox"),g=p?g+"("+h+")":g;var _=d[h],w=_.type;if("vector"===w){var E=_.url,S=_.tiles,P=u.sprite;if(E&&0===E.indexOf("mapbox://")){var M=this._url;if(M){if(S=["a","b","c","d"].map((function(e){return"https://"+e+".tiles.mapbox.com/v4/"+E.replace("mapbox://","")+"/{z}/{x}/{y}.vector.pbf?"+M.split("?")[1]})),0===P.indexOf("mapbox://")){var x=M.split("?");u.sprite=x[0]+"/sprite?"+x[1]}}else rb.warn("Not yet implemented, can't use the local import scheme with a 'mapbox://' in the file.!")}if(S)s=new(eo())({featureClass:kt()}),(r=new(o())({attributions:_.attribution,format:s,urls:S}))._title=g,r._description=m,r._quicklookUrl=f,r._metadata=A,r._legends=y,r._originators=v,r.on("tileloadstart",(function(e){c._loadingContainer.className="GPmapLoadingVisible"})),r.on("tileloadend",(function(e){c._loadingContainer.className=""})),r.on("tileloaderror",(function(e){c._loadingContainer.className=""})),(i=new(Xi())({source:r,visible:!1,declutter:!0})).id=h,i.gpResultLayerId="layerimport:"+this._currentImportType;else if(E){s=new(eo())({featureClass:kt()}),(i=new(Xi())({visible:!1,declutter:!0})).id=h,i.gpResultLayerId="layerimport:"+this._currentImportType;var G=new(Qi())({url:E}),k=G.on("change",(function(){if("ready"===G.getState()){for(var e=G.getTileJSON(),t=Array.isArray(e.tiles)?e.tiles:[e.tiles],n=0;n<t.length;n++){var a=t[n];0!==a.indexOf("http")&&(t[n]=E+a)}(r=new(o())({attributions:G.getAttributions()||e.attribution,format:s,urls:t}))._title=g,r._description=m,r._quicklookUrl=f,r._metadata=A,r._legends=y,r._originators=v,r.on("tileloadstart",(function(e){c._loadingContainer.className="GPmapLoadingVisible"})),r.on("tileloadend",(function(e){c._loadingContainer.className=""})),i.setSource(r),i.set("mapbox-extension",e.vector_layers),(0,to.unByKey)(k)}}))}}else{if("geojson"!==w)return void rb.warn("Type MapBox format unknown !");var R=_.data;s=new qn,(r=new(o())({attributions:_.attribution,format:s,url:R}))._title=g,r._description=m,r._quicklookUrl=f,r._metadata=A,r._legends=y,r._originators=v,(i=new(Xi())({source:r,visible:!1,declutter:!0})).id=h,i.gpResultLayerId="layerimport:"+this._currentImportType}var L=JSON.parse(JSON.stringify(u));if(p){for(var O=L.layers,T=0;T<O.length;T++){O[T].source===h||O.splice(T,1)}for(var D in L.sources)L.sources.hasOwnProperty(D)&&D!==h&&delete L.sources[D]}!function(e){var t=function(){Lc(e.layer,e.styles,e.id).then((function(){e.layer.setVisible(!0);e.layer.setOpacity(1)})).then((function(){var t=n.getView().getProjection().getCode();n.getView()&&e.styles.center&&e.styles.center.length&&n.getView().setCenter((0,Si.transform)(e.styles.center,"EPSG:4326",t)),n.getView()&&(e.styles.zoom||0===e.styles.zoom)&&n.getView().setZoom(e.styles.zoom);var i=e.layer.getSource();if(n.getView()&&n.getSize()&&i.getExtent){var o=i.getExtent();o&&o[0]!==1/0&&n.getView().fit(i.getExtent(),n.getSize())}})).then((function(){c._formContainer.style.display="none",c._importPanelHeader.style.display="none";var t=new AC({target:c._mapBoxResultsListContainer,style:JSON.parse(JSON.stringify(e.styles)),scope:this,events:{"editor:onloaded":c._onLoadedMapBox,"editor:layer:onclickvisibility":c._onChangeVisibilitySourceMapBox,"editor:style:scale:onchangemin":c._onChangeScaleMinSourceMapBox,"editor:style:scale:onchangemax":c._onChangeScaleMaxSourceMapBox,"editor:legend:onchangevalue":c._onChangeLegendValueSourceMapBox,"editor:legend:onclickedition":c._onDisplayLayerSourceMapBox},tools:c.options.vectorStyleOptions.MapBox.editor});return t.setContext("map",n),t.setContext("layer",e.layer),t.createElement().then((function(){if(0===t.getLayers().length)throw new Error("Il n'existe pas de styles pour la source demandÃ©e !?")})).then((function(){c.options.vectorStyleOptions.MapBox.display&&(c._mapBoxPanel.style.display="block")})).then((function(){for(var e=c._mapBoxResultsListContainer.getElementsByClassName("GPEditorMapBoxLayerTitleLabel"),t=0;t<e.length;t++){var n=e[t];"bckgrd"===n.textContent&&(n.textContent="Couleur de remplissage")}})).then((function(){e.layer.set("mapbox-editor",t.getID()),setTimeout((function(){n.dispatchEvent({id:t.getID(),type:"editor:loaded",style:e.styles,layer:e.layer})}),100)})).catch((function(e){throw e}))})).then((function(){n.dispatchEvent({id:e.id,type:"render:success",style:e.styles})})).catch((function(t){rb.error(t),n.dispatchEvent({id:e.id,type:"render:failure",error:t})}))};rb.warn(e.layer);var i=n.get("mapbox-styles")||{};i[e.id]=e.styles,n.set("mapbox-styles",i),e.layer.set("mapbox-styles",e.styles),n.addLayer(e.layer),e.layer.getSource()?t():e.layer.once("change:source",t),n.getControls().forEach((function(t){t instanceof Np&&t.addLayer(e.layer,e.options)}))}({id:h,styles:L,layer:i,options:{title:t||g,description:m,quicklookUrl:f,metadata:A,legends:y,originators:v}})}}else{"KML"===this._currentImportType?(l=this.options.vectorStyleOptions.KML.defaultStyle,s=new mn({showPointNames:this.options.vectorStyleOptions.KML.showPointNames,extractStyles:this.options.vectorStyleOptions.KML.extractStyles,defaultStyle:[l]})):"GPX"===this._currentImportType?(l=this.options.vectorStyleOptions.GPX.defaultStyle,s=new Rn({defaultStyle:l})):"GeoJSON"===this._currentImportType&&(l=this.options.vectorStyleOptions.GeoJSON.defaultStyle,s=new qn({defaultStyle:l}));var N,U=s.readProjection(e),j=this._getMapProjectionCode();N=s.readFeatures(e,{dataProjection:U,featureProjection:j}),rb.log("loaded features : ",N),(r=new(a())({features:new(Oy())})).addFeatures(N),rb.trace(r),r._title=r._description=t,(i=new(rr())({source:r,style:l})).gpResultLayerId="layerimport:"+this._currentImportType;var B=s.readRootExtensions("geoportail:compute");if(B&&0!==Object.keys(B).length){var F={route:{class:FA,name:"itineraire"},isocurve:{class:tv,name:"isocurve"},elevationpath:{class:ZC,name:"profil altimetrique"}},z=B.type,V=B.transport;if(z){var q=F[z].name,W=V?q+" ("+V+")":q,H=F[z].class;if(H){i.gpResultLayerId="layerimport:COMPUTE",i.set("control",z),i.set("name",q),i.set("graph",V),i.set("data",B),i.set("title",W);var Y=new qn({defaultStyle:l}).writeFeatures(N,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});i.set("geojson",Y),this.getMap().getControls().forEach((function(e){e instanceof H&&(e.setData(B),e.setLayer(i),e.init())}))}}}if(n.addLayer(i),n.getView()&&n.getSize()&&r.getExtent){var Z=r.getExtent();Z&&Z[0]!==1/0&&n.getView().fit(r.getExtent(),n.getSize())}}}}},{key:"_addFeaturesFromImportStaticLayerUrl",value:function(e,t){var n,i,o,r=this.getMap();if(r&&e&&("MAPBOX"===this._currentImportType?rb.trace("Not yet implemented !"):("KML"===this._currentImportType?o=new mn({showPointNames:!0,extractStyles:this.options.vectorStyleOptions.KML.extractStyles,defaultStyle:[this.options.vectorStyleOptions.KML.defaultStyle]}):"GPX"===this._currentImportType?o=new Rn({defaultStyle:this.options.vectorStyleOptions.GPX.defaultStyle}):"GeoJSON"===this._currentImportType&&(o=new qn({defaultStyle:this.options.vectorStyleOptions.GeoJSON.defaultStyle})),n=new(a())({url:e,format:o}),"GPX"===this._currentImportType&&n.forEachFeature((function(e){null==e.getStyle()&&(rb.log("[ol.control.LayerImport] set default style for GPX feature"),e.setStyle(this.options.vectorStyleOptions.GPX.defaultStyle))})),"GeoJSON"===this._currentImportType&&n.forEachFeature((function(e){null==e.getStyle()&&(rb.log("[ol.control.LayerImport] set default style for GeoJSON feature"),e.setStyle(this.options.vectorStyleOptions.GeoJSON.defaultStyle))})),n._title=n._description=t,i=new(rr())({source:n})),i.gpResultLayerId="layerimport:"+this._currentImportType,r.addLayer(i),r.getView()&&r.getSize()&&n.getExtent)){var s=n.getExtent();s&&s[0]!==1/0&&r.getView().fit(n.getExtent(),r.getSize())}}},{key:"_onLoadedMapBox",value:function(e){var t=e.target.data.obj,n=this.getContext("layer");n.get("mapbox-source")===t.source&&(n.get("mapbox-editor"),e.target.editorID)}},{key:"_onChangeVisibilitySourceMapBox",value:function(e){var t=e.target.data.obj,n=e.target.srcElement,i=this.getContext("layer");if(i.get("mapbox-source")===t.source&&i.get("mapbox-editor")===e.target.editorID){for(var o=i.get("mapbox-styles"),r=o.layers,a=0;a<r.length;a++)if(r[a].id===t.id){var s=r[a].layout;s?s.visibility=n.checked?"visible":"none":r[a].layout={visibility:n.checked?"visible":"none"};break}Lc(i,o,t.source).then((function(){})).catch((function(e){rb.error(e)}))}}},{key:"_onChangeScaleMinSourceMapBox",value:function(e){var t=e.target.data.obj,n=e.target.srcElement,i=this.getContext("layer");if(i.get("mapbox-source")===t.source&&i.get("mapbox-editor")===e.target.editorID){for(var o=i.get("mapbox-styles"),r=o.layers,a=0;a<r.length;a++)if(r[a].id===t.id){r[a].minzoom=n.value,n.title=n.value;break}Lc(i,o,t.source).then((function(){})).catch((function(e){rb.error(e)}))}}},{key:"_onChangeScaleMaxSourceMapBox",value:function(e){var t=e.target.data.obj,n=e.target.srcElement,i=this.getContext("layer");if(i.get("mapbox-source")===t.source&&i.get("mapbox-editor")===e.target.editorID){for(var o=i.get("mapbox-styles"),r=o.layers,a=0;a<r.length;a++)if(r[a].id===t.id){r[a].maxzoom=n.value,n.title=n.value;break}Lc(i,o,t.source).then((function(){})).catch((function(e){rb.error(e)}))}}},{key:"_onChangeLegendValueSourceMapBox",value:function(e){var t=e.target.data.obj,n=e.target.srcElement,i=this.getContext("layer");if(i.get("mapbox-source")===t.source&&i.get("mapbox-editor")===e.target.editorID){for(var o=i.get("mapbox-styles"),r=o.layers,a=0;a<r.length;a++)if(r[a].id===t.id){var s=r[a].paint;s&&(s[n.dataset.id]=n.value);break}Lc(i,o,t.source).then((function(){})).catch((function(e){rb.error(e)}))}}},{key:"_onDisplayLayerSourceMapBox",value:function(e){var t=e.target.data.obj,n=this.getContext("layer");if(n.get("mapbox-source")===t.source&&n.get("mapbox-editor")===e.target.editorID){var i=e.target.currentTarget.parentNode.id,o=i.substring(i.indexOf("-")+1,i.indexOf("_"));this.getLayer(o).collapse()}}},{key:"_importServiceLayers",value:function(){if("WFS"!==this._currentImportType){this.cleanGetCapResultsList();var e=this._getCapRequestUrl=this._serviceUrlImportInput.value;if(e){rb.log("url : ",e),e.trim&&(e=e.trim());var t=e.indexOf("?");t<0?e+="?SERVICE="+this._currentImportType+"&REQUEST=GetCapabilities":t===e.length-1&&(e+="SERVICE="+this._currentImportType+"&REQUEST=GetCapabilities"),this.options.webServicesOptions&&this.options.webServicesOptions.proxyUrl&&(e=vt.proxifyUrl(e,this.options.webServicesOptions)),this._displayWaitingContainer();var n=this;ft.Protocols.XHR.call({url:e,method:"GET",timeOut:15e3,onResponse:function(e){n._hideWaitingContainer(),n._displayGetCapResponseLayers(e)},onFailure:function(e){n._hideWaitingContainer(),rb.error("[ol.control.LayerImport] getCapabilities request failed : ",e)}})}else rb.error("[ol.control.LayerImport] url parameter is mandatory")}else rb.warn("[ol.control.LayerImport] WFS layer import is not implemented yet")}},{key:"_displayGetCapResponseLayers",value:function(e){var t,n,i,o={content:null,title:null};if(this._getCapResponseWMSLayers=[],this.contentService=e,this._importPanel.style.display="none",this._getCapPanel.style.display="block","WMS"===this._currentImportType){t=new(Av());var r=this._getCapResponseWMS=t.read(e);if(rb.log("getCapabilities response : ",r),r&&r.Capability&&r.Capability.Layer){var a=r.Capability.Layer;if(Array.isArray(a))for(var s=0;s<a.length;s++)this._displayGetCapResponseWMSLayer(a[s]);else this._displayGetCapResponseWMSLayer(a)}}else if("WMTS"===this._currentImportType){t=new(Cv());var l=this._getCapResponseWMTS=t.read(e);if(rb.log("getCapabilities response : ",l),l&&l.Contents&&l.Contents.Layer&&(n=l.Contents.Layer,Array.isArray(n))){this._getCapResponseWMTSLayers=n;for(var c=0;c<n.length;c++)if((i=this._getWMTSLayerProjection(n[c],l))&&"string"==typeof i){if(!(0,Si.get)(i)&&!(0,Si.get)(i.toUpperCase())){rb.warn("[ol.control.LayerImport] wmts layer cannot be added to map : unknown projection",n[c]);continue}o={content:n[c].Title,title:n[c].Abstract||n[c].Title},this._getCapResultsListContainer&&this._addImportGetCapResultLayer(o,c,this._getCapResultsListContainer)}}}}},{key:"_displayGetCapResponseWMSLayer",value:function(e,t){if(e){rb.log("[ol.control.LayerImport] _displayGetCapResponseWMSLayer - layerObj : ",e);var n,i=this._getMapProjectionCode(),o={content:null,title:null};if(t){var r,a,s=["CRS","Style"];for(a=0;a<s.length;a++)if(r=s[a],Array.isArray(t[r])&&0!==t[r].length)if(Array.isArray(e[r])&&0!==e[r].length)for(var l=0;l<t[r].length;l++)-1===e[r].indexOf(t[r][l])&&e[r].push(t[r][l]);else e[r]=t[r];var c=["BoundingBox","EX_GeographicBoundingBox","MaxScaleDenominator","MinScaleDenominator","Attribution","Dimension","queryable","cascaded","opaque","noSubsets","fixedWidth","fixedHeight"];for(a=0;a<c.length;a++)t[r=c[a]]&&!e[r]&&(e[r]=t[r])}else e._isRootLayer=!0,e._container=this._getCapResultsListContainer,e.Title||(e.Title="Liste des couches");if(e.Layer){if(Array.isArray(e.Layer)){var u=e?e._container:t._container,d=e?e.Title:t.Title;e._container=this._addImportGetCapResultListRubrique(d,u).lastChild;for(var p=0;p<e.Layer.length;p++){for(var h=!1,g=e._container.getElementsByClassName("GPimportGetCapRubriqueTitle"),m=0;m<g.length;m++)g[m].title===e.Title&&(h=!0,e.Layer[p]._container=g[m].parentElement);h||(e.Layer[p]._container=this._addImportGetCapResultRubrique(e.Title,e._container).lastChild),this._displayGetCapResponseWMSLayer(e.Layer[p],e)}}}else{var f=this._getCapResponseWMSLayers.length;if(n=this._getWMSLayerProjection(e,i)){e._projection=n,o={content:e.Title,title:e.Abstract||e.Title};var y=e._container;"ul"===y.localName&&(y=y.lastChild),this._addImportGetCapResultLayer(o,f,y),this._getCapResponseWMSLayers[f]=e}else rb.warn("[ol.control.LayerImport] wms layer cannot be added to map : unknown projection",e)}}else rb.warn("[ol.control.LayerImport] _displayGetCapResponseWMSLayer : getCapabilities layer object not found")}},{key:"_onGetCapResponseLayerClick",value:function(e){if(e.target&&e.target.id){var t,n=parseInt(e.target.id.substr(23),10);if(isNaN(n))return;"WMS"===this._currentImportType?(t=this._getCapResponseWMSLayers[n],this._addGetCapWMSLayer(t)):"WMTS"===this._currentImportType&&(t=this._getCapResponseWMTSLayers[n],this._addGetCapWMTSLayer(t))}}},{key:"_addGetCapWMSLayer",value:function(e){var t=this.getMap();if(t)if(e){var n=this._getMapProjectionCode(),i={},o=this._getWMSLayerGetMapUrl();if(o)i.url=o;else{var r=this._getCapRequestUrl.indexOf("?");i.url=-1!==r?this._getCapRequestUrl.substring(0,r):this._getCapRequestUrl}if(i.params={},e.Name){i.params.LAYERS=e.Name,i.params.SERVICE="WMS",this._getCapResponseWMS.version&&(i.params.VERSION=this._getCapResponseWMS.version);var a=e._projection;if(a){var s;if(a!==n&&(i.projection=a),e.Style&&Array.isArray(e.Style)){var c=e.Style[0];i.params.STYLES=c.Name,c.LegendURL&&Array.isArray(c.LegendURL)&&0!==c.LegendURL.length&&(s=c.LegendURL[0].OnlineResource)}var u=new(l())(i);this._getWMSLayerInfoForLayerSwitcher(e,s,u);var d={};d.source=u,this._getWMSLayerMinMaxResolution(e,n,d),this._getWMSLayerExtent(e,n,d);var p=new(Mi())(d);p.gpResultLayerId="layerimport:WMS",e.queryable&&(p.gpGFIparams={queryable:!0},this._getCapResponseWMS&&this._getCapResponseWMS.Capability&&this._getCapResponseWMS.Capability.Request&&this._getCapResponseWMS.Capability.Request.GetFeatureInfo&&this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format&&Array.isArray(this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format)&&(p.gpGFIparams.formats=this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format)),t.addLayer(p)}else rb.warn("[ol.control.LayerImport] wms layer cannot be added to map : unknown projection")}else rb.warn("[ol.control.LayerImport] unable to add wms layer : mandatory layer 'name' parameter cannot be found",e)}else rb.warn("[ol.control.LayerImport] _addGetCapWMSLayer error : layerInfo is not defined");else rb.warn("[ol.control.LayerImport] _addGetCapWMSLayer error : map is not defined")}},{key:"_getWMSLayerGetMapUrl",value:function(){var e;if(this._getCapResponseWMS&&this._getCapResponseWMS.Capability&&this._getCapResponseWMS.Capability.Request&&this._getCapResponseWMS.Capability.Request.GetMap){var t=this._getCapResponseWMS.Capability.Request.GetMap;if(t.DCPType&&Array.isArray(t.DCPType)&&0!==t.DCPType.length){var n=t.DCPType[0];n&&n.HTTP&&n.HTTP.Get&&(e=n.HTTP.Get.OnlineResource)}}return e}},{key:"_getWMSLayerProjection",value:function(e,t){var n;if(e&&"object"===XC(e)){var i=e.CRS;if(Array.isArray(i)){if(i.includes(t))return n=t;var o,r;for(r=0;r<i.length;r++)if((o=i[r])&&"string"==typeof o&&((0,Si.get)(o)||(0,Si.get)(o.toUpperCase())))return n=o}return n}rb.warn("missing layer information (from getCapabilities)")}},{key:"_getWMSLayerMinMaxResolution",value:function(e,t,n){var i=(0,Si.get)(t).getUnits();if("m"===i)e.MinScaleDenominator&&(n.minResolution=28e-5*e.MinScaleDenominator),e.MaxScaleDenominator&&(n.maxResolution=28e-5*e.MaxScaleDenominator);else if("degrees"===i){var o=28e-5*180/(6378137*Math.PI);e.MinScaleDenominator&&(n.minResolution=e.MinScaleDenominator*o),e.MaxScaleDenominator&&(n.maxResolution=e.MaxScaleDenominator*o)}}},{key:"_getWMSLayerExtent",value:function(e,t,n){if(e){var i=e.EX_GeographicBoundingBox,o=e.BoundingBox;if(i&&Array.isArray(i))n.extent="EPSG:4326"===t?i:(0,Si.transformExtent)(i,"EPSG:4326",t);else if(o&&Array.isArray(o))for(var r,a,s=0;s<o.length;s++)if(r=o[s].crs,a=o[s].extent,r){if(r===t){n.extent=a;break}if("string"==typeof r){var l=(0,Si.get)(r)?(0,Si.get)(r):(0,Si.get)(r.toUpperCase());if(l){if("degrees"===l.getUnits()&&0===r.toUpperCase().indexOf("EPSG")){var c=[a[1],a[0],a[3],a[2]];n.extent=(0,Si.transformExtent)(c,l,t)}else n.extent=(0,Si.transformExtent)(a,l,t);break}}}}else rb.warn("[ol.control.LayerImport] _getWMSLayerExtent error : layerInfo is not defined")}},{key:"_getWMSLayerInfoForLayerSwitcher",value:function(e,t,n){if(e.Title?(n._title=e.Title,n._description=e.Abstract?e.Abstract:e.Title):(n._title=e.Name,n._description=e.Abstract?e.Abstract:e.Name),t&&(n._legends=[{url:t}]),e.MetadataURL&&Array.isArray(e.MetadataURL)){n._metadata=[];for(var i=0;i<e.MetadataURL.length;i++){var o=e.MetadataURL[i].OnlineResource;o&&n._metadata.push({url:o})}}if(e.Attribution){var r=e.Attribution;n._originators={},r.OnlineResource&&(n._originators.url=r.OnlineResource),r.Title&&(n._originators.name=n._originators.attribution=r.Title),r.LogoURL&&r.LogoURL.OnlineResource&&(n._originators.logo=r.LogoURL.OnlineResource)}}},{key:"_addGetCapWMTSLayer",value:function(e){if(e&&e.Identifier){var t=this.getMap();if(t){var n={};n.layer=e.Identifier,this._getCapResponseWMTS.version&&(n.version=this._getCapResponseWMTS.version);var i=this._getWMTSLayerGetTileUrl();if(i)n.url=i;else{var o=this._getCapRequestUrl.indexOf("?");n.url=-1!==o?this._getCapRequestUrl.substring(0,o):this._getCapRequestUrl}var r,a,s,l=this._getTMSParams(e);if(n.matrixSet=l.tms,n.projection=l.projCode,n.tileGrid=new(ni())({resolutions:l.resolutions,matrixIds:l.matrixIds,origin:l.origin}),e.Style&&Array.isArray(e.Style))for(var c,d=0;d<e.Style.length&&(r=(c=e.Style[d]).Identifier,!c.isDefault);d++)c.LegendURL&&Array.isArray(c.LegendURL)&&0!==c.LegendURL.length&&(a=c.LegendURL[0].href);null==r&&rb.warn("[ol.control.LayerImport] style information not found in getCapabilities response for layer "+e.Identifier),n.style=r,e.Format&&Array.isArray(e.Format)&&(s=e.Format[0]),null==s&&rb.warn("[ol.control.LayerImport] format information not found in getCapabilities response for layer "+e.Identifier),n.format=s;var p=new(u())(n);e.Title?(p._title=e.Title,p._description=e.Abstract?e.Abstract:e.Title):(p._title=e.Identifier,p._description=e.Abstract?e.Abstract:e.Identifier),a&&(p._legends=[{url:a}]);var h,g={};g.source=p,g.extent=this._getWMTSLayerExtent(e);try{h=new(Mi())(g)}catch(e){return void rb.warn("[ol.control.LayerImport] an error occured while trying to create ol.layer.Tile from getCapabilities information. error : ",e)}h.gpResultLayerId="layerimport:WMTS",t.addLayer(h)}}else rb.warn("[ol.control.LayerImport] layer information not found in getCapabilities response for layer ")}},{key:"_getWMTSLayerGetTileUrl",value:function(){var e;if(this._getCapResponseWMTS&&this._getCapResponseWMTS.OperationsMetadata&&this._getCapResponseWMTS.OperationsMetadata.GetTile){var t=this._getCapResponseWMTS.OperationsMetadata.GetTile;t.DCP&&t.DCP.HTTP&&t.DCP.HTTP.Get&&Array.isArray(t.DCP.HTTP.Get)&&0!==t.DCP.HTTP.Get.length&&(e=t.DCP.HTTP.Get[0].href)}return e}},{key:"_getWMTSLayerProjection",value:function(e,t){var n;if(e&&"object"===XC(e)){if(t&&"object"===XC(t)){if(e.TileMatrixSetLink&&Array.isArray(e.TileMatrixSetLink)){var i,o=e.TileMatrixSetLink[0].TileMatrixSet;if(t.Contents&&Array.isArray(t.Contents.TileMatrixSet))for(var r=t.Contents.TileMatrixSet,a=0;a<r.length;a++)if(r[a].Identifier===o&&r[a].TileMatrix){(i=r[a].SupportedCRS)&&"string"==typeof i&&((0,Si.get)(i)||(0,Si.get)(i.toUpperCase()))&&(n=i);break}}return n}rb.warn("missing getCapabilities response")}else rb.warn("missing layer information (from getCapabilities)")}},{key:"_getTMSParams",value:function(e){var t,n,i,o={},r=[],a=[],s=[];if(this.getMap()&&e.TileMatrixSetLink&&Array.isArray(e.TileMatrixSetLink)){if(t=e.TileMatrixSetLink[0].TileMatrixSet,this._getCapResponseWMTS.Contents&&Array.isArray(this._getCapResponseWMTS.Contents.TileMatrixSet)){for(var l=this._getCapResponseWMTS.Contents.TileMatrixSet,c=0;c<l.length;c++)if(l[c].Identifier===t&&l[c].TileMatrix){var u,d,p,h,g,m=l[c];if(m.SupportedCRS&&(n=m.SupportedCRS,i=(0,Si.get)(n)),i&&i.getUnits&&(g=i.getUnits()),Array.isArray(m.TileMatrix))for(var f=0;f<m.TileMatrix.length;f++)null!=(u=m.TileMatrix[f]).Identifier&&(d=parseInt(u.Identifier,10),r.push(d)),p=u.ScaleDenominator,h="degrees"===g?28e-5*p*180/(6378137*Math.PI):28e-5*p,a.push(h),s=u.TopLeftCorner;void 0!==a.sort&&a.sort((function(e,t){return t-e})),void 0!==r.sort&&r.sort((function(e,t){return e-t}))}}else rb.warn("[ol.control.LayerImport] TileMatrixSet data not found in getCapabilities response for layer "+e.Identifier);return o.tms=t,o.projCode=n,o.matrixIds=r,o.resolutions=a,o.origin=s,o}}},{key:"_getWMTSLayerExtent",value:function(e){var t,n=this._getMapProjectionCode();return e.WGS84BoundingBox&&Array.isArray(e.WGS84BoundingBox)&&(t=(0,Si.transformExtent)(e.WGS84BoundingBox,"EPSG:4326",n)),t}},{key:"_getMapProjectionCode",value:function(){var e=this.getMap();if(e&&e.getView&&e.getView().getProjection)return e.getView().getProjection().getCode();rb.warn("unable to get layerimport's map")}},{key:"_displayWaitingContainer",value:function(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0,this._timer&&(clearTimeout(this._timer),this._timer=null);var e=this;this._timer=setTimeout((function(){!0===e._waiting?e._hideWaitingContainer():e._timer&&clearTimeout(e._timer)}),16e3)}},{key:"_hideWaitingContainer",value:function(){this._waiting&&(this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1,clearTimeout(this._timer),this._timer=null)}},{key:"cleanGetCapResultsList",value:function(){if(this._getCapRequestUrl=null,this._getCapResponseWMS=null,this._getCapResponseWMTS=null,this._getCapResponseWMSLayers=null,this._getCapResponseWMTSLayers=null,this._getCapResultsListContainer)for(;this._getCapResultsListContainer.firstChild;)this._getCapResultsListContainer.removeChild(this._getCapResultsListContainer.firstChild)}},{key:"cleanMapBoxResultsList",value:function(){if(this._hasMapBoxResults=!1,this._mapBoxResultsListContainer)for(;this._mapBoxResultsListContainer.firstChild;)this._mapBoxResultsListContainer.removeChild(this._mapBoxResultsListContainer.firstChild)}},{key:"cleanMapBoxResults",value:function(e){if(this._hasMapBoxResults=!1,this._mapBoxResultsListContainer)for(var t=this._mapBoxResultsListContainer.childNodes,n=0;n<t.length;n++){var i=t[n];i.id==="GPEditorMapBoxContainer_ID_"+e&&i.remove()}}}])}(lu),function(e,t,n){(t=ob(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(JC,"DefaultStyles",{image:new St.Icon({src:xt.lightOrange,anchor:[25.5,38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"}),stroke:new St.Stroke({color:"rgba(0,42,80,0.8)",width:4}),fill:new St.Fill({color:"rgba(0, 183, 152, 0.5)"}),text:new St.Text({font:"16px Sans",textAlign:"left",fill:new St.Fill({color:"rgba(255, 255, 255, 1)"}),stroke:new St.Stroke({color:"rgba(0, 0, 0, 1)",width:2})})}),JC);Object.assign(ab.prototype,CC);const sb=ab;window.ol&&window.ol.control&&(window.ol.control.LayerImport=ab);const lb=ol.control.Attribution;var cb=__webpack_require__.n(lb);function ub(e){return ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(e)}function db(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,pb(i.key),i)}}function pb(e){var t=function(e,t){if("object"!=ub(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ub(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ub(t)?t:t+""}function hb(e,t,n){return t=yb(t),gb(e,mb()?Reflect.construct(t,n||[],yb(e).constructor):t.apply(e,n))}function gb(e,t){if(t&&("object"==ub(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mb=function(){return!!e})()}function fb(){return fb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=yb(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},fb.apply(null,arguments)}function yb(e){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yb(e)}function Ab(e,t){return Ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ab(e,t)}var vb=yt.getLogger("geoportalattribution"),Cb=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=e||{}).collapsible=!0,e.collapsed=!0,!((n=hb(this,t,[e]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return gb(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ab(e,t)}(t,e),function(e,t,n){return t&&db(e.prototype,t),n&&db(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"setMap",value:function(e){var n=this;if(null!=e){var i=e.getControls();i.forEach((function(e){if(!(e instanceof t)&&e)for(var n=e.element.classList,o=0;o<n.length;o++)if("ol-attribution"===n[o]){i.remove(e);break}})),this._updateAttributions(e),e.on("moveend",(function(){n._updateAttributions(e)})),e.getLayers().on("add",(function(){n._updateAttributions(e)})),e.getLayers().on("remove",(function(){n._updateAttributions(e)}))}fb(yb(t.prototype),"setMap",this).call(this,e)}},{key:"_updateAttributions",value:function(e){for(var t=this,n={},i=e.getView(),o=i.calculateExtent(e.getSize()),r=i.getProjection().getCode(),a=(0,Si.transformExtent)(o,r,"EPSG:4326"),s=[a[3],a[0],a[1],a[2]],l=i.getZoom(),c=e.getLayers().getArray(),u=0;u<c.length;u++)if(c[u].getSource)this._updateLayerAttributions(c[u],n,s,r,l);else if(c[u].getLayers){c[u].getLayers().forEach((function(e){e.getSource?t._updateLayerAttributions(e,n,s,r,l):vb.log("cannot find layer source in layergroup ",c[u])}))}}},{key:"_updateLayerAttributions",value:function(e,t,n,i,o){if(e){var r=e.getSource();if(r){t||(t={});var a=[],s=e.getVisible(),l=r._originators;if(void 0!==l&&r.setAttributions(),l&&s){for(var c=oi.getAttributions({extent:n,crs:i,zoom:o,visibility:s,originators:l}),u=0;u<c.length;u++){var d=c[u];t.hasOwnProperty(d)||(a.push(d),t[d]=!0)}0!==a.length&&(r.setAttributions(a),this.dispatchEvent({type:"attributions:update",attributions:a}))}}else vb.trace("source is not yet loaded !")}else vb.trace("layer is null !?")}}])}(cb());const bb=Cb;window.ol&&window.ol.control&&(window.ol.control.GeoportalAttribution=Cb);var Ib={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmeasureLength"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowMeasureLengthPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowMeasureLengthPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn gpf-btn-icon gpf-btn-icon-length fr-btn",t.title="Mesurer une distance",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMeasureLengthClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMeasureLengthClick(t)})),t}};const _b=Ib;function wb(e){return wb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wb(e)}function Eb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Sb(i.key),i)}}function Sb(e){var t=function(e,t){if("object"!=wb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=wb(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wb(t)?t:t+""}function Pb(e,t,n){return t=kb(t),Mb(e,xb()?Reflect.construct(t,n||[],kb(e).constructor):t.apply(e,n))}function Mb(e,t){if(t&&("object"==wb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xb=function(){return!!e})()}function Gb(){return Gb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=kb(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Gb.apply(null,arguments)}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kb(e)}function Rb(e,t){return Rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rb(e,t)}var Lb=yt.getLogger("measurelength"),Ob=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=Pb(this,t,[{element:(e=e||{}).element,target:e.target,render:e.render}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.CLASSNAME="MeasureLength",n._uid=yu.generate(),n._pictoContainer=null,n._initialize(e),n._container=n._initializeContainer(),n.element?n.element.appendChild(n._container):n.element=n._container,Mb(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rb(e,t)}(t,e),function(e,t,n){return t&&Eb(e.prototype,t),n&&Eb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"setMap",value:function(e){Lb.trace("setMap()");var n=this.CLASSNAME;e?this.options.target||this.options.position||EC.add(e,this):this.clean(),this.tools[n].push({instance:e?this:null,active:!1,map:e?e.getTargetElement().id:null});var i="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;i&&(i.gpShareMeasures||(i.gpShareMeasures={}),i.gpShareMeasures[n]=this.tools[n]),Gb(kb(t.prototype),"setMap",this).call(this,e),this.options.position&&this.setPosition(this.options.position)}},{key:"_initialize",value:function(e){Lb.trace("call MeasureLength::_initialize() : ",e),this.options={},this.options.geodesic=void 0===e.geodesic||e.geodesic,this.options.position=void 0!==e.position?e.position:null,this.options.target=void 0!==e.target?e.target:null,this.options.render=void 0!==e.render?e.render:null,this.options.layerDescription=void 0!==e.layerDescription?e.layerDescription:{title:"Mesures de distance",description:"Mes mesures"},this.createStylingMeasureInteraction(e.styles)}},{key:"_initializeContainer",value:function(){Lb.trace("call MeasureLength::_initializeContainer() : ",this._uid);var e=this._createMainContainerElement(),t=this._pictoContainer=this._createShowMeasureLengthPictoElement();return e.appendChild(t),e}},{key:"addMeasureEvents",value:function(){var e=this;Lb.trace("call MeasureLength::addMeasureEvents()");var t=this.getMap();t.on("singleclick",(function(t){return e.onPointerMoveHandler(t)})),t.on("pointermove",(function(t){return e.onPointerMoveHandler(t)}))}},{key:"removeMeasureEvents",value:function(){var e=this;Lb.trace("call MeasureLength::removeMeasureEvents()");var t=this.getMap();t.un("singleclick",(function(t){return e.onPointerMoveHandle(t)})),t.un("pointermove",(function(t){return e.onPointerMoveHandler(t)}))}},{key:"format",value:function(e){Lb.trace("call MeasureLength::format()");var t,n=this.getMap();if(this.options.geodesic){var i=e.getCoordinates();t=0;for(var o=n.getView().getProjection(),r=0,a=i.length-1;r<a;++r){var s=(0,Si.transform)(i[r],o,"EPSG:4326"),l=(0,Si.transform)(i[r+1],o,"EPSG:4326");t+=(0,Ny.getDistance)(s,l)}}else t=Math.round(100*e.getLength())/100;return t>1e3?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"}},{key:"onShowMeasureLengthClick",value:function(e){Lb.trace("call MeasureLength::onShowMeasureLengthClick()",e),this.onShowMeasureClick(e,"LineString")}}])}(lu);Object.assign(Ob.prototype,MC),Object.assign(Ob.prototype,_b);const Tb=Ob;window.ol&&window.ol.control&&(window.ol.control.MeasureLength=Ob);var Db={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmeasureArea"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowMeasureAreaPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowMeasureAreaPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn gpf-btn-icon gpf-btn-icon-area fr-btn",t.title="Mesurer une surface",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMeasureAreaClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMeasureAreaClick(t)})),t}};const Nb=Db;function Ub(e){return Ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(e)}function jb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Bb(i.key),i)}}function Bb(e){var t=function(e,t){if("object"!=Ub(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ub(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ub(t)?t:t+""}function Fb(e,t,n){return t=Wb(t),zb(e,Vb()?Reflect.construct(t,n||[],Wb(e).constructor):t.apply(e,n))}function zb(e,t){if(t&&("object"==Ub(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vb=function(){return!!e})()}function qb(){return qb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Wb(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},qb.apply(null,arguments)}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wb(e)}function Hb(e,t){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hb(e,t)}var Yb=yt.getLogger("measurearea"),Zb=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=Fb(this,t,[{element:(e=e||{}).element,target:e.target,render:e.render}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.CLASSNAME="MeasureArea",n._uid=yu.generate(),n._pictoContainer=null,n._initialize(e),n._container=n._initializeContainer(),n.element?n.element.appendChild(n._container):n.element=n._container,zb(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hb(e,t)}(t,e),function(e,t,n){return t&&jb(e.prototype,t),n&&jb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"setMap",value:function(e){Yb.trace("setMap()");var n=this.CLASSNAME;e?this.options.target||this.options.position||EC.add(e,this):this.clean(),this.tools[n].push({instance:e?this:null,active:!1,map:e?e.getTargetElement().id:null});var i="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;i&&(i.gpShareMeasures||(i.gpShareMeasures={}),i.gpShareMeasures[n]=this.tools[n]),qb(Wb(t.prototype),"setMap",this).call(this,e),this.options.position&&this.setPosition(this.options.position)}},{key:"_initialize",value:function(e){Yb.trace("call MeasureArea::_initialize() : ",e),this.options={},this.options.geodesic=void 0===e.geodesic||e.geodesic,this.options.position=void 0!==e.position?e.position:null,this.options.target=void 0!==e.target?e.target:null,this.options.render=void 0!==e.render?e.render:null,this.options.layerDescription=void 0!==e.layerDescription?e.layerDescription:{title:"Mesures de surface",description:"Mes mesures"},this.createStylingMeasureInteraction(e.styles)}},{key:"_initializeContainer",value:function(){Yb.trace("call MeasureArea::_initializeContainer() : ",this._uid);var e=this._createMainContainerElement(),t=this._pictoContainer=this._createShowMeasureAreaPictoElement();return e.appendChild(t),e}},{key:"addMeasureEvents",value:function(){var e=this;Yb.trace("call MeasureArea::addMeasureEvents()");var t=this.getMap();t.on("singleclick",(function(t){return e.onPointerMoveHandler(t)})),t.on("pointermove",(function(t){return e.onPointerMoveHandler(t)}))}},{key:"removeMeasureEvents",value:function(){var e=this;Yb.trace("call MeasureArea::removeMeasureEvents()");var t=this.getMap();t.un("singleclick",(function(t){return e.onPointerMoveHandler(t)})),t.un("pointermove",(function(t){return e.onPointerMoveHandler(t)}))}},{key:"format",value:function(e){var t;if(Yb.trace("call MeasureArea::format()"),this.options.geodesic){var n=e.clone().getLinearRing(0).getCoordinates();t=Math.abs((0,Ny.getArea)(new Ty.Polygon([n])))}else t=e.getArea();return t>1e6?Math.round(t/1e6*100)/100+" km<sup>2</sup>":t>1e5?Math.round(t/1e6*1e3)/1e3+" km<sup>2</sup>":t>1e3?10*Math.round(t/10)+" m<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"}},{key:"onShowMeasureAreaClick",value:function(e){Yb.trace("call MeasureArea::onShowMeasureAreaClick()",e),this.onShowMeasureClick(e,"Polygon")}}])}(lu);Object.assign(Zb.prototype,MC),Object.assign(Zb.prototype,Nb);const Jb=Zb;window.ol&&window.ol.control&&(window.ol.control.MeasureArea=Zb);var Xb={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPmeasureAzimuth"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowMeasureAzimuthPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowMeasureAzimuthPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn gpf-btn-icon gpf-btn-icon-azimuth fr-btn",t.title="Mesurer un azimut",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMeasureAzimuthClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowMeasureAzimuthClick(t)})),t}};const Kb=Xb;function Qb(e){return Qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qb(e)}function $b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,eI(i.key),i)}}function eI(e){var t=function(e,t){if("object"!=Qb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Qb(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qb(t)?t:t+""}function tI(e,t,n){return t=rI(t),nI(e,iI()?Reflect.construct(t,n||[],rI(e).constructor):t.apply(e,n))}function nI(e,t){if(t&&("object"==Qb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function iI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(iI=function(){return!!e})()}function oI(){return oI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=rI(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},oI.apply(null,arguments)}function rI(e){return rI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rI(e)}function aI(e,t){return aI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aI(e,t)}var sI=yt.getLogger("measureazimut"),lI=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=tI(this,t,[{element:(e=e||{}).element,target:e.target,render:e.render}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.CLASSNAME="MeasureAzimuth",n._uid=yu.generate(),n._pictoContainer=null,n._initialize(e),n._container=n._initializeContainer(),n.element?n.element.appendChild(n._container):n.element=n._container,nI(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aI(e,t)}(t,e),function(e,t,n){return t&&$b(e.prototype,t),n&&$b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"setMap",value:function(e){sI.trace("setMap()");var n=this.CLASSNAME;e?this.options.target||this.options.position||EC.add(e,this):this.clean(),this.tools[n].push({instance:e?this:null,active:!1,map:e?e.getTargetElement().id:null});var i="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;i&&(i.gpShareMeasures||(i.gpShareMeasures={}),i.gpShareMeasures[n]=this.tools[n]),oI(rI(t.prototype),"setMap",this).call(this,e),this.options.position&&this.setPosition(this.options.position)}},{key:"setGeodesic",value:function(e){this.options.geodesic=void 0!==e&&e}},{key:"isGeodesic",value:function(){return this.options.geodesic}},{key:"_initialize",value:function(e){sI.trace("call MeasureAzimuth::_initialize() : ",e),this.options={},this.options.geodesic=void 0!==e.geodesic&&e.geodesic,this.options.position=void 0!==e.position?e.position:null,this.options.target=void 0!==e.target?e.target:null,this.options.render=void 0!==e.render?e.render:null,this.options.layerDescription=void 0!==e.layerDescription?e.layerDescription:{title:"Mesures d'azimuth",description:"Mes mesures"},this.createStylingMeasureInteraction(e.styles)}},{key:"_initializeContainer",value:function(){sI.trace("call MeasureAzimuth::_initializeContainer() : ",this._uid);var e=this._createMainContainerElement(),t=this._pictoContainer=this._createShowMeasureAzimuthPictoElement();return e.appendChild(t),e}},{key:"addMeasureEvents",value:function(){var e=this;sI.trace("call MeasureAzimuth::addMeasureEvents()");var t=this.getMap();t.on("singleclick",(function(t){return e.onPointerMoveAzimutHandler(t)})),t.on("pointermove",(function(t){return e.onPointerMoveAzimutHandler(t)}))}},{key:"removeMeasureEvents",value:function(){var e=this;sI.trace("call MeasureAzimuth::removeMeasureEvents()");var t=this.getMap();t.un("singleclick",(function(t){return e.onPointerMoveAzimutHandler(t)})),t.un("pointermove",(function(t){return e.onPointerMoveAzimutHandler(t)}))}},{key:"format",value:function(e){sI.trace("call MeasureAzimuth::format()");var t=this.getMap().getView().getProjection(),n=(0,Si.transform)(e.getFirstCoordinate(),t,"EPSG:4326"),i=(0,Si.transform)(e.getLastCoordinate(),t,"EPSG:4326");if(!this.options.geodesic){var o=(0,Ny.getDistance)(n,i);if(sI.trace("measure between 2 points with geodesic method",o),o>500){var r=500/o;sI.trace("%",r),i=(0,Si.transform)(e.getCoordinateAt(r),t,"EPSG:4326")}}var a=Math.PI/180,s=180/Math.PI,l=a*n[0],c=a*i[0],u=a*n[1],d=a*i[1],p=Math.sin(c-l)*Math.cos(d),h=Math.cos(u)*Math.sin(d)-Math.sin(u)*Math.cos(d)*Math.cos(c-l),g=s*Math.atan2(p,h);return sI.trace("azimut",g),g<0&&(g+=360),Math.round(100*g)/100+" Â°"}},{key:"onShowMeasureAzimuthClick",value:function(e){sI.trace("call MeasureAzimuth::onShowMeasureAzimuthClick()",e),this.onShowMeasureClick(e,"LineString")}},{key:"onPointerMoveAzimutHandler",value:function(e){(this.onPointerMoveHandler(e),this.sketch)&&(this.sketch.getGeometry().getCoordinates().length>2&&this.measureDraw.finishDrawing())}}])}(lu);Object.assign(lI.prototype,MC),Object.assign(lI.prototype,Kb);const cI=lI;window.ol&&window.ol.control&&(window.ol.control.MeasureAzimuth=lI);const uI=ol.control.Zoom;var dI=__webpack_require__.n(uI);function pI(e){return pI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pI(e)}function hI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,gI(i.key),i)}}function gI(e){var t=function(e,t){if("object"!=pI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=pI(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pI(t)?t:t+""}function mI(e,t,n){return t=AI(t),function(e,t){if(t&&("object"==pI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fI()?Reflect.construct(t,n||[],AI(e).constructor):t.apply(e,n))}function fI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fI=function(){return!!e})()}function yI(){return yI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=AI(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},yI.apply(null,arguments)}function AI(e){return AI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},AI(e)}function vI(e,t){return vI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vI(e,t)}yt.getLogger("zoom");var CI=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);return(e=e||{}).className="ol-custom-zoom",(n=mI(this,t,[e])).container=null,n.options=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vI(e,t)}(t,e),function(e,t,n){return t&&hI(e.prototype,t),n&&hI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_createContainerPosition",value:function(e){if(this.container=e.getOverlayContainerStopEvent(),this.options.target=this.container,this.options.position){var t="position-container-"+this.options.position;if(!document.getElementById(t)){var n=document.createElement("div");n.id=t,n.classList.add("position"),n.classList.add(t),this.container.appendChild(n)}this.options.target=this.container.children[t]}}},{key:"_initContainer",value:function(){this._uid=yu.generate(),this.element.id="GPzoom-"+this._uid,this.element.classList.add("GPwidget","gpf-widget","gpf-widget-button"),this.element.classList.add(this.options.className),this.element.classList.remove("ol-zoom","ol-unselectable","ol-control");for(var e=this,t=this.element.childNodes,n=0;n<t.length;n++){var i=t[n];i.classList.contains(this.options.className+"-in")&&(i.classList.add("GPzoomIn","gpf-btn-icon-zoom-in","fr-btn","fr-btn--primary"),i.id="GPzoomIn",i.innerHTML="",i.addEventListener?i.addEventListener("click",(function(){e.dispatchEvent("zoom:in")})):i.attachEvent&&i.attachEvent("onclick",(function(){e.dispatchEvent("zoom:in")}))),i.classList.contains(this.options.className+"-out")&&(i.classList.add("GPzoomOut","gpf-btn-icon-zoom-out","fr-btn","fr-btn--primary"),i.id="GPzoomOut",i.innerHTML="",i.addEventListener?i.addEventListener("click",(function(){e.dispatchEvent("zoom:out")})):i.attachEvent&&i.attachEvent("onclick",(function(){e.dispatchEvent("zoom:out")})))}this.options.position&&(this.element.style.position="unset")}},{key:"setMap",value:function(e){e&&(this._createContainerPosition(e),this._initContainer(),e.getControls().forEach((function(e){e.element.classList.contains("ol-zoom")&&(e.element.classList.add("ol-hidden"),e.element.style.display="none")})));this.setTarget(this.options.target),yI(AI(t.prototype),"setMap",this).call(this,e)}}])}(dI());const bI=CI;window.ol&&window.ol.control&&(window.ol.control.GeoportalZoom=CI);const II=ol.control.FullScreen;var _I=__webpack_require__.n(II);function wI(e){return wI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wI(e)}function EI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,SI(i.key),i)}}function SI(e){var t=function(e,t){if("object"!=wI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=wI(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wI(t)?t:t+""}function PI(e,t,n){return t=GI(t),function(e,t){if(t&&("object"==wI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MI()?Reflect.construct(t,n||[],GI(e).constructor):t.apply(e,n))}function MI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(MI=function(){return!!e})()}function xI(){return xI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=GI(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},xI.apply(null,arguments)}function GI(e){return GI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},GI(e)}function kI(e,t){return kI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kI(e,t)}yt.getLogger("fullscreen");var RI=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i="ol-custom-full-screen";return(e=e||{}).className=e.className||i,e.label=e.label||"",e.labelActive=e.labelActive||"",e.activeClassName=e.activeClassName||i+"-true",e.inactiveClassName=e.inactiveClassName||i+"-false",e.tipLabel=e.tipLabel||"Basculer en mode plein Ã©cran",(n=PI(this,t,[e])).container=null,n.options=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kI(e,t)}(t,e),function(e,t,n){return t&&EI(e.prototype,t),n&&EI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_createContainerPosition",value:function(e){if(this.container=e.getOverlayContainerStopEvent(),this.options.target=this.container,this.options.position){var t="position-container-"+this.options.position;if(!document.getElementById(t)){var n=document.createElement("div");n.id=t,n.classList.add("position"),n.classList.add(t),this.container.appendChild(n)}this.options.target=this.container.children[t]}}},{key:"_initContainer",value:function(){this._uid=yu.generate(),this.element.id="GPfullScreen-"+this._uid,this.element.classList.add("GPwidget","gpf-widget","gpf-widget-button"),this.element.classList.add(this.options.className),this.element.classList.remove("ol-full-screen","ol-unselectable","ol-control");var e=this.element.childNodes[0];e.classList.add("GPshowOpen","GPshowAdvancedToolPicto","GPfullScreenPicto","fr-btn"),e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1),e.addEventListener?e.addEventListener("click",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t)})):e.attachEvent&&e.attachEvent("onclick",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t)})),this.options.position&&(this.element.style.position="unset")}},{key:"setMap",value:function(e){e&&(this._createContainerPosition(e),this._initContainer(),e.getControls().forEach((function(e){e.element.classList.contains("ol-full-screen")&&(e.element.classList.add("ol-hidden"),e.element.style.display="none")})));this.setTarget(this.options.target),xI(GI(t.prototype),"setMap",this).call(this,e)}}])}(_I());const LI=RI;window.ol&&window.ol.control&&(window.ol.control.GeoportalFullScreen=RI);const OI=ol.control.OverviewMap;var TI=__webpack_require__.n(OI);function DI(e){return DI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DI(e)}function NI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,UI(i.key),i)}}function UI(e){var t=function(e,t){if("object"!=DI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=DI(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DI(t)?t:t+""}function jI(e,t,n){return t=zI(t),function(e,t){if(t&&("object"==DI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,BI()?Reflect.construct(t,n||[],zI(e).constructor):t.apply(e,n))}function BI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(BI=function(){return!!e})()}function FI(){return FI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=zI(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},FI.apply(null,arguments)}function zI(e){return zI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zI(e)}function VI(e,t){return VI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},VI(e,t)}yt.getLogger("overviewMap");var qI=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);return(e=e||{}).className=e.className||"ol-overviewmap",e.collapseLabel=e.collapseLabel||"",e.label=e.label||"",e.tipLabel="Carte gÃ©nÃ©rale",e.layers=e.layers||[new Ui({layer:"GEOGRAPHICALGRIDSYSTEMS.MAPS.OVERVIEW",configuration:{name:"GEOGRAPHICALGRIDSYSTEMS.MAPS.OVERVIEW",globalConstraint:{maxScaleDenominator:279541132.01435894,minScaleDenominator:2183915.0938621787,bbox:{left:-179.5,right:179.5,top:75,bottom:-75}},params:{url:"https://data.geopf.fr/wmts",styles:"normal",version:"1.0.0",format:"image/jpeg",projection:"EPSG:3857",minScale:2183915.0938621787,maxScale:279541132.01435894,extent:{left:-179.5,right:179.5,top:75,bottom:-75},legends:[{format:"image/jpeg",url:"https://data.geopf.fr/annexes/ressources/legendes/LEGEND.jpg",minScaleDenominator:"200"}],title:"Carte Mondiale pour la mini-vue",description:"Carte Mondiale pour la mini-vue",tileMatrixSetLimits:{1:{minTileRow:"0",maxTileRow:"1",minTileCol:"0",maxTileCol:"1"},2:{minTileRow:"0",maxTileRow:"3",minTileCol:"0",maxTileCol:"3"},3:{minTileRow:"1",maxTileRow:"6",minTileCol:"0",maxTileCol:"7"},4:{minTileRow:"2",maxTileRow:"13",minTileCol:"0",maxTileCol:"15"},5:{minTileRow:"5",maxTileRow:"26",minTileCol:"0",maxTileCol:"31"},6:{minTileRow:"11",maxTileRow:"52",minTileCol:"0",maxTileCol:"63"},7:{minTileRow:"22",maxTileRow:"105",minTileCol:"0",maxTileCol:"127"},8:{minTileRow:"45",maxTileRow:"210",minTileCol:"0",maxTileCol:"255"}},TMSLink:"PM_1_8",matrixIds:["1","2","3","4","5","6","7","8"],tileMatrices:{1:{matrixId:"1",matrixHeight:2,matrixWidth:2,scaleDenominator:279541132.01435894,tileHeight:256,tileWidth:256,topLeftCorner:{x:-20037508.3427892,y:20037508.3427892}},2:{matrixId:"2",matrixHeight:4,matrixWidth:4,scaleDenominator:139770566.0071793,tileHeight:256,tileWidth:256,topLeftCorner:{x:-20037508.3427892,y:20037508.3427892}},3:{matrixId:"3",matrixHeight:8,matrixWidth:8,scaleDenominator:69885283.00358965,tileHeight:256,tileWidth:256,topLeftCorner:{x:-20037508.3427892,y:20037508.3427892}},4:{matrixId:"4",matrixHeight:16,matrixWidth:16,scaleDenominator:34942641.50179486,tileHeight:256,tileWidth:256,topLeftCorner:{x:-20037508.3427892,y:20037508.3427892}},5:{matrixId:"5",matrixHeight:32,matrixWidth:32,scaleDenominator:17471320.75089743,tileHeight:256,tileWidth:256,topLeftCorner:{x:-20037508.3427892,y:20037508.3427892}},6:{matrixId:"6",matrixHeight:64,matrixWidth:64,scaleDenominator:8735660.375448715,tileHeight:256,tileWidth:256,topLeftCorner:{x:-20037508.3427892,y:20037508.3427892}},7:{matrixId:"7",matrixHeight:128,matrixWidth:128,scaleDenominator:4367830.1877243575,tileHeight:256,tileWidth:256,topLeftCorner:{x:-20037508.3427892,y:20037508.3427892}},8:{matrixId:"8",matrixHeight:256,matrixWidth:256,scaleDenominator:2183915.0938621787,tileHeight:256,tileWidth:256,topLeftCorner:{x:-20037508.3427892,y:20037508.3427892}}},nativeResolutions:["78271.51696402048","39135.75848201023","19567.87924100512","9783.939620502561","4891.969810251280","2445.984905125640","1222.992452562820","611.4962262814100"]}}})],(n=jI(this,t,[e])).container=null,n.options=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VI(e,t)}(t,e),function(e,t,n){return t&&NI(e.prototype,t),n&&NI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_createContainerPosition",value:function(e){if(this.container=e.getOverlayContainerStopEvent(),this.options.target=this.container,this.options.position){var t="position-container-"+this.options.position;if(!document.getElementById(t)){var n=document.createElement("div");n.id=t,n.classList.add("position"),n.classList.add(t),this.container.appendChild(n)}this.options.target=this.container.children[t]}}},{key:"_initContainer",value:function(){this._uid=yu.generate(),this.element.id="GPoverviewMap-"+this._uid,this.element.classList.add("GPwidget","gpf-widget","gpf-widget-button"),this.element.classList.remove("ol-control");var e=this.element.childNodes[1];e.id="GPshowOverviewMap-"+this._uid,e.classList.add("GPshowOpen","GPshowAdvancedToolPicto","GPshowOverviewMap","gpf-btn-icon-overviewmap","fr-btn","fr-btn--primary"),e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed",!1);var t=this;e.addEventListener?e.addEventListener("click",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.dispatchEvent({type:"overviewmap:toggle",status:n})})):e.attachEvent&&e.attachEvent("onclick",(function(e){var n="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!n),t.dispatchEvent({type:"overviewmap:toggle",status:n})})),this.options.position&&(this.element.style.position="unset")}},{key:"setMap",value:function(e){e&&(this._createContainerPosition(e),this._initContainer()),this.setTarget(this.options.target),FI(zI(t.prototype),"setMap",this).call(this,e)}}])}(TI());const WI=qI;function HI(e){return HI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HI(e)}window.ol&&window.ol.control&&(window.ol.control.GeoportalOverviewMap=qI),function(){var e=document.getElementsByTagName("script"),t=e[e.length-1].getAttribute("data-key"),n=e[e.length-1].getAttribute("data-url"),i=e[e.length-1].getAttribute("data-timeout");if(t||n){var o={apiKey:t,sync:!0,onSuccess:function(){},onFailure:function(e){throw new Error("Configuration load failed : "+e.message)}};n&&(o.customConfigFile=n,o.callbackSuffix=""),i&&(o.timeOut=i),window.Gp||ft.Services.getConfig(o)}}(),Kf.loadByDefault(),Kf.overload();var YI=ft.Services,ZI=ft.Error,JI=ft.Helper,XI=ft.Protocols,KI=ft.servicesDate,QI=ft.servicesVersion,$I=e.rE,e_=e.p6;function t_(e,t){return function e(t,n){for(var i in t)t.hasOwnProperty(i)&&(n.hasOwnProperty(i)?"object"===HI(t[i])&&e(t[i],n[i]):n[i]=t[i])}(e,t)}var n_={gp:{}};if(n_.gp.GfiUtils=_t,n_.includeProjections=Kf.load,n_.style=n_.style||{},n_.style.Editor=AC,n_.style.editor=n_.style.editor||{},n_.style.editor.Style=xv,n_.style.editor.Filter=Fv,n_.style.editor.Layer=$v,n_.style.editor.Legend=Yv,n_.style.editor.Group=rC,n_.style.editor.Themes=Tv,n_.style.editor.Search=dC,n_.format=n_.format||{},n_.format.KMLExtended=mn,n_.format.GPXExtended=Rn,n_.format.GeoJSONExtended=qn,n_.source=n_.source||{},n_.source.WMTSExtended=ei,n_.source.GeoportalWMTS=mi,n_.source.GeoportalWMS=Ei,n_.layer=n_.layer||{},n_.layer.GeoportalWMTS=Ui,n_.layer.GeoportalWMS=Zi,n_.layer.GeoportalMapBox=Yc,n_.control=n_.control||{},n_.control.LayerSwitcher=Np,n_.control.GeoportalAttribution=bb,n_.control.GetFeatureInfo=Kp,n_.control.SearchEngine=gy,n_.control.Route=FA,n_.control.Isocurve=tv,n_.control.GeoportalMousePosition=Ry,n_.control.Drawing=tA,n_.control.ReverseGeocode=fv,n_.control.LayerImport=sb,n_.control.MeasureLength=Tb,n_.control.MeasureArea=Jb,n_.control.MeasureAzimuth=cI,n_.control.DefaultMarkers=xt,n_.control.ElevationPath=ZC,n_.control.LocationSelector=mA,n_.control.Export=SA,n_.control.GeoportalZoom=bI,n_.control.GeoportalFullScreen=LI,n_.control.GeoportalOverviewMap=WI,window.ol&&window.ol.proj&&window.ol.proj.proj4)try{window.ol.proj.proj4.register(Ff)}catch(VC){}window.ol&&(t_(n_,window.ol),t_(window.ol,n_))})(),Gp=__webpack_exports__})();
//# sourceMappingURL=GpfExtOL.js.map