(()=>{var e={4582:(e,t)=>{"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.getOwnPropertyDescriptors&&(e=t.create(null,t.getOwnPropertyDescriptors(e))),t&&"function"==typeof t.freeze?t.freeze(e):e}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var o=n({allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0});var i=n({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});var a=n({script:!1,style:!1,textarea:!0,title:!0});function s(e){return e===l.HTML}var l=n({HTML:"text/html",XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),c=Object.keys(l).map((function(e){return l[e]}));var u=n({HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)r(t,n)&&(e[n]=t[n]);return e},t.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var o=0;o<e.length;o++)if(r(e,o)){var i=e[o];if(t.call(void 0,i,o,e))return i}},t.freeze=n,t.HTML_BOOLEAN_ATTRIBUTES=o,t.HTML_RAW_TEXT_ELEMENTS=a,t.HTML_VOID_ELEMENTS=i,t.hasDefaultHTMLNamespace=function(e){return s(e)||e===l.XML_XHTML_APPLICATION},t.hasOwn=r,t.isHTMLBooleanAttribute=function(e){return r(o,e.toLowerCase())},t.isHTMLRawTextElement=function(e){var t=e.toLowerCase();return r(a,t)&&!a[t]},t.isHTMLEscapableRawTextElement=function(e){var t=e.toLowerCase();return r(a,t)&&a[t]},t.isHTMLMimeType=s,t.isHTMLVoidElement=function(e){return r(i,e.toLowerCase())},t.isValidMimeType=function(e){return c.indexOf(e)>-1},t.MIME_TYPE=l,t.NAMESPACE=u},5752:(e,t,n)=>{"use strict";var r=n(4582),o=n(4722),i=n(2983),a=n(6559),s=n(4466),l=o.DOMImplementation,c=r.hasDefaultHTMLNamespace,u=r.isHTMLMimeType,p=r.isValidMimeType,d=r.MIME_TYPE,h=r.NAMESPACE,g=i.ParseError,f=s.XMLReader;function m(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function y(e){if(e=e||{locator:!0},this.assign=e.assign||r.assign,this.domHandler=e.domHandler||v,this.onError=e.onError||e.errorHandler,e.errorHandler&&"function"!=typeof e.errorHandler)throw new TypeError("errorHandler object is no longer supported, switch to onError!");e.errorHandler&&e.errorHandler("warning","The `errorHandler` option has been deprecated, use `onError` instead!",this),this.normalizeLineEndings=e.normalizeLineEndings||m,this.locator=!!e.locator,this.xmlns=this.assign(Object.create(null),e.xmlns)}function v(e){var t=e||{};this.mimeType=t.mimeType||d.XML_APPLICATION,this.defaultNamespace=t.defaultNamespace||null,this.cdata=!1,this.currentElement=void 0,this.doc=void 0,this.locator=void 0,this.onError=t.onError}function C(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function I(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function A(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}y.prototype.parseFromString=function(e,t){if(!p(t))throw new TypeError('DOMParser.parseFromString: the provided mimeType "'+t+'" is not valid.');var n=this.assign(Object.create(null),this.xmlns),o=a.XML_ENTITIES,i=n[""]||null;c(t)?(o=a.HTML_ENTITIES,i=h.HTML):t===d.XML_SVG_IMAGE&&(i=h.SVG),n[""]=i,n.xml=n.xml||h.XML;var s=new this.domHandler({mimeType:t,defaultNamespace:i,onError:this.onError}),l=this.locator?{}:void 0;this.locator&&s.setDocumentLocator(l);var u=new f;return u.errorHandler=s,u.domBuilder=s,!r.isHTMLMimeType(t)&&"string"!=typeof e&&u.errorHandler.fatalError("source is not a string"),u.parse(this.normalizeLineEndings(String(e)),n,o),s.doc.documentElement||u.errorHandler.fatalError("missing root element"),s.doc},v.prototype={startDocument:function(){var e=new l;this.doc=u(this.mimeType)?e.createHTMLDocument(!1):e.createDocument(this.defaultNamespace,"")},startElement:function(e,t,n,r){var o=this.doc,i=o.createElementNS(e,n||t),a=r.length;A(this,i),this.currentElement=i,this.locator&&C(this.locator,i);for(var s=0;s<a;s++){e=r.getURI(s);var l=r.getValue(s),c=(n=r.getQName(s),o.createAttributeNS(e,n));this.locator&&C(r.getLocator(s),c),c.value=c.nodeValue=l,i.setAttributeNode(c)}},endElement:function(e,t,n){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&C(this.locator,n),A(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=I.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&C(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){e&&(e.lineNumber=0),this.locator=e},comment:function(e,t,n){e=I.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&C(this.locator,r),A(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n,r){var o=this.doc.implementation;if(o&&o.createDocumentType){var i=o.createDocumentType(e,t,n,r);this.locator&&C(this.locator,i),A(this,i),this.doc.doctype=i}},reportError:function(e,t){if("function"==typeof this.onError)try{this.onError(e,t,this)}catch(n){throw new g("Reporting "+e+' "'+t+'" caused '+n,this.locator)}else console.error("[xmldom "+e+"]\t"+t,function(e){if(e)return"\n@#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}(this.locator))},warning:function(e){this.reportError("warning",e)},error:function(e){this.reportError("error",e)},fatalError:function(e){throw this.reportError("fatalError",e),new g(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){v.prototype[e]=function(){return null}})),t.__DOMHandler=v,t.DOMParser=y,t.normalizeLineEndings=m,t.onErrorStopParsing=function(e){if("error"===e)throw"onErrorStopParsing"},t.onWarningStopParsing=function(){throw"onWarningStopParsing"}},4722:(e,t,n)=>{"use strict";var r=n(4582),o=r.find,i=r.hasDefaultHTMLNamespace,a=r.hasOwn,s=r.isHTMLMimeType,l=r.isHTMLRawTextElement,c=r.isHTMLVoidElement,u=r.MIME_TYPE,p=r.NAMESPACE,d=Symbol(),h=n(2983),g=h.DOMException,f=h.DOMExceptionName,m=n(2763);function y(e){if(e!==d)throw new TypeError("Illegal constructor")}function v(e){return""!==e}function C(e,t){return a(e,t)||(e[t]=!0),e}function I(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(v):[]}(e);return Object.keys(t.reduce(C,{}))}function A(e){if(!m.QName_exact.test(e))throw new g(g.INVALID_CHARACTER_ERR,'invalid character in qualified name "'+e+'"')}function b(e,t){A(t),e=e||null;var n=null,o=t;if(t.indexOf(":")>=0){var i=t.split(":");n=i[0],o=i[1]}if(null!==n&&null===e)throw new g(g.NAMESPACE_ERR,"prefix is non-null and namespace is null");if("xml"===n&&e!==r.NAMESPACE.XML)throw new g(g.NAMESPACE_ERR,'prefix is "xml" and namespace is not the XML namespace');if(("xmlns"===n||"xmlns"===t)&&e!==r.NAMESPACE.XMLNS)throw new g(g.NAMESPACE_ERR,'either qualifiedName or prefix is "xmlns" and namespace is not the XMLNS namespace');if(e===r.NAMESPACE.XMLNS&&"xmlns"!==n&&"xmlns"!==t)throw new g(g.NAMESPACE_ERR,'namespace is the XMLNS namespace and neither qualifiedName nor prefix is "xmlns"');return[e,n,o]}function E(e,t){for(var n in e)a(e,n)&&(t[n]=e[n])}function w(e,t){var n=e.prototype;if(!(n instanceof t)){function r(){}r.prototype=t.prototype,E(n,r=new r),e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var _={},P=_.ELEMENT_NODE=1,S=_.ATTRIBUTE_NODE=2,x=_.TEXT_NODE=3,T=_.CDATA_SECTION_NODE=4,k=_.ENTITY_REFERENCE_NODE=5,R=_.ENTITY_NODE=6,N=_.PROCESSING_INSTRUCTION_NODE=7,L=_.COMMENT_NODE=8,O=_.DOCUMENT_NODE=9,D=_.DOCUMENT_TYPE_NODE=10,M=_.DOCUMENT_FRAGMENT_NODE=11,G=_.NOTATION_NODE=12,U=r.freeze({DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32});function B(e){for(var t=[];e.parentNode||e.ownerElement;)e=e.parentNode||e.ownerElement,t.unshift(e);return t}function F(e,t){if(t.length<e.length)return F(t,e);var n=null;for(var r in e){if(e[r]!==t[r])return n;n=e[r]}return n}function j(e){return e.guid||(e.guid=Math.random()),e.guid}function q(){}function z(e,t){this._node=e,this._refresh=t,H(this)}function H(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(Re(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var r=n.length;r in e;r++)a(e,r)&&delete e[r];E(n,e),e._inc=t}}function V(){}function Y(e,t){for(var n=0;n<e.length;){if(e[n]===t)return n;n++}}function W(e,t,n,r){if(r?t[Y(t,r)]=n:(t[t.length]=n,t.length++),e){n.ownerElement=e;var o=e.ownerDocument;o&&(r&&ee(o,e,r),function(e,t,n){e&&e._inc++;var r=n.namespaceURI;r===p.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(o,e,n))}}function X(e,t,n){var r=Y(t,n);if(r>=0){for(var o=t.length-1;r<=o;)t[r]=t[++r];if(t.length=o,e){var i=e.ownerDocument;i&&ee(i,e,n),n.ownerElement=null}}}function Z(){}function J(e){y(e)}function K(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function Q(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(Q(e,t))return!0}while(e=e.nextSibling)}function $(e,t){y(e);var n=t||{};this.ownerDocument=this,this.contentType=n.contentType||u.XML_APPLICATION,this.type=s(this.contentType)?"html":"xml"}function ee(e,t,n,r){e&&e._inc++,n.namespaceURI===p.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function te(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var o=t.firstChild,i=0;o;)r[i++]=o,o=o.nextSibling;r.length=i,delete r[r.length]}}}function ne(e,t){if(e!==t.parentNode)throw new g(g.NOT_FOUND_ERR,"child's parent is not parent");var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,te(e.ownerDocument,e),t.parentNode=null,t.previousSibling=null,t.nextSibling=null,t}function re(e){return e&&e.nodeType===J.DOCUMENT_TYPE_NODE}function oe(e){return e&&e.nodeType===J.ELEMENT_NODE}function ie(e){return e&&e.nodeType===J.TEXT_NODE}function ae(e,t){var n=e.childNodes||[];if(o(n,oe)||re(t))return!1;var r=o(n,re);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function se(e,t){var n=e.childNodes||[];if(o(n,(function(e){return oe(e)&&e!==t})))return!1;var r=o(n,re);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function le(e,t,n){if(!function(e){return e&&(e.nodeType===J.DOCUMENT_NODE||e.nodeType===J.DOCUMENT_FRAGMENT_NODE||e.nodeType===J.ELEMENT_NODE)}(e))throw new g(g.HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new g(g.NOT_FOUND_ERR,"child not in parent");if(!function(e){return e&&(e.nodeType===J.CDATA_SECTION_NODE||e.nodeType===J.COMMENT_NODE||e.nodeType===J.DOCUMENT_FRAGMENT_NODE||e.nodeType===J.DOCUMENT_TYPE_NODE||e.nodeType===J.ELEMENT_NODE||e.nodeType===J.PROCESSING_INSTRUCTION_NODE||e.nodeType===J.TEXT_NODE)}(t)||re(t)&&e.nodeType!==J.DOCUMENT_NODE)throw new g(g.HIERARCHY_REQUEST_ERR,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function ce(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===J.DOCUMENT_FRAGMENT_NODE){var a=i.filter(oe);if(a.length>1||o(i,ie))throw new g(g.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(1===a.length&&!ae(e,n))throw new g(g.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(oe(t)&&!ae(e,n))throw new g(g.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(re(t)){if(o(r,re))throw new g(g.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var s=o(r,oe);if(n&&r.indexOf(s)<r.indexOf(n))throw new g(g.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!n&&s)throw new g(g.HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function ue(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===J.DOCUMENT_FRAGMENT_NODE){var a=i.filter(oe);if(a.length>1||o(i,ie))throw new g(g.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(1===a.length&&!se(e,n))throw new g(g.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(oe(t)&&!se(e,n))throw new g(g.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(re(t)){function l(e){return re(e)&&e!==n}if(o(r,l))throw new g(g.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var s=o(r,oe);if(n&&r.indexOf(s)<r.indexOf(n))throw new g(g.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function pe(e,t,n,r){le(e,t,n),e.nodeType===J.DOCUMENT_NODE&&(r||ce)(e,t,n);var o=t.parentNode;if(o&&o.removeChild(t),t.nodeType===M){var i=t.firstChild;if(null==i)return t;var a=t.lastChild}else i=a=t;var s=n?n.previousSibling:e.lastChild;i.previousSibling=s,a.nextSibling=n,s?s.nextSibling=i:e.firstChild=i,null==n?e.lastChild=a:n.previousSibling=a;do{i.parentNode=e}while(i!==a&&(i=i.nextSibling));return te(e.ownerDocument||e,e),t.nodeType==M&&(t.firstChild=t.lastChild=null),t}function de(e){y(e),this._nsMap=Object.create(null)}function he(e){y(e),this.namespaceURI=null,this.prefix=null,this.ownerElement=null}function ge(e){y(e)}function fe(e){y(e)}function me(e){y(e)}function ye(e){y(e)}function ve(e){y(e)}function Ce(e){y(e)}function Ie(e){y(e)}function Ae(e){y(e)}function be(e){y(e)}function Ee(e){y(e)}function we(){}function _e(e){var t=[],n=this.nodeType===O&&this.documentElement||this,r=n.prefix,o=n.namespaceURI;if(o&&null==r&&null==(r=n.lookupPrefix(o)))var i=[{namespace:o,prefix:null}];return xe(this,t,e,i),t.join("")}function Pe(e,t,n){var r=e.prefix||"",o=e.namespaceURI;if(!o)return!1;if("xml"===r&&o===p.XML||o===p.XMLNS)return!1;for(var i=n.length;i--;){var a=n[i];if(a.prefix===r)return a.namespace!==o}return!0}function Se(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,K),'"')}function xe(e,t,n,r){r||(r=[]);var o="html"===(e.nodeType===O?e:e.ownerDocument).type;if(n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case P:var i=e.attributes,a=i.length,s=e.firstChild,u=e.tagName,d=u;if(!o&&!e.prefix&&e.namespaceURI){for(var h,g=0;g<i.length;g++)if("xmlns"===i.item(g).name){h=i.item(g).value;break}if(!h)for(var f=r.length-1;f>=0;f--){if(""===(y=r[f]).prefix&&y.namespace===e.namespaceURI){h=y.namespace;break}}if(h!==e.namespaceURI)for(f=r.length-1;f>=0;f--){var y;if((y=r[f]).namespace===e.namespaceURI){y.prefix&&(d=y.prefix+":"+u);break}}}t.push("<",d);for(var v=0;v<a;v++){"xmlns"==(C=i.item(v)).prefix?r.push({prefix:C.localName,namespace:C.value}):"xmlns"==C.nodeName&&r.push({prefix:"",namespace:C.value})}for(v=0;v<a;v++){var C,I,A;if(Pe(C=i.item(v),0,r))Se(t,(I=C.prefix||"")?"xmlns:"+I:"xmlns",A=C.namespaceURI),r.push({prefix:I,namespace:A});xe(C,t,n,r)}if(u===d&&Pe(e,0,r))Se(t,(I=e.prefix||"")?"xmlns:"+I:"xmlns",A=e.namespaceURI),r.push({prefix:I,namespace:A});var b=!s;if(b&&(o||e.namespaceURI===p.HTML)&&(b=c(u)),b)t.push("/>");else{if(t.push(">"),o&&l(u))for(;s;)s.data?t.push(s.data):xe(s,t,n,r.slice()),s=s.nextSibling;else for(;s;)xe(s,t,n,r.slice()),s=s.nextSibling;t.push("</",d,">")}return;case O:case M:for(s=e.firstChild;s;)xe(s,t,n,r.slice()),s=s.nextSibling;return;case S:return Se(t,e.name,e.value);case x:return t.push(e.data.replace(/[<&>]/g,K));case T:return t.push(m.CDATA_START,e.data,m.CDATA_END);case L:return t.push(m.COMMENT_START,e.data,m.COMMENT_END);case D:var E=e.publicId,w=e.systemId;return t.push(m.DOCTYPE_DECL_START," ",e.name),E?(t.push(" ",m.PUBLIC," ",E),w&&"."!==w&&t.push(" ",w)):w&&"."!==w&&t.push(" ",m.SYSTEM," ",w),e.internalSubset&&t.push(" [",e.internalSubset,"]"),void t.push(">");case N:return t.push("<?",e.target," ",e.data,"?>");case k:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function Te(e,t,n){var r;switch(t.nodeType){case P:(r=t.cloneNode(!1)).ownerDocument=e;case M:break;case S:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var o=t.firstChild;o;)r.appendChild(Te(e,o,n)),o=o.nextSibling;return r}function ke(e,t,n){var r=new t.constructor(d);for(var o in t)if(a(t,o)){var i=t[o];"object"!=typeof i&&i!=r[o]&&(r[o]=i)}switch(t.childNodes&&(r.childNodes=new q),r.ownerDocument=e,r.nodeType){case P:var s=t.attributes,l=r.attributes=new V,c=s.length;l._ownerElement=r;for(var u=0;u<c;u++)r.setAttributeNode(ke(e,s.item(u),!0));break;case S:n=!0}if(n)for(var p=t.firstChild;p;)r.appendChild(ke(e,p,n)),p=p.nextSibling;return r}function Re(e,t,n){e[t]=n}q.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e){for(var t=[],n=0;n<this.length;n++)xe(this[n],t,e);return t.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},q.prototype[Symbol.iterator]=function(){var e=this,t=0;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},z.prototype.item=function(e){return H(this),this[e]||null},w(z,q),V.prototype={length:0,item:q.prototype.item,getNamedItem:function(e){this._ownerElement&&this._ownerElement._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase());for(var t=0;t<this.length;){var n=this[t];if(n.nodeName===e)return n;t++}return null},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!==this._ownerElement)throw new g(g.INUSE_ATTRIBUTE_ERR);var n=this.getNamedItemNS(e.namespaceURI,e.localName);return n===e?e:(W(this._ownerElement,this,e,n),n)},setNamedItemNS:function(e){return this.setNamedItem(e)},removeNamedItem:function(e){var t=this.getNamedItem(e);if(!t)throw new g(g.NOT_FOUND_ERR,e);return X(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);if(!n)throw new g(g.NOT_FOUND_ERR,e?e+" : "+t:t);return X(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){e||(e=null);for(var n=0;n<this.length;){var r=this[n];if(r.localName===t&&r.namespaceURI===e)return r;n++}return null}},V.prototype[Symbol.iterator]=function(){var e=this,t=0;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},Z.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=u.XML_APPLICATION;e===p.HTML?r=u.XML_XHTML_APPLICATION:e===p.SVG&&(r=u.XML_SVG_IMAGE);var o=new $(d,{contentType:r});if(o.implementation=this,o.childNodes=new q,o.doctype=n||null,n&&o.appendChild(n),t){var i=o.createElementNS(e,t);o.appendChild(i)}return o},createDocumentType:function(e,t,n,r){A(e);var o=new ve(d);return o.name=e,o.nodeName=e,o.publicId=t||"",o.systemId=n||"",o.internalSubset=r||"",o.childNodes=new q,o},createHTMLDocument:function(e){var t=new $(d,{contentType:u.HTML});if(t.implementation=this,t.childNodes=new q,!1!==e){t.doctype=this.createDocumentType("html"),t.doctype.ownerDocument=t,t.appendChild(t.doctype);var n=t.createElement("html");t.appendChild(n);var r=t.createElement("head");if(n.appendChild(r),"string"==typeof e){var o=t.createElement("title");o.appendChild(t.createTextNode(e)),r.appendChild(o)}n.appendChild(t.createElement("body"))}return t}},J.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,parentNode:null,get parentElement(){return this.parentNode&&this.parentNode.nodeType===this.ELEMENT_NODE?this.parentNode:null},childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,baseURI:"about:blank",get isConnected(){var e=this.getRootNode();return e&&e.nodeType===e.DOCUMENT_NODE},contains:function(e){if(!e)return!1;var t=e;do{if(this===t)return!0;t=e.parentNode}while(t);return!1},getRootNode:function(e){var t=this;do{if(!t.parentNode)return t;t=t.parentNode}while(t)},isEqualNode:function(e){if(!e)return!1;if(this.nodeType!==e.nodeType)return!1;switch(this.nodeType){case this.DOCUMENT_TYPE_NODE:if(this.name!==e.name)return!1;if(this.publicId!==e.publicId)return!1;if(this.systemId!==e.systemId)return!1;break;case this.ELEMENT_NODE:if(this.namespaceURI!==e.namespaceURI)return!1;if(this.prefix!==e.prefix)return!1;if(this.localName!==e.localName)return!1;if(this.attributes.length!==e.attributes.length)return!1;for(var t=0;t<this.attributes.length;t++){var n=this.attributes.item(t);if(!n.isEqualNode(e.getAttributeNodeNS(n.namespaceURI,n.localName)))return!1}break;case this.ATTRIBUTE_NODE:if(this.namespaceURI!==e.namespaceURI)return!1;if(this.localName!==e.localName)return!1;if(this.value!==e.value)return!1;break;case this.PROCESSING_INSTRUCTION_NODE:if(this.target!==e.target||this.data!==e.data)return!1;break;case this.TEXT_NODE:case this.COMMENT_NODE:if(this.data!==e.data)return!1}if(this.childNodes.length!==e.childNodes.length)return!1;for(t=0;t<this.childNodes.length;t++)if(!this.childNodes[t].isEqualNode(e.childNodes[t]))return!1;return!0},isSameNode:function(e){return this===e},insertBefore:function(e,t){return pe(this,e,t)},replaceChild:function(e,t){pe(this,e,t,ue),t&&this.removeChild(t)},removeChild:function(e){return ne(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ke(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==x&&e.nodeType==x?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(a(n,r)&&n[r]===e)return r;t=t.nodeType==S?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&a(n,e))return n[e];t=t.nodeType==S?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)},compareDocumentPosition:function(e){if(this===e)return 0;var t=e,n=this,r=null,o=null;if(t instanceof he&&(t=(r=t).ownerElement),n instanceof he&&(n=(o=n).ownerElement,r&&t&&n===t))for(var i,a=0;i=n.attributes[a];a++){if(i===r)return U.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+U.DOCUMENT_POSITION_PRECEDING;if(i===o)return U.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+U.DOCUMENT_POSITION_FOLLOWING}if(!t||!n||n.ownerDocument!==t.ownerDocument)return U.DOCUMENT_POSITION_DISCONNECTED+U.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+(j(n.ownerDocument)>j(t.ownerDocument)?U.DOCUMENT_POSITION_FOLLOWING:U.DOCUMENT_POSITION_PRECEDING);var s=B(t),l=B(n);if(!r&&l.indexOf(t)>=0||o&&t===n)return U.DOCUMENT_POSITION_CONTAINS+U.DOCUMENT_POSITION_PRECEDING;if(!o&&s.indexOf(n)>=0||r&&t===n)return U.DOCUMENT_POSITION_CONTAINED_BY+U.DOCUMENT_POSITION_FOLLOWING;var c=F(l,s);for(var u in c.childNodes){var p=c.childNodes[u];if(p===n)return U.DOCUMENT_POSITION_FOLLOWING;if(p===t)return U.DOCUMENT_POSITION_PRECEDING;if(l.indexOf(p)>=0)return U.DOCUMENT_POSITION_FOLLOWING;if(s.indexOf(p)>=0)return U.DOCUMENT_POSITION_PRECEDING}return 0}},E(_,J),E(_,J.prototype),E(U,J),E(U,J.prototype),$.prototype={implementation:null,nodeName:"#document",nodeType:O,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType===M){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return pe(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===P&&(this.documentElement=e),e},removeChild:function(e){var t=ne(this,e);return t===this.documentElement&&(this.documentElement=null),t},replaceChild:function(e,t){pe(this,e,t,ue),e.ownerDocument=this,t&&this.removeChild(t),oe(e)&&(this.documentElement=e)},importNode:function(e,t){return Te(this,e,t)},getElementById:function(e){var t=null;return Q(this.documentElement,(function(n){if(n.nodeType==P&&n.getAttribute("id")==e)return t=n,!0})),t},createElement:function(e){var t=new de(d);return t.ownerDocument=this,"html"===this.type&&(e=e.toLowerCase()),i(this.contentType)&&(t.namespaceURI=p.HTML),t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new q,(t.attributes=new V)._ownerElement=t,t},createDocumentFragment:function(){var e=new be(d);return e.ownerDocument=this,e.childNodes=new q,e},createTextNode:function(e){var t=new fe(d);return t.ownerDocument=this,t.childNodes=new q,t.appendData(e),t},createComment:function(e){var t=new me(d);return t.ownerDocument=this,t.childNodes=new q,t.appendData(e),t},createCDATASection:function(e){var t=new ye(d);return t.ownerDocument=this,t.childNodes=new q,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new Ee(d);return n.ownerDocument=this,n.childNodes=new q,n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){if(!m.QName_exact.test(e))throw new g(g.INVALID_CHARACTER_ERR,'invalid character in name "'+e+'"');return"html"===this.type&&(e=e.toLowerCase()),this._createAttribute(e)},_createAttribute:function(e){var t=new he(d);return t.ownerDocument=this,t.childNodes=new q,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){if(!m.Name.test(e))throw new g(g.INVALID_CHARACTER_ERR,'not a valid xml name "'+e+'"');if("html"===this.type)throw new g("document is an html document",f.NotSupportedError);var t=new Ae(d);return t.ownerDocument=this,t.childNodes=new q,t.nodeName=e,t},createElementNS:function(e,t){var n=b(e,t),r=new de(d),o=r.attributes=new V;return r.childNodes=new q,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=n[0],r.prefix=n[1],r.localName=n[2],o._ownerElement=r,r},createAttributeNS:function(e,t){var n=b(e,t),r=new he(d);return r.ownerDocument=this,r.childNodes=new q,r.nodeName=t,r.name=t,r.specified=!0,r.namespaceURI=n[0],r.prefix=n[1],r.localName=n[2],r}},w($,J),de.prototype={nodeType:P,attributes:null,getQualifiedName:function(){return this.prefix?this.prefix+":"+this.localName:this.localName},_isInHTMLDocumentAndNamespace:function(){return"html"===this.ownerDocument.type&&this.namespaceURI===p.HTML},hasAttribute:function(e){return!!this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t?t.value:null},getAttributeNode:function(e){return this._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase()),this.attributes.getNamedItem(e)},setAttribute:function(e,t){this._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase());var n=this.getAttributeNode(e);n?n.value=n.nodeValue=""+t:((n=this.ownerDocument._createAttribute(e)).value=n.nodeValue=""+t,this.setAttributeNode(n))},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n?n.value:null},setAttributeNS:function(e,t,n){var r=b(e,t)[2],o=this.getAttributeNodeNS(e,r);o?o.value=o.nodeValue=""+n:((o=this.ownerDocument.createAttributeNS(e,t)).value=o.nodeValue=""+n,this.setAttributeNode(o))},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByClassName:function(e){var t=I(e);return new z(this,(function(n){var r=[];return t.length>0&&Q(n,(function(o){if(o!==n&&o.nodeType===P){var i=o.getAttribute("class");if(i){var a=e===i;if(!a){var s=I(i);a=t.every((l=s,function(e){return l&&-1!==l.indexOf(e)}))}a&&r.push(o)}}var l})),r}))},getElementsByTagName:function(e){var t="html"===(this.nodeType===O?this:this.ownerDocument).type,n=e.toLowerCase();return new z(this,(function(r){var o=[];return Q(r,(function(i){i!==r&&i.nodeType===P&&(("*"===e||i.getQualifiedName()===(t&&i.namespaceURI===p.HTML?n:e))&&o.push(i))})),o}))},getElementsByTagNameNS:function(e,t){return new z(this,(function(n){var r=[];return Q(n,(function(o){o===n||o.nodeType!==P||"*"!==e&&o.namespaceURI!==e||"*"!==t&&o.localName!=t||r.push(o)})),r}))}},$.prototype.getElementsByClassName=de.prototype.getElementsByClassName,$.prototype.getElementsByTagName=de.prototype.getElementsByTagName,$.prototype.getElementsByTagNameNS=de.prototype.getElementsByTagNameNS,w(de,J),he.prototype.nodeType=S,w(he,J),ge.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},w(ge,J),fe.prototype={nodeName:"#text",nodeType:x,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},w(fe,ge),me.prototype={nodeName:"#comment",nodeType:L},w(me,ge),ye.prototype={nodeName:"#cdata-section",nodeType:T},w(ye,fe),ve.prototype.nodeType=D,w(ve,J),Ce.prototype.nodeType=G,w(Ce,J),Ie.prototype.nodeType=R,w(Ie,J),Ae.prototype.nodeType=k,w(Ae,J),be.prototype.nodeName="#document-fragment",be.prototype.nodeType=M,w(be,J),Ee.prototype.nodeType=N,w(Ee,ge),we.prototype.serializeToString=function(e,t){return _e.call(e,t)},J.prototype.toString=_e;try{if(Object.defineProperty){function Ne(e){switch(e.nodeType){case P:case M:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(Ne(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(z.prototype,"length",{get:function(){return H(this),this.$$length}}),Object.defineProperty(J.prototype,"textContent",{get:function(){return Ne(this)},set:function(e){switch(this.nodeType){case P:case M:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Re=function(e,t,n){e["$$"+t]=n}}}catch(Le){}t._updateLiveList=H,t.Attr=he,t.CDATASection=ye,t.CharacterData=ge,t.Comment=me,t.Document=$,t.DocumentFragment=be,t.DocumentType=ve,t.DOMImplementation=Z,t.Element=de,t.Entity=Ie,t.EntityReference=Ae,t.LiveNodeList=z,t.NamedNodeMap=V,t.Node=J,t.NodeList=q,t.Notation=Ce,t.Text=fe,t.ProcessingInstruction=Ee,t.XMLSerializer=we},6559:(e,t,n)=>{"use strict";var r=n(4582).freeze;t.XML_ENTITIES=r({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=r({Aacute:"Ã",aacute:"Ã¡",Abreve:"Ä‚",abreve:"Äƒ",ac:"âˆ¾",acd:"âˆ¿",acE:"âˆ¾Ì³",Acirc:"Ã‚",acirc:"Ã¢",acute:"Â´",Acy:"Ğ",acy:"Ğ°",AElig:"Ã†",aelig:"Ã¦",af:"â¡",Afr:"ğ”„",afr:"ğ”",Agrave:"Ã€",agrave:"Ã ",alefsym:"â„µ",aleph:"â„µ",Alpha:"Î‘",alpha:"Î±",Amacr:"Ä€",amacr:"Ä",amalg:"â¨¿",AMP:"&",amp:"&",And:"â©“",and:"âˆ§",andand:"â©•",andd:"â©œ",andslope:"â©˜",andv:"â©š",ang:"âˆ ",ange:"â¦¤",angle:"âˆ ",angmsd:"âˆ¡",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angrt:"âˆŸ",angrtvb:"âŠ¾",angrtvbd:"â¦",angsph:"âˆ¢",angst:"Ã…",angzarr:"â¼",Aogon:"Ä„",aogon:"Ä…",Aopf:"ğ”¸",aopf:"ğ•’",ap:"â‰ˆ",apacir:"â©¯",apE:"â©°",ape:"â‰Š",apid:"â‰‹",apos:"'",ApplyFunction:"â¡",approx:"â‰ˆ",approxeq:"â‰Š",Aring:"Ã…",aring:"Ã¥",Ascr:"ğ’œ",ascr:"ğ’¶",Assign:"â‰”",ast:"*",asymp:"â‰ˆ",asympeq:"â‰",Atilde:"Ãƒ",atilde:"Ã£",Auml:"Ã„",auml:"Ã¤",awconint:"âˆ³",awint:"â¨‘",backcong:"â‰Œ",backepsilon:"Ï¶",backprime:"â€µ",backsim:"âˆ½",backsimeq:"â‹",Backslash:"âˆ–",Barv:"â«§",barvee:"âŠ½",Barwed:"âŒ†",barwed:"âŒ…",barwedge:"âŒ…",bbrk:"âµ",bbrktbrk:"â¶",bcong:"â‰Œ",Bcy:"Ğ‘",bcy:"Ğ±",bdquo:"â€",becaus:"âˆµ",Because:"âˆµ",because:"âˆµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â„¬",Bernoullis:"â„¬",Beta:"Î’",beta:"Î²",beth:"â„¶",between:"â‰¬",Bfr:"ğ”…",bfr:"ğ”Ÿ",bigcap:"â‹‚",bigcirc:"â—¯",bigcup:"â‹ƒ",bigodot:"â¨€",bigoplus:"â¨",bigotimes:"â¨‚",bigsqcup:"â¨†",bigstar:"â˜…",bigtriangledown:"â–½",bigtriangleup:"â–³",biguplus:"â¨„",bigvee:"â‹",bigwedge:"â‹€",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"â–ª",blacktriangle:"â–´",blacktriangledown:"â–¾",blacktriangleleft:"â—‚",blacktriangleright:"â–¸",blank:"â£",blk12:"â–’",blk14:"â–‘",blk34:"â–“",block:"â–ˆ",bne:"=âƒ¥",bnequiv:"â‰¡âƒ¥",bNot:"â«­",bnot:"âŒ",Bopf:"ğ”¹",bopf:"ğ•“",bot:"âŠ¥",bottom:"âŠ¥",bowtie:"â‹ˆ",boxbox:"â§‰",boxDL:"â•—",boxDl:"â•–",boxdL:"â••",boxdl:"â”",boxDR:"â•”",boxDr:"â•“",boxdR:"â•’",boxdr:"â”Œ",boxH:"â•",boxh:"â”€",boxHD:"â•¦",boxHd:"â•¤",boxhD:"â•¥",boxhd:"â”¬",boxHU:"â•©",boxHu:"â•§",boxhU:"â•¨",boxhu:"â”´",boxminus:"âŠŸ",boxplus:"âŠ",boxtimes:"âŠ ",boxUL:"â•",boxUl:"â•œ",boxuL:"â•›",boxul:"â”˜",boxUR:"â•š",boxUr:"â•™",boxuR:"â•˜",boxur:"â””",boxV:"â•‘",boxv:"â”‚",boxVH:"â•¬",boxVh:"â•«",boxvH:"â•ª",boxvh:"â”¼",boxVL:"â•£",boxVl:"â•¢",boxvL:"â•¡",boxvl:"â”¤",boxVR:"â• ",boxVr:"â•Ÿ",boxvR:"â•",boxvr:"â”œ",bprime:"â€µ",Breve:"Ë˜",breve:"Ë˜",brvbar:"Â¦",Bscr:"â„¬",bscr:"ğ’·",bsemi:"â",bsim:"âˆ½",bsime:"â‹",bsol:"\\",bsolb:"â§…",bsolhsub:"âŸˆ",bull:"â€¢",bullet:"â€¢",bump:"â‰",bumpE:"âª®",bumpe:"â‰",Bumpeq:"â‰",bumpeq:"â‰",Cacute:"Ä†",cacute:"Ä‡",Cap:"â‹’",cap:"âˆ©",capand:"â©„",capbrcup:"â©‰",capcap:"â©‹",capcup:"â©‡",capdot:"â©€",CapitalDifferentialD:"â……",caps:"âˆ©ï¸€",caret:"â",caron:"Ë‡",Cayleys:"â„­",ccaps:"â©",Ccaron:"ÄŒ",ccaron:"Ä",Ccedil:"Ã‡",ccedil:"Ã§",Ccirc:"Äˆ",ccirc:"Ä‰",Cconint:"âˆ°",ccups:"â©Œ",ccupssm:"â©",Cdot:"ÄŠ",cdot:"Ä‹",cedil:"Â¸",Cedilla:"Â¸",cemptyv:"â¦²",cent:"Â¢",CenterDot:"Â·",centerdot:"Â·",Cfr:"â„­",cfr:"ğ” ",CHcy:"Ğ§",chcy:"Ñ‡",check:"âœ“",checkmark:"âœ“",Chi:"Î§",chi:"Ï‡",cir:"â—‹",circ:"Ë†",circeq:"â‰—",circlearrowleft:"â†º",circlearrowright:"â†»",circledast:"âŠ›",circledcirc:"âŠš",circleddash:"âŠ",CircleDot:"âŠ™",circledR:"Â®",circledS:"â“ˆ",CircleMinus:"âŠ–",CirclePlus:"âŠ•",CircleTimes:"âŠ—",cirE:"â§ƒ",cire:"â‰—",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§‚",ClockwiseContourIntegral:"âˆ²",CloseCurlyDoubleQuote:"â€",CloseCurlyQuote:"â€™",clubs:"â™£",clubsuit:"â™£",Colon:"âˆ·",colon:":",Colone:"â©´",colone:"â‰”",coloneq:"â‰”",comma:",",commat:"@",comp:"âˆ",compfn:"âˆ˜",complement:"âˆ",complexes:"â„‚",cong:"â‰…",congdot:"â©­",Congruent:"â‰¡",Conint:"âˆ¯",conint:"âˆ®",ContourIntegral:"âˆ®",Copf:"â„‚",copf:"ğ•”",coprod:"âˆ",Coproduct:"âˆ",COPY:"Â©",copy:"Â©",copysr:"â„—",CounterClockwiseContourIntegral:"âˆ³",crarr:"â†µ",Cross:"â¨¯",cross:"âœ—",Cscr:"ğ’",cscr:"ğ’¸",csub:"â«",csube:"â«‘",csup:"â«",csupe:"â«’",ctdot:"â‹¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â‹",cuesc:"â‹Ÿ",cularr:"â†¶",cularrp:"â¤½",Cup:"â‹“",cup:"âˆª",cupbrcap:"â©ˆ",CupCap:"â‰",cupcap:"â©†",cupcup:"â©Š",cupdot:"âŠ",cupor:"â©…",cups:"âˆªï¸€",curarr:"â†·",curarrm:"â¤¼",curlyeqprec:"â‹",curlyeqsucc:"â‹Ÿ",curlyvee:"â‹",curlywedge:"â‹",curren:"Â¤",curvearrowleft:"â†¶",curvearrowright:"â†·",cuvee:"â‹",cuwed:"â‹",cwconint:"âˆ²",cwint:"âˆ±",cylcty:"âŒ­",Dagger:"â€¡",dagger:"â€ ",daleth:"â„¸",Darr:"â†¡",dArr:"â‡“",darr:"â†“",dash:"â€",Dashv:"â«¤",dashv:"âŠ£",dbkarow:"â¤",dblac:"Ë",Dcaron:"Ä",dcaron:"Ä",Dcy:"Ğ”",dcy:"Ğ´",DD:"â……",dd:"â…†",ddagger:"â€¡",ddarr:"â‡Š",DDotrahd:"â¤‘",ddotseq:"â©·",deg:"Â°",Del:"âˆ‡",Delta:"Î”",delta:"Î´",demptyv:"â¦±",dfisht:"â¥¿",Dfr:"ğ”‡",dfr:"ğ”¡",dHar:"â¥¥",dharl:"â‡ƒ",dharr:"â‡‚",DiacriticalAcute:"Â´",DiacriticalDot:"Ë™",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ëœ",diam:"â‹„",Diamond:"â‹„",diamond:"â‹„",diamondsuit:"â™¦",diams:"â™¦",die:"Â¨",DifferentialD:"â…†",digamma:"Ï",disin:"â‹²",div:"Ã·",divide:"Ã·",divideontimes:"â‹‡",divonx:"â‹‡",DJcy:"Ğ‚",djcy:"Ñ’",dlcorn:"âŒ",dlcrop:"âŒ",dollar:"$",Dopf:"ğ”»",dopf:"ğ••",Dot:"Â¨",dot:"Ë™",DotDot:"âƒœ",doteq:"â‰",doteqdot:"â‰‘",DotEqual:"â‰",dotminus:"âˆ¸",dotplus:"âˆ”",dotsquare:"âŠ¡",doublebarwedge:"âŒ†",DoubleContourIntegral:"âˆ¯",DoubleDot:"Â¨",DoubleDownArrow:"â‡“",DoubleLeftArrow:"â‡",DoubleLeftRightArrow:"â‡”",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"âŸ¸",DoubleLongLeftRightArrow:"âŸº",DoubleLongRightArrow:"âŸ¹",DoubleRightArrow:"â‡’",DoubleRightTee:"âŠ¨",DoubleUpArrow:"â‡‘",DoubleUpDownArrow:"â‡•",DoubleVerticalBar:"âˆ¥",DownArrow:"â†“",Downarrow:"â‡“",downarrow:"â†“",DownArrowBar:"â¤“",DownArrowUpArrow:"â‡µ",DownBreve:"Ì‘",downdownarrows:"â‡Š",downharpoonleft:"â‡ƒ",downharpoonright:"â‡‚",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥",DownLeftVector:"â†½",DownLeftVectorBar:"â¥–",DownRightTeeVector:"â¥Ÿ",DownRightVector:"â‡",DownRightVectorBar:"â¥—",DownTee:"âŠ¤",DownTeeArrow:"â†§",drbkarow:"â¤",drcorn:"âŒŸ",drcrop:"âŒŒ",Dscr:"ğ’Ÿ",dscr:"ğ’¹",DScy:"Ğ…",dscy:"Ñ•",dsol:"â§¶",Dstrok:"Ä",dstrok:"Ä‘",dtdot:"â‹±",dtri:"â–¿",dtrif:"â–¾",duarr:"â‡µ",duhar:"â¥¯",dwangle:"â¦¦",DZcy:"Ğ",dzcy:"ÑŸ",dzigrarr:"âŸ¿",Eacute:"Ã‰",eacute:"Ã©",easter:"â©®",Ecaron:"Äš",ecaron:"Ä›",ecir:"â‰–",Ecirc:"ÃŠ",ecirc:"Ãª",ecolon:"â‰•",Ecy:"Ğ­",ecy:"Ñ",eDDot:"â©·",Edot:"Ä–",eDot:"â‰‘",edot:"Ä—",ee:"â…‡",efDot:"â‰’",Efr:"ğ”ˆ",efr:"ğ”¢",eg:"âªš",Egrave:"Ãˆ",egrave:"Ã¨",egs:"âª–",egsdot:"âª˜",el:"âª™",Element:"âˆˆ",elinters:"â§",ell:"â„“",els:"âª•",elsdot:"âª—",Emacr:"Ä’",emacr:"Ä“",empty:"âˆ…",emptyset:"âˆ…",EmptySmallSquare:"â—»",emptyv:"âˆ…",EmptyVerySmallSquare:"â–«",emsp:"â€ƒ",emsp13:"â€„",emsp14:"â€…",ENG:"ÅŠ",eng:"Å‹",ensp:"â€‚",Eogon:"Ä˜",eogon:"Ä™",Eopf:"ğ”¼",eopf:"ğ•–",epar:"â‹•",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",Epsilon:"Î•",epsilon:"Îµ",epsiv:"Ïµ",eqcirc:"â‰–",eqcolon:"â‰•",eqsim:"â‰‚",eqslantgtr:"âª–",eqslantless:"âª•",Equal:"â©µ",equals:"=",EqualTilde:"â‰‚",equest:"â‰Ÿ",Equilibrium:"â‡Œ",equiv:"â‰¡",equivDD:"â©¸",eqvparsl:"â§¥",erarr:"â¥±",erDot:"â‰“",Escr:"â„°",escr:"â„¯",esdot:"â‰",Esim:"â©³",esim:"â‰‚",Eta:"Î—",eta:"Î·",ETH:"Ã",eth:"Ã°",Euml:"Ã‹",euml:"Ã«",euro:"â‚¬",excl:"!",exist:"âˆƒ",Exists:"âˆƒ",expectation:"â„°",ExponentialE:"â…‡",exponentiale:"â…‡",fallingdotseq:"â‰’",Fcy:"Ğ¤",fcy:"Ñ„",female:"â™€",ffilig:"ï¬ƒ",fflig:"ï¬€",ffllig:"ï¬„",Ffr:"ğ”‰",ffr:"ğ”£",filig:"ï¬",FilledSmallSquare:"â—¼",FilledVerySmallSquare:"â–ª",fjlig:"fj",flat:"â™­",fllig:"ï¬‚",fltns:"â–±",fnof:"Æ’",Fopf:"ğ”½",fopf:"ğ•—",ForAll:"âˆ€",forall:"âˆ€",fork:"â‹”",forkv:"â«™",Fouriertrf:"â„±",fpartint:"â¨",frac12:"Â½",frac13:"â…“",frac14:"Â¼",frac15:"â…•",frac16:"â…™",frac18:"â…›",frac23:"â…”",frac25:"â…–",frac34:"Â¾",frac35:"â…—",frac38:"â…œ",frac45:"â…˜",frac56:"â…š",frac58:"â…",frac78:"â…",frasl:"â„",frown:"âŒ¢",Fscr:"â„±",fscr:"ğ’»",gacute:"Çµ",Gamma:"Î“",gamma:"Î³",Gammad:"Ïœ",gammad:"Ï",gap:"âª†",Gbreve:"Ä",gbreve:"ÄŸ",Gcedil:"Ä¢",Gcirc:"Äœ",gcirc:"Ä",Gcy:"Ğ“",gcy:"Ğ³",Gdot:"Ä ",gdot:"Ä¡",gE:"â‰§",ge:"â‰¥",gEl:"âªŒ",gel:"â‹›",geq:"â‰¥",geqq:"â‰§",geqslant:"â©¾",ges:"â©¾",gescc:"âª©",gesdot:"âª€",gesdoto:"âª‚",gesdotol:"âª„",gesl:"â‹›ï¸€",gesles:"âª”",Gfr:"ğ”Š",gfr:"ğ”¤",Gg:"â‹™",gg:"â‰«",ggg:"â‹™",gimel:"â„·",GJcy:"Ğƒ",gjcy:"Ñ“",gl:"â‰·",gla:"âª¥",glE:"âª’",glj:"âª¤",gnap:"âªŠ",gnapprox:"âªŠ",gnE:"â‰©",gne:"âªˆ",gneq:"âªˆ",gneqq:"â‰©",gnsim:"â‹§",Gopf:"ğ”¾",gopf:"ğ•˜",grave:"`",GreaterEqual:"â‰¥",GreaterEqualLess:"â‹›",GreaterFullEqual:"â‰§",GreaterGreater:"âª¢",GreaterLess:"â‰·",GreaterSlantEqual:"â©¾",GreaterTilde:"â‰³",Gscr:"ğ’¢",gscr:"â„Š",gsim:"â‰³",gsime:"âª",gsiml:"âª",Gt:"â‰«",GT:">",gt:">",gtcc:"âª§",gtcir:"â©º",gtdot:"â‹—",gtlPar:"â¦•",gtquest:"â©¼",gtrapprox:"âª†",gtrarr:"â¥¸",gtrdot:"â‹—",gtreqless:"â‹›",gtreqqless:"âªŒ",gtrless:"â‰·",gtrsim:"â‰³",gvertneqq:"â‰©ï¸€",gvnE:"â‰©ï¸€",Hacek:"Ë‡",hairsp:"â€Š",half:"Â½",hamilt:"â„‹",HARDcy:"Ğª",hardcy:"ÑŠ",hArr:"â‡”",harr:"â†”",harrcir:"â¥ˆ",harrw:"â†­",Hat:"^",hbar:"â„",Hcirc:"Ä¤",hcirc:"Ä¥",hearts:"â™¥",heartsuit:"â™¥",hellip:"â€¦",hercon:"âŠ¹",Hfr:"â„Œ",hfr:"ğ”¥",HilbertSpace:"â„‹",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â‡¿",homtht:"âˆ»",hookleftarrow:"â†©",hookrightarrow:"â†ª",Hopf:"â„",hopf:"ğ•™",horbar:"â€•",HorizontalLine:"â”€",Hscr:"â„‹",hscr:"ğ’½",hslash:"â„",Hstrok:"Ä¦",hstrok:"Ä§",HumpDownHump:"â‰",HumpEqual:"â‰",hybull:"âƒ",hyphen:"â€",Iacute:"Ã",iacute:"Ã­",ic:"â£",Icirc:"Ã",icirc:"Ã®",Icy:"Ğ˜",icy:"Ğ¸",Idot:"Ä°",IEcy:"Ğ•",iecy:"Ğµ",iexcl:"Â¡",iff:"â‡”",Ifr:"â„‘",ifr:"ğ”¦",Igrave:"ÃŒ",igrave:"Ã¬",ii:"â…ˆ",iiiint:"â¨Œ",iiint:"âˆ­",iinfin:"â§œ",iiota:"â„©",IJlig:"Ä²",ijlig:"Ä³",Im:"â„‘",Imacr:"Äª",imacr:"Ä«",image:"â„‘",ImaginaryI:"â…ˆ",imagline:"â„",imagpart:"â„‘",imath:"Ä±",imof:"âŠ·",imped:"Æµ",Implies:"â‡’",in:"âˆˆ",incare:"â„…",infin:"âˆ",infintie:"â§",inodot:"Ä±",Int:"âˆ¬",int:"âˆ«",intcal:"âŠº",integers:"â„¤",Integral:"âˆ«",intercal:"âŠº",Intersection:"â‹‚",intlarhk:"â¨—",intprod:"â¨¼",InvisibleComma:"â£",InvisibleTimes:"â¢",IOcy:"Ğ",iocy:"Ñ‘",Iogon:"Ä®",iogon:"Ä¯",Iopf:"ğ•€",iopf:"ğ•š",Iota:"Î™",iota:"Î¹",iprod:"â¨¼",iquest:"Â¿",Iscr:"â„",iscr:"ğ’¾",isin:"âˆˆ",isindot:"â‹µ",isinE:"â‹¹",isins:"â‹´",isinsv:"â‹³",isinv:"âˆˆ",it:"â¢",Itilde:"Ä¨",itilde:"Ä©",Iukcy:"Ğ†",iukcy:"Ñ–",Iuml:"Ã",iuml:"Ã¯",Jcirc:"Ä´",jcirc:"Äµ",Jcy:"Ğ™",jcy:"Ğ¹",Jfr:"ğ”",jfr:"ğ”§",jmath:"È·",Jopf:"ğ•",jopf:"ğ•›",Jscr:"ğ’¥",jscr:"ğ’¿",Jsercy:"Ğˆ",jsercy:"Ñ˜",Jukcy:"Ğ„",jukcy:"Ñ”",Kappa:"Îš",kappa:"Îº",kappav:"Ï°",Kcedil:"Ä¶",kcedil:"Ä·",Kcy:"Ğš",kcy:"Ğº",Kfr:"ğ”",kfr:"ğ”¨",kgreen:"Ä¸",KHcy:"Ğ¥",khcy:"Ñ…",KJcy:"ĞŒ",kjcy:"Ñœ",Kopf:"ğ•‚",kopf:"ğ•œ",Kscr:"ğ’¦",kscr:"ğ“€",lAarr:"â‡š",Lacute:"Ä¹",lacute:"Äº",laemptyv:"â¦´",lagran:"â„’",Lambda:"Î›",lambda:"Î»",Lang:"âŸª",lang:"âŸ¨",langd:"â¦‘",langle:"âŸ¨",lap:"âª…",Laplacetrf:"â„’",laquo:"Â«",Larr:"â†",lArr:"â‡",larr:"â†",larrb:"â‡¤",larrbfs:"â¤Ÿ",larrfs:"â¤",larrhk:"â†©",larrlp:"â†«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â†¢",lat:"âª«",lAtail:"â¤›",latail:"â¤™",late:"âª­",lates:"âª­ï¸€",lBarr:"â¤",lbarr:"â¤Œ",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦‹",lbrksld:"â¦",lbrkslu:"â¦",Lcaron:"Ä½",lcaron:"Ä¾",Lcedil:"Ä»",lcedil:"Ä¼",lceil:"âŒˆ",lcub:"{",Lcy:"Ğ›",lcy:"Ğ»",ldca:"â¤¶",ldquo:"â€œ",ldquor:"â€",ldrdhar:"â¥§",ldrushar:"â¥‹",ldsh:"â†²",lE:"â‰¦",le:"â‰¤",LeftAngleBracket:"âŸ¨",LeftArrow:"â†",Leftarrow:"â‡",leftarrow:"â†",LeftArrowBar:"â‡¤",LeftArrowRightArrow:"â‡†",leftarrowtail:"â†¢",LeftCeiling:"âŒˆ",LeftDoubleBracket:"âŸ¦",LeftDownTeeVector:"â¥¡",LeftDownVector:"â‡ƒ",LeftDownVectorBar:"â¥™",LeftFloor:"âŒŠ",leftharpoondown:"â†½",leftharpoonup:"â†¼",leftleftarrows:"â‡‡",LeftRightArrow:"â†”",Leftrightarrow:"â‡”",leftrightarrow:"â†”",leftrightarrows:"â‡†",leftrightharpoons:"â‡‹",leftrightsquigarrow:"â†­",LeftRightVector:"â¥",LeftTee:"âŠ£",LeftTeeArrow:"â†¤",LeftTeeVector:"â¥š",leftthreetimes:"â‹‹",LeftTriangle:"âŠ²",LeftTriangleBar:"â§",LeftTriangleEqual:"âŠ´",LeftUpDownVector:"â¥‘",LeftUpTeeVector:"â¥ ",LeftUpVector:"â†¿",LeftUpVectorBar:"â¥˜",LeftVector:"â†¼",LeftVectorBar:"â¥’",lEg:"âª‹",leg:"â‹š",leq:"â‰¤",leqq:"â‰¦",leqslant:"â©½",les:"â©½",lescc:"âª¨",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âªƒ",lesg:"â‹šï¸€",lesges:"âª“",lessapprox:"âª…",lessdot:"â‹–",lesseqgtr:"â‹š",lesseqqgtr:"âª‹",LessEqualGreater:"â‹š",LessFullEqual:"â‰¦",LessGreater:"â‰¶",lessgtr:"â‰¶",LessLess:"âª¡",lesssim:"â‰²",LessSlantEqual:"â©½",LessTilde:"â‰²",lfisht:"â¥¼",lfloor:"âŒŠ",Lfr:"ğ”",lfr:"ğ”©",lg:"â‰¶",lgE:"âª‘",lHar:"â¥¢",lhard:"â†½",lharu:"â†¼",lharul:"â¥ª",lhblk:"â–„",LJcy:"Ğ‰",ljcy:"Ñ™",Ll:"â‹˜",ll:"â‰ª",llarr:"â‡‡",llcorner:"âŒ",Lleftarrow:"â‡š",llhard:"â¥«",lltri:"â—º",Lmidot:"Ä¿",lmidot:"Å€",lmoust:"â°",lmoustache:"â°",lnap:"âª‰",lnapprox:"âª‰",lnE:"â‰¨",lne:"âª‡",lneq:"âª‡",lneqq:"â‰¨",lnsim:"â‹¦",loang:"âŸ¬",loarr:"â‡½",lobrk:"âŸ¦",LongLeftArrow:"âŸµ",Longleftarrow:"âŸ¸",longleftarrow:"âŸµ",LongLeftRightArrow:"âŸ·",Longleftrightarrow:"âŸº",longleftrightarrow:"âŸ·",longmapsto:"âŸ¼",LongRightArrow:"âŸ¶",Longrightarrow:"âŸ¹",longrightarrow:"âŸ¶",looparrowleft:"â†«",looparrowright:"â†¬",lopar:"â¦…",Lopf:"ğ•ƒ",lopf:"ğ•",loplus:"â¨­",lotimes:"â¨´",lowast:"âˆ—",lowbar:"_",LowerLeftArrow:"â†™",LowerRightArrow:"â†˜",loz:"â—Š",lozenge:"â—Š",lozf:"â§«",lpar:"(",lparlt:"â¦“",lrarr:"â‡†",lrcorner:"âŒŸ",lrhar:"â‡‹",lrhard:"â¥­",lrm:"â€",lrtri:"âŠ¿",lsaquo:"â€¹",Lscr:"â„’",lscr:"ğ“",Lsh:"â†°",lsh:"â†°",lsim:"â‰²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â€˜",lsquor:"â€š",Lstrok:"Å",lstrok:"Å‚",Lt:"â‰ª",LT:"<",lt:"<",ltcc:"âª¦",ltcir:"â©¹",ltdot:"â‹–",lthree:"â‹‹",ltimes:"â‹‰",ltlarr:"â¥¶",ltquest:"â©»",ltri:"â—ƒ",ltrie:"âŠ´",ltrif:"â—‚",ltrPar:"â¦–",lurdshar:"â¥Š",luruhar:"â¥¦",lvertneqq:"â‰¨ï¸€",lvnE:"â‰¨ï¸€",macr:"Â¯",male:"â™‚",malt:"âœ ",maltese:"âœ ",Map:"â¤…",map:"â†¦",mapsto:"â†¦",mapstodown:"â†§",mapstoleft:"â†¤",mapstoup:"â†¥",marker:"â–®",mcomma:"â¨©",Mcy:"Ğœ",mcy:"Ğ¼",mdash:"â€”",mDDot:"âˆº",measuredangle:"âˆ¡",MediumSpace:"âŸ",Mellintrf:"â„³",Mfr:"ğ”",mfr:"ğ”ª",mho:"â„§",micro:"Âµ",mid:"âˆ£",midast:"*",midcir:"â«°",middot:"Â·",minus:"âˆ’",minusb:"âŠŸ",minusd:"âˆ¸",minusdu:"â¨ª",MinusPlus:"âˆ“",mlcp:"â«›",mldr:"â€¦",mnplus:"âˆ“",models:"âŠ§",Mopf:"ğ•„",mopf:"ğ•",mp:"âˆ“",Mscr:"â„³",mscr:"ğ“‚",mstpos:"âˆ¾",Mu:"Îœ",mu:"Î¼",multimap:"âŠ¸",mumap:"âŠ¸",nabla:"âˆ‡",Nacute:"Åƒ",nacute:"Å„",nang:"âˆ âƒ’",nap:"â‰‰",napE:"â©°Ì¸",napid:"â‰‹Ì¸",napos:"Å‰",napprox:"â‰‰",natur:"â™®",natural:"â™®",naturals:"â„•",nbsp:"Â ",nbump:"â‰Ì¸",nbumpe:"â‰Ì¸",ncap:"â©ƒ",Ncaron:"Å‡",ncaron:"Åˆ",Ncedil:"Å…",ncedil:"Å†",ncong:"â‰‡",ncongdot:"â©­Ì¸",ncup:"â©‚",Ncy:"Ğ",ncy:"Ğ½",ndash:"â€“",ne:"â‰ ",nearhk:"â¤¤",neArr:"â‡—",nearr:"â†—",nearrow:"â†—",nedot:"â‰Ì¸",NegativeMediumSpace:"â€‹",NegativeThickSpace:"â€‹",NegativeThinSpace:"â€‹",NegativeVeryThinSpace:"â€‹",nequiv:"â‰¢",nesear:"â¤¨",nesim:"â‰‚Ì¸",NestedGreaterGreater:"â‰«",NestedLessLess:"â‰ª",NewLine:"\n",nexist:"âˆ„",nexists:"âˆ„",Nfr:"ğ”‘",nfr:"ğ”«",ngE:"â‰§Ì¸",nge:"â‰±",ngeq:"â‰±",ngeqq:"â‰§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",nGg:"â‹™Ì¸",ngsim:"â‰µ",nGt:"â‰«âƒ’",ngt:"â‰¯",ngtr:"â‰¯",nGtv:"â‰«Ì¸",nhArr:"â‡",nharr:"â†®",nhpar:"â«²",ni:"âˆ‹",nis:"â‹¼",nisd:"â‹º",niv:"âˆ‹",NJcy:"ĞŠ",njcy:"Ñš",nlArr:"â‡",nlarr:"â†š",nldr:"â€¥",nlE:"â‰¦Ì¸",nle:"â‰°",nLeftarrow:"â‡",nleftarrow:"â†š",nLeftrightarrow:"â‡",nleftrightarrow:"â†®",nleq:"â‰°",nleqq:"â‰¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â‰®",nLl:"â‹˜Ì¸",nlsim:"â‰´",nLt:"â‰ªâƒ’",nlt:"â‰®",nltri:"â‹ª",nltrie:"â‹¬",nLtv:"â‰ªÌ¸",nmid:"âˆ¤",NoBreak:"â ",NonBreakingSpace:"Â ",Nopf:"â„•",nopf:"ğ•Ÿ",Not:"â«¬",not:"Â¬",NotCongruent:"â‰¢",NotCupCap:"â‰­",NotDoubleVerticalBar:"âˆ¦",NotElement:"âˆ‰",NotEqual:"â‰ ",NotEqualTilde:"â‰‚Ì¸",NotExists:"âˆ„",NotGreater:"â‰¯",NotGreaterEqual:"â‰±",NotGreaterFullEqual:"â‰§Ì¸",NotGreaterGreater:"â‰«Ì¸",NotGreaterLess:"â‰¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"â‰µ",NotHumpDownHump:"â‰Ì¸",NotHumpEqual:"â‰Ì¸",notin:"âˆ‰",notindot:"â‹µÌ¸",notinE:"â‹¹Ì¸",notinva:"âˆ‰",notinvb:"â‹·",notinvc:"â‹¶",NotLeftTriangle:"â‹ª",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangleEqual:"â‹¬",NotLess:"â‰®",NotLessEqual:"â‰°",NotLessGreater:"â‰¸",NotLessLess:"â‰ªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â‰´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",notni:"âˆŒ",notniva:"âˆŒ",notnivb:"â‹¾",notnivc:"â‹½",NotPrecedes:"âŠ€",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â‹ ",NotReverseElement:"âˆŒ",NotRightTriangle:"â‹«",NotRightTriangleBar:"â§Ì¸",NotRightTriangleEqual:"â‹­",NotSquareSubset:"âŠÌ¸",NotSquareSubsetEqual:"â‹¢",NotSquareSuperset:"âŠÌ¸",NotSquareSupersetEqual:"â‹£",NotSubset:"âŠ‚âƒ’",NotSubsetEqual:"âŠˆ",NotSucceeds:"âŠ",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â‹¡",NotSucceedsTilde:"â‰¿Ì¸",NotSuperset:"âŠƒâƒ’",NotSupersetEqual:"âŠ‰",NotTilde:"â‰",NotTildeEqual:"â‰„",NotTildeFullEqual:"â‰‡",NotTildeTilde:"â‰‰",NotVerticalBar:"âˆ¤",npar:"âˆ¦",nparallel:"âˆ¦",nparsl:"â«½âƒ¥",npart:"âˆ‚Ì¸",npolint:"â¨”",npr:"âŠ€",nprcue:"â‹ ",npre:"âª¯Ì¸",nprec:"âŠ€",npreceq:"âª¯Ì¸",nrArr:"â‡",nrarr:"â†›",nrarrc:"â¤³Ì¸",nrarrw:"â†Ì¸",nRightarrow:"â‡",nrightarrow:"â†›",nrtri:"â‹«",nrtrie:"â‹­",nsc:"âŠ",nsccue:"â‹¡",nsce:"âª°Ì¸",Nscr:"ğ’©",nscr:"ğ“ƒ",nshortmid:"âˆ¤",nshortparallel:"âˆ¦",nsim:"â‰",nsime:"â‰„",nsimeq:"â‰„",nsmid:"âˆ¤",nspar:"âˆ¦",nsqsube:"â‹¢",nsqsupe:"â‹£",nsub:"âŠ„",nsubE:"â«…Ì¸",nsube:"âŠˆ",nsubset:"âŠ‚âƒ’",nsubseteq:"âŠˆ",nsubseteqq:"â«…Ì¸",nsucc:"âŠ",nsucceq:"âª°Ì¸",nsup:"âŠ…",nsupE:"â«†Ì¸",nsupe:"âŠ‰",nsupset:"âŠƒâƒ’",nsupseteq:"âŠ‰",nsupseteqq:"â«†Ì¸",ntgl:"â‰¹",Ntilde:"Ã‘",ntilde:"Ã±",ntlg:"â‰¸",ntriangleleft:"â‹ª",ntrianglelefteq:"â‹¬",ntriangleright:"â‹«",ntrianglerighteq:"â‹­",Nu:"Î",nu:"Î½",num:"#",numero:"â„–",numsp:"â€‡",nvap:"â‰âƒ’",nVDash:"âŠ¯",nVdash:"âŠ®",nvDash:"âŠ­",nvdash:"âŠ¬",nvge:"â‰¥âƒ’",nvgt:">âƒ’",nvHarr:"â¤„",nvinfin:"â§",nvlArr:"â¤‚",nvle:"â‰¤âƒ’",nvlt:"<âƒ’",nvltrie:"âŠ´âƒ’",nvrArr:"â¤ƒ",nvrtrie:"âŠµâƒ’",nvsim:"âˆ¼âƒ’",nwarhk:"â¤£",nwArr:"â‡–",nwarr:"â†–",nwarrow:"â†–",nwnear:"â¤§",Oacute:"Ã“",oacute:"Ã³",oast:"âŠ›",ocir:"âŠš",Ocirc:"Ã”",ocirc:"Ã´",Ocy:"Ğ",ocy:"Ğ¾",odash:"âŠ",Odblac:"Å",odblac:"Å‘",odiv:"â¨¸",odot:"âŠ™",odsold:"â¦¼",OElig:"Å’",oelig:"Å“",ofcir:"â¦¿",Ofr:"ğ”’",ofr:"ğ”¬",ogon:"Ë›",Ograve:"Ã’",ograve:"Ã²",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"âˆ®",olarr:"â†º",olcir:"â¦¾",olcross:"â¦»",oline:"â€¾",olt:"â§€",Omacr:"ÅŒ",omacr:"Å",Omega:"Î©",omega:"Ï‰",Omicron:"ÎŸ",omicron:"Î¿",omid:"â¦¶",ominus:"âŠ–",Oopf:"ğ•†",oopf:"ğ• ",opar:"â¦·",OpenCurlyDoubleQuote:"â€œ",OpenCurlyQuote:"â€˜",operp:"â¦¹",oplus:"âŠ•",Or:"â©”",or:"âˆ¨",orarr:"â†»",ord:"â©",order:"â„´",orderof:"â„´",ordf:"Âª",ordm:"Âº",origof:"âŠ¶",oror:"â©–",orslope:"â©—",orv:"â©›",oS:"â“ˆ",Oscr:"ğ’ª",oscr:"â„´",Oslash:"Ã˜",oslash:"Ã¸",osol:"âŠ˜",Otilde:"Ã•",otilde:"Ãµ",Otimes:"â¨·",otimes:"âŠ—",otimesas:"â¨¶",Ouml:"Ã–",ouml:"Ã¶",ovbar:"âŒ½",OverBar:"â€¾",OverBrace:"â",OverBracket:"â´",OverParenthesis:"âœ",par:"âˆ¥",para:"Â¶",parallel:"âˆ¥",parsim:"â«³",parsl:"â«½",part:"âˆ‚",PartialD:"âˆ‚",Pcy:"ĞŸ",pcy:"Ğ¿",percnt:"%",period:".",permil:"â€°",perp:"âŠ¥",pertenk:"â€±",Pfr:"ğ”“",pfr:"ğ”­",Phi:"Î¦",phi:"Ï†",phiv:"Ï•",phmmat:"â„³",phone:"â˜",Pi:"Î ",pi:"Ï€",pitchfork:"â‹”",piv:"Ï–",planck:"â„",planckh:"â„",plankv:"â„",plus:"+",plusacir:"â¨£",plusb:"âŠ",pluscir:"â¨¢",plusdo:"âˆ”",plusdu:"â¨¥",pluse:"â©²",PlusMinus:"Â±",plusmn:"Â±",plussim:"â¨¦",plustwo:"â¨§",pm:"Â±",Poincareplane:"â„Œ",pointint:"â¨•",Popf:"â„™",popf:"ğ•¡",pound:"Â£",Pr:"âª»",pr:"â‰º",prap:"âª·",prcue:"â‰¼",prE:"âª³",pre:"âª¯",prec:"â‰º",precapprox:"âª·",preccurlyeq:"â‰¼",Precedes:"â‰º",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â‰¼",PrecedesTilde:"â‰¾",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â‹¨",precsim:"â‰¾",Prime:"â€³",prime:"â€²",primes:"â„™",prnap:"âª¹",prnE:"âªµ",prnsim:"â‹¨",prod:"âˆ",Product:"âˆ",profalar:"âŒ®",profline:"âŒ’",profsurf:"âŒ“",prop:"âˆ",Proportion:"âˆ·",Proportional:"âˆ",propto:"âˆ",prsim:"â‰¾",prurel:"âŠ°",Pscr:"ğ’«",pscr:"ğ“…",Psi:"Î¨",psi:"Ïˆ",puncsp:"â€ˆ",Qfr:"ğ””",qfr:"ğ”®",qint:"â¨Œ",Qopf:"â„š",qopf:"ğ•¢",qprime:"â—",Qscr:"ğ’¬",qscr:"ğ“†",quaternions:"â„",quatint:"â¨–",quest:"?",questeq:"â‰Ÿ",QUOT:'"',quot:'"',rAarr:"â‡›",race:"âˆ½Ì±",Racute:"Å”",racute:"Å•",radic:"âˆš",raemptyv:"â¦³",Rang:"âŸ«",rang:"âŸ©",rangd:"â¦’",range:"â¦¥",rangle:"âŸ©",raquo:"Â»",Rarr:"â† ",rArr:"â‡’",rarr:"â†’",rarrap:"â¥µ",rarrb:"â‡¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarrfs:"â¤",rarrhk:"â†ª",rarrlp:"â†¬",rarrpl:"â¥…",rarrsim:"â¥´",Rarrtl:"â¤–",rarrtl:"â†£",rarrw:"â†",rAtail:"â¤œ",ratail:"â¤š",ratio:"âˆ¶",rationals:"â„š",RBarr:"â¤",rBarr:"â¤",rbarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦Œ",rbrksld:"â¦",rbrkslu:"â¦",Rcaron:"Å˜",rcaron:"Å™",Rcedil:"Å–",rcedil:"Å—",rceil:"âŒ‰",rcub:"}",Rcy:"Ğ ",rcy:"Ñ€",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â€",rdquor:"â€",rdsh:"â†³",Re:"â„œ",real:"â„œ",realine:"â„›",realpart:"â„œ",reals:"â„",rect:"â–­",REG:"Â®",reg:"Â®",ReverseElement:"âˆ‹",ReverseEquilibrium:"â‡‹",ReverseUpEquilibrium:"â¥¯",rfisht:"â¥½",rfloor:"âŒ‹",Rfr:"â„œ",rfr:"ğ”¯",rHar:"â¥¤",rhard:"â‡",rharu:"â‡€",rharul:"â¥¬",Rho:"Î¡",rho:"Ï",rhov:"Ï±",RightAngleBracket:"âŸ©",RightArrow:"â†’",Rightarrow:"â‡’",rightarrow:"â†’",RightArrowBar:"â‡¥",RightArrowLeftArrow:"â‡„",rightarrowtail:"â†£",RightCeiling:"âŒ‰",RightDoubleBracket:"âŸ§",RightDownTeeVector:"â¥",RightDownVector:"â‡‚",RightDownVectorBar:"â¥•",RightFloor:"âŒ‹",rightharpoondown:"â‡",rightharpoonup:"â‡€",rightleftarrows:"â‡„",rightleftharpoons:"â‡Œ",rightrightarrows:"â‡‰",rightsquigarrow:"â†",RightTee:"âŠ¢",RightTeeArrow:"â†¦",RightTeeVector:"â¥›",rightthreetimes:"â‹Œ",RightTriangle:"âŠ³",RightTriangleBar:"â§",RightTriangleEqual:"âŠµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥œ",RightUpVector:"â†¾",RightUpVectorBar:"â¥”",RightVector:"â‡€",RightVectorBar:"â¥“",ring:"Ëš",risingdotseq:"â‰“",rlarr:"â‡„",rlhar:"â‡Œ",rlm:"â€",rmoust:"â±",rmoustache:"â±",rnmid:"â«®",roang:"âŸ­",roarr:"â‡¾",robrk:"âŸ§",ropar:"â¦†",Ropf:"â„",ropf:"ğ•£",roplus:"â¨®",rotimes:"â¨µ",RoundImplies:"â¥°",rpar:")",rpargt:"â¦”",rppolint:"â¨’",rrarr:"â‡‰",Rrightarrow:"â‡›",rsaquo:"â€º",Rscr:"â„›",rscr:"ğ“‡",Rsh:"â†±",rsh:"â†±",rsqb:"]",rsquo:"â€™",rsquor:"â€™",rthree:"â‹Œ",rtimes:"â‹Š",rtri:"â–¹",rtrie:"âŠµ",rtrif:"â–¸",rtriltri:"â§",RuleDelayed:"â§´",ruluhar:"â¥¨",rx:"â„",Sacute:"Åš",sacute:"Å›",sbquo:"â€š",Sc:"âª¼",sc:"â‰»",scap:"âª¸",Scaron:"Å ",scaron:"Å¡",sccue:"â‰½",scE:"âª´",sce:"âª°",Scedil:"Å",scedil:"ÅŸ",Scirc:"Åœ",scirc:"Å",scnap:"âªº",scnE:"âª¶",scnsim:"â‹©",scpolint:"â¨“",scsim:"â‰¿",Scy:"Ğ¡",scy:"Ñ",sdot:"â‹…",sdotb:"âŠ¡",sdote:"â©¦",searhk:"â¤¥",seArr:"â‡˜",searr:"â†˜",searrow:"â†˜",sect:"Â§",semi:";",seswar:"â¤©",setminus:"âˆ–",setmn:"âˆ–",sext:"âœ¶",Sfr:"ğ”–",sfr:"ğ”°",sfrown:"âŒ¢",sharp:"â™¯",SHCHcy:"Ğ©",shchcy:"Ñ‰",SHcy:"Ğ¨",shcy:"Ñˆ",ShortDownArrow:"â†“",ShortLeftArrow:"â†",shortmid:"âˆ£",shortparallel:"âˆ¥",ShortRightArrow:"â†’",ShortUpArrow:"â†‘",shy:"Â­",Sigma:"Î£",sigma:"Ïƒ",sigmaf:"Ï‚",sigmav:"Ï‚",sim:"âˆ¼",simdot:"â©ª",sime:"â‰ƒ",simeq:"â‰ƒ",simg:"âª",simgE:"âª ",siml:"âª",simlE:"âªŸ",simne:"â‰†",simplus:"â¨¤",simrarr:"â¥²",slarr:"â†",SmallCircle:"âˆ˜",smallsetminus:"âˆ–",smashp:"â¨³",smeparsl:"â§¤",smid:"âˆ£",smile:"âŒ£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸€",SOFTcy:"Ğ¬",softcy:"ÑŒ",sol:"/",solb:"â§„",solbar:"âŒ¿",Sopf:"ğ•Š",sopf:"ğ•¤",spades:"â™ ",spadesuit:"â™ ",spar:"âˆ¥",sqcap:"âŠ“",sqcaps:"âŠ“ï¸€",sqcup:"âŠ”",sqcups:"âŠ”ï¸€",Sqrt:"âˆš",sqsub:"âŠ",sqsube:"âŠ‘",sqsubset:"âŠ",sqsubseteq:"âŠ‘",sqsup:"âŠ",sqsupe:"âŠ’",sqsupset:"âŠ",sqsupseteq:"âŠ’",squ:"â–¡",Square:"â–¡",square:"â–¡",SquareIntersection:"âŠ“",SquareSubset:"âŠ",SquareSubsetEqual:"âŠ‘",SquareSuperset:"âŠ",SquareSupersetEqual:"âŠ’",SquareUnion:"âŠ”",squarf:"â–ª",squf:"â–ª",srarr:"â†’",Sscr:"ğ’®",sscr:"ğ“ˆ",ssetmn:"âˆ–",ssmile:"âŒ£",sstarf:"â‹†",Star:"â‹†",star:"â˜†",starf:"â˜…",straightepsilon:"Ïµ",straightphi:"Ï•",strns:"Â¯",Sub:"â‹",sub:"âŠ‚",subdot:"âª½",subE:"â«…",sube:"âŠ†",subedot:"â«ƒ",submult:"â«",subnE:"â«‹",subne:"âŠŠ",subplus:"âª¿",subrarr:"â¥¹",Subset:"â‹",subset:"âŠ‚",subseteq:"âŠ†",subseteqq:"â«…",SubsetEqual:"âŠ†",subsetneq:"âŠŠ",subsetneqq:"â«‹",subsim:"â«‡",subsub:"â«•",subsup:"â«“",succ:"â‰»",succapprox:"âª¸",succcurlyeq:"â‰½",Succeeds:"â‰»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â‰½",SucceedsTilde:"â‰¿",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â‹©",succsim:"â‰¿",SuchThat:"âˆ‹",Sum:"âˆ‘",sum:"âˆ‘",sung:"â™ª",Sup:"â‹‘",sup:"âŠƒ",sup1:"Â¹",sup2:"Â²",sup3:"Â³",supdot:"âª¾",supdsub:"â«˜",supE:"â«†",supe:"âŠ‡",supedot:"â«„",Superset:"âŠƒ",SupersetEqual:"âŠ‡",suphsol:"âŸ‰",suphsub:"â«—",suplarr:"â¥»",supmult:"â«‚",supnE:"â«Œ",supne:"âŠ‹",supplus:"â«€",Supset:"â‹‘",supset:"âŠƒ",supseteq:"âŠ‡",supseteqq:"â«†",supsetneq:"âŠ‹",supsetneqq:"â«Œ",supsim:"â«ˆ",supsub:"â«”",supsup:"â«–",swarhk:"â¤¦",swArr:"â‡™",swarr:"â†™",swarrow:"â†™",swnwar:"â¤ª",szlig:"ÃŸ",Tab:"\t",target:"âŒ–",Tau:"Î¤",tau:"Ï„",tbrk:"â´",Tcaron:"Å¤",tcaron:"Å¥",Tcedil:"Å¢",tcedil:"Å£",Tcy:"Ğ¢",tcy:"Ñ‚",tdot:"âƒ›",telrec:"âŒ•",Tfr:"ğ”—",tfr:"ğ”±",there4:"âˆ´",Therefore:"âˆ´",therefore:"âˆ´",Theta:"Î˜",theta:"Î¸",thetasym:"Ï‘",thetav:"Ï‘",thickapprox:"â‰ˆ",thicksim:"âˆ¼",ThickSpace:"âŸâ€Š",thinsp:"â€‰",ThinSpace:"â€‰",thkap:"â‰ˆ",thksim:"âˆ¼",THORN:"Ã",thorn:"Ã¾",Tilde:"âˆ¼",tilde:"Ëœ",TildeEqual:"â‰ƒ",TildeFullEqual:"â‰…",TildeTilde:"â‰ˆ",times:"Ã—",timesb:"âŠ ",timesbar:"â¨±",timesd:"â¨°",tint:"âˆ­",toea:"â¤¨",top:"âŠ¤",topbot:"âŒ¶",topcir:"â«±",Topf:"ğ•‹",topf:"ğ•¥",topfork:"â«š",tosa:"â¤©",tprime:"â€´",TRADE:"â„¢",trade:"â„¢",triangle:"â–µ",triangledown:"â–¿",triangleleft:"â—ƒ",trianglelefteq:"âŠ´",triangleq:"â‰œ",triangleright:"â–¹",trianglerighteq:"âŠµ",tridot:"â—¬",trie:"â‰œ",triminus:"â¨º",TripleDot:"âƒ›",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",Tscr:"ğ’¯",tscr:"ğ“‰",TScy:"Ğ¦",tscy:"Ñ†",TSHcy:"Ğ‹",tshcy:"Ñ›",Tstrok:"Å¦",tstrok:"Å§",twixt:"â‰¬",twoheadleftarrow:"â†",twoheadrightarrow:"â† ",Uacute:"Ãš",uacute:"Ãº",Uarr:"â†Ÿ",uArr:"â‡‘",uarr:"â†‘",Uarrocir:"â¥‰",Ubrcy:"Ğ",ubrcy:"Ñ",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"Ã›",ucirc:"Ã»",Ucy:"Ğ£",ucy:"Ñƒ",udarr:"â‡…",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",Ufr:"ğ”˜",ufr:"ğ”²",Ugrave:"Ã™",ugrave:"Ã¹",uHar:"â¥£",uharl:"â†¿",uharr:"â†¾",uhblk:"â–€",ulcorn:"âŒœ",ulcorner:"âŒœ",ulcrop:"âŒ",ultri:"â—¸",Umacr:"Åª",umacr:"Å«",uml:"Â¨",UnderBar:"_",UnderBrace:"âŸ",UnderBracket:"âµ",UnderParenthesis:"â",Union:"â‹ƒ",UnionPlus:"âŠ",Uogon:"Å²",uogon:"Å³",Uopf:"ğ•Œ",uopf:"ğ•¦",UpArrow:"â†‘",Uparrow:"â‡‘",uparrow:"â†‘",UpArrowBar:"â¤’",UpArrowDownArrow:"â‡…",UpDownArrow:"â†•",Updownarrow:"â‡•",updownarrow:"â†•",UpEquilibrium:"â¥®",upharpoonleft:"â†¿",upharpoonright:"â†¾",uplus:"âŠ",UpperLeftArrow:"â†–",UpperRightArrow:"â†—",Upsi:"Ï’",upsi:"Ï…",upsih:"Ï’",Upsilon:"Î¥",upsilon:"Ï…",UpTee:"âŠ¥",UpTeeArrow:"â†¥",upuparrows:"â‡ˆ",urcorn:"âŒ",urcorner:"âŒ",urcrop:"âŒ",Uring:"Å®",uring:"Å¯",urtri:"â—¹",Uscr:"ğ’°",uscr:"ğ“Š",utdot:"â‹°",Utilde:"Å¨",utilde:"Å©",utri:"â–µ",utrif:"â–´",uuarr:"â‡ˆ",Uuml:"Ãœ",uuml:"Ã¼",uwangle:"â¦§",vangrt:"â¦œ",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"âˆ…",varphi:"Ï•",varpi:"Ï–",varpropto:"âˆ",vArr:"â‡•",varr:"â†•",varrho:"Ï±",varsigma:"Ï‚",varsubsetneq:"âŠŠï¸€",varsubsetneqq:"â«‹ï¸€",varsupsetneq:"âŠ‹ï¸€",varsupsetneqq:"â«Œï¸€",vartheta:"Ï‘",vartriangleleft:"âŠ²",vartriangleright:"âŠ³",Vbar:"â««",vBar:"â«¨",vBarv:"â«©",Vcy:"Ğ’",vcy:"Ğ²",VDash:"âŠ«",Vdash:"âŠ©",vDash:"âŠ¨",vdash:"âŠ¢",Vdashl:"â«¦",Vee:"â‹",vee:"âˆ¨",veebar:"âŠ»",veeeq:"â‰š",vellip:"â‹®",Verbar:"â€–",verbar:"|",Vert:"â€–",vert:"|",VerticalBar:"âˆ£",VerticalLine:"|",VerticalSeparator:"â˜",VerticalTilde:"â‰€",VeryThinSpace:"â€Š",Vfr:"ğ”™",vfr:"ğ”³",vltri:"âŠ²",vnsub:"âŠ‚âƒ’",vnsup:"âŠƒâƒ’",Vopf:"ğ•",vopf:"ğ•§",vprop:"âˆ",vrtri:"âŠ³",Vscr:"ğ’±",vscr:"ğ“‹",vsubnE:"â«‹ï¸€",vsubne:"âŠŠï¸€",vsupnE:"â«Œï¸€",vsupne:"âŠ‹ï¸€",Vvdash:"âŠª",vzigzag:"â¦š",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©Ÿ",Wedge:"â‹€",wedge:"âˆ§",wedgeq:"â‰™",weierp:"â„˜",Wfr:"ğ”š",wfr:"ğ”´",Wopf:"ğ•",wopf:"ğ•¨",wp:"â„˜",wr:"â‰€",wreath:"â‰€",Wscr:"ğ’²",wscr:"ğ“Œ",xcap:"â‹‚",xcirc:"â—¯",xcup:"â‹ƒ",xdtri:"â–½",Xfr:"ğ”›",xfr:"ğ”µ",xhArr:"âŸº",xharr:"âŸ·",Xi:"Î",xi:"Î¾",xlArr:"âŸ¸",xlarr:"âŸµ",xmap:"âŸ¼",xnis:"â‹»",xodot:"â¨€",Xopf:"ğ•",xopf:"ğ•©",xoplus:"â¨",xotime:"â¨‚",xrArr:"âŸ¹",xrarr:"âŸ¶",Xscr:"ğ’³",xscr:"ğ“",xsqcup:"â¨†",xuplus:"â¨„",xutri:"â–³",xvee:"â‹",xwedge:"â‹€",Yacute:"Ã",yacute:"Ã½",YAcy:"Ğ¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ğ«",ycy:"Ñ‹",yen:"Â¥",Yfr:"ğ”œ",yfr:"ğ”¶",YIcy:"Ğ‡",yicy:"Ñ—",Yopf:"ğ•",yopf:"ğ•ª",Yscr:"ğ’´",yscr:"ğ“",YUcy:"Ğ®",yucy:"Ñ",Yuml:"Å¸",yuml:"Ã¿",Zacute:"Å¹",zacute:"Åº",Zcaron:"Å½",zcaron:"Å¾",Zcy:"Ğ—",zcy:"Ğ·",Zdot:"Å»",zdot:"Å¼",zeetrf:"â„¨",ZeroWidthSpace:"â€‹",Zeta:"Î–",zeta:"Î¶",Zfr:"â„¨",zfr:"ğ”·",ZHcy:"Ğ–",zhcy:"Ğ¶",zigrarr:"â‡",Zopf:"â„¤",zopf:"ğ•«",Zscr:"ğ’µ",zscr:"ğ“",zwj:"â€",zwnj:"â€Œ"}),t.entityMap=t.HTML_ENTITIES},2983:(e,t,n)=>{"use strict";function r(e,t){e.prototype=Object.create(Error.prototype,{constructor:{value:e},name:{value:e.name,enumerable:!0,writable:t}})}var o=n(4582).freeze({Error:"Error",IndexSizeError:"IndexSizeError",DomstringSizeError:"DomstringSizeError",HierarchyRequestError:"HierarchyRequestError",WrongDocumentError:"WrongDocumentError",InvalidCharacterError:"InvalidCharacterError",NoDataAllowedError:"NoDataAllowedError",NoModificationAllowedError:"NoModificationAllowedError",NotFoundError:"NotFoundError",NotSupportedError:"NotSupportedError",InUseAttributeError:"InUseAttributeError",InvalidStateError:"InvalidStateError",SyntaxError:"SyntaxError",InvalidModificationError:"InvalidModificationError",NamespaceError:"NamespaceError",InvalidAccessError:"InvalidAccessError",ValidationError:"ValidationError",TypeMismatchError:"TypeMismatchError",SecurityError:"SecurityError",NetworkError:"NetworkError",AbortError:"AbortError",URLMismatchError:"URLMismatchError",QuotaExceededError:"QuotaExceededError",TimeoutError:"TimeoutError",InvalidNodeTypeError:"InvalidNodeTypeError",DataCloneError:"DataCloneError",EncodingError:"EncodingError",NotReadableError:"NotReadableError",UnknownError:"UnknownError",ConstraintError:"ConstraintError",DataError:"DataError",TransactionInactiveError:"TransactionInactiveError",ReadOnlyError:"ReadOnlyError",VersionError:"VersionError",OperationError:"OperationError",NotAllowedError:"NotAllowedError",OptOutError:"OptOutError"}),i=Object.keys(o);function a(e){return"number"==typeof e&&e>=1&&e<=25}function s(e,t){var n;a(e)?(this.name=i[e],this.message=t||""):(this.message=e,this.name="string"==typeof(n=t)&&n.substring(n.length-o.Error.length)===o.Error?t:o.Error),Error.captureStackTrace&&Error.captureStackTrace(this,s)}r(s,!0),Object.defineProperties(s.prototype,{code:{enumerable:!0,get:function(){var e=i.indexOf(this.name);return a(e)?e:0}}});for(var l={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},c=Object.entries(l),u=0;u<c.length;u++){s[c[u][0]]=c[u][1]}function p(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,p)}r(p),t.DOMException=s,t.DOMExceptionName=o,t.ExceptionCode=l,t.ParseError=p},2763:(e,t)=>{"use strict";function n(e){try{"function"!=typeof e&&(e=RegExp);var t=new e("ğŒ†","u").exec("ğŒ†");return!!t&&2===t[0].length}catch(e){}return!1}var r=n();function o(e){if("["!==e.source[0])throw new Error(e+" can not be used with chars");return e.source.slice(1,e.source.lastIndexOf("]"))}function i(e,t){if("["!==e.source[0])throw new Error("/"+e.source+"/ can not be used with chars_without");if(!t||"string"!=typeof t)throw new Error(JSON.stringify(t)+" is not a valid search");if(-1===e.source.indexOf(t))throw new Error('"'+t+'" is not is /'+e.source+"/");if("-"===t&&1!==e.source.indexOf(t))throw new Error('"'+t+'" is not at the first postion of /'+e.source+"/");return new RegExp(e.source.replace(t,""),r?"u":"")}function a(e){var t=this;return new RegExp(Array.prototype.slice.call(arguments).map((function(e){var n="string"==typeof e;if(n&&void 0===t&&"|"===e)throw new Error("use regg instead of reg to wrap expressions with `|`!");return n?e:e.source})).join(""),r?"mu":"m")}function s(e){if(0===arguments.length)throw new Error("no parameters provided");return a.apply(s,["(?:"].concat(Array.prototype.slice.call(arguments),[")"]))}var l=/[-\x09\x0A\x0D\x20-\x2C\x2E-\uD7FF\uE000-\uFFFD]/;r&&(l=a("[",o(l),"\\u{10000}-\\u{10FFFF}","]"));var c=/[\x20\x09\x0D\x0A]/,u=o(c),p=a(c,"+"),d=a(c,"*"),h=/[:_a-zA-Z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;r&&(h=a("[",o(h),"\\u{10000}-\\u{10FFFF}","]"));var g=a("[",o(h),o(/[-.0-9\xB7]/),o(/[\u0300-\u036F\u203F-\u2040]/),"]"),f=a(h,g,"*"),m=a(g,"+"),y=a("&",f,";"),v=s(/&#[0-9]+;|&#x[0-9a-fA-F]+;/),C=s(y,"|",v),I=a("%",f,";"),A=s(a('"',s(/[^%&"]/,"|",I,"|",C),"*",'"'),"|",a("'",s(/[^%&']/,"|",I,"|",C),"*","'")),b=s('"',s(/[^<&"]/,"|",C),"*",'"',"|","'",s(/[^<&']/,"|",C),"*","'"),E=a(i(h,":"),i(g,":"),"*"),w=a(E,s(":",E),"?"),_=a("^",w,"$"),P=a("(",w,")"),S=s(/"[^"]*"|'[^']*'/),x=a(/^<\?/,"(",f,")",s(p,"(",l,"*?)"),"?",/\?>/),T=/[\x20\x0D\x0Aa-zA-Z0-9-'()+,./:=?;!*#@$_%]/,k=s('"',T,'*"',"|","'",i(T,"'"),"*'"),R="\x3c!--",N=a(R,s(i(l,"-"),"|",a("-",i(l,"-"))),"*","--\x3e"),L="#PCDATA",O=s(a(/\(/,d,L,s(d,/\|/,d,w),"*",d,/\)\*/),"|",a(/\(/,d,L,d,/\)/)),D=s("EMPTY","|","ANY","|",O,"|",a(/\([^>]+\)/,/[?*+]?/)),M=a("<!ELEMENT",p,s(w,"|",I),p,s(D,"|",I),d,">"),G=a("NOTATION",p,/\(/,d,f,s(d,/\|/,d,f),"*",d,/\)/),U=a(/\(/,d,m,s(d,/\|/,d,m),"*",d,/\)/),B=s(G,"|",U),F=s(/CDATA|ID|IDREF|IDREFS|ENTITY|ENTITIES|NMTOKEN|NMTOKENS/,"|",B),j=s(/#REQUIRED|#IMPLIED/,"|",s(s("#FIXED",p),"?",b)),q=a("<!ATTLIST",p,f,s(p,f,p,F,p,j),"*",d,">"),z="SYSTEM",H="PUBLIC",V=s(s(z,p,S),"|",s(H,p,k,p,S)),Y=a("^",s(s(z,p,"(?<SystemLiteralOnly>",S,")"),"|",s(H,p,"(?<PubidLiteral>",k,")",p,"(?<SystemLiteral>",S,")"))),W=s(p,"NDATA",p,f),X="<!ENTITY",Z=a(X,p,f,p,s(A,"|",s(V,W,"?")),d,">"),J=s(A,"|",V),K=s(Z,"|",a(X,p,"%",p,f,p,J,d,">")),Q=a(H,p,k),$=a("<!NOTATION",p,f,p,s(V,"|",Q),d,">"),ee=a(d,"=",d),te=/1[.]\d+/,ne=a(p,"version",ee,s("'",te,"'","|",'"',te,'"')),re=/[A-Za-z][-A-Za-z0-9._]*/,oe=a(/^<\?xml/,ne,s(p,"encoding",ee,s('"',re,'"',"|","'",re,"'")),"?",s(p,"standalone",ee,s("'",s("yes","|","no"),"'","|",'"',s("yes","|","no"),'"')),"?",d,/\?>/),ie=a(l,"*?",/\]\]>/),ae=a(/<!\[CDATA\[/,ie);t.chars=o,t.chars_without=i,t.detectUnicodeSupport=n,t.reg=a,t.regg=s,t.AttlistDecl=q,t.CDATA_START="<![CDATA[",t.CDATA_END="]]>",t.CDSect=ae,t.Char=l,t.Comment=N,t.COMMENT_START=R,t.COMMENT_END="--\x3e",t.DOCTYPE_DECL_START="<!DOCTYPE",t.elementdecl=M,t.EntityDecl=K,t.EntityValue=A,t.ExternalID=V,t.ExternalID_match=Y,t.Name=f,t.NotationDecl=$,t.Reference=C,t.PEReference=I,t.PI=x,t.PUBLIC=H,t.PubidLiteral=k,t.QName=w,t.QName_exact=_,t.QName_group=P,t.S=p,t.SChar_s=u,t.S_OPT=d,t.SYSTEM=z,t.SystemLiteral=S,t.UNICODE_REPLACEMENT_CHARACTER="ï¿½",t.UNICODE_SUPPORT=r,t.XMLDecl=oe},8978:(e,t,n)=>{"use strict";var r=n(4582);r.assign,r.hasDefaultHTMLNamespace,r.isHTMLMimeType,r.isValidMimeType,r.MIME_TYPE,r.NAMESPACE;var o=n(2983);o.DOMException,o.DOMExceptionName,o.ExceptionCode,o.ParseError;var i=n(4722);i.Attr,i.CDATASection,i.CharacterData,i.Comment,i.Document,i.DocumentFragment,i.DocumentType,i.DOMImplementation,i.Element,i.Entity,i.EntityReference,i.LiveNodeList,i.NamedNodeMap,i.Node,i.NodeList,i.Notation,i.ProcessingInstruction,i.Text,i.XMLSerializer;var a=n(5752);t.S4=a.DOMParser,a.onErrorStopParsing,a.onWarningStopParsing},4466:(e,t,n)=>{"use strict";var r=n(4582),o=n(2763),i=n(2983),a=r.isHTMLEscapableRawTextElement,s=r.isHTMLMimeType,l=r.isHTMLRawTextElement,c=r.hasOwn,u=r.NAMESPACE,p=i.ParseError,d=i.DOMException;function h(){}h.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),C(t,t=Object.create(null)),function(e,t,n,i,a){var l=s(i.mimeType);if(e.indexOf(o.UNICODE_REPLACEMENT_CHARACTER)>=0)return a.fatalError("Unicode replacement character detected, source encoding issues?");function u(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function h(e){var t=";"===e[e.length-1]?e:e+";";if(!l&&t!==e)return a.error("EntityRef: expecting ;"),e;var r=o.Reference.exec(t);if(!r||r[0].length!==t.length)return a.error("entity not matching Reference production: "+e),e;var i=t.slice(1,-1);return c(n,i)?n[i]:"#"===i.charAt(0)?u(parseInt(i.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function C(t){if(t>k){var n=e.substring(k,t).replace(g,h);S&&I(k),i.characters(n,0,t-k),k=t}}function I(t,n){for(;t>=_&&(n=P.exec(e));)w=n.index,_=w+n[0].length,S.lineNumber++;S.columnNumber=t-w+1}var w=0,_=0,P=/.*(?:\r\n?|\n)|.*$/g,S=i.locator,x=[{currentNSMap:t}],T=[],k=0;for(;;){try{var R=e.indexOf("<",k);if(R<0){if(!l&&T.length>0)return a.fatalError("unclosed xml tag(s): "+T.join(", "));if(!e.substring(k).match(/^\s*$/)){var N=i.doc,L=N.createTextNode(e.substr(k));if(N.documentElement)return a.error("Extra content at the end of the document");N.appendChild(L),i.currentElement=L}return}if(R>k){var O=e.substring(k,R);l||0!==T.length||(O=O.replace(new RegExp(o.S_OPT.source,"g"),""))&&a.error("Unexpected content outside root element: '"+O+"'"),C(R)}switch(e.charAt(R+1)){case"/":var D=e.indexOf(">",R+2),M=e.substring(R+2,D>0?D:void 0);if(!M)return a.fatalError("end tag name missing");var G=D>0&&o.reg("^",o.QName_group,o.S_OPT,"$").exec(M);if(!G)return a.fatalError('end tag name contains invalid characters: "'+M+'"');if(!i.currentElement&&!i.doc.documentElement)return;var U=T[T.length-1]||i.currentElement.tagName||i.doc.documentElement.tagName||"";if(U!==G[1]){var B=G[1].toLowerCase();if(!l||U.toLowerCase()!==B)return a.fatalError('Opening and ending tag mismatch: "'+U+'" != "'+M+'"')}var F=x.pop();T.pop();var j=F.localNSMap;if(i.endElement(F.uri,F.localName,U),j)for(var q in j)c(j,q)&&i.endPrefixMapping(q);D++;break;case"?":S&&I(R),D=b(e,R,i,a);break;case"!":S&&I(R),D=A(e,R,i,a,l);break;default:S&&I(R);var z=new E,H=x[x.length-1].currentNSMap,V=(D=m(e,R,z,H,h,a,l),z.length);if(z.closed||(l&&r.isHTMLVoidElement(z.tagName)?z.closed=!0:T.push(z.tagName)),S&&V){for(var Y=f(S,{}),W=0;W<V;W++){var X=z[W];I(X.offset),X.locator=f(S,{})}i.locator=Y,y(z,i,H)&&x.push(z),i.locator=S}else y(z,i,H)&&x.push(z);l&&!z.closed?D=v(e,D,z.tagName,h,i):D++}}catch(e){if(e instanceof p)throw e;if(e instanceof d)throw new p(e.name+": "+e.message,i.locator,e);a.error("element parse error: "+e),D=-1}D>k?k=D:C(Math.max(R,k)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}};var g=/&#?\w+;?/g;function f(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function m(e,t,n,r,o,i,a){function s(e,t,r){return c(n.attributeNames,e)?i.fatalError("Attribute "+e+" redefined"):!a&&t.indexOf("<")>=0?i.fatalError("Unescaped '<' not allowed in attributes values"):void n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(g,o),r)}for(var l,u=++t,p=0;;){var d=e.charAt(u);switch(d){case"=":if(1===p)l=e.slice(t,u),p=3;else{if(2!==p)throw new Error("attribute equal must after attrName");p=3}break;case"'":case'"':if(3===p||1===p){if(1===p&&(i.warning('attribute value must after "="'),l=e.slice(t,u)),t=u+1,!((u=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");s(l,h=e.slice(t,u),t-1),p=5}else{if(4!=p)throw new Error('attribute value must after "="');s(l,h=e.slice(t,u),t),i.warning('attribute "'+l+'" missed start quot('+d+")!!"),t=u+1,p=5}break;case"/":switch(p){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:p=7,n.closed=!0;case 4:case 1:break;case 2:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),0==p&&n.setTagName(e.slice(t,u)),u;case">":switch(p){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:break;case 4:case 1:"/"===(h=e.slice(t,u)).slice(-1)&&(n.closed=!0,h=h.slice(0,-1));case 2:2===p&&(h=l),4==p?(i.warning('attribute "'+h+'" missed quot(")!'),s(l,h,t)):(a||i.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),s(h,h,t));break;case 3:if(!a)return i.fatalError("AttValue: ' or \" expected")}return u;case"Â€":d=" ";default:if(d<=" ")switch(p){case 0:n.setTagName(e.slice(t,u)),p=6;break;case 1:l=e.slice(t,u),p=2;break;case 4:var h=e.slice(t,u);i.warning('attribute "'+h+'" missed quot(")!!'),s(l,h,t);case 5:p=6}else switch(p){case 2:a||i.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,t),t=u,p=1;break;case 5:i.warning('attribute space is required"'+l+'"!!');case 6:p=1,t=u;break;case 3:p=4,t=u;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function y(e,t,n){for(var r=e.tagName,o=null,i=e.length;i--;){var a=e[i],s=a.qName,l=a.value;if((g=s.indexOf(":"))>0)var p=a.prefix=s.slice(0,g),d=s.slice(g+1),h="xmlns"===p&&d;else d=s,p=null,h="xmlns"===s&&"";a.localName=d,!1!==h&&(null==o&&(o=Object.create(null),C(n,n=Object.create(null))),n[h]=o[h]=l,a.uri=u.XMLNS,t.startPrefixMapping(h,l))}for(i=e.length;i--;)(a=e[i]).prefix&&("xml"===a.prefix&&(a.uri=u.XML),"xmlns"!==a.prefix&&(a.uri=n[a.prefix]));var g;(g=r.indexOf(":"))>0?(p=e.prefix=r.slice(0,g),d=e.localName=r.slice(g+1)):(p=null,d=e.localName=r);var f=e.uri=n[p||""];if(t.startElement(f,d,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,!0;if(t.endElement(f,d,r),o)for(p in o)c(o,p)&&t.endPrefixMapping(p)}function v(e,t,n,r,o){var i=a(n);if(i||l(n)){var s=e.indexOf("</"+n+">",t),c=e.substring(t+1,s);return i&&(c=c.replace(g,r)),o.characters(c,0,c.length),s}return t+1}function C(e,t){for(var n in e)c(e,n)&&(t[n]=e[n])}function I(e,t){var n=t;function r(t){return t=t||0,e.charAt(n+t)}function i(e){n+=e=e||1}function a(){return e.substring(n)}return{char:r,getIndex:function(){return n},getMatch:function(e){var t=o.reg("^",e).exec(a());return t?(i(t[0].length),t[0]):null},getSource:function(){return e},skip:i,skipBlanks:function(){for(var t=0;n<e.length;){var o=r();if(" "!==o&&"\n"!==o&&"\t"!==o&&"\r"!==o)return t;t++,i()}return-1},substringFromIndex:a,substringStartsWith:function(t){return e.substring(n,n+t.length)===t}}}function A(e,t,n,r,i){var a=I(e,t);switch(a.char(2)){case"-":var s=a.getMatch(o.Comment);return s?(n.comment(s,o.COMMENT_START.length,s.length-o.COMMENT_START.length-o.COMMENT_END.length),a.getIndex()):r.fatalError("comment is not well-formed at position "+a.getIndex());case"[":var l=a.getMatch(o.CDSect);return l?i||n.currentElement?(n.startCDATA(),n.characters(l,o.CDATA_START.length,l.length-o.CDATA_START.length-o.CDATA_END.length),n.endCDATA(),a.getIndex()):r.fatalError("CDATA outside of element"):r.fatalError("Invalid CDATA starting at position "+t);case"D":if(n.doc&&n.doc.documentElement)return r.fatalError("Doctype not allowed inside or after documentElement at position "+a.getIndex());if(!a.substringStartsWith(o.DOCTYPE_DECL_START))return r.fatalError("Expected "+o.DOCTYPE_DECL_START+" at position "+a.getIndex());if(a.skip(o.DOCTYPE_DECL_START.length),a.skipBlanks()<1)return r.fatalError("Expected whitespace after "+o.DOCTYPE_DECL_START+" at position "+a.getIndex());var c={name:void 0,publicId:void 0,systemId:void 0,internalSubset:void 0};if(c.name=a.getMatch(o.Name),!c.name)return r.fatalError("doctype name missing or contains unexpected characters at position "+a.getIndex());if(a.skipBlanks(),a.substringStartsWith(o.PUBLIC)||a.substringStartsWith(o.SYSTEM)){var u=o.ExternalID_match.exec(a.substringFromIndex());if(!u)return r.fatalError("doctype external id is not well-formed at position "+a.getIndex());void 0!==u.groups.SystemLiteralOnly?c.systemId=u.groups.SystemLiteralOnly:(c.systemId=u.groups.SystemLiteral,c.publicId=u.groups.PubidLiteral),a.skip(u[0].length)}return a.skipBlanks(),c.internalSubset=function(e,t){function n(e,t){var n=o.PI.exec(e.substringFromIndex());return n?"xml"===n[1].toLowerCase()?t.fatalError("xml declaration is only allowed at the start of the document, but found at position "+e.getIndex()):(e.skip(n[0].length),n[0]):t.fatalError("processing instruction is not well-formed at position "+e.getIndex())}var r=e.getSource();if("["===e.char()){e.skip(1);for(var i=e.getIndex();e.getIndex()<r.length;){if(e.skipBlanks(),"]"===e.char()){var a=r.substring(i,e.getIndex());return e.skip(1),a}var s=null;if("<"===e.char()&&"!"===e.char(1))switch(e.char(2)){case"E":"L"===e.char(3)?s=e.getMatch(o.elementdecl):"N"===e.char(3)&&(s=e.getMatch(o.EntityDecl));break;case"A":s=e.getMatch(o.AttlistDecl);break;case"N":s=e.getMatch(o.NotationDecl);break;case"-":s=e.getMatch(o.Comment)}else if("<"===e.char()&&"?"===e.char(1))s=n(e,t);else{if("%"!==e.char())return t.fatalError("Error detected in Markup declaration");s=e.getMatch(o.PEReference)}if(!s)return t.fatalError("Error in internal subset at position "+e.getIndex())}return t.fatalError("doctype internal subset is not well-formed, missing ]")}}(a,r),a.skipBlanks(),">"!==a.char()?r.fatalError("doctype not terminated with > at position "+a.getIndex()):(a.skip(1),n.startDTD(c.name,c.publicId,c.systemId,c.internalSubset),n.endDTD(),a.getIndex());default:return r.fatalError('Not well-formed XML starting with "<!" at position '+t)}}function b(e,t,n,r){var i=e.substring(t).match(o.PI);if(!i)return r.fatalError("Invalid processing instruction starting at position "+t);if("xml"===i[1].toLowerCase()){if(t>0)return r.fatalError("processing instruction at position "+t+" is an xml declaration which is only at the start of the document");if(!o.XMLDecl.test(e.substring(t)))return r.fatalError("xml declaration is not well-formed")}return n.processingInstruction(i[1],i[2]),t+i[0].length}function E(){this.attributeNames=Object.create(null)}E.prototype={setTagName:function(e){if(!o.QName_exact.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!o.QName_exact.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=h,t.parseUtils=I,t.parseDoctypeCommentOrCData=A},562:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(7392);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function a(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function p(e,t,n){return t=h(t),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,n||[],h(e).constructor):t.apply(e,n))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}const f=function(e){function t(e){return s(this,t),p(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(t,e),c(t,[{key:"setPosition",value:function(e){this.getMap()&&new v(this).set(e)}},{key:"updatePosition",value:function(e){this.getMap()&&new v(this).update(e)}}])}(n.n(r)());var m=["top-left","top-right","bottom-left","bottom-right"],y=new WeakSet,v=function(){return c((function e(t){return s(this,e),i(this,y),this.caller=t,this.container=null,this.container=null,a(y,this,I).call(this,"top-left"),a(y,this,I).call(this,"top-right"),a(y,this,I).call(this,"bottom-left"),a(y,this,I).call(this,"bottom-right"),this}),[{key:"set",value:function(e){m.includes(e.toLowerCase())&&(a(y,this,A).call(this,e,!1),e.includes("bottom")?this.container.children["position-container-"+e].prepend(this.caller.element):this.container.children["position-container-"+e].appendChild(this.caller.element))}},{key:"update",value:function(e){m.includes(e.toLowerCase())&&a(y,this,A).call(this,e,!0)}}])}();function C(e){return!!this.container.children["position-container-"+e]}function I(e){if(this.container=this.caller.getMap().getOverlayContainerStopEvent(),!a(y,this,C).call(this,e)){var t=document.createElement("div");t.id="position-container-"+e,t.className="position position-container-"+e,this.container.appendChild(t)}}function A(e,t){var n=this,r=function(e){return n.container.children["position-container-"+e].children.length},o=function(e){return n.container.children["position-container-"+e].offsetWidth},i=function(e){var r=n.container.children["position-container-"+e],o=r.offsetHeight;if(t){e.includes("top")&&(o=0);for(var i=0;i<r.children.length;i++){if(r.children[i].id===n.caller.element.id){o=e.includes("bottom")?o-n.caller.element.offsetHeight:-1*o;break}o-=r.children[i].offsetHeight}}return o},a=function(e){e.style.top="unset",e.style.bottom="unset",e.style.left="unset",e.style.right="unset"};a(this.caller.element),this.caller.element.style.position="unset";var s=Array.from(this.caller.element.getElementsByClassName("GPpanel"));if(0!==s.length){var l=0;s.forEach((function(t){if("dialog"===t.nodeName.toLowerCase()){switch(a(t),e.toLowerCase()){case"top-left":t.style.top=r(e)?i(e)+"px":"0px",t.style.left=o(e)+l+"px";break;case"bottom-left":t.style.bottom=r(e)?i(e)+"px":"0px",t.style.left=o(e)+l+"px";break;case"top-right":t.style.top=r(e)?i(e)+"px":"0px",t.style.right=o(e)+l+"px";break;case"bottom-right":t.style.bottom=r(e)?i(e)+"px":"0px",t.style.right=o(e)+l+"px"}l+=t.offsetWidth}}))}}},1518:(e,t,n)=>{"use strict";n.d(t,{default:()=>ne});var r=n(3110),o=n.n(r),i=n(2536),a=n(6736),s=n(5844);const l={onloaded:"editor:onloaded",layer:{onclickvisibility:"editor:layer:onclickvisibility",onclickclone:"editor:layer:onclickclone",onclickremove:"editor:layer:onclickremove"},legend:{onclickedition:"editor:legend:onclickedition",onchangevalue:"editor:legend:onchangevalue"},group:{oncollapse:"editor:group:oncollapse"},style:{oneditjson:"editor:style:oneditjson",scale:{onchangemin:"editor:style:scale:onchangemin",onchangemax:"editor:style:scale:onchangemax"}},filter:{oneditjson:"editor:filter:oneditjson"},themes:{onclickimage:"editor:themes:onclickimage",onclicktitle:"editor:themes:onclicktitle"},search:{onsubmit:"editor:search:onsubmit",onautocomplete:"editor:search:onautocomplete"}};function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function p(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var d=s.A.getLogger("editor-style"),h=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d.trace("[constructor] Style",t),this.options=t||{target:null,position:0,tools:null,title:null,obj:null},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()},t=[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={scale:!0,edition:!1};this.options.tools||(this.options.tools=e),i.A.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={paint:{},layout:{}}),this.options.title||(this.options.title="JSON Styles :"),this.container=null,this.name={target:"GPEditorMapBoxStyleTarget",container:"GPEditorMapBoxStyleContainer",containerjson:"GPEditorMapBoxStyleJsonContainer",jsonlabel:"GPEditorMapBoxStyleJsonTitle",jsondisplay:"GPEditorMapBoxStyleJsonDisplay",containertoolsscale:"GPEditorMapBoxStyleToolsScaleContainer",scaletitle:"GPEditorMapBoxStyleScaleTitle",containertoolsminscale:"GPEditorMapBoxStyleToolsScaleMinContainer",scalelabelmin:"GPEditorMapBoxStyleScaleLabelMin",scaleinputmin:"GPEditorMapBoxStyleScaleInputMin",containertoolsmaxscale:"GPEditorMapBoxStyleToolsScaleMaxContainer",scalelabelmax:"GPEditorMapBoxStyleScaleLabelMax",scaleinputmax:"GPEditorMapBoxStyleScaleInputMax",containertoolsedit:"GPEditorMapBoxStyleToolsEditionContainer"}}},{key:"_initContainer",value:function(){var e=this,t=!1,n=JSON.parse(JSON.stringify(this.options.obj)),r={};n.paint&&(t=!0,r.paint=n.paint,0===Object.keys(n.paint).length&&d.info("tag 'paint' is empty !")),n.layout&&(t=!0,r.layout=n.layout,n.layout.visibility&&delete r.visibility,0===Object.keys(n.layout).length&&d.info("tag 'layout' is empty !"));var o=document.createElement("div");o.className=this.name.container;var i=null;if(t){var a=JSON.stringify(r,null,4);i=this._syntaxHighlight(a)}var s=document.createElement("div");s.className=this.name.containerjson;var l=document.createElement("label");l.className=this.name.jsonlabel,l.innerHTML=this.options.title,s.appendChild(l);var c=document.createElement("pre");c.className=this.name.jsondisplay,c.innerHTML=i,c.addEventListener?c.addEventListener("click",(function(t){e.options.tools.edition&&e.onEditJsonStyleMapBox(t)})):c.attachEvent&&c.attachEvent("onclick",(function(t){e.options.tools.edition&&e.onEditJsonStyleMapBox(t)})),s.appendChild(c),o.appendChild(s),this.options.tools.scale&&o.appendChild(this._createElementToolsScale({min:r.layout?r.layout.minzoom:0,max:r.layout?r.layout.maxzoom:21})),this.options.tools.edition&&o.appendChild(this._createElementToolsEdition()),this.container=o}},{key:"_createElementToolsScale",value:function(e){d.trace("_createElementToolsScale");var t=this,n=this.options.obj,r=document.createElement("div");r.className=this.name.containertoolsscale;var o=document.createElement("div");o.className=this.name.containertoolsminscale;var i=document.createElement("label");i.className=this.name.scalelabelmin,i.innerHTML="min :",o.appendChild(i);var a=document.createElement("input");a.className=this.name.scaleinputmin,a.type="range",a.value=e.min||0,a.title=e.min||0,a.disabled=!1,a.min=0,a.max=21,a.data=n,a.addEventListener?a.addEventListener("change",(function(e){t.onChangeStyleScaleMinMapBox(e)})):a.appendChild&&a.appendChild("onchange",(function(e){t.onChangeStyleScaleMinMapBox(e)})),o.appendChild(a),r.appendChild(o);var s=document.createElement("div");s.className=this.name.containertoolsmaxscale;var l=document.createElement("label");l.className=this.name.scalelabelmax,l.innerHTML="max :",s.appendChild(l);var c=document.createElement("input");return c.className=this.name.scaleinputmin,c.type="range",c.value=e.max||21,c.title=e.max||21,c.disabled=!1,c.min=0,c.max=21,c.data=n,c.addEventListener?c.addEventListener("change",(function(e){t.onChangeStyleScaleMaxMapBox(e)})):c.appendChild&&c.appendChild("onchange",(function(e){t.onChangeStyleScaleMaxMapBox(e)})),s.appendChild(c),r.appendChild(s),r}},{key:"_createElementToolsEdition",value:function(){d.warn("_createElementToolsEdition, it's not yet implemented !");var e=document.createElement("div");return e.className=this.name.containertoolsedit,e}},{key:"_syntaxHighlight",value:function(e){return(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,(function(e){var t="gp-json-number";return/^"/.test(e)?t=/:$/.test(e)?"gp-json-key":"gp-json-string":/true|false/.test(e)?t="gp-json-boolean":/null/.test(e)&&(t="gp-json-null"),"<span class='"+t+"'>"+e+"</span>"}))}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return d.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"getContainer",value:function(){return this.container}},{key:"onEditJsonStyleMapBox",value:function(e){d.trace("onEditJsonStyleMapBox",e),e.editorID=this.id,e.data=this.options,o().dispatch(l.style.oneditjson,e)}},{key:"onChangeStyleScaleMinMapBox",value:function(e){d.trace("onChangeStyleScaleMinMapBox",e),e.editorID=this.id,e.data=this.options,o().dispatch(l.style.scale.onchangemin,e)}},{key:"onChangeStyleScaleMaxMapBox",value:function(e){d.trace("onChangeStyleScaleMaxMapBox",e),e.editorID=this.id,e.data=this.options,o().dispatch(l.style.scale.onchangemax,e)}}],t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();const g=h;function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function y(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}window.ol&&window.ol.style&&(window.ol.style.editor||(window.ol.style.editor={}),window.ol.style.editor.Style=h);var v=s.A.getLogger("editor-themes"),C=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v.trace("[constructor] Themes",t),this.options=t||{},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()},t=[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target;var e={thumbnails:!0,button:{visible:!0,type:"radio"}};this.options.tools&&0!==Object.keys(this.options.tools).length||(this.options.tools=e),i.A.mergeParams(this.options.tools,e,!1),void 0!==this.options.obj&&null!==this.options.obj&&this.options.obj||(this.options.obj={themesSummary:"",themes:[]}),this.container=null,this.name={target:"GPEditorMapBoxThemeTarget",container:"GPEditorMapBoxThemesContainer",containertheme:"GPEditorMapBoxThemeContainer",containerthemeID:"GPEditorMapBoxThemeContainer_ID_",input:"GPEditorMapBoxThemeInput",inputID:"GPEditorMapBoxThemeInput_ID_",label:"GPEditorMapBoxThemeTitle",labelID:"GPEditorMapBoxThemeTitle_ID_",image:"GPEditorMapBoxThemeImage",imageID:"GPEditorMapBoxThemeImage_ID_",message:"GPEditorMapBoxThemeMessage"}}},{key:"_initContainer",value:function(){var e=this,t=this.options.obj,n=this.id||a.A.generate(),r=document.createElement("div");r.className=this.name.container,r.title=t.themesSummary||"";var o=t.themes;if(o)for(var i=0;i<o.length;i++){var s=o[i],l=document.createElement("div");l.id=this.name.containerthemeID+i+"_"+n,l.className=this.name.containertheme,l.tabIndex=i;var c=s.url,u=s.selected||!1;if(c){var p=this.options.tools.button;if(p.visible){var d="checkbox"===p.type?"checkbox":"radio",h=document.createElement("input");h.type=d,h.id=this.name.inputID+i+"_"+n,h.className=this.name.input,h.name=n,h.checked=u,h.data=c,h.addEventListener?h.addEventListener("click",(function(t){e.onClickThemeTitleMapBox(t)})):h.attachEvent&&h.attachEvent("onclick",(function(t){e.onClickThemeTitleMapBox(t)})),l.appendChild(h)}if(this.options.tools.thumbnails&&s.thumbnail){var g=document.createElement("img");g.id=this.name.imageID+i+"_"+n,g.className=this.name.image,g.src=s.thumbnail,g.alt=s.thumbnail,g.title=s.description||"",g.data=c,g.addEventListener?g.addEventListener("click",(function(t){e.onClickThemeImageMapBox(t);var n=t.target.parentElement.childNodes;if(n){var r=n[0];"input"===r.tagName.toLowerCase()&&(r.checked=!r.checked)}})):g.attachEvent&&g.attachEvent("onclick",(function(t){e.onClickThemeImageMapBox(t);var n=t.target.parentElement.childNodes;if(n){var r=n[0];"input"===r.tagName.toLowerCase()&&(r.checked=!r.checked)}})),l.appendChild(g)}if(s.name){var f=document.createElement("label");f.id=this.name.labelID+i+"_"+n,this.options.tools.button.visible&&(f.htmlFor=h.id),f.className=this.name.label,f.innerHTML=s.name,f.title=s.description||"",f.data=c,this.options.tools.button.visible||(f.addEventListener?f.addEventListener("click",(function(t){e.onClickThemeTitleMapBox(t)})):f.attachEvent&&f.attachEvent("onclick",(function(t){e.onClickThemeTitleMapBox(t)}))),l.appendChild(f)}}else{var m=document.createElement("label");m.className=this.name.message,m.innerHTML="ThÃ¨me non disponible...",l.appendChild(m)}r.appendChild(l)}this.container=r}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return v.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"getContainer",value:function(){return this.container}},{key:"onClickThemeImageMapBox",value:function(e){if(v.trace("onClickThemeImageMapBox",e),e.editorID=this.id,e.data=this.options,"checkbox"===this.options.tools.button.type)for(var t=e.target.previousSibling.id.substring(e.target.previousSibling.id.lastIndexOf("_")+1),n=document.getElementsByClassName(this.name.input),r=0;r<n.length;r++){var i=n[r];i.id!==e.target.previousSibling.id&&i.id.substring(i.id.lastIndexOf("_")+1)===t&&(i.checked=!1)}o().dispatch(l.themes.onclickimage,e)}},{key:"onClickThemeTitleMapBox",value:function(e){if(v.trace("onClickThemeTitleMapBox",e),e.editorID=this.id,e.data=this.options,"checkbox"===this.options.tools.button.type)for(var t=e.target.id.substring(e.target.id.lastIndexOf("_")+1),n=document.getElementsByClassName(this.name.input),r=0;r<n.length;r++){var i=n[r];i.id!==e.target.id&&i.id.substring(i.id.lastIndexOf("_")+1)===t&&(i.checked=!1)}o().dispatch(l.themes.onclicktitle,e)}}],t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();const I=C;function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function E(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}window.ol&&window.ol.style&&(window.ol.style.editor||(window.ol.style.editor={}),window.ol.style.editor.Themes=C);var w=s.A.getLogger("editor-filter"),_=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w.trace("[constructor] Filter",t),this.options=t||{target:null,position:0,tools:null,title:null,obj:null},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()},t=[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={edition:!1};this.options.tools||(this.options.tools=e),i.A.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={filter:[]}),this.options.title||(this.options.title="JSON Filtres :"),this.container=null,this.name={target:"GPEditorMapBoxFilterTarget",container:"GPEditorMapBoxFilterContainer",containerjson:"GPEditorMapBoxFilterJsonContainer",jsonlabel:"GPEditorMapBoxFilterTitleJson",jsondisplay:"GPEditorMapBoxFilterDisplayJson",containertoolsedit:"GPEditorMapBoxFilterToolsEditionContainer"}}},{key:"_initContainer",value:function(){var e=this,t=!1,n=JSON.parse(JSON.stringify(this.options.obj));n.filter&&(t=!0,0===n.filter.length&&w.info("tag 'filter' is empty !"));var r=document.createElement("div");r.className=this.name.container;var o=null;t&&(o=JSON.stringify(n.filter,null,4));var i=document.createElement("div");i.className=this.name.containerjson;var a=document.createElement("label");a.className=this.name.jsonlabel,a.innerHTML=this.options.title,i.appendChild(a);var s=document.createElement("pre");if(s.className=this.name.jsondisplay,s.innerHTML=o,s.addEventListener?s.addEventListener("click",(function(t){e.options.tools.edition&&e.onEditJsonFilterMapBox(t)})):s.attachEvent&&s.attachEvent("onclick",(function(t){e.options.tools.edition&&e.onEditJsonFilterMapBox(t)})),i.appendChild(s),r.appendChild(i),this.options.tools.edition){var l=document.createElement("div");l.className=this.name.containertoolsedit,r.appendChild(l)}this.container=r}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return w.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"getContainer",value:function(){return this.container}},{key:"onEditJsonFilterMapBox",value:function(e){w.trace("onEditJsonFilterMapBox",e),e.editorID=this.id,e.data=this.options,o().dispatch(l.filter.oneditjson,e)}}],t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();const P=_;window.ol&&window.ol.style&&(window.ol.style.editor||(window.ol.style.editor={}),window.ol.style.editor.Filter=_);var S=n(3920);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function k(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}var R=s.A.getLogger("editor-legend"),N=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),R.trace("[constructor] Legend",t),this.options=t||{target:null,position:0,sprites:null,obj:null},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()}return t=e,n=[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0),this.options.obj||(this.options.obj={title:"vide...",editable:!0,paint:{"fill-color":"#FFFFFF"}});var e=this.options.obj.editable;this.editable=void 0!==e&&e,this.legendRender={type:"fill",values:{width:1,stroke:"#FFFFFF",color:"#000000",opacity:1}},this.container=null,this.rendercontainer=null,this.toolscontainer=null,this.name={target:"GPEditorMapBoxLegendTarget",container:"GPEditorMapBoxLegendContainer",containerlegendrender:"GPEditorMapBoxLegendRenderContainer",legendrender:"GPEditorMapBoxLegendRender",legendeditable:"GPEditorMapBoxLegendEditable",legendtitle:"GPEditorMapBoxLegendTitle",containerlegendtools:"GPEditorMapBoxLegendToolsContainer"},this.labels={"line-color":"Couleur du trait","line-width":"Epaisseur du trait","line-opacity":"OpacitÃ© du trait","fill-color":"Couleur de remplissage","fill-opacity":"OpacitÃ© du remplissage"}}},{key:"_initContainer",value:function(){var e=this.options.obj,t=document.createElement("div");t.className=this.name.container;var n=Object.assign({},e.paint,e.layout),r=Object.keys(n);if(0!==r.length){for(var o={},i=!1,a=0;a<r.length;a++){var s=r[a];if(/fill-/.test(s)||/line-/.test(s)||/circle-/.test(s)||/background-/.test(s)||/text-/.test(s)||/icon-/.test(s)){i=!0;var l=e.title||"",c=s.split("-")[0];"text"!==c&&"icon"!==c||(c="symbol"),this.legendRender=this._getProperties(c,n),o={edit:this.editable,title:l,type:this.legendRender.type,values:this.legendRender.values},t.appendChild(this._createElementIconLegend(o));break}}i||(o={edit:this.editable,title:"",type:this.legendRender.type,values:this.legendRender.values},t.appendChild(this._createElementIconLegend(o)),R.warn("legend type unknown, default legend used...")),this.toolscontainer=this._createElementEditionLegend(o),t.appendChild(this.toolscontainer),this.container=t}else R.info("tag 'paint' or 'layout' is empty !")}},{key:"_getProperties",value:function(t,n){if("symbol"===t){var r=n["text-field"],o=n["icon-image"];if("unknow"==(t=r&&o?"icon":r?"text":o?"icon":"unknow"))return void R.warn("type unknow !?")}var i={};for(var a in n)if(Object.hasOwnProperty.call(n,a)){var s=n[a];if(e.PROPERTIES[t].includes(a)){var l=a.replace(t,"").slice(1),c=this._getValue(s);if(c){if(!("pattern"!==l&&"image"!==l||this.options.sprites&&this.options.sprites.json&&this.options.sprites.json[c])){var u=t+":"+l;R.warn("sprites mandatory for key ",u);break}i[l]=c}}else R.warn("property not supported : ",a)}return{type:t,values:i}}},{key:"_renderThumbnail",value:function(e,t){var n=this.rendercontainer;if(!n)return!1;var r=null;switch(t.color||(t.color="#FFFFFF"),e){case"text":r="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><text x='50' y='50' fill='%color%' fill-opacity='%opacity%'  text-anchor='middle' dominant-baseline='central' style='%style%'> T </text></svg>\")",n.style.background=r.replace("%color%",0===t.color.indexOf("rgb")?t.color:S.A.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%style%","font-size: 5em;font-weight: bold;");break;case"icon":t.image?(r="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' width='27px' height='27px' x='0' y='0' viewBox='%x% %y% %w% %h%'><image width='%W%px' height='%H%px' href='%URL%'/></svg>".replace("%x%",this.options.sprites.json[t.image].x).replace("%y%",this.options.sprites.json[t.image].y).replace(/%w%/g,this.options.sprites.json[t.image].width).replace(/%h%/g,this.options.sprites.json[t.image].height).replace("%W%",this.options.sprites.size.w).replace("%H%",this.options.sprites.size.h).replace("%URL%",this.options.sprites.url),n.innerHTML=r):(r="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><path d='M 50,20 80,82.5 20,82.5 z' stroke='%color%' style='%style%'/></svg>\")",n.style.background=r.replace("%color%",0===t.color.indexOf("rgb")?t.color:S.A.hexToRgba(t.color,1)).replace("%style%","fill: transparent;stroke-width: 10;"));break;case"line":var o=Array.isArray(t.dasharray)?t.dasharray.join(" "):0;r="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><line x1='0' y1='100' x2='100' y2='0' stroke='%color%' stroke-width='%stroke-width%' stroke-opacity='%stroke-opacity%' stroke-dasharray='%stroke-dasharray%' /></svg>\")",n.style.background=r.replace("%color%",0===t.color.indexOf("rgb")?t.color:S.A.hexToRgba(t.color,1)).replace("%stroke-opacity%",t.opacity||1).replace("%stroke-dasharray%",o).replace("%stroke-width%",3*(t.width||0));break;case"circle":var i=t["stroke-color"]||"#FFFFFF";r="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' stroke='%stroke-color%' stroke-width='%stroke-width%' stroke-opacity='%strock-opacity%' fill='%color%' fill-opacity='%opacity%' /></svg>\")",n.style.background=r.replace("%color%",0===t.color.indexOf("rgb")?t.color:S.A.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%stroke-color%",0===i.indexOf("rgb")?i:S.A.hexToRgba(i,1)).replace("%stroke-opacity%",t["stroke-opacity"]||1).replace("%stroke-width%",3*(t["stroke-width"]||0));break;case"background":case"fill":if(t.pattern)r="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' width='27px' height='27px' x='0' y='0' viewBox='%x% %y% %w% %h%'><image width='%W%px' height='%H%px' href='%URL%'/></svg>".replace("%x%",this.options.sprites.json[t.pattern].x).replace("%y%",this.options.sprites.json[t.pattern].y).replace(/%w%/g,this.options.sprites.json[t.pattern].width).replace(/%h%/g,this.options.sprites.json[t.pattern].height).replace("%W%",this.options.sprites.size.w).replace("%H%",this.options.sprites.size.h).replace("%URL%",this.options.sprites.url),n.innerHTML=r;else{var a=t["outline-color"]||"#FFFFFF";r="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' preserveAspectRatio='none' viewBox='0 0 100 100'><rect x='0' y='0' width='100' height='100' rx='5' ry='5' stroke='%stroke-color%' stroke-width='3' fill='%color%' fill-opacity='%opacity%' /></svg>\")",n.style.background=r.replace("%color%",0===t.color.indexOf("rgb")?t.color:S.A.hexToRgba(t.color,1)).replace("%opacity%",t.opacity||1).replace("%stroke-color%",0===a.indexOf("rgb")?a:S.A.hexToRgba(a,1))}break;default:return R.warn("type not found, no thumbnail..."),!1}return!0}},{key:"_getValue",value:function(e){var t=null;if("string"==typeof e)t=e;else if("number"==typeof e)t=e;else if(Array.isArray(e)){var n=!0;e.forEach((function(e){"number"!=typeof e&&(n=!1)})),n&&(t=e)}else"object"===x(e)?(t=null,"stops"in e&&(e.stops.sort((function(e,t){var n=e[0],r=t[0];return n>r?-1:n<r?1:0})),t=e.stops.slice(-1)[0][1])):R.warn("value not supported !");return t}},{key:"_createElementIconLegend",value:function(e){var t=this,n=document.createElement("div");n.className=this.name.containerlegendrender;var r=this.rendercontainer=document.createElement("div");r.className=this.name.legendrender,e.edit&&(r.className+=" ",r.className+=this.name.legendeditable,r.addEventListener?r.addEventListener("click",(function(e){t.onEditionLegendMapBox(e)})):r.attachEvent&&r.attachEvent("onclick",(function(e){t.onEditionLegendMapBox(e)})));var o=e.type;this._renderThumbnail(o,e.values)?r.className+=e.edit?" legend-"+o:" legend-"+o+"-not-editable":r.className+=" legend-unknow",n.appendChild(r);var i=document.createElement("span");return i.className=this.name.legendtitle,i.innerHTML=e.title||"",n.appendChild(i),n}},{key:"_createElementEditionLegend",value:function(e){var t=this,n=document.createElement("div");if(n.className=this.name.containerlegendtools,!e.edit)return n;switch(e.type){case"line":(function(){var r=document.createElement("div");r.className="legend-styling-div";var o=document.createElement("label");o.className="legend-line",o.htmlFor=this.id?"line-color-"+this.id:"line-color",o.innerHTML=this.labels["line-color"];var i=document.createElement("input");i.className="legend-styling",i.id=this.id?"line-color-"+this.id:"line-color",i.title="Selectionner une couleur de trait",i.type="color",i.value=e.values.color,i.setAttribute("data-id","line-color"),i.addEventListener?i.addEventListener("change",(function(n){t._renderThumbnail(e.type,Object.assign(e.values,{color:n.target.value})),t.onChangeValueLegendMapBox(n)})):i.attachEvent&&i.attachEvent("onchange",(function(n){t._renderThumbnail(e.type,Object.assign(e.values,{color:n.target.value})),t.onChangeValueLegendMapBox(n)})),r.appendChild(o),r.appendChild(i),n.appendChild(r)}).call(t),function(){var r=document.createElement("div");r.className="legend-styling-div";var o=document.createElement("label");o.className="legend-line",o.htmlFor=this.id?"line-width-"+this.id:"line-width",o.innerHTML=this.labels["line-width"];var i=document.createElement("input");i.className="legend-styling",i.id=this.id?"line-width-"+this.id:"line-width",i.title=e.values.width,i.type="range",i.min="0",i.max="10",i.step="1",i.defaultValue=e.values.width,i.setAttribute("data-id","line-width"),i.addEventListener?i.addEventListener("change",(function(n){R.trace(n),n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{width:n.target.value})),t.onChangeValueLegendMapBox(n)})):i.attachEvent&&i.attachEvent("onchange",(function(n){R.trace(n),n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{width:n.target.value})),t.onChangeValueLegendMapBox(n)})),r.appendChild(o),r.appendChild(i),n.appendChild(r)}.call(t),function(){var r=document.createElement("div");r.className="legend-styling-div";var o=document.createElement("label");o.className="legend-line",o.htmlFor=this.id?"line-opacity-"+this.id:"line-opacity",o.innerHTML=this.labels["line-opacity"];var i=document.createElement("input");i.className="legend-styling",i.id=this.id?"line-opacity-"+this.id:"line-opacity",i.title=e.values.opacity,i.type="range",i.min="0",i.max="1",i.step="0.1",i.defaultValue=e.values.opacity,i.setAttribute("data-id","line-opacity"),i.addEventListener?i.addEventListener("change",(function(n){R.trace(n),n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:n.target.value})),t.onChangeValueLegendMapBox(n)})):i.attachEvent&&i.attachEvent("onchange",(function(n){R.trace(n),n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:n.target.value})),t.onChangeValueLegendMapBox(n)})),r.appendChild(o),r.appendChild(i),n.appendChild(r)}.call(t);break;case"background":case"fill":(function(){var r=document.createElement("div");r.className="legend-styling-div";var o=document.createElement("label");o.className="legend-fill",o.htmlFor=this.id?"fill-color-"+this.id:"fill-color",o.innerHTML=this.labels["fill-color"];var i=document.createElement("input");i.className="legend-styling",i.id=this.id?"fill-color-"+this.id:"fill-color",i.title="Selectionner une couleur de remplissage",i.type="color",i.value=e.values.color,i.setAttribute("data-id","fill-color"),i.addEventListener?i.addEventListener("change",(function(n){t._renderThumbnail(e.type,Object.assign(e.values,{color:n.target.value})),t.onChangeValueLegendMapBox(n)})):i.attachEvent&&i.attachEvent("onchange",(function(n){t._renderThumbnail(e.type,Object.assign(e.values,{color:n.target.value})),t.onChangeValueLegendMapBox(n)})),r.appendChild(o),r.appendChild(i),n.appendChild(r)}).call(t),function(){var r=document.createElement("div");r.className="legend-styling-div";var o=document.createElement("label");o.className="legend-fill",o.htmlFor=this.id?"fill-opacity-"+this.id:"fill-opacity",o.innerHTML=this.labels["fill-opacity"];var i=document.createElement("input");i.className="legend-styling",i.id=this.id?"fill-opacity-"+this.id:"fill-opacity",i.title=e.values.opacity,i.type="range",i.min="0",i.max="1",i.step="0.1",i.defaultValue=e.values.opacity,i.setAttribute("data-id","fill-opacity"),i.addEventListener?i.addEventListener("change",(function(n){n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:n.target.value})),t.onChangeValueLegendMapBox(n)})):i.attachEvent&&i.attachEvent("onchange",(function(n){n.target.title=n.target.value,t._renderThumbnail(e.type,Object.assign(e.values,{opacity:n.target.value})),t.onChangeValueLegendMapBox(n)})),r.appendChild(o),r.appendChild(i),n.appendChild(r)}.call(t)}return n}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return R.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"isEditable",value:function(){return this.editable}},{key:"getRenderContainer",value:function(){return this.rendercontainer}},{key:"getToolsContainer",value:function(){return this.toolscontainer}},{key:"getContainer",value:function(){return this.container}},{key:"onEditionLegendMapBox",value:function(e){R.trace("onEditionLegendMapBox",e),e.editorID=this.id,e.data=this.options,o().dispatch(l.legend.onclickedition,e)}},{key:"onChangeValueLegendMapBox",value:function(e){R.trace("onChangeValueLegendMapBox",e),e.editorID=this.id,e.data=this.options,o().dispatch(l.legend.onchangevalue,e)}}],n&&T(t.prototype,n),r&&T(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();N.PROPERTIES={line:["line-color","line-dasharray","line-opacity","line-width"],fill:["fill-color","fill-opacity","fill-outline-color","fill-pattern"],background:["background-color","background-opacity","background-pattern"],circle:["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-stroke-width"],icon:["icon-color","icon-image","icon-opacity","__icon-size"],text:["__text-anchor","text-color","text-field","__text-font","__text-opacity","__text-size"]};const L=N;function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}function M(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}window.ol&&window.ol.style&&(window.ol.style.editor||(window.ol.style.editor={}),window.ol.style.editor.Legend=N);var G=s.A.getLogger("editor-layer"),U=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),G.trace("[constructor] Layer",t),this.options=t||{},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()},t=[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.position||(this.options.position=0);var e={visibility:!0,icon:{image:!0,anchor:"end"},type:!0,pin:!0,remove:!1,clone:!1};this.options.tools||(this.options.tools=e),i.A.mergeParams(this.options.tools,e,!1);var t={id:"",type:"",source:"","source-layer":""};this.options.obj||(this.options.obj=t),i.A.mergeParams(this.options.obj,t,!1),this.bSlotLegend=!1,this.oFilter=null,this.oStyle=null,this.oLegend=null,this.container=null,this.DomVisibility=null,this.DomToggle=null,this.name={target:"GPEditorMapBoxLayerTarget",container:"GPEditorMapBoxLayerContainer",containerlegend:"GPEditorMapBoxLayerLegendContainer",containertitle:"GPEditorMapBoxLayerTitleContainer",imagelabelinput:"GPEditorMapBoxLayerImageInput",imagelabel:"GPEditorMapBoxLayerImageLabel",typeimg:"GPEditorMapBoxLayerTypeImage",titleinput:"GPEditorMapBoxLayerTitleInput",titlelabel:"GPEditorMapBoxLayerTitleLabel",containertools:"GPEditorMapBoxToolsContainer",visibilityinput:"GPEditorMapBoxToolsVisibilityInput",visibilitylabel:"GPEditorMapBoxToolsVisibilityLabel",visibilityinputdisable:"GPEditorMapBoxToolsVisibilityInputDisable",visibilitylabeldisable:"GPEditorMapBoxToolsVisibilityLabelDisable"}}},{key:"_initContainer",value:function(){var e=this,t=this.options.obj,n=document.createElement("div");n.className=this.name.container;var r=document.createElement("div");if(r.id=this.name.containertitle+"-"+this.options.position,r.className=this.name.containertitle,this.options.tools.pin){var o=document.createElement("input");o.id=this.name.imagelabelinput+"-"+this.options.position,o.className=this.name.imagelabelinput,o.type="checkbox",r.appendChild(o);var i=document.createElement("label");i.className=this.name.imagelabel,i.htmlFor=o.id,i.addEventListener?i.addEventListener("click",(function(t){e.onClickLayerMapBox(t)})):i.attachEvent&&i.attachEvent("onclick",(function(t){e.onClickLayerMapBox(t)})),r.appendChild(i)}var a=function(){var t=document.createElement("div");if(t.id=this.name.containertools+"-"+this.options.position,t.className=this.name.containertools,this.options.tools.visibility){var r=document.createElement("input");r.id=this.name.visibilityinput+"-"+this.options.position,r.className=this.options.tools.icon.image?this.name.visibilityinput:this.name.visibilityinputdisable,r.type="checkbox",r.checked="checked",r.addEventListener?r.addEventListener("click",(function(t){e.onVisibilityLayerMapBox(t)})):r.attachEvent&&r.attachEvent("onclick",(function(t){e.onVisibilityLayerMapBox(t)})),t.appendChild(r),this.DomVisibility=r;var o=document.createElement("label");o.htmlFor=this.name.visibilityinput+"-"+this.options.position,o.id=this.name.visibilitylabel+"-"+this.options.position,o.className=this.options.tools.icon.image?this.name.visibilitylabel:this.name.visibilitylabeldisable,o.title="Afficher/masquer la couche",t.appendChild(o),n.appendChild(t)}this.options.tools.clone&&G.warn("Dom for tools clone, it's not yet implemented !"),this.options.tools.remove&&G.warn("Dom for tools remove, it's not yet implemented !")};if("start"===this.options.tools.icon.anchor&&a.apply(this),this.options.tools.type&&t.type){var s=document.createElement("img");switch(s.className=this.name.typeimg,t.type.toUpperCase()){case"SYMBOL-ICON":s.style["background-position"]="0px 0";break;case"SYMBOL-TEXT":s.style["background-position"]="-194px 0";break;case"SYMBOL":s.style["background-position"]="-84px 0";break;case"LINE":s.style["background-position"]="-28px 0";break;case"FILL":s.style["background-position"]="-56px 0";break;case"BACKGROUND":s.style["background-position"]="-140px 0";break;case"CIRCLE":s.style["background-position"]="-168px 0";break;default:s.style["background-position"]="-112px 0"}r.appendChild(s)}var l=document.createElement("div");l.id=this.name.containerlegend+"-"+this.options.position,l.className=this.name.containerlegend,r.appendChild(l);var c=document.createElement("input");c.id=this.name.titleinput+"-"+this.options.position,c.className=this.name.titleinput,c.type="checkbox",r.appendChild(c);var u=document.createElement("label");u.className=this.name.titlelabel,u.htmlFor=c.id,u.innerHTML=t.id||t["source-layer"]||t.source,u.title=t["source-layer"]||t.source||t.id,u.addEventListener?u.addEventListener("click",(function(t){e.onClickLayerMapBox(t)})):u.attachEvent&&u.attachEvent("onclick",(function(t){e.onClickLayerMapBox(t)})),r.appendChild(u),this.DomToggle=u,n.appendChild(r),"end"===this.options.tools.icon.anchor&&a.apply(this),this.container=n}},{key:"add",value:function(){if(G.trace("add()"),!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"addStyle",value:function(e){G.trace("addStyle()",e),e&&"object"===O(e)&&e instanceof g&&(this.oStyle=e,this.oStyle.display(!1))}},{key:"addFilter",value:function(e){G.trace("addFilter()",e),e&&"object"===O(e)&&e instanceof P&&(this.oFilter=e,this.oFilter.display(!1))}},{key:"addLegend",value:function(e){G.trace("addLegend()",e),e&&"object"===O(e)&&e instanceof L&&(this.oLegend=e,this.oLegend.display(!1))}},{key:"slotLegend",value:function(){var e=this.oLegend;if(e){var t=null,n=this.container.childNodes;if(n.length)for(var r=n["start"===this.options.tools.icon.anchor?1:0].childNodes,o=0;o<r.length;o++){var i=r[o];-1!==i.id.indexOf(this.name.containerlegend)&&(t=i)}if(t){var a=e.getRenderContainer();a&&(t.appendChild(a),this.bSlotLegend=!0)}}}},{key:"visibility",value:function(e){if(G.trace("visibility()",e),this.options.tools.visibility)return void 0!==e&&(this.DomVisibility.checked=e?"checked":""),this.DomVisibility.checked}},{key:"collapse",value:function(){G.trace("collapse()"),this.DomToggle.click()}},{key:"visible",value:function(){G.trace("visible()"),this.options.tools.visibility&&this.DomVisibility.click()}},{key:"display",value:function(e){G.trace("display()",e);var t=document.getElementById(this.DomToggle.htmlFor).checked;return void 0!==e&&(this.container.style.display=e?"inline-flex":"none",this.oStyle&&this.oStyle.display(e&&t),this.oFilter&&this.oFilter.display(e&&t),this.oLegend&&this.oLegend.display(e&&t)),t}},{key:"active",value:function(e){return G.trace("active()",e),void 0!==e&&(this.container.className=e?this.name.container:this.name.container+" disabled"),this.container.className===this.name.container}},{key:"getContainer",value:function(){return this.container}},{key:"onClickLayerMapBox",value:function(e){G.trace("onClickLayerMapBox",e);var t=e.target.htmlFor.substring(e.target.htmlFor.indexOf("-")),n=document.getElementById(e.target.htmlFor).checked;e.target.htmlFor===this.name.imagelabelinput+t&&(document.getElementById(this.name.titleinput+t).checked=!n),e.target.htmlFor===this.name.titleinput+t&&document.getElementById(this.name.imagelabelinput+t)&&(document.getElementById(this.name.imagelabelinput+t).checked=!n),this.oStyle&&this.oStyle.display(!n),this.oFilter&&this.oFilter.display(!n),this.oLegend&&this.oLegend.isEditable()&&this.oLegend.display(!n)}},{key:"onVisibilityLayerMapBox",value:function(e){G.trace("onVisibilityLayerMapBox",e),e.editorID=this.id,e.data=this.options,o().dispatch(l.layer.onclickvisibility,e)}},{key:"onCloneLayerMapBox",value:function(e){G.trace("onCloneLayerMapBox",e),e.editorID=this.id,e.data=this.options,o().dispatch(l.layer.onclickclone,e)}},{key:"onRemoveLayerMapBox",value:function(e){G.trace("onRemoveLayerMapBox",e),e.editorID=this.id,e.data=this.options,o().dispatch(l.layer.onclickremove,e)}}],t&&D(e.prototype,t),n&&D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();const B=U;function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q(r.key),r)}}function q(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}window.ol&&window.ol.style&&(window.ol.style.editor||(window.ol.style.editor={}),window.ol.style.editor.Layer=U);var z=s.A.getLogger("editor-group");const H=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),z.trace("[constructor] Group",t),this.options=t||{},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()},t=[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target,this.options.title||(this.options.title="DÃ©tails du groupe..."),void 0===this.options.collapse&&(this.options.collapse=!0),this.container=null,this.name={target:"GPEditorMapBoxGroupTarget",container:"GPEditorMapBoxGroupContainer",details:"GPEditorMapBoxGroupDetails",summary:"GPEditorMapBoxGroupSummary"}}},{key:"_initContainer",value:function(){var e=document.createElement("div");e.className=this.name.container;var t=document.createElement("details");t.className=this.name.details,t.open=!this.options.collapse,e.appendChild(t);var n=document.createElement("summary");n.className=this.name.summary,n.innerHTML=this.options.title,t.appendChild(n),this.container=e}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}this.container&&this.options.target.appendChild(this.container)}},{key:"display",value:function(e){this.container.style.display=e?"flex":"none"}},{key:"getContainer",value:function(){var e=this.container.childNodes;return e.length?e[0]:this.container}},{key:"onCollapseGroupMapBox",value:function(e){z.trace("onCollapseGroupMapBox",e),e.editorID=this.id,e.data=this.options,o().dispatch(l.group.oncollapse,e)}}],t&&j(e.prototype,t),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function W(e){var t=function(e,t){if("object"!=V(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==V(t)?t:t+""}var X=s.A.getLogger("editor-search");const Z=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),X.trace("[constructor] Search",t),this.options=t||{target:null,tools:null,title:null,obj:null},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize(),this._initContainer()},t=[{key:"_initialize",value:function(){this.id=this.options.id||null,this.options.target;var e={};this.options.tools||(this.options.tools=e),i.A.mergeParams(this.options.tools,e,!1),this.options.obj||(this.options.obj={}),this.options.title||(this.options.title="Recherche de couches :"),this.container=null,this.name={target:"GPEditorMapBoxSearchTarget",container:"GPEditorMapBoxSearchContainer"}}},{key:"_initContainer",value:function(){var e=JSON.parse(JSON.stringify(this.options.obj));e.layers&&0===e.layers.length&&X.info("tag 'layers' is empty !");var t=document.createElement("div");t.className=this.name.container,this.container=t}},{key:"add",value:function(){if(!this.options.target){if(!document.getElementById(this.name.target)){var e=document.createElement("div");e.id=this.name.target,(document.documentElement||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)}this.options.target=document.getElementById(this.name.target)}return this.container&&this.options.target.appendChild(this.container),this}},{key:"display",value:function(e){return X.trace("display()",e),void 0!==e&&(this.container.style.display=e?"flex":"none"),"flex"===this.container.style.display}},{key:"getContainer",value:function(){return this.container}},{key:"onSubmitSearchLayersMapBox",value:function(e){X.trace("onSubmitSearchLayersMapBox",e),e.editorID=this.id,e.data=this.options,o().dispatch(l.search.onsubmit,e)}},{key:"onAutocompleteSearchLayersMapBox",value:function(e){X.trace("onAutocompleteSearchLayersMapBox",e),e.editorID=this.id,e.data=this.options,o().dispatch(l.search.onautocomplete,e)}}],t&&Y(e.prototype,t),n&&Y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();const J={_addUID:function(e){return this._uid?e+"-"+this._uid:e}};function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$(r.key),r)}}function $(e){var t=function(e,t){if("object"!=K(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==K(t)?t:t+""}var ee=s.A.getLogger("editor"),te=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ee.trace("[constructor] Editor",t),this.options=t||{},!(this instanceof e))throw new TypeError("ERROR CLASS_CONSTRUCTOR");this._initialize()},(t=[{key:"_initialize",value:function(){if(this.options.target||ee.info("La 'target' n'est pas renseignÃ©e (options.target)."),this.options.style){this.options.events?this._initEvents():ee.warn("Les 'handlers' ne sont pas renseignÃ©s (options.events) !"),this.options.themes||ee.info("Les 'themes' MapBox ne sont pas renseignÃ©s (options.themes).");var e={themes:!1,layers:!0,search:!1,style:!1,filter:!1,legend:!1,group:!1,groupAuto:!1,sort:!0,sortBy:"id",sortOrder:"asc",title:!0,collapse:void 0,type:!0,pin:!0,visibility:!0,icon:{image:!0,anchor:"end"},editable:!0};this.options.tools||(ee.trace("Utilisation des outils MapBox par dÃ©faut (options.tools)."),this.options.tools=e),i.A.mergeParams(this.options.tools,e,!1),this.id=this.options.id||a.A.generate(),this.context={},this.layers=[],this.container=null,this.name={target:"GPEditorMapBoxTarget",container:"GPEditorMapBoxContainer",containerID:"GPEditorMapBoxContainer_ID_",containerLayers:"GPEditorMapBoxLayersContainer",titleLayers:"GPEditorMapBoxLayersTitle",titleLayersID:"GPEditorMapBoxLayersTitle_ID_",titleThemes:"GPEditorMapBoxThemesTitle",titleThemesID:"GPEditorMapBoxThemesTitle_ID_",sep:"GPEditorMapBoxSep"},this.mapbox={},this.sprites={}}else ee.error("Le 'style' MapBox n'est pas renseignÃ© (options.style) !")}},{key:"_initEvents",value:function(){var e=this.options.scope||this,t=this.options.events;if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r&&(o().hasEventListener(n,r,e)||o().addEventListener(n,r,e))}}},{key:"_initContainer",value:function(){ee.trace(this.mapbox);var e=document.createElement("div");e.id=this.name.containerID+this.id,e.className=this.name.container;var t=this.options.tools.themes;if(t&&this.options.themes){if(this.options.tools.title){var n=document.createElement("div");n.id=this.name.titleThemesID+this.id,n.className=this.name.titleThemes,n.innerHTML="Liste des 'thÃ¨mes'",e.appendChild(n)}new I({id:this.id,target:e,tools:"object"===K(t)?t:{},obj:this.options.themes}).add()}for(var r in this.options.tools.search&&new Z({id:this.id,target:e,tools:{},obj:this.mapbox.layers}).add(),this.mapbox.sources)if(this.mapbox.sources.hasOwnProperty(r)){if(this.options.tools.layers){var i=Object.keys(this.mapbox.sources).length>1?1:0;if(i){var a=document.createElement("hr");a.className=this.name.sep,e.appendChild(a)}if(this.options.tools.title){var s=document.createElement("div");s.id=this.name.titleLayersID+this.id,s.className=this.name.titleLayers,s.innerHTML=i?"Liste des 'couches' ("+r+")":"Liste des 'couches'",e.appendChild(s)}}var c=this.mapbox.layers.slice();if(c.forEach((function(e,t){var n=e.metadata;n?n["geoportail:order"]=t:e.metadata={"geoportail:order":t}})),this.options.tools.sort){var u=this.options.tools.sortBy,p=this.options.tools.sortOrder;c.sort((function(e,t){var n=0;if(e.metadata&&e.metadata["geoportail:group"]&&t.metadata&&t.metadata["geoportail:group"]){var r,o=null;o=e.metadata["geoportail:group"],r=t.metadata["geoportail:group"],n=o.localeCompare(r)}else switch(u){case"geom":n="asc"===p?e.type.localeCompare(t.type)||e.id.localeCompare(t.id):t.type.localeCompare(e.type)||t.id.localeCompare(e.id);break;case"class":n="asc"===p?e["source-layer"].localeCompare(t["source-layer"])||e.id.localeCompare(t.id):t["source-layer"].localeCompare(e["source-layer"])||t.id.localeCompare(e.id);break;default:n="asc"===p?e.id.localeCompare(t.id):t.id.localeCompare(e.id)}return n}))}ee.trace("Layers : ",c);var d=this.options.tools.sortBy,h=this.options.tools.groupAuto,f={};c.forEach((function(e){var t=e.metadata;if(t&&t["geoportail:group"]){var n=t["geoportail:group"];f[n]=f[n]?f[n]+1:1}else{var r=null;switch(d){case"class":r=e["source-layer"];break;case"geom":r=e.type;break;default:r=e.id}var o=r;if(h){var i=r.search(/_|-|:|=/);o=-1!==i?r.substring(0,i).trim():r}f[o]=f[o]?f[o]+1:1,t?t["geoportail:group"]=o:e.metadata={"geoportail:group":o}}})),ee.trace("Groups : ",f);var m,y=document.createElement("div");if(y.className=this.name.containerLayers,e.appendChild(y),void 0!==this.options.tools.collapse){(m=document.createElement("details")).className="",m.open=!this.options.tools.collapse,y.appendChild(m);var v=document.createElement("summary");v.className="",v.innerHTML="",m.appendChild(v)}for(var C=void 0!==this.options.tools.collapse?m:y,A=-1,b=0;b<c.length;b++){var E=c[b];if(A++,E.source===r){if(this.options.tools.group&&this.options.tools.sort)if(E.metadata){var w=E.metadata["geoportail:group"];if(w)if(f[w]>1){f[w]=-1;var _=new H({id:this.id,target:void 0!==this.options.tools.collapse?m:y,title:w,collapse:!0});_.add(),C=_.getContainer()}else 1===f[w]&&(C=void 0!==this.options.tools.collapse?m:y);else C=void 0!==this.options.tools.collapse?m:y}else C=void 0!==this.options.tools.collapse?m:y;if(this.options.tools.layers){var S=new B({id:this.id,target:C,position:A+"_"+this.id,tools:{visibility:this.options.tools.visibility,icon:this.options.tools.icon,type:this.options.tools.type,pin:this.options.tools.pin},obj:{id:E.id,type:E.type,source:E.source,"source-layer":E["source-layer"]}});S.add(),E.layout&&E.layout.visibility&&"none"===E.layout.visibility&&S.visibility(!1),this.layers.push(S)}if(this.options.tools.legend){var x=this.options.tools.editable;void 0===x&&(x=E.editable);var T=new L({id:this.id,target:C,sprites:this.sprites,obj:{id:E.id,source:E.source,title:E.id,editable:void 0!==x&&x,paint:E.paint,layout:E.layout}});T.add(),T.display(!1),S&&(S.addLegend(T),S.slotLegend())}if(this.options.tools.style){var k=new g({id:this.id,target:C,position:A+"_"+this.id,obj:{id:E.id,source:E.source,layout:E.layout,paint:E.paint}});k.add(),k.display(!1),S&&S.addStyle(k),E.layout&&E.layout.visibility&&"none"===E.layout.visibility&&S.visibility(!1)}if(this.options.tools.filter){var R=new P({id:this.id,target:C,position:A+"_"+this.id,obj:{id:E.id,source:E.source,filter:E.Filter}});R.add(),R.display(!1),S&&S.addFilter(R)}}else A>=0&&A--}}if(this.container=e,!this.options.target){if(!document.getElementById(this.name.target)){var N=document.createElement("div");N.id=this.name.target,(document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]||document.documentElement).appendChild(N)}this.options.target=document.getElementById(this.name.target)}this.container&&this.options.target.appendChild(this.container),o().dispatch(l.onloaded,this)}},{key:"_getSprites",value:function(e){var t,n=this;return e&&e.startsWith("mapbox://")?new Promise((function(e,t){ee.error("Protocole mapbox:// non gÃ©rÃ© !"),e(n)})):e?Promise.all([(t=e+".png",fetch(t,{credentials:"same-origin"}).then((function(e){if(e.ok)return e.blob().then((function(e){n.sprites.url=t;var r=new Image;return r.src=t,r.decode().then((function(){n.sprites.size={},n.sprites.size.h=r.height,n.sprites.size.w=r.width}))})).catch((function(e){ee.warn("fetch image sprites exception :",e)}));throw new Error("HTTP status code: "+e.status)})).catch((function(e){return new Promise((function(t,n){ee.error("fetch image sprites exception :",e),n(e)}))}))),fetch(e+".json",{credentials:"same-origin"}).then((function(e){if(e.ok)return e.json().then((function(e){n.sprites.json=e})).catch((function(e){ee.warn("fetch json sprites exception :",e)}));throw new Error("HTTP status code: "+e.status)})).catch((function(e){return new Promise((function(t,n){ee.error("fetch json sprites exception :",e),n(e)}))}))]):new Promise((function(e,t){ee.error("Auncun sprites disponibles !"),e(n)}))}},{key:"createElement",value:function(){var e=this;return"object"===K(this.options.style)?(this.mapbox=this.options.style,this.options.tools.legend?this._getSprites(this.mapbox.sprite).then((function(){return e._initContainer(),e})).catch((function(e){ee.warn("fetch sprites exception :",e)})):new Promise((function(t,n){e._initContainer(),t(e)}))):"string"==typeof this.options.style?fetch(this.options.style,{credentials:"same-origin"}).then((function(t){return t.json().then((function(t){e.mapbox=t})).then((function(){return e.options.tools.legend?e._getSprites(e.mapbox.sprite).then((function(){return e._initContainer(),e})).catch((function(e){ee.warn("fetch sprites exception :",e)})):new Promise((function(t,n){e._initContainer(),t(e)}))})).catch((function(e){ee.error("json exception :",e)}))})).catch((function(e){ee.error("fetch exception :",e)})):void 0}},{key:"display",value:function(e){this.container.style.display=e?"block":"none"}},{key:"setContext",value:function(e,t){this.context[e]=t}},{key:"getContext",value:function(e){return this.context[e]}},{key:"getID",value:function(){return this.id}},{key:"getContainer",value:function(){return this.container}},{key:"getStyle",value:function(){return this.mapbox}},{key:"getStyleLayer",value:function(e){for(var t=null,n=this.getLayer(e).options.obj.id,r=0;r<this.mapbox.layers.length;r++){var o=this.mapbox.layers[r];if(o.id===n){t=o;break}}return t}},{key:"getLayerFromStyle",value:function(e){for(var t=null,n=this.mapbox.layers[e],r=0;r<this.getLayers().length;r++){var o=this.getLayer(r);if(n.id===o.options.obj.id){t=o;break}}return t}},{key:"getLayers",value:function(){return this.layers}},{key:"getLayer",value:function(e){return this.layers[e]}}])&&Q(e.prototype,t),n&&Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();i.A.assign(te.prototype,J);const ne=te;window.ol&&window.ol.style&&(window.ol.style.Editor=te)},4934:(e,t,n)=>{"use strict";n.d(t,{default:()=>$});var r=n(562),o=n(2999);const i=ol.geom;var a=n(5074),s=n(9201);const l=ol.sphere;var c=n(9972),u=n.n(c),p=n(996),d=n.n(p),h=n(3668),g=n.n(h),f=n(2987),m=n(2536),y=n(5844),v=n(6736),C=n(9994),I=n(3600),A={_toolboxId:"GPtoolbox-measure-main",_buttonId:"GPtoolbox-measure-button",_widgetId:"GPtoolbox-measure-widget",getToolBoxID:function(e){return e?this._toolboxId+"-"+e:this._toolboxId},getButtonID:function(e){return e?this._buttonId+"-"+e:this._buttonId},getWidgetID:function(e){return e?this._widgetId+"-"+e:this._widgetId},_createToolBoxContainerElement:function(e){var t=document.createElement("div");t.id=this.getToolBoxID(e),t.className="GPshowAdvancedToolPicto";var n=document.createElement("button");n.id=this.getButtonID(e),n.className="GPshowOpen GPshowAdvancedToolPicto GPshowToolBoxPicto gpf-btn gpf-btn-icon-toolbox fr-btn",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!1),n.setAttribute("type","button");var r=this;n.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),this.blur();var o=document.getElementById(r.getWidgetID(e));"block"===o.style.display?o.style.display="none":o.style.display="block"})),t.appendChild(n);var o=document.createElement("div");return o.id=this.getWidgetID(e),o.addEventListener("click",(function(){}),!1),t.appendChild(o),t}};const b=A;var E=y.A.getLogger("toolbox"),w={_toolbox:{},add:function(e,t){if(E.trace("ToolBox.add()",t),e){var n="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;n&&(this._toolbox=n.gpShareMeasureToolBox||{});var r=e.getTargetElement(),o=r.ownerDocument,i=r.id;this._toolbox&&0!==Object.keys(this._toolbox).length?this._toolbox[i]||(this._toolbox[i]=v.A.generate()):(this._toolbox={},this._toolbox[i]=v.A.generate());var a=this._toolbox[i];if(!o.getElementById(this.getToolBoxID(a))){E.trace("create toolbox !");var s=this._createToolBoxContainerElement(a);s.style.pointerEvents="auto",r.getElementsByClassName("ol-overlaycontainer-stopevent")[0].appendChild(s)}var l=o.getElementById(this.getWidgetID(a));t.setTarget(l),n&&(n.gpShareMeasureToolBox=this._toolbox),E.trace("add control to toolbox !")}else E.trace("map doesn't exist !?")}};m.A.assign(w,b);const _=w;var P=n(5370),S=n.n(P),x=n(9209),T=y.A.getLogger("measures"),k={DEFAULT_POINTER_STYLE:new o.Circle({radius:5,stroke:new o.Stroke({color:"#002A50",width:2}),fill:new o.Fill({color:"rgba(255, 155, 0, 0.7)"})}),DEFAULT_DRAW_START_STYLE:new o.Style({fill:new o.Fill({color:"rgba(0, 183, 152, 0.2)"}),stroke:new o.Stroke({color:"#002A50",lineDash:[10,10],width:2})}),DEFAULT_DRAW_FINISH_STYLE:new o.Style({fill:new o.Fill({color:"rgba(0, 183, 152, 0.3)"}),stroke:new o.Stroke({color:"#002A50",width:3})}),tools:{MeasureLength:[],MeasureArea:[],MeasureAzimuth:[]},measureDraw:null,measureSource:null,measureVector:null,eventLayerRemove:null,sketch:null,measureTooltipElement:null,measureTooltip:null,helpTooltipElement:null,helpTooltip:null,clean:function(){var e=this.CLASSNAME;T.trace("["+e+"] deactived tool !"),this.clearMeasure(),this.clearMeasureToolTip(),this.removeMeasureEvents(),this._pictoContainer.setAttribute("aria-pressed",!1)},onPointerMoveHandler:function(e){if(!e.dragging){var t=e.coordinate;if(this.sketch){var n,r=this.sketch.getGeometry();if(n=this.format(r),"LineString"===r.getType())t=r.getLastCoordinate();else{if("Polygon"!==r.getType())return;t=r.getInteriorPoint().getCoordinates()}this.measureTooltipElement.innerHTML=n,this.measureTooltip.setPosition(t)}}},onShowMeasureClick:function(e,t){var n=this.getMap(),r=n.getTargetElement().id,o="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;o&&(this.tools=o.gpShareMeasures||{});var i=this.CLASSNAME;for(var a in this.tools)if(this.tools.hasOwnProperty(a))for(var s=this.tools[a],l=0;l<s.length;l++){var c=s[l];c&&c.active&&a!==i&&c.map.id===r&&(c.active=!1,null!==c.instance&&c.instance.clean())}if(I.A.unset(n,{current:"Measures"}),"true"===this._pictoContainer.ariaPressed){this.addMeasureEvents(),this.initMeasureInteraction(),this.addMeasureInteraction(t);for(var u=0;u<this.tools[i].length;u++)this.tools[i][u].map.id===r&&(this.tools[i][u].active=!0)}else{this.clearMeasure(),this.clearMeasureToolTip(),this.removeMeasureEvents();for(var p=0;p<this.tools[i].length;p++)this.tools[i][p].map.id===r&&(this.tools[i][p].active=!1)}},clearMeasureToolTip:function(){var e=this.getMap();if(e)for(var t=e.getTargetElement().getElementsByClassName("ol-overlaycontainer"),n=0;n<t.length;n++){for(var r=t[n],o=r.children.length,i=[],a=0;a<o;a++){var s=r.children[a];if(0!==s.children.length){var l=s.children[0];"GPmeasureTooltip GPmeasureTooltip-static"!==l.className&&"GPmeasureTooltip GPmeasureTooltip-measure"!==l.className||i.push(s)}}for(var c=0;c<i.length;c++)r.removeChild(i[c])}},clearMeasure:function(){var e=this.getMap();this.measureVector&&(e.removeLayer(this.measureVector),this.measureVector=null),this.measureDraw&&(e.removeInteraction(this.measureDraw),this.measureDraw=null)},createMeasureTooltip:function(e){this.measureTooltipElement&&this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="GPmeasureTooltip GPmeasureTooltip-measure",this.measureTooltip=new(S())({element:this.measureTooltipElement,stopEvent:!1,offset:[0,-15],positioning:"bottom-center"}),e.addOverlay(this.measureTooltip)},createHelpTooltip:function(e){this.helpTooltipElement&&this.helpTooltipElement.parentNode.removeChild(this.helpTooltipElement),this.helpTooltipElement=document.createElement("div"),this.helpTooltipElement.className="tooltip hidden",this.helpTooltip=new(S())({element:this.helpTooltipElement,stopEvent:!1,offset:[15,0],positioning:"center-left"}),e.addOverlay(this.helpTooltip)},createStylingMeasureInteraction:function(e){this.options.styles=e||{},T.trace("style start",this.options.styles.start);var t={image:k.DEFAULT_POINTER_STYLE,fill:k.DEFAULT_DRAW_START_STYLE.getFill(),stroke:k.DEFAULT_DRAW_START_STYLE.getStroke()};this.options.styles.hasOwnProperty("pointer")&&this.options.styles.pointer instanceof Image&&(t.image=this.options.styles.pointer),this.options.styles.hasOwnProperty("start")&&this.options.styles.start instanceof o.Style&&(null!=this.options.styles.start.getFill()&&(t.fill=this.options.styles.start.getFill()),null!=this.options.styles.start.getStroke()&&(t.stroke=this.options.styles.start.getStroke())),this.options.styles.start=new o.Style(t),T.trace("style finish",this.options.styles.finish);var n={fill:k.DEFAULT_DRAW_FINISH_STYLE.getFill(),stroke:k.DEFAULT_DRAW_FINISH_STYLE.getStroke()};this.options.styles.hasOwnProperty("finish")&&this.options.styles.finish instanceof o.Style&&(null!=this.options.styles.finish.getFill()&&(n.fill=this.options.styles.finish.getFill()),null!=this.options.styles.finish.getStroke()&&(n.stroke=this.options.styles.finish.getStroke())),this.options.styles.finish=new o.Style(n)},addMeasureInteraction:function(e){var t=this.getMap(),n=this;this.measureDraw=new a.Draw({source:this.measureSource,condition:function(e){return!e.originalEvent.ctrlKey||(n.sketch&&this.removeLastPoint(),!1)},type:e,style:this.options.styles.start||k.DEFAULT_DRAW_START_STYLE}),this.measureDraw.setProperties({name:"Measures",source:this}),t.addInteraction(this.measureDraw),this.createMeasureTooltip(t),this.measureDraw.on("drawstart",(function(e){n.sketch=e.feature})),this.measureDraw.on("drawend",(function(){if(n.sketch){var e,r,o=n.sketch.getGeometry();if(e=n.format(o),"LineString"===o.getType())r=o.getLastCoordinate();else{if("Polygon"!==o.getType())return;r=o.getInteriorPoint().getCoordinates()}n.measureTooltipElement.innerHTML=e,n.measureTooltip.setPosition(r)}n.measureTooltipElement.className="GPmeasureTooltip GPmeasureTooltip-static",n.measureTooltip.setOffset([0,-7]),n.sketch=null,n.measureTooltipElement=null,n.createMeasureTooltip(t)}))},initMeasureInteraction:function(){var e=this,t=this.getMap();this.measureSource=new(g()),this.measureVector=new(d())({source:this.measureSource,style:this.options.styles.finish||k.DEFAULT_DRAW_FINISH_STYLE}),this.measureVector.gpResultLayerId="measure",t.addLayer(this.measureVector),t.getControls().forEach((function(t){if("LayerSwitcher"===t.CLASSNAME){var n=e.measureVector.gpLayerId;t._layers[n].title===n&&t.addLayer(e.measureVector,{title:e.options.layerDescription.title,description:e.options.layerDescription.description})}}))}};const R=k;var N=n(8526),L=n(9632),O=n(2940),D={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPelevationPath"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowElevationPathPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowElevationPathPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto gpf-btn gpf-btn-icon gpf-btn-icon-elevation fr-btn",t.title="Calculer un profil",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.setAttribute("type","button"),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowElevationPathClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowElevationPathClick(t)})),t},_createElevationPathPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPelevationPathPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createElevationPathPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createElevationPathPanelHeaderElement:function(){var e=this,t=document.createElement("div");if(t.className="GPpanelHeader gpf-panel__header fr-modal__header",!(0,O.A)()){var n=document.createElement("button");n.id=this._addUID("GPelevationPathPanelInfo"),n.className="GPpanelInfo gpf-btn gpf-btn-icon-info fr-btn fr-btn--secondary gpf-btn--secondary fr-m-1w",n.title="Informations",n.addEventListener?n.addEventListener("click",(function(){e.onOpenElevationPathInfoClick()})):n.attachEvent&&n.attachEvent("onclick",(function(){e.onOpenElevationPathInfoClick()})),t.appendChild(n)}var r=document.createElement("div");r.className="GPpanelTitle gpf-panel__title fr-modal__title fr-pt-4w",r.innerHTML="Profil AltimÃ©trique",t.appendChild(r);var o=document.createElement("button");o.id=this._addUID("GPelevationPathPanelReduce"),o.className="GPpanelReduce gpf-btn gpf-btn-icon-reduce fr-btn fr-btn--secondary gpf-btn--secondary",o.title="Masquer le panneau",o.addEventListener?o.addEventListener("click",(function(t){"function"==typeof e.onReduceElevationPathPanelClick&&e.onReduceElevationPathPanelClick()}),!1):o.attachEvent&&o.attachEvent("onclick",(function(t){"function"==typeof e.onReduceElevationPathPanelClick&&e.onReduceElevationPathPanelClick()})),t.appendChild(o);var i=document.createElement("button");i.id=this._addUID("GPelevationPathPanelClose"),i.className="GPpanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",i.title="Fermer le panneau",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowElevationPathPicto")).click()}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowElevationPathPicto")).click()}));var a=document.createElement("span");return a.className="GPelementHidden gpf-visible",a.innerText="Fermer",i.appendChild(a),t.appendChild(i),t},_createElevationPathPanelProfilElement:function(){var e=document.createElement("div");e.className="GPelevationPathProfilWrapper";var t=document.createElement("div");return t.id="GPelevationPathProfil",e.appendChild(t),e},_createElevationPathWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPelevationPathCalcWaitingContainer"),e.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var t=document.createElement("p");return t.className="GPwaitingContainerInfo gpf-waiting_info",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createElevationPathInformationsElement:function(){var e=document.createElement("div");e.id=this._addUID("GPelevationPathInformationsContainer"),(0,O.A)()||(e.className="GPelementHidden gpf-hidden");var t=document.createElement("p");return t.className="GPelevationPathInformations",t.innerHTML="Aucune information...",e.appendChild(t),e},_addElevationPathInformationsItem:function(e,t){var n=document.getElementById(this._addUID("GPelevationPathInformationsContainer"));if(n){var r=document.createElement("p");r.className="GPelevationPathInformations";var o=document.createElement("span");o.innerText=e;var i=document.createElement("span");i.innerText=t,r.appendChild(o),r.appendChild(i),n.appendChild(r)}return n}};const M=D;var G={_getCssProperty:function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},_getTextWidth:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=(this.canvas||(this.canvas=document.createElement("canvas"))).getContext("2d");return r.font=null===n?"".concat(this._getCssProperty(t,"font-weight")," ").concat(this._getCssProperty(t,"font-size")," ").concat(this._getCssProperty(t,"font-family")):n,r.measureText(e).width},_dataZToSvgY:function(e,t,n,r){return t-(e-n)*r-.5},_dataDistToSvgX:function(e,t,n,r){return t-n+e*r},_svgXToDataDist:function(e,t,n,r){return(e+n-t)/r},_arrayBisect:function(e,t){var n;if(0===e.length)return 0;for(n=0;n<e.length;n++)if(t<e[n].dist)return n;return n-1},displayProfileByDefault:function(e,t,n,r){var o=n;if(t&&e){var i={fontFamily:"Arial",strokeColor:"#0B6BA7",fillColor:"#00B798",focusLineColor:"#F90"};for((0,O.A)()&&(i.fontFamily="Marianne",i.strokeColor="#2F4077",i.fillColor="#2F4077",i.focusLineColor="#639f6a");t.firstChild;)t.removeChild(t.firstChild);var a=25,s=15,l=10,c=10,u=o.options.displayProfileOptions,p=e.points,d=JSON.parse(JSON.stringify(p));d.sort((function(e,t){return e.z-t.z}));var h=d[0].z,g=d[d.length-1].z,f=e.distance,m="m",y=document.createElement("div");y.id="profileElevationByDefault",t.appendChild(y);var v=window.getComputedStyle(t).getPropertyValue("width").replace(/px/,""),C=window.getComputedStyle(t).getPropertyValue("height").replace(/px/,""),I=C-a-l,A=v-c-s,b=17,E=this._getTextWidth(Math.round(g).toLocaleString()+",88",t,"400 10 ".concat(i.fontFamily)),w=this._getTextWidth(Math.round(f).toLocaleString()+",5",t),_=I-17-15,P=A-b-E,S=document.createElementNS("http://www.w3.org/2000/svg","svg");S.id="profileElevationByDefaultSvg",S.setAttribute("style","display: block; margin: auto; overflow: visible;"),S.setAttribute("viewBox","0 0 ".concat(v," ").concat(C)),S.setAttribute("width","100%"),S.setAttribute("height","100%");var x,T=Math.floor(_/15);x=g===h?.1:Math.pow(10,Math.ceil(Math.log((g-h)/T)/Math.log(10)))/2;var k=Math.floor(h/x)*x,R=Math.ceil(g/x)*x;R===g&&(R+=x),k=Math.round(100*k)/100,R=Math.round(100*R)/100;var N=Math.round((R-k)/x);N+1>T&&(x=Math.pow(10,Math.ceil(Math.log((g-h)/T)/Math.log(10))),k=Math.floor(h/x)*x,(R=Math.ceil(g/x)*x)===g&&(R+=x),k=Math.round(100*k)/100,R=Math.round(100*R)/100,N=Math.floor((R-k)/x)),N=Math.max(Math.round(N),1);var L=document.createElementNS("http://www.w3.org/2000/svg","g");L.setAttribute("class","profile-z-vertical");var D,M,G,U,B,F,j,q=document.createElementNS("http://www.w3.org/2000/svg","g"),z=_/N;D=g===h?_/.2:_/(R-k);for(var H=0;H<=N;H++)(M=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("class","profile-z-graduation"),M.setAttribute("font-family",i.fontFamily),M.setAttribute("font-size","10px"),M.setAttribute("fill","#5E5E5E"),M.textContent=(Math.round(100*(k+H*x))/100).toLocaleString(),G=_-H*z,M.setAttribute("transform","translate(".concat(b+E-8,", ").concat(G+5,")")),M.setAttribute("text-anchor","end"),L.appendChild(M),U=Math.round(G)-.5,B=document.createElementNS("http://www.w3.org/2000/svg","g"),(F=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),F.setAttribute("stroke-width","1"),0!==H?F.setAttribute("stroke-opacity","0.2"):F.setAttribute("stroke-opacity","1"),F.setAttribute("stroke","#000000"),F.setAttribute("fill","none"),F.setAttribute("d","M".concat(b+E,",").concat(U," L").concat(P+b+E,",").concat(U)),(j=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),j.setAttribute("stroke-width","1"),j.setAttribute("stroke-opacity","1"),j.setAttribute("stroke","#000000"),j.setAttribute("fill","none"),j.setAttribute("d","M".concat(b+E,",").concat(U," L").concat(b+E+5,",").concat(U)),j.setAttribute("transform","translate(-5, 0)"),B.appendChild(j),B.appendChild(F),q.appendChild(B);var V=document.createElementNS("http://www.w3.org/2000/svg","text");V.setAttribute("class","profile-z-legend"),V.setAttribute("font-family",i.fontFamily),V.setAttribute("font-size","11px"),V.setAttribute("fill","#5E5E5E"),V.textContent="Altitude (m)",V.setAttribute("transform","translate(".concat(9,", ").concat(Math.round(_/2),") rotate(-90)")),V.setAttribute("text-anchor","middle"),L.appendChild(V),S.appendChild(L),S.appendChild(q),f>2e3&&(f/=1e3,m="km");var Y=Math.floor(P/w),W=Math.pow(10,Math.ceil(Math.log(f/Y)/Math.log(10)))/2,X=f,Z=Math.floor(X/W);Z>Y?(W=Math.pow(10,Math.ceil(Math.log(f/Y)/Math.log(10))),Z=Math.floor(X/W)):Z<1&&(W=Math.pow(10,Math.ceil(Math.log(f/Y)/Math.log(10))-1),Z=Math.floor(X/W));var J=W*(Z=Math.max(Z,1)),K=document.createElementNS("http://www.w3.org/2000/svg","g");K.setAttribute("class","profile-x-vertical");for(var Q,$,ee,te,ne,re,oe=document.createElementNS("http://www.w3.org/2000/svg","g"),ie=P/X,ae=(X-J)*ie,se=Math.round((P-ae)/Z),le=0;le<=Z+1;le++)(Q=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("class","profile-x-graduation"),Q.setAttribute("font-family",i.fontFamily),Q.setAttribute("font-size","10px"),Q.setAttribute("fill","#5E5E5E"),le!==Z+1&&(Q.textContent=(Math.round(100*le*W)/100).toLocaleString()),$=b+E+le*se,le===Z+1&&($=b+E+P),Q.setAttribute("transform","translate(".concat($,", ").concat(_+15+5,")")),Q.setAttribute("text-anchor","middle"),K.appendChild(Q),ee=$-.5,te=document.createElementNS("http://www.w3.org/2000/svg","g"),(ne=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),ne.setAttribute("stroke-width","1"),0!==le?ne.setAttribute("stroke-opacity","0.2"):ne.setAttribute("stroke-opacity","1"),ne.setAttribute("stroke","#000000"),ne.setAttribute("fill","none"),ne.setAttribute("d","M".concat(ee,",").concat(_," L").concat(ee,",0")),(re=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("cs","100,100"),re.setAttribute("stroke-width","1"),re.setAttribute("stroke-opacity","1"),re.setAttribute("stroke","#000000"),re.setAttribute("fill","none"),re.setAttribute("d","M".concat(ee,",").concat(_," L").concat(ee,",").concat(_-5)),re.setAttribute("transform","translate(0, 5)"),te.appendChild(re),te.appendChild(ne),oe.appendChild(te);var ce=document.createElementNS("http://www.w3.org/2000/svg","text");ce.setAttribute("class","profile-x-legend"),ce.setAttribute("font-family",i.fontFamily),ce.setAttribute("font-size","11px"),ce.setAttribute("fill","#5E5E5E"),ce.textContent="Distance (".concat(m,")"),ce.setAttribute("transform","translate(".concat(b+E+P/2,", ").concat(_+15+17+3,")")),ce.setAttribute("text-anchor","middle"),K.appendChild(ce),S.appendChild(K),S.appendChild(oe);var ue=document.createElementNS("http://www.w3.org/2000/svg","g"),pe=1;"km"===m&&(pe=1e3);for(var de=this._dataDistToSvgX(p[0].dist/pe,A,P,ie),he=this._dataZToSvgY(p[0].z,_,k,D),ge="M".concat(de,",").concat(he),fe=1;fe<p.length;fe++)de=this._dataDistToSvgX(p[fe].dist/pe,A,P,ie),he=this._dataZToSvgY(p[fe].z,_,k,D),ge+=" L".concat(de,",").concat(he);var me=document.createElementNS("http://www.w3.org/2000/svg","path");me.setAttribute("cs","100,100"),me.setAttribute("stroke-width","1"),me.setAttribute("stroke-opacity","1"),me.setAttribute("stroke",i.strokeColor),me.setAttribute("fill","none"),me.setAttribute("d",ge),ge+=" L".concat(de,",").concat(_),ge+=" L".concat(A-P,",").concat(_);var ye=document.createElementNS("http://www.w3.org/2000/svg","path");ye.setAttribute("cs","100,100"),ye.setAttribute("stroke-width","1"),ye.setAttribute("stroke-opacity","0"),ye.setAttribute("stroke","#000000"),ye.setAttribute("fill",i.fillColor),ye.setAttribute("fill-opacity","0.2"),ye.setAttribute("d",ge),ue.appendChild(me),ue.appendChild(ye),S.appendChild(ue);var ve=document.createElementNS("http://www.w3.org/2000/svg","g"),Ce=document.createElementNS("http://www.w3.org/2000/svg","rect");Ce.setAttribute("width",P),Ce.setAttribute("height",_),Ce.setAttribute("transform","translate(".concat(A-P,",0)")),Ce.setAttribute("visibility","hidden"),Ce.setAttribute("pointer-events","all");var Ie=JSON.parse(JSON.stringify(p));Ie.sort((function(e,t){return e.dist-t.dist}));var Ae=document.createElementNS("http://www.w3.org/2000/svg","line");Ae.setAttribute("id","focusLineX"),Ae.setAttribute("class","focusLine-default"),Ae.setAttribute("fill","none"),Ae.setAttribute("stroke",i.focusLineColor),Ae.setAttribute("stroke-width","0.5px"),Ae.setAttribute("visibility","hidden");var be=document.createElementNS("http://www.w3.org/2000/svg","line");be.setAttribute("id","focusLineY"),be.setAttribute("class","focusLine-default"),be.setAttribute("fill","none"),be.setAttribute("stroke",i.focusLineColor),be.setAttribute("stroke-width","0.5px"),be.setAttribute("visibility","hidden");var Ee=document.createElementNS("http://www.w3.org/2000/svg","circle");Ee.setAttribute("id","focusCircle"),Ee.setAttribute("r",4),Ee.setAttribute("class","circle-default focusCircle-default"),Ee.setAttribute("fill",i.focusLineColor),Ee.setAttribute("visibility","hidden"),ve.appendChild(Ee),ve.appendChild(Ae),ve.appendChild(be);var we=document.createElementNS("http://www.w3.org/2000/svg","text"),_e=document.createElementNS("http://www.w3.org/2000/svg","tspan"),Pe=document.createElementNS("http://www.w3.org/2000/svg","tspan"),Se=document.createElementNS("http://www.w3.org/2000/svg","tspan");we.setAttribute("style","text-align:center; max-width:220px; font-size:10px; color:#000000; font-family:".concat(i.fontFamily,"; z-index:50;")),we.style.pointerEvents="none",we.style.position="fixed",we.setAttribute("class","tooltipInit"),we.setAttribute("text-anchor","middle"),y.appendChild(we),_e.setAttribute("class","altiPathValue"),_e.setAttribute("x","0"),_e.setAttribute("dy","-.7em"),Pe.setAttribute("class","altiPathValue"),Pe.setAttribute("x","0"),Pe.setAttribute("dy","1em"),Se.setAttribute("class","altiPathCoords"),Se.setAttribute("x","0"),Se.setAttribute("dy","1em"),we.appendChild(_e),u.currentSlope&&we.appendChild(Pe),we.appendChild(Se);var xe=document.createElementNS("http://www.w3.org/2000/svg","g");ve.appendChild(xe);var Te=document.createElementNS("http://www.w3.org/2000/svg","path");Te.setAttribute("cs","100,100"),Te.setAttribute("fill","#FFFFFF"),Te.setAttribute("stroke","#CCCCCC"),Te.setAttribute("fill-opacity","0.8"),Te.setAttribute("stroke-width","1"),Te.setAttribute("stroke-opacity","1");var ke=document.createElementNS("http://www.w3.org/2000/svg","path");return ke.setAttribute("cs","100,100"),ke.setAttribute("fill","#FFFFFF"),ke.setAttribute("stroke","#000000"),ke.setAttribute("fill-opacity","0"),ke.setAttribute("stroke-width","1"),ke.setAttribute("stroke-opacity","0.4"),ke.setAttribute("transform","translate(1,1)"),xe.appendChild(ke),xe.appendChild(Te),xe.appendChild(we),xe.setAttribute("class","tooltipInit"),xe.style.pointerEvents="none",Ce.addEventListener("pointerover",(function(){Ae.setAttribute("visibility","visible"),be.setAttribute("visibility","visible"),Ee.setAttribute("visibility","visible"),r.__createProfileMarker(o,p[0]),we.classList.remove("tooltipInit"),xe.classList.remove("tooltipInit"),we.classList.remove("tooltipFadeOut"),xe.classList.remove("tooltipFadeOut"),we.classList.add("tooltipFadeIn"),xe.classList.add("tooltipFadeIn")})),Ce.addEventListener("pointerout",(function(){Ae.setAttribute("visibility","hidden"),be.setAttribute("visibility","hidden"),Ee.setAttribute("visibility","hidden"),r.__removeProfileMarker(o),we.classList.remove("tooltipFadeIn"),xe.classList.remove("tooltipFadeIn"),we.classList.add("tooltipFadeOut"),xe.classList.add("tooltipFadeOut")})),Ce.addEventListener("pointermove",function(e){var t=S.createSVGPoint();t.x=e.clientX,t.y=e.clientY;var n=t.matrixTransform(S.getScreenCTM().inverse()),i=this._svgXToDataDist(n.x,A,P,ie)*pe,a=Math.max(1,this._arrayBisect(Ie,i)),s=p[a-1],l=p[a],c=s;i-s.dist>l.dist-i&&(c=l);var u=this._dataDistToSvgX(c.dist/pe,A,P,ie),d=this._dataZToSvgY(c.z,_,k,D);Ee.setAttribute("cx",u),Ee.setAttribute("cy",d),Ae.setAttribute("x1",u),Ae.setAttribute("y1",_),Ae.setAttribute("x2",u),Ae.setAttribute("y2",0),be.setAttribute("x1",b+E),be.setAttribute("y1",d),be.setAttribute("x2",P+b+E),be.setAttribute("y2",d),r.__updateProfileMarker(o,c);var h="Altitude : ".concat(c.z.toLocaleString()," m"),g="Pente : ".concat(c.slope," %"),m="(lat : ".concat(c.lat.toLocaleString()," / lon : ").concat(c.lon.toLocaleString(),")");_e.innerHTML=h,Pe.innerHTML=g,Se.innerHTML=m;var y,v=Math.max(this._getTextWidth(m,Se),this._getTextWidth(h,_e));c.dist>f*pe/2?(y="M -0.5 -0.5 l -6 6 l 0 16 l -".concat(v+10," 0 l 0 -44 l ").concat(v+10," 0 l 0 16 l 6 6"),we.setAttribute("transform","translate(".concat(-(v/2+12),",0)"))):c.dist<=f*pe/2&&(y="M -0.5 -0.5 l 6 6 l 0 16 l ".concat(v+10," 0 l 0 -44 l -").concat(v+10," 0 l 0 16 l -6 6"),we.setAttribute("transform","translate(".concat(v/2+12,",0)"))),Te.setAttribute("d",y),ke.setAttribute("d",y),xe.setAttribute("transform","translate(".concat(u,",").concat(d,")")),xe.style.transform="translate(".concat(u,"px,").concat(d,"px)")}.bind(this)),ve.appendChild(Ce),S.appendChild(ve),y.appendChild(S),t}},displayProfileRaw:function(e,t,n,r){if(t){for(;t.firstChild;)t.removeChild(t.firstChild);var o=e&&e.points?e.points:{},i=document.createElement("textarea");return i.id="profilElevationResults",i.rows=10,i.cols=50,i.style.width="100%",i.innerHTML=JSON.stringify(o,void 0,4),i.addEventListener("mouseover",(function(e){r.__customRawProfileMouseOverEvent(n,e)})),t.appendChild(i),t}},displayProfileLibD3:function(e,t,n,r){var o=n;if(t&&e){for(;t.firstChild;)t.removeChild(t.firstChild);var i=e.points;if(e.distance>2e3){e.unit="km";for(var a=0;a<i.length;a++)i[a].dist/=1e3}var s=o.options.displayProfileOptions,l=20,c=20,u=30,p=40,d=window.getComputedStyle(t).getPropertyValue("width"),h=window.getComputedStyle(t).getPropertyValue("height"),g=d.replace(/px/,"")-p-c,f=h.replace(/px/,"")-l-u,m=d3.scale.linear().range([0,g]),y=d3.scale.linear().range([f,0]),v=d3.svg.axis().scale(m).orient("bottom").ticks(5),C=d3.svg.axis().scale(y).orient("left").ticks(5),I=d3.svg.line().interpolate("basis").x((function(e){return m(e.dist)})).y((function(e){return y(e.z)})),A=d3.svg.area().interpolate("basis").x((function(e){return m(e.dist)})).y0(f).y1((function(e){return y(e.z)})),b=d3.select(t).append("svg").attr("width",g+p+c).attr("height",f+l+u).append("g").attr("transform","translate("+p+","+l+")"),E=d3.extent(i,(function(e){return e.dist}));m.domain(E);var w=[0,d3.max(i,(function(e){return e.z}))];y.domain(w),b.append("path").datum(i).attr("class","area-d3").attr("d",A),b.append("g").attr("class","x axis-d3").attr("transform","translate(0,"+f+")").call(v).append("text").attr("y",-15).attr("dy",".71em").attr("x",g).text("Distance ("+e.unit+")"),b.append("g").attr("class","y axis-d3").call(C).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").text("Altitude (m)"),b.append("g").attr("class","grid-d3 vertical").attr("transform","translate(0,"+f+")").call(v.orient("bottom").tickSize(-f,0,0).tickFormat("")),b.append("g").attr("class","grid-d3 horizontal").call(C.orient("left").tickSize(-g,0,0).tickFormat("")),b.append("path").datum(i).attr("class","line-d3").attr("d",I),b.selectAll("circle").data(i).enter().append("circle").attr("cx",(function(e){return m(e.dist)})).attr("cy",(function(e){return y(e.z)})).attr("r",0).attr("class","circle-d3");var _=b.append("g").style("display","none");_.append("line").attr("id","focusLineX").attr("class","focusLine-d3"),_.append("line").attr("id","focusLineY").attr("class","focusLine-d3"),_.append("circle").attr("id","focusCircle").attr("r",4).attr("class","circle-d3 focusCircle-d3");var P=d3.select(t).append("div").attr("class","tooltip-d3").style("opacity",0),S=d3.bisector((function(e){return e.dist})).left;return b.append("rect").attr("class","overlay-d3").attr("width",g).attr("height",f).on("mouseover",(function(){_.style("display",null),r.__createProfileMarker(o,i[0])})).on("mouseout",(function(){_.style("display","none"),r.__removeProfileMarker(o),P.transition().duration(500).style("opacity",0)})).on("mousemove",(function(){var e=d3.mouse(this),t=m.invert(e[0]),n=Math.max(1,S(i,t)),a=i[n-1],l=i[n],c=t-a[0]>l[0]-t?l:a,u=m(c.dist),p=y(c.z);_.select("#focusCircle").attr("cx",u).attr("cy",p),_.select("#focusLineX").attr("x1",u).attr("y1",y(w[0])).attr("x2",u).attr("y2",y(w[1])),_.select("#focusLineY").attr("x1",m(E[0])).attr("y1",p).attr("x2",m(E[1])).attr("y2",p),r.__updateProfileMarker(o,c),P.transition().duration(200).style("opacity",.9);var d="";d+=" Altitude : "+c.z+" m",s.currentSlope&&(d+="<br/> Pente : "+c.slope+" %"),d+="<br/> (Lat : "+c.lat+"/ Lon : "+c.lon+")",P.html(d).style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")})),b}},displayProfileLibAmCharts:function(e,t,n,r){var o=n;if(t&&e){var i=e.points,a="<span class='altiPathValue'>[[title]] : [[value]]m</span><br/>";if(o.options.displayProfileOptions.currentSlope&&(a+="<span class='altiPathValue'>Pente : [[slope]] %</span><br/>"),a+="<span class='altiPathCoords'>(Lat: [[lat]] / Lon:[[lon]])</span>",AmCharts.addInitHandler((function(){})),e.distance>2e3){e.unit="km";for(var s=0;s<i.length;s++)i[s].dist/=1e3}for(var l=0;l<i.length;l++){var c=i[l].dist,u=100;c>100?u=1:c>10&&(u=10),c=Math.round(c*u)/u,i[l].dist=c}var p={type:"serial",pathToImages:"http://cdn.amcharts.com/lib/3/images/",categoryField:"dist",autoMarginOffset:0,marginRight:10,marginTop:10,startDuration:0,color:"#5E5E5E",fontSize:8,theme:"light",thousandsSeparator:"",numberFormatter:{precision:-1,decimalSeparator:",",thousandsSeparator:" "},categoryAxis:{color:"#5E5E5E",gridPosition:"start",minHorizontalGap:40,tickPosition:"start",title:"Distance ("+e.unit+")",titleColor:"#5E5E5E",labelOffset:0,startOnAxis:!0},chartCursor:{animationDuration:0,bulletsEnabled:!0,bulletSize:10,categoryBalloonEnabled:!1,cursorColor:"#F90",graphBulletAlpha:1,graphBulletSize:1,zoomable:!1},trendLines:[],graphs:[{balloonColor:"#CCCCCC",balloonText:a,bullet:"round",bulletAlpha:0,bulletBorderColor:"#FFF",bulletBorderThickness:2,bulletColor:"#F90",bulletSize:6,hidden:!1,id:"AmGraph-1",fillAlphas:.4,fillColors:"#C77A04",lineAlpha:1,lineColor:"#C77A04",lineThickness:1,title:"Altitude",valueField:"z"}],guides:[],valueAxes:[{id:"ValueAxis-1",minVerticalGap:20,title:"Altitude (m)"}],balloon:{borderColor:"#CCCCCC",borderThickness:1,fillColor:"#FFFFFF",showBullet:!0},titles:[],allLabels:[],dataProvider:i},d=AmCharts.makeChart(t,p);return d.addListener("changed",(function(e){var t=e.chart.dataProvider[e.index];r.__updateProfileMarker(o,t)})),d}}};const U=G;var B;function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function q(e,t){if(t&&("object"==F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(z=function(){return!!e})()}function H(){return H="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},H.apply(null,arguments)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function W(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}var X,Z,J,K=y.A.getLogger("elevationpath"),Q=(B=function(e){function t(e){var n,r,o,i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),K.trace("ElevationPath()"),r=this,o=t,i=[{element:(e=e||{}).element,target:e.target,render:e.render}],o=V(o),!((n=q(r,z()?Reflect.construct(o,i||[],V(r).constructor):o.apply(r,i)))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.CLASSNAME="ElevationPath",n._uid=v.A.generate(),n._showContainer=null,n._pictoButton=null,n._panelContainer=null,n._profileContainer=null,n._waitingContainer=null,n._infoContainer=null,n._timerHdlr=null,n._drawStyleStart=null,n._drawStyleFinish=null,n._markerStyle=null,n._profile=null,n._data={},n._measureSource=null,n._measureVector=null,n._measureDraw=null,n._lastSketch=null,n._currentSketch=null,n._marker=null,n._initialize(e),n._container=n._initializeContainer(),n.element?n.element.appendChild(n._container):n.element=n._container,q(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(t,e),n=t,r=[{key:"setMap",value:function(e){if(K.trace("ElevationPath::setMap"),e&&(this.options.active&&(null===this._profile&&(this._panelContainer.style.display="none"),this._initMeasureInteraction(e),this._addMeasureInteraction(e)),this.options.target||this.options.position||_.add(e,this),this.options.export)){var n=m.A.assign({control:this},this.options.export);this.export=new N.default(n),this.export.render();var r=this;this.export.on("export:compute",(function(e){r.dispatchEvent({type:"export:compute",content:e.content})}))}var o,i,a,s,l;(o=t,i="setMap",a=this,l=H(V(1&(s=3)?o.prototype:o),i,a),2&s&&"function"==typeof l?function(e){return l.apply(a,e)}:l)([e]),this.options.position&&this.setPosition(this.options.position)}},{key:"getActive",value:function(){return K.trace("ElevationPath::getActive"),this.options.active}},{key:"setActive",value:function(e){K.trace("ElevationPath::setActive"),this.options.active=e}},{key:"getData",value:function(){return m.A.assign({type:"elevationpath"},this._data)}},{key:"setData",value:function(e){this._data=e}},{key:"getContainer",value:function(){return this._container}},{key:"getLayer",value:function(){return this._measureVector}},{key:"setLayer",value:function(e){e?e instanceof d()?(e.setStyle(this._drawStyleFinish),this._measureVector=e,this._measureSource=e.getSource()):K.log("no valid layer given for hosting drawn features."):this._measureVector=null}},{key:"getGeoJSON",value:function(){var e=this._measureVector.getSource().getFeatures();return new L.A({defaultStyle:this._drawStyleFinish}).writeFeatures(e,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}},{key:"getStyle",value:function(){return this._drawStyleFinish}},{key:"clean",value:function(e){K.trace("ElevationPath::clean");var t=this.getMap();this._panelContainer.style.display="none",this._pictoButton.setAttribute("aria-pressed",!1),this._removeProfile(),this._removeMeasureInteraction(t,void 0!==e&&e),this.setLayer()}},{key:"init",value:function(){this._pictoButton.setAttribute("aria-pressed",!0),this._panelContainer.style.display="block",this._displayProfile(this._data),this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden"}},{key:"_initialize",value:function(e){K.trace("ElevationPath::_initialize : ",e),this.options={target:null,render:null,active:!1,apiKey:null,export:!1,elevationOptions:{outputFormat:"json"},layerDescription:{title:"Profil altimÃ©trique",description:"Mon profil altimÃ©trique"},displayProfileOptions:{totalDistance:!0,greaterSlope:!0,meanSlope:!0,ascendingElevation:!0,descendingElevation:!0,currentSlope:!0,apply:null,target:null},stylesOptions:{profile:null,draw:null,marker:null}},m.A.mergeParams(this.options,e),this.options.target=e.target||null,this.options.apiKey=e.apiKey;var n=e.displayProfileOptions||{};this.export=null;var r=n.apply;this.options.displayProfileOptions.apply="function"==typeof r?r:t.DISPLAY_PROFILE_BY_DEFAULT;var o=n.target;this.options.displayProfileOptions.target=void 0!==o?o:null;var i=e.stylesOptions||{};this.options.stylesOptions.draw=i.draw||{},this._createStylingDraw(),this.options.stylesOptions.marker=i.marker||{},this._createStylingMarker()}},{key:"_initializeContainer",value:function(){K.trace("ElevationPath::_initializeContainer : ",this._uid);var e=this._createMainContainerElement(),t=this._pictoButton=this._createShowElevationPathPictoElement();e.appendChild(t),this.options.active&&this._pictoButton.click();var n=this._panelContainer=this._createElevationPathPanelElement(),r=this._createElevationPathPanelDivElement();n.appendChild(r);var o=this._createElevationPathPanelHeaderElement();r.appendChild(o);var i=this._createElevationPathPanelProfilElement();this._profileContainer=i.firstChild,r.appendChild(i);var a=this._waitingContainer=this._createElevationPathWaitingElement();r.appendChild(a);var s=this._infoContainer=this._createElevationPathInformationsElement();return r.appendChild(s),null===this.options.displayProfileOptions.target&&e.appendChild(n),e}},{key:"_createStylingMarker",value:function(){K.trace("ElevationPath::_createStylingMarker ");var e=t.DEFAULT_STYLES.MARKER;K.trace("style marker",e),this.options.stylesOptions.marker instanceof o.Image&&(e=this.options.stylesOptions.marker),this._markerStyle=new o.Style({image:e})}},{key:"_createStylingDraw",value:function(){K.trace("ElevationPath::_createStylingDraw");var e=this.options.stylesOptions.draw;K.trace("style start",e.start);var t={image:R.DEFAULT_POINTER_STYLE,stroke:R.DEFAULT_DRAW_START_STYLE.getStroke()};e.hasOwnProperty("pointer")&&e.pointer instanceof o.Image&&(t.image=e.pointer),e.hasOwnProperty("start")&&e.start instanceof o.Stroke&&(t.stroke=e.start),this._drawStyleStart=new o.Style(t),K.trace("style finish",e.finish);var n={stroke:R.DEFAULT_DRAW_FINISH_STYLE.getStroke()};e.hasOwnProperty("finish")&&e.finish instanceof o.Stroke&&(n.stroke=e.finish),this._drawStyleFinish=new o.Style(n)}},{key:"_createStylingProfile",value:function(){K.trace("ElevationPath::_createStylingProfile");var e=this.options.stylesOptions.profile;K.trace("style profile",e);var n=t.DEFAULT_STYLES.PROFILE;Object.keys(n).forEach((function(t){if(e.hasOwnProperty(t)){var r=n[t];"object"===F(r)&&(m.A.mergeParams(r,e[t]),e[t]=r)}else e[t]=n[t]}))}},{key:"_initMeasureInteraction",value:function(e){var t=this;K.trace("ElevationPath::_initMeasureInteraction()"),e&&(this._measureSource=new(g()),this._measureVector=new(d())({source:this._measureSource,style:this._drawStyleFinish}),this._measureVector.gpResultLayerId="measure:profil",e.addLayer(this._measureVector),e.getControls().forEach((function(e){if(e instanceof x.default){var n=t._measureVector.gpLayerId;e._layers[n].title===n&&e.addLayer(t._measureVector,{title:t.options.layerDescription.title,description:t.options.layerDescription.description})}})))}},{key:"_addMeasureInteraction",value:function(e){var t=this;K.trace("ElevationPath::_addMeasureInteraction()"),e&&(this._measureDraw=new a.Draw({source:this._measureSource,type:"LineString",style:this._drawStyleStart,stopClick:!0}),this._measureDraw.setProperties({name:"ElevationPath",source:this}),e.addInteraction(this._measureDraw),this._measureDraw.on("drawstart",(function(e){K.trace("drawstart",e),null!==t._marker&&(t._measureSource.removeFeature(t._marker),t._marker=null),null!==t._lastSketch&&(t._measureSource.removeFeature(t._lastSketch),t._lastSketch=null),t._currentSketch=e.feature;for(var n=t._measureSource.getFeatures(),r=0;r<n.length;r++)t._measureSource.removeFeature(n[r]);t.dispatchEvent("elevationpath:drawstart")})),this._measureDraw.on("drawend",(function(e){K.trace("drawend",e),t.dispatchEvent("elevationpath:drawend"),t._lastSketch=t._currentSketch,void 0===t.options.elevationOptions.onSuccess&&null===t.options.displayProfileOptions.target&&(t._panelContainer.style.display="block"),t._measureDraw.setActive(!1),t._requestService()})))}},{key:"_removeMeasureInteraction",value:function(e,t){K.trace("ElevationPath::_removeMeasureInteraction()"),e&&(t&&this._measureVector&&(e.removeLayer(this._measureVector),this._measureVector=null),this._measureDraw&&(e.removeInteraction(this._measureDraw),this._measureDraw=null))}},{key:"_getGeometry",value:function(){if(null!==this._currentSketch){for(var e=[],t=this.getMap().getView().getProjection(),n="EPSG:4326",r=this._currentSketch.getGeometry().getCoordinates(),o=0;o<r.length;o++){var i=r[o],a=i;t!==n&&(a=(0,s.transform)(i,t,n)),e.push({lon:Math.round(1e8*a[0])/1e8,lat:Math.round(1e8*a[1])/1e8})}return e}K.warn("Current Feature undefined !?")}},{key:"_getLength",value:function(){if(null!==this._currentSketch){for(var e=0,t=this.getMap().getView().getProjection(),n="EPSG:4326",r=this._currentSketch.getGeometry().getCoordinates(),o=0,i=r.length-1;o<i;++o){var a=(0,s.transform)(r[o],t,n),c=(0,s.transform)(r[o+1],t,n);a[0]=Math.round(1e8*a[0])/1e8,a[1]=Math.round(1e8*a[1])/1e8,c[0]=Math.round(1e8*c[0])/1e8,c[1]=Math.round(1e8*c[1])/1e8,e+=(0,l.getDistance)(a,c)}return e}K.warn("Current Feature undefined !?")}},{key:"_getSketchCoords",value:function(){if(null!==this._currentSketch){for(var e=this.getMap().getView().getProjection(),t=[],n=this._currentSketch.getGeometry().getCoordinates(),r=0;r<n.length;r++){var o=(0,s.transform)(n[r],e,"EPSG:4326");o[0]=Math.round(1e8*o[0])/1e8,o[1]=Math.round(1e8*o[1])/1e8,t.push(o)}return t}K.warn("Current Feature undefined !?")}},{key:"_requestService",value:function(){K.trace("ElevationPath::_requestService");var e=this._getGeometry();if(K.trace("geometry",e),e){var t={};m.A.mergeParams(t,this.options.elevationOptions),m.A.mergeParams(t,{apiKey:t.apiKey||this.options.apiKey}),"boolean"!=typeof t.ssl&&("boolean"==typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),m.A.mergeParams(t,{ssl:t.ssl});var n=this,r=!(null===this.options.elevationOptions.onFailure||"function"!=typeof this.options.elevationOptions.onFailure),o=!(null===this.options.elevationOptions.onSuccess||"function"!=typeof this.options.elevationOptions.onSuccess);if(m.A.mergeParams(t,{onSuccess:function(e){K.trace(e),e&&(n._panelContainer.style.display="block",n._data&&(n._data={}),n._data=n._computeElevationMeasure(e.elevations),n._displayProfile(n._data),n._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",n._waiting=!1,n._measureDraw.setActive(!0)),o&&n.options.elevationOptions.onSuccess.call(n,n.getData())},onFailure:function(e){n._panelContainer.style.display="none",K.error(e.message),n._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",n._waiting=!1,n._measureDraw.setActive(!0),r&&n.options.elevationOptions.onFailure.call(n,e)}}),!t.sampling){var i,a=this._getLength();K.trace("length",a);var s=Math.max(50,Math.floor(a)/5);i=s>200?200:Math.floor(s),this._getSketchCoords().length>100&&(i=0)}i>0&&m.A.mergeParams(t,{sampling:i}),m.A.mergeParams(t,{positions:e}),K.trace("options du service",t),this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",f.Ay.Services.getAltitude(t)}else K.warn("missing geometry !?")}},{key:"_computeElevationMeasure",value:function(e){K.trace("ElevationPath::_computeElevationMeasure",e);var t=e,n=this._getSketchCoords();if(n){var r=0,o=0,i=n[1];t[0].dist=0,t[0].slope=0,t[0].lat=Math.round(1e4*t[0].lat)/1e4,t[0].lon=Math.round(1e4*t[0].lon)/1e4;for(var a=0,s=0,c=0,u=0,p=0,d=0,h=[],g=1;g<t.length;g++){var f=[t[g].lon,t[g].lat],m=o+(0,l.getDistance)(f,n[r]),y=m-p;f[0]===i[0]&&f[1]===i[1]&&(r++,o=m,g!==t.length-1&&(i=n[r+1]));var v=t[g].z,C=t[g-1].z;v<0&&(v=0),C<0&&(C=0);var I=v-C;I<0?(a+=y,u+=I):I>0&&(s+=y,c+=I),p=m,t[g].dist=m,h.push(m),d+=I?Math.abs(Math.round(I/y*100)):0,t[g].slope=I?Math.abs(Math.round(I/y*100)):0;var A=t[g].slope;t[g].color=A>15&&A<30?"#005b4c":A>30&&A<45?"#00362d":A>45?"#00120f":"#00B798",t[g].lat=Math.round(1e4*t[g].lat)/1e4,t[g].lon=Math.round(1e4*t[g].lon)/1e4}K.trace("List Distances",h);for(var b=t[0].z,E=t[0].z,w=t[0].slope,_=0;_<t.length;_++){var P=t[_];P.z<-100&&(P.z=0),P.z>E&&(E=P.z),P.z<b&&(b=P.z),P.slope>w&&(w=P.slope)}return{greaterSlope:w,meanSlope:Math.round(d/t.length),distancePlus:s,distanceMinus:a,ascendingElevation:c,descendingElevation:u,altMin:b.toLocaleString(),altMax:E.toLocaleString(),distance:this._getLength(),unit:"m",points:t}}}},{key:"_displayProfile",value:function(e){K.trace("ElevationPath::_displayProfile",e),this._updateInfoContainer();var t=this.options.displayProfileOptions.target;t&&t.appendChild(this._panelContainer),t=this._profileContainer,this.options.displayProfileOptions.apply.call(this,e,t,this);var n=this.options.displayProfileOptions,r=document.getElementById("GPelevationPathPanelInfo-"+this._uid);r&&(n.totalDistance||n.greaterSlope||n.meanSlope||n.ascendingElevation||n.descendingElevation)&&(r.style.display="block"),this.dispatchEvent({type:"elevationpath:compute"})}},{key:"_updateInfoContainer",value:function(){K.trace("ElevationPath::_updateInfoContainer");var e=this.options.displayProfileOptions.totalDistance,t=this.options.displayProfileOptions.meanSlope,n=this.options.displayProfileOptions.greaterSlope,r=this.options.displayProfileOptions.ascendingElevation,o=this.options.displayProfileOptions.descendingElevation,i=this._infoContainer;if(i.childElementCount)for(;i.firstChild;)i.removeChild(i.firstChild);e&&this._addElevationPathInformationsItem("Distance totale : ",Math.round(this._data.distance).toLocaleString()+" m"),r&&this._addElevationPathInformationsItem("DÃ©nivelÃ© positif : ",this._data.ascendingElevation.toLocaleString()+" m"),o&&this._addElevationPathInformationsItem("DÃ©nivelÃ© nÃ©gatif : ",this._data.descendingElevation.toLocaleString()+" m"),t&&this._addElevationPathInformationsItem("Pente moyenne : ",this._data.meanSlope.toLocaleString()+" %"),n&&this._addElevationPathInformationsItem("Plus forte pente : ",this._data.greaterSlope.toLocaleString()+" %")}},{key:"_removeMeasure",value:function(){if(this._lastSketch=null,this._currentSketch=null,this._measureSource){this._marker&&(this._measureSource.removeFeature(this._marker),this._marker=null);for(var e=this._measureSource.getFeatures(),t=0;t<e.length;t++)this._measureSource.removeFeature(e[t])}}},{key:"_removeProfile",value:function(){if(this._profile=null,this._profileContainer)for(;this._profileContainer.firstChild;)this._profileContainer.removeChild(this._profileContainer.firstChild)}},{key:"onShowElevationPathClick",value:function(e){var t=this.getMap();I.A.unset(t,{current:"ElevationPath"}),"true"===this._pictoButton.ariaPressed?(null===this._profile&&(this._panelContainer.style.display="none"),this._initMeasureInteraction(t),this._addMeasureInteraction(t)):(this._panelContainer.style.display="none",e&&e.target.dataset&&e.target.dataset.removeMeasure?"true"===e.target.dataset.removeMeasure?this._removeMeasure():(this._lastSketch=null,this._currentSketch=null):this._removeMeasure(),this._removeProfile(),e&&e.target.dataset&&e.target.dataset.removeLayer?this._removeMeasureInteraction(t,"true"===e.target.dataset.removeLayer):this._removeMeasureInteraction(t,!0))}},{key:"onOpenElevationPathInfoClick",value:function(){var e=this._infoContainer;"GPelementVisible gpf-visible"===e.className?(clearTimeout(this._timerHdlr),e.className="GPelementHidden gpf-hidden"):e.className="GPelevationPathInformationsContainerVisible",this._timerHdlr=setTimeout((function(){e.className="GPelementHidden gpf-hidden"}),4e3)}}],c=[{key:"__removeProfileMarker",value:function(e){var t=e;t._marker&&(t._measureSource.removeFeature(t._marker),t._marker=null)}},{key:"__createProfileMarker",value:function(e,t){var n=e;n._marker&&(n._measureSource.removeFeature(n._marker),n._marker=null);var r=n.getMap().getView().getProjection(),o=(0,s.transform)([t.lon,t.lat],"EPSG:4326",r),a=n._measureSource.getFeatures()[0].getGeometry().getClosestPoint(o),l=new i.Point(a);n._marker=new(u())({geometry:l}),K.trace(l),n._marker.setStyle(n._markerStyle),n._measureSource.addFeature(n._marker)}},{key:"__updateProfileMarker",value:function(e,n){var r=e;t.__removeProfileMarker(r),t.__createProfileMarker(r,n)}},{key:"__customRawProfileOperation",value:function(e,n){K.log("__customRawProfileOperation");for(var r=e,a=n.points,l=r.getMap().getView().getProjection(),c=0;c<a.length;c++){var p=a[c],d=(0,s.transform)([p.lon,p.lat],"EPSG:4326",l),h=new i.Point(d);r._marker=new(u())({geometry:h}),K.trace(h);var g=t.DEFAULT_STYLES.RESULTS,f=new o.Circle({radius:g.imageRadius,stroke:new o.Stroke({color:g.imageStrokeColor,width:g.imageStrokeWidth}),fill:new o.Fill({color:g.imageFillColor})});r._marker.setStyle(new o.Style({image:f})),r._measureSource.addFeature(r._marker)}}},{key:"__customRawProfileMouseOverEvent",value:function(e,t){K.log("__customRawProfileMouseOverEvent",e,t)}},{key:"DISPLAY_PROFILE_LIB_AMCHARTS",value:function(e,n,r){if(K.trace("ElevationPath.DISPLAY_PROFILE_LIB_AMCHARTS"),"undefined"!=typeof AmCharts){var o=U.displayProfileLibAmCharts(e,n,r,t);o&&(this._profile=o)}else K.log("Lib. AmCharts is not loaded !")}},{key:"DISPLAY_PROFILE_LIB_D3",value:function(e,n,r){if(K.trace("ElevationPath.DISPLAY_PROFILE_LIB_D3"),"undefined"!=typeof d3){var o=U.displayProfileLibD3(e,n,r,t);o&&(this._profile=o)}else K.log("Lib. D3 is not loaded !")}},{key:"DISPLAY_PROFILE_RAW",value:function(e,n,r){K.trace("ElevationPath.DISPLAY_PROFILE_RAW");var o=U.displayProfileRaw(e,n,r,t);o&&(this._profile=o)}},{key:"DISPLAY_PROFILE_BY_DEFAULT",value:function(e,n,r){K.trace("ElevationPath.DISPLAY_PROFILE_BY_DEFAULT");var o=U.displayProfileByDefault(e,n,r,t);o&&(this._profile=o)}}],r&&j(n.prototype,r),c&&j(n,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,c}(r.A),X=B,Z="DEFAULT_STYLES",J={MARKER:new o.Icon({src:C.A.lightOrange,anchor:[.5,1],snapToPixel:!0}),RESULTS:{imageRadius:5,imageFillColor:"rgba(128, 128, 128, 0.2)",imageStrokeColor:"rgba(0, 0, 0, 0.7)",imageStrokeWidth:2}},(Z=W(Z))in X?Object.defineProperty(X,Z,{value:J,enumerable:!0,configurable:!0,writable:!0}):X[Z]=J,B);Object.assign(Q.prototype,M);const $=Q;window.ol&&window.ol.control&&(window.ol.control.ElevationPath=Q)},8526:(e,t,n)=>{"use strict";n.d(t,{default:()=>I});var r=n(7392),o=n.n(r),i=n(6736),a=n(5844),s=n(5771),l=n(9632),c=n(7255);const u={_addUID:function(e){return this.uid?e+"-"+this.uid:e}};function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}function g(e,t,n){return t=m(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var v=a.A.getLogger("export"),C=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{control:null,target:null,format:"geojson",name:"export",title:"Exporter",menu:!1,onExport:null},v.trace("[constructor] Export",e),!((n=g(this,t,[{element:document.createElement("div"),render:e.render,target:e.target}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.EXPORT_ROUTE={},n.EXPORT_ISOCHRON={},n.EXPORT_PROFILE={},n.uid=e.id||i.A.generate(),n.extension=null,n.mimeType=null,n.container=null,n.button=null,n.menu=null,n.icon="â˜° ",n.menuClassHidden="GPelementHidden gpf-hidden",n.initOptions(e),n.initContainer(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),n=t,r=[{key:"render",value:function(){if(!this.options.target&&this.options.control){var e=this.options.control.getContainer();this.options.target=e.lastChild}this.container&&this.options.target.appendChild(this.container)}},{key:"initOptions",value:function(e){this.options=e,this.options.control,this.options.target;var t=this.options.format;t?this.setFormat(t):this.setFormat(""),this.options.name||this.setName("export"),this.options.title||this.setTitle("Exporter"),void 0===this.options.menu&&this.setMenu(!1)}},{key:"initContainer",value:function(){var e=this,t=this.options.title;this.options.menu&&(t=this.icon+this.options.title);var n=document.createElement("div");n.id=this._addUID("GPexportContainer"),n.className="GPexportMenuContainer";var r=this.stringToHTML('\n            <input type="button"\n                id="'.concat(this._addUID("GPexportButton"),'" \n                class="GPsubmit gpf-btn gpf-btn-icon-submit  fr-btn"\n                value="').concat(t,'">\n        '));this.button=r.firstChild,this.button&&this.button.addEventListener("click",(function(t){return e.onClickButtonExport(t)})),n.appendChild(r.firstChild);var o=this.stringToHTML('\n            <div class="GPexportMenuContent '.concat(this.menuClassHidden,'">\n                <label class="container">GeoJSON\n                    <input type="radio" \n                        id="GPmenuFormatGeojson-').concat(this.uid,'"\n                        name="format" \n                        value="geojson">\n                    <span class="checkmark"></span>\n                </label>\n                <label class="container">KML\n                    <input type="radio" \n                        id="GPmenuFormatKml-').concat(this.uid,'"\n                        name="format" \n                        value="kml">\n                    <span class="checkmark"></span>\n                </label>\n                <label class="container">GPX\n                    <input type="radio" \n                        id="GPmenuFormatGpx-').concat(this.uid,'"\n                        name="format" \n                        value="gpx">\n                    <span class="checkmark"></span>\n                </label>\n            </div>\n        '));if(this.menu=o.firstChild,this.menu){if(this.options.menu){var i=this.menu.className;this.menu.className=i.replace(this.menuClassHidden,"")}this.menu.querySelectorAll('input[type=radio][name="format"]').forEach((function(t){t.id.toUpperCase().includes(e.options.format.toUpperCase())&&(t.checked=!0),t.addEventListener("change",(function(t){e.setFormat(t.target.value)}))}))}n.appendChild(o.firstChild),this.container=n}},{key:"stringToHTML",value:function(e){if(function(){if(!window.DOMParser)return!1;var e=new DOMParser;try{e.parseFromString("x","text/html")}catch(e){return!1}return!0}())return(new DOMParser).parseFromString(e,"text/html").body;var t=document.createElement("div");return t.innerHTML=e,t}},{key:"isPluggableControl",value:function(){return!(!this.options.control||"function"!=typeof this.options.control.getContainer||"function"!=typeof this.options.control.getLayer)}},{key:"exportFeatures",value:function(e,t,n){var r=this,o=null;if(!e)return v.warn("Impossible to export : no layer is hosting features."),o;if(!e.getSource()||!e.getSource().getFeatures()||!e.getSource().getFeatures().length)return v.warn("Impossible to export : no features found."),o;e.getSource().getFeatures().forEach((function(e){e.getStyle()||"function"!=typeof r.options.control.getStyle||e.setStyle(r.options.control.getStyle())}));var i={defaultStyle:n};t&&(i.extensions={"geoportail:compute":t});var a=null;switch(this.options.format.toUpperCase()){case"KML":i.writeStyles=!0,i.showPointNames=!0,a=new s.A(i);break;case"GPX":a=new c.default(i);break;case"GEOJSON":a=new l.A(i)}if(!a)return v.warn("Impossible to export : format unknown !?"),o;var u=e.getSource().getProjection(),p=this.getMap();p&&(u=u||p.getView().getProjection());var d=e.getSource().getFeatures();return o=a.writeFeatures(d,{dataProjection:"EPSG:4326",featureProjection:u||"EPSG:3857"})}},{key:"onClickButtonExport",value:function(e){if(this.isPluggableControl()){var t=this.options.control.getLayer(),n=void 0!==this.options.control.getData?this.options.control.getData():{},r=void 0!==this.options.control.getStyle?this.options.control.getStyle():{},o=this.exportFeatures(t,n,r);if(o&&"null"!==o)if(this.dispatchEvent({type:"export:compute",content:o}),this.options.onExport&&"function"==typeof this.options.onExport)this.options.onExport(o);else{var i=document.createElement("a");if(i.setAttribute("href","data:"+this.mimeType+";charset=utf-8,"+encodeURIComponent(o)),i.setAttribute("download",this.options.name+this.extension),document.createEvent){var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0),i.dispatchEvent(a)}else i.click()}}else v.warn("Componant not pluggable with the control !")}},{key:"getContainer",value:function(){return this.container}},{key:"setControl",value:function(e){this.options.control=e}},{key:"setTarget",value:function(e){this.options.target=e}},{key:"setFormat",value:function(e){switch(this.options.format=e.toUpperCase(),this.options.format){case"KML":this.extension=".kml",this.mimeType="application/vnd.google-earth.kml+xml";break;case"GPX":this.extension=".gpx",this.mimeType="application/gpx+xml";break;case"GEOJSON":this.extension=".geojson",this.mimeType="application/geo+json";break;default:this.options.format="GEOJSON",this.extension=".geojson",this.mimeType="application/geo+json"}}},{key:"setName",value:function(e){this.options.name=e}},{key:"setTitle",value:function(e){this.options.title=e,this.button&&(this.button.value=this.options.menu?this.icon+e:e)}},{key:"setMenu",value:function(e){var t=this;if(this.options.menu=e,this.button&&(this.button.value=this.options.menu?this.icon+this.options.title:this.options.title),this.menu&&this.options.menu){var n=this.menu.className;this.menu.className=n.replace(this.menuClassHidden,""),this.menu.querySelectorAll('input[type=radio][name="format"]').forEach((function(e){e.id.toUpperCase().includes(t.options.format.toUpperCase())&&(e.checked=!0)}))}}}],r&&d(n.prototype,r),o&&d(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(o());Object.assign(C.prototype,u);const I=C;window.ol&&window.ol.control&&(window.ol.control.Export=C)},9322:(e,t,n)=>{"use strict";n.d(t,{default:()=>L});var r=n(562),o=n(1363),i=n(996),a=n.n(i),s=n(3668),l=n.n(s),c=n(2999),u=n(2987),p=n(2536),d=n(5844),h=n(6736),g=n(9994),f=n(6117),m=n(3600),y=n(9209),v=n(2714),C=n(8526),I=n(9632),A=n(2940);const b={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochron"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowIsoPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowIsochronPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowIsochronPicto gpf-btn gpf-btn-icon gpf-btn-icon-isocurve fr-btn",t.title="Calculer une isochrone",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.setAttribute("type","button"),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowIsoPanelClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowIsoPanelClick(t)})),t},_createIsoPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPisochronPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createIsoPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createIsoPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title fr-pt-4w",n.innerHTML="Calcul d'isochrone",t.appendChild(n);var r=document.createElement("button");r.id=this._addUID("GPisochronPanelClose"),r.className="GPpanelClose GPisochronPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",r.title="Fermer le panneau",r.addEventListener?r.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowIsochronPicto")).click()}),!1):r.attachEvent&&r.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowIsochronPicto")).click()}));var o=document.createElement("span");return o.className="GPelementHidden gpf-visible",o.innerText="Fermer",r.appendChild(o),t.appendChild(r),t},_createIsoPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPisochronForm"),t.className="GPform gpf-panel__content fr-modal__content",t.addEventListener("submit",(function(t){return t.preventDefault(),e.onIsoComputationSubmit(t),!1})),t},_createIsoWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPisochronCalcWaitingContainer"),e.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var t=document.createElement("p");return t.className="GPwaitingContainerInfo gpf-waiting_info",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createIsoPanelFooterElement:function(){var e=document.createElement("div");return e.className="GPpanelFooter gpf-panel__footer fr-modal__footer",e},_createIsoPanelFormPointLabel:function(){var e=document.createElement("p");return e.id=this._addUID("GPisochronPointLabelP"),e.className="gpf-label fr-label",e.innerHTML="DÃ©part",e},_createIsoPanelFormTypeChoiceElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPisochronChoice"),e.className="fr-mt-2w",e},_createIsoPanelFormTypeChoiceChronElement:function(e){var t=this,n=document.createElement("div");n.className="GPisochronChoiceAlt gpf-flex gpf-flex-isocurve gpf-radio-group fr-radio-group";var r=document.createElement("input");r.id=this._addUID("GPisochronChoiceAltChron"),r.name="GPisochronChoiceMode",r.type="radio",r.checked=!!e,r.addEventListener?r.addEventListener("change",(function(e){document.getElementById(t._addUID("GPisochronValueChron")).className="GPflexInput gpf-flex fr-mt-1w",document.getElementById(t._addUID("GPisochronValueDist")).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GPisochronValueChronLabelP")).className="gpf-label fr-label",document.getElementById(t._addUID("GPisochronValueDistLabelP")).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GPisochronSubmit")).value="Calculer l'isochrone",t.onIsoTypeChoiceChange(e)}),!1):r.attachEvent&&r.attachEvent("onchange",(function(){document.getElementById(t._addUID("GPisochronValueChron")).className="GPflexInput gpf-flex fr-mt-1w",document.getElementById(t._addUID("GPisochronValueDist")).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GPisochronValueChronLabelP")).className="gpf-label fr-label",document.getElementById(t._addUID("GPisochronValueDistLabelP")).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GPisochronSubmit")).value="Calculer l'isochrone",t.onIsoTypeChoiceChange()})),r.value="isochron",n.appendChild(r);var o=document.createElement("label");o.className="GPisochronChoiceAltImg gpf-label fr-label",o.htmlFor=this._addUID("GPisochronChoiceAltChron"),o.innerHTML="DurÃ©e",o.title="DurÃ©e",n.appendChild(o);var i=document.createElement("span");return i.id=this._addUID("GPisochronChoiceAltChronTxt"),i.className="gpf-hidden",i.innerHTML="DurÃ©e",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(t._addUID("GPisochronChoiceAltChron")).click()}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPisochronChoiceAltChron")).click()})),n.appendChild(i),n},_createIsoPanelFormTypeChoiceDistElement:function(e){var t=this,n=document.createElement("div");n.className="GPisochronChoiceAlt gpf-flex gpf-flex-isocurve gpf-radio-group fr-radio-group";var r=document.createElement("input");r.id=this._addUID("GPisochronChoiceAltDist"),r.name="GPisochronChoiceMode",r.type="radio",r.checked=!!e,r.addEventListener?r.addEventListener("change",(function(e){document.getElementById(t._addUID("GPisochronValueDist")).className="GPflexInput gpf-flex fr-mt-1w",document.getElementById(t._addUID("GPisochronValueChron")).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GPisochronValueDistLabelP")).className="gpf-label fr-label",document.getElementById(t._addUID("GPisochronValueChronLabelP")).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GPisochronSubmit")).value="Calculer l'isodistance",t.onIsoTypeChoiceChange(e)}),!1):r.attachEvent&&r.attachEvent("onchange",(function(){document.getElementById(t._addUID("GPisochronValueDist")).className="GPflexInput gpf-flex fr-mt-1w",document.getElementById(t._addUID("GPisochronValueChron")).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GPisochronValueDistLabelP")).className="gpf-label fr-label",document.getElementById(t._addUID("GPisochronValueChronLabelP")).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GPisochronSubmit")).value="Calculer l'isodistance",t.onIsoTypeChoiceChange()})),r.value="isodistance",n.appendChild(r);var o=document.createElement("label");o.className="GPisochronChoiceAltImg gpf-label fr-label",o.htmlFor=this._addUID("GPisochronChoiceAltDist"),o.innerHTML="Distance",o.title="Distance",n.appendChild(o);var i=document.createElement("span");return i.id=this._addUID("GPisochronChoiceAltDistTxt"),i.className="gpf-hidden",i.innerHTML="Distance",i.addEventListener?i.addEventListener("click",(function(){document.getElementById(t._addUID("GPisochronChoiceAltDist")).click()}),!1):i.attachEvent&&i.attachEvent("onclick",(function(){document.getElementById(t._addUID("GPisochronChoiceAltDist")).click()})),n.appendChild(i),n},_createIsoPanelFormLabelIsochronElement:function(e){var t=document.createElement("p");return t.id=this._addUID("GPisochronValueChronLabelP"),t.className=e?"gpf-label fr-label":"GPelementHidden gpf-hidden",t.innerHTML="DÃ©finir un temps de trajet",t},_createIsoPanelFormValueIsochronElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPisochronValueChron"),n.className=e?"GPflexInput gpf-flex fr-mt-1w":"GPelementHidden gpf-hidden";var r=document.createElement("input");r.id=this._addUID("GPisochronValueChronInput1"),r.className="gpf-input fr-input",r.min="0",r.step="1",r.value="0",r.type="number",r.title="Temps",r.addEventListener?r.addEventListener("change",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeHourChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeHourChange(e)})),n.appendChild(r);var o=document.createElement("label");o.innerHTML="h",o.className="gpf-label fr-label",n.appendChild(o);var i=document.createElement("input");i.id=this._addUID("GPisochronValueChronInput2"),i.className="gpf-input fr-input",i.min="0",i.max="59",i.step="1",i.value="0",i.type="number",i.title="Heures",i.addEventListener?i.addEventListener("change",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeMinuteChange(e)})):i.attachEvent&&i.attachEvent("onchange",(function(e){"function"==typeof t.onIsoValueChronTimeMinuteChange&&t.onIsoValueChronTimeMinuteChange(e)})),n.appendChild(i);var a=document.createElement("label");return a.innerHTML="min",a.className="gpf-label fr-label",n.appendChild(a),n},_createIsoPanelFormLabelIsodistanceElement:function(e){var t=document.createElement("p");return t.id=this._addUID("GPisochronValueDistLabelP"),t.className=e?"gpf-label fr-label":"GPelementHidden gpf-hidden",t.innerHTML="DÃ©finir une distance",t},_createIsoPanelFormValueIsodistanceElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPisochronValueDist"),n.className=e?"GPflexInput gpf-flex fr-mt-1w":"GPelementHidden gpf-hidden";var r=document.createElement("input");r.id=this._addUID("GPisochronValueDistInput"),r.className="gpf-input fr-input fr-ml-1w",r.min="0",r.step="any",r.value="0",r.type="number",r.title="Distance",r.addEventListener?r.addEventListener("change",(function(e){"function"==typeof t.onIsoValueDistChange&&t.onIsoValueDistChange(e)})):r.attachEvent&&r.attachEvent("onchange",(function(e){"function"==typeof t.onIsoValueDistChange&&t.onIsoValueDistChange(e)})),n.appendChild(r);var o=document.createElement("label");return o.innerHTML="km",o.className="gpf-label fr-label",n.appendChild(o),n},_createIsoPanelFormModeChoiceTransportElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPisochronTransportChoice");var r=document.createElement("label");r.className="GPisochronModeLabel gpf-label fr-label",r.innerHTML="Choisir un mode de dÃ©placement",n.appendChild(r);for(var o=document.createElement("div"),i=0;i<e.length;i++){var a=e[i],s=document.createElement("div");if(s.className="GPisochronTransportChoice gpf-flex gpf-radio-group fr-radio-group","Voiture"===a){var l=document.createElement("input");l.id=this._addUID("GPisochronTransportCar"),l.type="radio",l.name="GPisochronTransport",0===i&&(l.checked=!0),l.addEventListener?l.addEventListener("change",(function(e){t.onIsoModeTransportChange(e)})):l.attachEvent&&l.attachEvent("onchange",(function(e){t.onIsoModeTransportChange(e)})),l.value="Voiture",s.appendChild(l);var c=document.createElement("label");c.className="GPisochronTransportImg gpf-label fr-label",c.htmlFor=this._addUID("GPisochronTransportCar"),c.title="Voiture",c.innerHTML="Voiture",s.appendChild(c)}if("Pieton"===a){var u=document.createElement("input");u.id=this._addUID("GPisochronTransportPedestrian"),u.type="radio",u.name="GPisochronTransport",0===i&&(u.checked=!0),u.addEventListener?u.addEventListener("change",(function(e){t.onIsoModeTransportChange(e)})):u.attachEvent&&u.attachEvent("onchange",(function(e){t.onIsoModeTransportChange(e)})),u.value="Pieton",s.appendChild(u);var p=document.createElement("label");p.className="GPisochronTransportImg gpf-label fr-label",p.htmlFor=this._addUID("GPisochronTransportPedestrian"),p.title="PiÃ©ton",p.innerHTML="PiÃ©ton",s.appendChild(p)}o.appendChild(s)}return n.appendChild(o),n},_createIsoPanelFormModeChoiceDirectionElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPisochronDirectionChoice"),n.className="fr-my-2w";var r=document.createElement("label");r.innerHTML="DÃ©finir un sens de parcours",r.className="fr-label",n.appendChild(r);var o=document.createElement("select");o.id=this._addUID("GPisochronDirectionSelect"),o.className="GPselect gpf-select fr-select",o.title="Sens de parcours",o.addEventListener("change",(function(e){t.onIsoModeDirectionChange(e)}));for(var i=0;i<e.length;i++){var a=e[i];if("departure"===a.toLowerCase()){var s=document.createElement("option");0===i&&(s.selected="selected"),s.value="departure",s.text="DÃ©part",o.appendChild(s)}if("arrival"===a.toLowerCase()){var l=document.createElement("option");0===i&&(l.selected="selected"),l.value="arrival",l.text="ArrivÃ©e",o.appendChild(l)}}return n.appendChild(o),n},_createShowIsoExclusionsPictoElement:function(){var e=this,t=document.createElement("button");t.id=this._addUID("GPshowIsoExclusionsPicto");var n="";return(0,A.A)()&&(n="GPelementHidden gpf-hidden"),t.className="GPshowAdvancedToolPicto GPshowMoreOptionsImage GPshowMoreOptions GPshowIsoExclusionsPicto ".concat(n," gpf-btn fr-btn--sm fr-btn--secondary gpf-btn--secondary fr-icon-arrow-down-fill"),t.title="Exclusions",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!0),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowIsoSettingsClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowIsoSettingsClick(t)})),t},_createIsoPanelFormExclusionsElement:function(){var e=document.createElement("div");e.id=this._addUID("GPisoExclusions");var t=document.createElement("label");return t.className="GPisoExclusionsLabel gpf-label fr-label",t.innerHTML="Passages autorisÃ©s",e.appendChild(t),e},_createIsoPanelFormExclusionOptionsElement:function(e){var t=this,n=document.createElement("div");for(var r in n.className="GPisoExclusionsOptions gpf-flex fr-checkbox-group fr-m-1w",e)if(e.hasOwnProperty(r)){var o=e[r];switch(r){case"toll":var i=document.createElement("input");i.id=this._addUID("GPisoExclusionsToll"),i.type="checkbox",i.name="PÃ©ages",i.checked=!o,i.addEventListener?i.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):i.attachEvent&&i.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),i.value="Toll",n.appendChild(i);var a=document.createElement("label");a.className="GPisoExclusionsOption",a.htmlFor=this._addUID("GPisoExclusionsToll"),a.innerHTML="PÃ©ages",n.appendChild(a);break;case"tunnel":var s=document.createElement("input");s.id=this._addUID("GPisoExclusionsTunnel"),s.type="checkbox",s.name="Tunnel",s.checked=!o,s.addEventListener?s.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):s.attachEvent&&s.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),s.value="Tunnel",n.appendChild(s);var l=document.createElement("label");l.className="GPisoExclusionsOption",l.htmlFor=this._addUID("GPisoExclusionsTunnel"),l.innerHTML="Tunnels",n.appendChild(l);break;case"bridge":var c=document.createElement("input");c.id=this._addUID("GPisoExclusionsBridge"),c.type="checkbox",c.name="Ponts",c.checked=!o,c.addEventListener?c.addEventListener("change",(function(e){t.onIsoExclusionsChange(e)})):c.attachEvent&&c.attachEvent("onchange",(function(e){t.onIsoExclusionsChange(e)})),c.value="Bridge",n.appendChild(c);var u=document.createElement("label");u.className="GPisoExclusionsOption",u.htmlFor=this._addUID("GPisoExclusionsBridge"),u.innerHTML="Ponts",n.appendChild(u)}}return n},_createIsoSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPisochronSubmit"),e.className="GPsubmit gpf-btn fr-btn",e.type="submit",e.value="Calculer l'isochrone",e},_createIsoFormResetElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPisochronReset"),t.className="GPresetPicto GPisochronReset gpf-btn gpf-btn-icon-reset gpf-btn-icon-isocurve-reset fr-btn fr-btn--secondary gpf-btn--secondary",t.title="RÃ©initialiser les paramÃ¨tres",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onIsoResetClick(t)})),t}};function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function _(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}function P(e,t){if(t&&("object"==E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},x.apply(null,arguments)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}var R=d.A.getLogger("isocurve"),N=function(e){function t(e){var n,r,o,i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=t,i=[{element:(e=e||{}).element,target:e.target,render:e.render}],o=T(o),!((n=P(r,S()?Reflect.construct(o,i||[],T(r).constructor):o.apply(r,i)))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.initialize(e),n._container=n._createMainContainerElement(),n.element?n.element.appendChild(n._container):n.element=n._container,P(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(t,e),n=t,r=[{key:"setMap",value:function(e){if(e){if(this._container=this._initContainer(e),this.options.export){var n=p.A.assign({control:this},this.options.export);this.export=new C.default(n),this.export.render();var r=this;this.export.on("export:compute",(function(e){r.dispatchEvent({type:"export:compute",content:e.content})}))}this.draggable&&f.A.dragElement(this._IsoPanelContainer,this._IsoPanelHeaderContainer,this.options.position?null:e.getTargetElement()),this.collapsed||this._pictoIsoButton.setAttribute("aria-pressed",!0)}var o,i,a,s,l;(o=t,i="setMap",a=this,l=x(T(1&(s=3)?o.prototype:o),i,a),2&s&&"function"==typeof l?function(e){return l.apply(a,e)}:l)([e]),this.options.position&&this.setPosition(this.options.position)}},{key:"getCollapsed",value:function(){return this.collapsed}},{key:"setCollapsed",value:function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GPisochronPanelClose-"+this._uid).click():this._pictoIsoButton.click(),this.collapsed=e):R.log("[ERROR] Isocurve:setCollapsed - missing collapsed parameter")}},{key:"getLayer",value:function(){return this._geojsonLayer}},{key:"setLayer",value:function(e){e?e instanceof a()?(e.setStyle(this._defaultFeatureStyle),this._geojsonLayer=e):R.log("no valid layer given for hosting drawn features."):this._geojsonLayer=null}},{key:"getGeoJSON",value:function(){return JSON.stringify(this._geojsonObject)}},{key:"setGeoJSON",value:function(e){try{this._geojsonObject=JSON.parse(e)}catch(e){R.log("no valid geojson given :"+e.message)}}},{key:"getData",value:function(){var e={type:"isocurve",transport:this._currentTransport,computation:this._currentComputation,exclusions:this._currentExclusions,direction:this._currentDirection,point:this._originPoint.getCoordinate(),results:{}};return p.A.assign(e.results,this._currentIsoResults),e}},{key:"setData",value:function(e){this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions,this._currentDirection=e.direction,document.getElementById("GPlocationOriginPointer_1-"+this._uid).checked=!0,document.getElementById("GPlocationOriginCoords_1-"+this._uid).value="",this._originPoint.setCoordinate(e.point,"EPSG:4326"),this._currentIsoResults=e.results}},{key:"getContainer",value:function(){return this._container}},{key:"getStyle",value:function(){return this._defaultFeatureStyle}},{key:"compute",value:function(e,t,n){if(this._clear(),"true"!==this._pictoIsoButton.ariaPressed&&this._pictoIsoButton.click(),this.getMap()){var r={direction:"departure",method:"time",transport:"Voiture",exclusions:[]};p.A.assign(r,n),this._originPoint.setCoordinate(e);var o=this._originPoint.getCoordinate();if(document.getElementById("GPlocationOrigin_1-"+this._uid).value=o[0].toFixed(4)+" / "+o[1].toFixed(4),this._currentTransport=r.transport,"Voiture"===r.transport?document.getElementById("GPisochronTransportCar-"+this._uid).checked=!0:document.getElementById("GPisochronTransportPedestrian-"+this._uid).checked=!0,this._currentExclusions=r.exclusions,this._currentComputation=r.method,"time"===r.method){var i=t.split(".");this._currentTimeHour=i[0]||0,document.getElementById("GPisochronValueChronInput1-"+this._uid).value=this._currentTimeHour,this._currentTimeMinute=i[1]||0,document.getElementById("GPisochronValueChronInput2-"+this._uid).value=this._currentTimeMinute,document.getElementById("GPisochronChoiceAltChron-"+this._uid).click()}else this._currentDistance=t,document.getElementById("GPisochronValueDistInput-"+this._uid).value=this._currentDistance,document.getElementById("GPisochronChoiceAltDist-"+this._uid).click();this._currentDirection=r.direction,document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex="departure"===r.direction?0:1,this.onIsoComputationSubmit()}}},{key:"init",value:function(){var e=this._originPoint.getCoordinate();if(document.getElementById("GPlocationOrigin_1-"+this._uid).value=e[1].toFixed(4)+" / "+e[0].toFixed(4),"Voiture"===this._currentTransport?document.getElementById("GPisochronTransportCar-"+this._uid).checked=!0:document.getElementById("GPisochronTransportPedestrian-"+this._uid).checked=!0,"time"===this._currentComputation){var t=this._currentIsoResults.time/60;this._currentTimeHour=Math.floor(t/60),document.getElementById("GPisochronValueChronInput1-"+this._uid).value=this._currentTimeHour,this._currentTimeMinute=Math.round(60*(t/60-this._currentTimeHour)),document.getElementById("GPisochronValueChronInput2-"+this._uid).value=this._currentTimeMinute,document.getElementById("GPisochronChoiceAltChron-"+this._uid).click()}else this._currentDistance=this._currentIsoResults.distance/1e3,document.getElementById("GPisochronValueDistInput-"+this._uid).value=this._currentDistance,document.getElementById("GPisochronChoiceAltDist-"+this._uid).click();"departure"===this._currentDirection?document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=0:document.getElementById("GPisochronDirectionSelect-"+this._uid).selectedIndex=1}},{key:"clean",value:function(){this._clearIsoInputs(),this._originPoint.clearResults(),document.getElementById("GPlocationPoint_1-"+this._uid).style.cssText="",document.getElementById("GPlocationOriginCoords_1-"+this._uid).value="",document.getElementById("GPlocationOrigin_1-"+this._uid).value="",document.getElementById("GPlocationPoint_1-"+this._uid).style.cssText="",document.getElementById("GPlocationOriginPointer_1-"+this._uid).checked=!1,document.getElementById("GPlocationOrigin_1-"+this._uid).className="GPlocationOriginVisible gpf-visible",document.getElementById("GPlocationOriginCoords_1-"+this._uid).className="GPlocationOriginHidden gpf-hidden",this._currentIsoResults=null,this.setLayer()}},{key:"initialize",value:function(e){this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,export:!1,methods:["time","distance"],graphs:["Pieton","Voiture"],exclusions:{toll:!1,tunnel:!1,bridge:!1},directions:["departure","arrival"],markerOpts:{url:g.A.lightOrange,offset:g.A.defaultOffset},isocurveOptions:{},autocompleteOptions:{},layerDescription:{title:"Isochrone/Isodistance",description:"isochrone/isodistance basÃ© sur un graphe"}},p.A.assign(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=h.A.generate(),this._currentTransport=null,this._initTransport(),this._currentComputation=null,this._initComputation(),this._currentExclusions=[],this._initExclusions(),this._currentDirection=null,this._initDirection(),this._originPoint=null,this._pictoIsoButton=null,this._waitingContainer=null,this._formContainer=null,this._IsoPanelContainer=null,this._IsoPanelHeaderContainer=null,this._currentIsoResults=null,this._geojsonLayer=null,this._geojsonObject=null,this.export=null,this._waiting=!1,this._timer=null,this._defaultFeatureStyle=new c.Style({fill:new c.Fill({color:"rgba(0, 183, 152, 0.7)"}),stroke:new c.Stroke({color:"rgba(0, 183, 152, 0)",width:1})}),this._resources={},this.listenerKey=null}},{key:"_checkInputOptions",value:function(e){var t;if(e.methods)if(Array.isArray(e.methods))if(0===e.methods.length)e.methods=null;else for(t=0;t<e.methods.length;t++)"string"!=typeof e.methods[t]&&R.log("[ol.control.Isocurve] ERROR : parameter 'methods' elements should be of type 'string'");else R.warn("'methods' parameter should be an array"),e.methods=null;if(e.graphs)if(Array.isArray(e.graphs))if(0===e.graphs.length)e.graphs=null;else for(t=0;t<e.graphs.length;t++)"string"!=typeof e.graphs[t]?R.log("[ol.control.Isocurve] ERROR : parameter 'graphs' elements should be of type 'string'"):("pieton"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Pieton"),"voiture"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Voiture"));else R.warn("'graphs' parameter should be an array"),e.graphs=null;if(e.directions)if(Array.isArray(e.directions))if(0===e.directions.length)e.directions=null;else for(t=0;t<e.directions.length;t++)"string"!=typeof e.directions[t]&&R.log("[ol.control.Isocurve] ERROR : parameter 'directions' elements should be of type 'string'");else R.warn("'directions' parameter should be an array"),e.directions=null;"true"===e.collapsed&&(e.collapsed=!0),"false"===e.collapsed&&(e.collapsed=!1)}},{key:"_initTransport",value:function(){this._currentTransport="PiÃ©ton";var e=this.options.graphs;e&&0!==e.length||(this.options.graphs=["Pieton","Voiture"]),Array.isArray(e)&&e.length&&("Voiture"!==e[0]&&"Pieton"!==e[0]||(this._currentTransport=e[0]));var t=this.options.isocurveOptions;t.graph&&(this._currentTransport=t.graph)}},{key:"_initComputation",value:function(){this._currentComputation="time";var e=this.options.methods;e&&0!==e.length||(this.options.methods=["time","distance"]),Array.isArray(e)&&e.length&&("time"!==e[0]&&"distance"!==e[0]||(this._currentComputation=e[0]));var t=this.options.isocurveOptions;t.method&&(this._currentComputation=t.method),t.time&&(this._currentComputation="time"),t.distance&&(this._currentComputation="distance")}},{key:"_initDirection",value:function(){this._currentDirection="departure";var e=this.options.directions;e&&0!==e.length||(this.options.directions=["departure","arrival"]),Array.isArray(e)&&e.length&&("departure"!==e[0]&&"arrival"!==e[0]||(this._currentDirection=e[0]));var t=this.options.isocurveOptions;t.reverse||(this._currentDirection="departure"),!0===t.reverse&&(this._currentDirection="arrival",this.options.directions=["arrival","departure"])}},{key:"_initExclusions",value:function(){this._currentExclusions=[];var e=this.options.exclusions;if((!e||"object"===E(e)&&0===Object.keys(e).length)&&(this.options.exclusions={toll:!1,tunnel:!1,bridge:!1}),e&&"object"===E(e)&&Object.keys(e).length)for(var t in e)e.hasOwnProperty(t)&&e.k&&this._currentExclusions.push(t);var n=this.options.isocurveOptions;Array.isArray(n.exclusions)&&(this._currentExclusions=n.exclusions)}},{key:"_initContainer",value:function(e){var t=this,n=this._container;if(n.childElementCount>0)return n;var r=this._pictoIsoButton=this._createShowIsoPictoElement();n.appendChild(r);var o=this._IsoPanelContainer=this._createIsoPanelElement(),i=this._createIsoPanelDivElement();o.appendChild(i);var a=this._IsoPanelHeaderContainer=this._createIsoPanelHeaderElement();i.appendChild(a);var s=this._formContainer=this._createIsoPanelFormElement();s.appendChild(this._createIsoPanelFormModeChoiceTransportElement(this.options.graphs)),s.appendChild(this._createIsoPanelFormPointLabel());var l=this._createIsoPanelFormPointElement(e);s.appendChild(l);for(var c=!1,u=!1,p=this._createIsoPanelFormTypeChoiceElement(),d=0;d<this.options.methods.length;d++)"time"===this.options.methods[d]&&(c=0===d,p.appendChild(this._createIsoPanelFormTypeChoiceChronElement(c))),"distance"===this.options.methods[d]&&(u=0===d,p.appendChild(this._createIsoPanelFormTypeChoiceDistElement(u)));if(s.appendChild(p),s.appendChild(this._createIsoPanelFormLabelIsochronElement(c)),s.appendChild(this._createIsoPanelFormValueIsochronElement(c)),s.appendChild(this._createIsoPanelFormLabelIsodistanceElement(u)),s.appendChild(this._createIsoPanelFormValueIsodistanceElement(u)),s.appendChild(this._createIsoPanelFormModeChoiceDirectionElement(this.options.directions)),this.options.exclusions&&"object"===E(this.options.exclusions)&&0!==Object.keys(this.options.exclusions).length){s.appendChild(this._createShowIsoExclusionsPictoElement());var h=this._createIsoPanelFormExclusionsElement();h.appendChild(this._createIsoPanelFormExclusionOptionsElement(this.options.exclusions)),s.appendChild(h)}var g=this._createIsoPanelFooterElement();if(s.appendChild(g),!(0,A.A)()){var f=this._createIsoFormResetElement();g.appendChild(f)}var m=this._submitContainer=this._createIsoSubmitFormElement();g.appendChild(m),i.appendChild(s);var y=this._waitingContainer=this._createIsoWaitingElement();return o.appendChild(y),n.appendChild(o),n.addEventListener&&n.addEventListener("click",(function(e){return t._hideIsoSuggestedLocations(e)})),n}},{key:"_createIsoPanelFormPointElement",value:function(e){this._originPoint=new v.default({apiKey:this.options.apiKey||null,tag:{id:1,groupId:this._uid,markerOpts:this.options.markerOpts,display:!0},autocompleteOptions:this.options.autocompleteOptions||null}),this._originPoint.setMap(e);var t=this;return document.getElementById("GPlocationOriginPointerImg_1-"+this._uid).onclick=function(){t._clearGeojsonLayer();var e=t.getMap();t._originPoint._inputShowPointerContainer.checked?(t._formContainer.className="GPisochronFormMini gpf-panel__content fr-modal__content",this.listenerKey=e.on("click",(function(){t._formContainer.className="gpf-panel__content fr-modal__content",t.dispatchEvent("isocurve:drawend")}))):(t._formContainer.className="gpf-panel__content fr-modal__content",(0,o.unByKey)(this.listenerKey)),t.dispatchEvent("isocurve:drawstart")},document.getElementById("GPlocationOriginLabel_1-"+this._uid).onclick=function(){t._clearGeojsonLayer(),t._formContainer.className="gpf-panel__content fr-modal__content",e.un("click",(function(){t._formContainer.className="gpf-panel__content fr-modal__content"})),t.dispatchEvent("isocurve:drawend")},document.getElementById("GPlocationOrigin_1-"+this._uid).onclick=function(){t._clearGeojsonLayer(),t.dispatchEvent("isocurve:drawend")},this._originPoint._container}},{key:"onIsoComputationSubmit",value:function(){if(this._originPoint&&this._originPoint.getCoordinate&&this._originPoint.getCoordinate()){var e,t,n=this._originPoint.getCoordinate(),r={x:n[0],y:n[1]};if(R.log("origin : ",r),"time"===this._currentComputation.toLowerCase()){var o=document.getElementById("GPisochronValueChronInput1-"+this._uid),i=parseInt(o.value,10);isNaN&&isNaN(i)&&(i=0);var a=document.getElementById("GPisochronValueChronInput2-"+this._uid),s=parseInt(a.value,10);isNaN&&isNaN(s)&&(s=0),e=3600*i+60*s,R.log("time : "+e)}if("distance"===this._currentComputation.toLowerCase()){var l=document.getElementById("GPisochronValueDistInput-"+this._uid);t=1e3*parseFloat(l.value),R.log("distance : "+t)}if(e||t){var c=this.options.isocurveOptions||{},u=c.protocol||"XHR",p=c.timeOut||0;"JSONP"===u&&0===p&&(p=15e3);var d=!(null===c.onFailure||"function"!=typeof c.onFailure),h=!(null===c.onSuccess||"function"!=typeof c.onSuccess),g=this,f={position:r,graph:c.graph||this._currentTransport,exclusions:c.exclusions||this._currentExclusions,method:c.method||this._currentComputation,smoothing:c.smoothing||!0,timeOut:p,protocol:u,resource:c.resource,onSuccess:function(e){R.log(e),e&&g._drawIsoResults(e),h&&c.onSuccess.call(g,e)},onFailure:function(e){g._hideWaitingContainer(),R.log(e.message),d&&c.onFailure.call(g,e)}};("arrival"===this._currentDirection.toLowerCase()||c.reverse)&&(f.reverse=!0),e&&(f.time=e),t&&(f.distance=t),this._requestIsoCurve(f)}else R.log("[Isocurve] Missing time or distance parameter to submit isocurve request")}else R.log("[Isocurve] Missing position parameter to submit isocurve request")}},{key:"onShowIsoPanelClick",value:function(){var e=this.getMap();m.A.unset(e);var t=this._pictoIsoButton.ariaPressed;this.collapsed=!("true"===t),this.dispatchEvent("change:collapsed"),this.options.position&&!this.collapsed&&this.updatePosition(this.options.position)}},{key:"onIsoTypeChoiceChange",value:function(e){var t=e.target.value;t&&("isodistance"===t&&(this._currentComputation="distance"),"isochron"===t&&(this._currentComputation="time"))}},{key:"onIsoModeTransportChange",value:function(e){var t=e.target.value;t&&(this._currentTransport=t)}},{key:"onIsoModeDirectionChange",value:function(e){var t=e.target.value;t&&("arrival"===t.toLowerCase()?document.getElementById("GPisochronPointLabelP-"+this._uid).innerHTML="ArrivÃ©e":document.getElementById("GPisochronPointLabelP-"+this._uid).innerHTML="DÃ©part",this._currentDirection=t)}},{key:"onIsoExclusionsChange",value:function(e){var t=e.target.value,n=e.target.checked;if(t){for(var r=!1,o=null,i=0;i<this._currentExclusions.length;i++)O(this._currentExclusions[i],t.toLowerCase())&&(o=i,r=!0);r||n||this._currentExclusions.push(t.toLowerCase()),r&&n&&(this._currentExclusions[o]=null)}}},{key:"onIsoResetClick",value:function(){this._clear()}},{key:"onShowIsoSettingsClick",value:function(){}},{key:"_requestIsoCurve",value:function(e){!e||"object"===E(e)&&0===Object.keys(e).length||e.position&&("boolean"!=typeof e.ssl&&("boolean"==typeof this.options.ssl?e.ssl=this.options.ssl:e.ssl=!0),R.log(e),this._clearGeojsonLayer(),this._displayWaitingContainer(),u.Ay.Services.isoCurve(e))}},{key:"_drawIsoResults",value:function(e){var t=this;if(this._currentIsoResults=e,this._hideWaitingContainer(),e.geometry){var n=this.getMap();this._geojsonObject={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[{type:"Feature",crs:{type:"name",properties:{name:"EPSG:4326"}},geometry:e.geometry}]},this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._originPoint.getCoordinate()},properties:{description:"Point d'origine","marker-symbol":this.options.markerOpts.url}});var r,o=new I.A({defaultDataProjection:"EPSG:4326",defaultStyle:this._defaultFeatureStyle}),i=n.getView().getProjection().getCode(),s=o.readFeatures(this._geojsonObject,{dataProjection:"EPSG:4326",featureProjection:i});if(this._geojsonLayer=new(a())({source:new(l())({features:s}),style:this._defaultFeatureStyle,opacity:.9}),"Pieton"===this._currentTransport?(r="piÃ©ton",this._geojsonLayer.gpResultLayerId="Pieton$GEOPORTAIL:GPP:Isocurve"):(r="voiture",this._geojsonLayer.gpResultLayerId="Voiture$GEOPORTAIL:GPP:Isocurve"),n.addLayer(this._geojsonLayer),this.dispatchEvent({type:"isocurve:compute"}),s[0]&&s[0].getGeometry()&&s[0].getGeometry().getExtent()){var c=s[0].getGeometry().getExtent();n.getView().fit(c,n.getSize())}var u="time"===this._currentComputation?"Isochrone":"Isodistance";n.getControls().forEach((function(e){if(e instanceof y.default){var n=t._geojsonLayer.gpLayerId;e._layers[n].title===n&&e.addLayer(t._geojsonLayer,{title:t.options.layerDescription.title+" ("+u+"/"+r+")",description:t.options.layerDescription.description})}}))}}},{key:"_clear",value:function(){this._clearIsoInputs(),this._originPoint.clear(),this._clearGeojsonLayer(),this._currentIsoResults=null}},{key:"_clearIsoInputs",value:function(){var e=document.getElementById("GPisochronValueChronInput1-"+this._uid);e&&(e.value="0");var t=document.getElementById("GPisochronValueChronInput2-"+this._uid);t&&(t.value="0");var n,r,o=document.getElementById("GPisochronValueDistInput-"+this._uid);o&&(o.value="0"),this._initTransport(),this._initComputation(),this._initDirection(),this._initExclusions(),"Pieton"===this._currentTransport?(n=document.getElementById("GPisochronTransportPedestrian-"+this._uid))&&(n.checked="true"):(n=document.getElementById("GPisochronTransportCar-"+this._uid))&&(n.checked="true"),"distance"===this._currentComputation.toLowerCase()?((r=document.getElementById("GPisochronChoiceAltDist-"+this._uid))&&(r.checked="true"),document.getElementById("GPisochronValueDist-"+this._uid)&&(document.getElementById("GPisochronValueDist-"+this._uid).className="GPflexInput gpf-flex"),document.getElementById("GPisochronValueChron-"+this._uid)&&(document.getElementById("GPisochronValueChron-"+this._uid).className="GPelementHidden gpf-hidden")):((r=document.getElementById("GPisochronChoiceAltChron-"+this._uid))&&(r.checked="true"),document.getElementById("GPisochronValueChron-"+this._uid)&&(document.getElementById("GPisochronValueChron-"+this._uid).className="GPflexInput gpf-flex"),document.getElementById("GPisochronValueDist-"+this._uid)&&(document.getElementById("GPisochronValueDist-"+this._uid).className="GPelementHidden gpf-hidden"));var i=document.getElementById("GPisochronDirectionSelect-"+this._uid);i&&(i.value=this._currentDirection),"arrival"===i.value.toLowerCase()?document.getElementById("GPisochronPointLabelP-"+this._uid).innerHTML="ArrivÃ©e":document.getElementById("GPisochronPointLabelP-"+this._uid).innerHTML="DÃ©part";var a=document.getElementById("GPisoExclusionsToll-"+this._uid);a&&(-1!==this._currentExclusions.indexOf("toll")?a.checked=!1:a.checked=!0);var s=document.getElementById("GPisoExclusionsTunnel-"+this._uid);s&&(-1!==this._currentExclusions.indexOf("tunnel")?s.checked=!1:s.checked=!0);var l=document.getElementById("GPisoExclusionsBridge-"+this._uid);l&&(-1!==this._currentExclusions.indexOf("bridge")?l.checked=!1:l.checked=!0)}},{key:"_clearGeojsonLayer",value:function(){var e=this.getMap();this._geojsonLayer&&(e.removeLayer(this._geojsonLayer),this._geojsonLayer=null),this._geojsonObject=null}},{key:"_hideIsoSuggestedLocations",value:function(e){e.target&&e.target.id&&-1!==e.target.id.indexOf("GPlocationOrigin_")||this._originPoint._hideSuggestedLocation()}},{key:"_displayWaitingContainer",value:function(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0;var e=this.options.isocurveOptions;if(e&&e.timeOut){this._timer&&(clearTimeout(this._timer),this._timer=null);var t=this;this._timer=setTimeout((function(){!0===t._waiting?t._hideWaitingContainer():t._timer&&clearTimeout(t._timer)}),16e3)}}},{key:"_hideWaitingContainer",value:function(){if(this._waiting){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1;var e=this.options.isocurveOptions;e&&e.timeOut&&(clearTimeout(this._timer),this._timer=null)}}}],r&&w(n.prototype,r),i&&w(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(r.A);Object.assign(N.prototype,b);const L=N;window.ol&&window.ol.control&&(window.ol.control.Isocurve=N);var O=function(e,t){if(e===t)return!0;if("object"===E(e)&&null!=e&&"object"===E(t)&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!O(e[n],t[n]))return!1}return!0}return!1}},9209:(e,t,n)=>{"use strict";n.d(t,{default:()=>St});var r=n(562),o=n(1363),i=n(2938),a=n(9201),s=n(6736),l=n(5844);const c={configuration:{},isConfigLoaded:function(){if(this.configuration&&0!==Object.keys(this.configuration).length)return!0;var e="undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==n.g?n.g:{};return!!(e.Gp&&e.Gp.Config&&e.Gp.Config.layers&&0!==Object.keys(e.Gp.Config.layers).length)&&(this.configuration=e.Gp.Config,!0)}};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var y=m(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),v=m(/Edge/i),C=m(/firefox/i),I=m(/safari/i)&&!m(/chrome/i)&&!m(/android/i),A=m(/iP(ad|od|hone)/i),b=m(/chrome/i)&&m(/android/i),E={capture:!1,passive:!1};function w(e,t,n){e.addEventListener(t,n,!y&&E)}function _(e,t,n){e.removeEventListener(t,n,!y&&E)}function P(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function S(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function x(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&P(e,t):P(e,t))||r&&e===n)return e;if(e===n)break}while(e=S(e))}return null}var T,k=/\s+/g;function R(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(k," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(k," ")}}function N(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function L(e,t){var n="";if("string"==typeof e)n=e;else do{var r=N(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function O(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function D(){var e=document.scrollingElement;return e||document.documentElement}function M(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var i,a,s,l,c,u,p;if(e!==window&&e.parentNode&&e!==D()?(a=(i=e.getBoundingClientRect()).top,s=i.left,l=i.bottom,c=i.right,u=i.height,p=i.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,p=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!y))do{if(o&&o.getBoundingClientRect&&("none"!==N(o,"transform")||n&&"static"!==N(o,"position"))){var d=o.getBoundingClientRect();a-=d.top+parseInt(N(o,"border-top-width")),s-=d.left+parseInt(N(o,"border-left-width")),l=a+i.height,c=s+i.width;break}}while(o=o.parentNode);if(r&&e!==window){var h=L(o||e),g=h&&h.a,f=h&&h.d;h&&(l=(a/=f)+(u/=f),c=(s/=g)+(p/=g))}return{top:a,left:s,bottom:l,right:c,width:p,height:u}}}function G(e,t,n){for(var r=q(e,!0),o=M(e)[t];r;){var i=M(r)[n];if(!("top"===n||"left"===n?o>=i:o<=i))return r;if(r===D())break;r=q(r,!1)}return!1}function U(e,t,n,r){for(var o=0,i=0,a=e.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==We.ghost&&(r||a[i]!==We.dragged)&&x(a[i],n.draggable,e,!1)){if(o===t)return a[i];o++}i++}return null}function B(e,t){for(var n=e.lastElementChild;n&&(n===We.ghost||"none"===N(n,"display")||t&&!P(n,t));)n=n.previousElementSibling;return n||null}function F(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===We.clone||t&&!P(e,t)||n++;return n}function j(e){var t=0,n=0,r=D();if(e)do{var o=L(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function q(e,t){if(!e||!e.getBoundingClientRect)return D();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=N(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return D();if(r||t)return n;r=!0}}}while(n=n.parentNode);return D()}function z(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function H(e,t){return function(){if(!T){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),T=setTimeout((function(){T=void 0}),t)}}}function V(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Y(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function W(e,t,n){var r={};return Array.from(e.children).forEach((function(o){var i,a,s,l;if(x(o,t.draggable,e,!1)&&!o.animated&&o!==n){var c=M(o);r.left=Math.min(null!==(i=r.left)&&void 0!==i?i:1/0,c.left),r.top=Math.min(null!==(a=r.top)&&void 0!==a?a:1/0,c.top),r.right=Math.max(null!==(s=r.right)&&void 0!==s?s:-1/0,c.right),r.bottom=Math.max(null!==(l=r.bottom)&&void 0!==l?l:-1/0,c.bottom)}})),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var X="Sortable"+(new Date).getTime();function Z(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==N(e,"display")&&e!==We.ghost){t.push({target:e,rect:M(e)});var n=p({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=L(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var o=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=M(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,p=L(n,!0);p&&(s.top-=p.f,s.left-=p.e),n.toRect=s,n.thisAnimationDuration&&z(l,s)&&!z(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,l,c,r.options)),z(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,u,s,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){N(e,"transition",""),N(e,"transform","");var o=L(this.el),i=o&&o.a,a=o&&o.d,s=(t.left-n.left)/(i||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,N(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),N(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),N(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){N(e,"transition",""),N(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var J=[],K={initializeByDefault:!0},Q={mount:function(e){for(var t in K)K.hasOwnProperty(t)&&!(t in e)&&(e[t]=K[t]);J.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),J.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";J.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](p({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](p({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var o in J.forEach((function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var i=new r(e,t,e.options);i.sortable=e,i.options=e.options,e[o]=i,g(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);void 0!==i&&(e.options[o]=i)}},getEventProperties:function(e,t){var n={};return J.forEach((function(r){"function"==typeof r.eventProperties&&g(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return J.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))})),r}};function $(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,g=e.putSortable,f=e.extraEventProperties;if(t=t||n&&n[X]){var m,C=t.options,I="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||y||v?(m=document.createEvent("Event")).initEvent(r,!0,!0):m=new CustomEvent(r,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=o||n,m.clone=i,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=h,m.pullMode=g?g.lastPutMode:void 0;var A=p(p({},f),Q.getEventProperties(r,t));for(var b in A)m[b]=A[b];n&&n.dispatchEvent(m),C[I]&&C[I].call(t,m)}}var ee=["evt"],te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=f(n,ee);Q.pluginEvent.bind(We)(e,t,p({dragEl:re,parentEl:oe,ghostEl:ie,rootEl:ae,nextEl:se,lastDownEl:le,cloneEl:ce,cloneHidden:ue,dragStarted:Ee,putSortable:me,activeSortable:We.active,originalEvent:r,oldIndex:pe,oldDraggableIndex:he,newIndex:de,newDraggableIndex:ge,hideGhostForTarget:ze,unhideGhostForTarget:He,cloneNowHidden:function(){ue=!0},cloneNowShown:function(){ue=!1},dispatchSortableEvent:function(e){ne({sortable:t,name:e,originalEvent:r})}},o))};function ne(e){$(p({putSortable:me,cloneEl:ce,targetEl:re,rootEl:ae,oldIndex:pe,oldDraggableIndex:he,newIndex:de,newDraggableIndex:ge},e))}var re,oe,ie,ae,se,le,ce,ue,pe,de,he,ge,fe,me,ye,ve,Ce,Ie,Ae,be,Ee,we,_e,Pe,Se,xe=!1,Te=!1,ke=[],Re=!1,Ne=!1,Le=[],Oe=!1,De=[],Me="undefined"!=typeof document,Ge=A,Ue=v||y?"cssFloat":"float",Be=Me&&!b&&!A&&"draggable"in document.createElement("div"),Fe=function(){if(Me){if(y)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),je=function(e,t){var n=N(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=U(e,0,t),i=U(e,1,t),a=o&&N(o),s=i&&N(i),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+M(o).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+M(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[Ue]||i&&"none"===n[Ue]&&l+c>r)?"vertical":"horizontal"},qe=function(e){function t(e,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var l=(n?r:o).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},r=e.group;r&&"object"==d(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},ze=function(){!Fe&&ie&&N(ie,"display","none")},He=function(){!Fe&&ie&&N(ie,"display","")};Me&&!b&&document.addEventListener("click",(function(e){if(Te)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Te=!1,!1}),!0);var Ve=function(e){if(re){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,i=e.clientY,ke.some((function(e){var t=e[X].options.emptyInsertThreshold;if(t&&!B(e)){var n=M(e),r=o>=n.left-t&&o<=n.right+t,s=i>=n.top-t&&i<=n.bottom+t;return r&&s?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[X]._onDragOver(n)}}var o,i,a},Ye=function(e){re&&re.parentNode[X]._isOutsideThisEl(e.target)};function We(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=g({},t),e[X]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return je(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==We.supportPointer&&"PointerEvent"in window&&!I,emptyInsertThreshold:5};for(var r in Q.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var o in qe(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&Be,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?w(e,"pointerdown",this._onTapStart):(w(e,"mousedown",this._onTapStart),w(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(w(e,"dragover",this),w(e,"dragenter",this)),ke.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),g(this,Z())}function Xe(e,t,n,r,o,i,a,s){var l,c,u=e[X],p=u.options.onMove;return!window.CustomEvent||y||v?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=o||t,l.relatedRect=i||M(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),p&&(c=p.call(u,l,a)),c}function Ze(e){e.draggable=!1}function Je(){Oe=!1}function Ke(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Qe(e){return setTimeout(e,0)}function $e(e){return clearTimeout(e)}We.prototype={constructor:We,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(we=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,re):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=r.filter;if(function(e){De.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&De.push(r)}}(n),!re&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!I||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=x(s,r.draggable,n,!1))&&s.animated||le===s)){if(pe=F(s),he=F(s,r.draggable),"function"==typeof c){if(c.call(this,e,s,this))return ne({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),te("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=x(l,r.trim(),n,!1))return ne({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),te("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());r.handle&&!x(l,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,o=this,i=o.el,a=o.options,s=i.ownerDocument;if(n&&!re&&n.parentNode===i){var l=M(n);if(ae=i,oe=(re=n).parentNode,se=re.nextSibling,le=n,fe=a.group,We.dragged=re,ye={target:re,clientX:(t||e).clientX,clientY:(t||e).clientY},Ae=ye.clientX-l.left,be=ye.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,re.style["will-change"]="all",r=function(){te("delayEnded",o,{evt:e}),We.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!C&&o.nativeDraggable&&(re.draggable=!0),o._triggerDragStart(e,t),ne({sortable:o,name:"choose",originalEvent:e}),R(re,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){O(re,e.trim(),Ze)})),w(s,"dragover",Ve),w(s,"mousemove",Ve),w(s,"touchmove",Ve),w(s,"mouseup",o._onDrop),w(s,"touchend",o._onDrop),w(s,"touchcancel",o._onDrop),C&&this.nativeDraggable&&(this.options.touchStartThreshold=4,re.draggable=!0),te("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(v||y))r();else{if(We.eventCanceled)return void this._onDrop();w(s,"mouseup",o._disableDelayedDrag),w(s,"touchend",o._disableDelayedDrag),w(s,"touchcancel",o._disableDelayedDrag),w(s,"mousemove",o._delayedDragTouchMoveHandler),w(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&w(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){re&&Ze(re),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._disableDelayedDrag),_(e,"touchend",this._disableDelayedDrag),_(e,"touchcancel",this._disableDelayedDrag),_(e,"mousemove",this._delayedDragTouchMoveHandler),_(e,"touchmove",this._delayedDragTouchMoveHandler),_(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?w(document,"pointermove",this._onTouchMove):w(document,t?"touchmove":"mousemove",this._onTouchMove):(w(re,"dragend",this),w(ae,"dragstart",this._onDragStart));try{document.selection?Qe((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(xe=!1,ae&&re){te("dragStarted",this,{evt:t}),this.nativeDraggable&&w(document,"dragover",Ye);var n=this.options;!e&&R(re,n.dragClass,!1),R(re,n.ghostClass,!0),We.active=this,e&&this._appendGhost(),ne({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ve){this._lastX=ve.clientX,this._lastY=ve.clientY,ze();for(var e=document.elementFromPoint(ve.clientX,ve.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ve.clientX,ve.clientY))!==t;)t=e;if(re.parentNode[X]._isOutsideThisEl(e),t)do{if(t[X]){if(t[X]._onDragOver({clientX:ve.clientX,clientY:ve.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=S(t));He()}},_onTouchMove:function(e){if(ye){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=ie&&L(ie,!0),a=ie&&i&&i.a,s=ie&&i&&i.d,l=Ge&&Se&&j(Se),c=(o.clientX-ye.clientX+r.x)/(a||1)+(l?l[0]-Le[0]:0)/(a||1),u=(o.clientY-ye.clientY+r.y)/(s||1)+(l?l[1]-Le[1]:0)/(s||1);if(!We.active&&!xe){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ie){i?(i.e+=c-(Ce||0),i.f+=u-(Ie||0)):i={a:1,b:0,c:0,d:1,e:c,f:u};var p="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");N(ie,"webkitTransform",p),N(ie,"mozTransform",p),N(ie,"msTransform",p),N(ie,"transform",p),Ce=c,Ie=u,ve=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ie){var e=this.options.fallbackOnBody?document.body:ae,t=M(re,!0,Ge,!0,e),n=this.options;if(Ge){for(Se=e;"static"===N(Se,"position")&&"none"===N(Se,"transform")&&Se!==document;)Se=Se.parentNode;Se!==document.body&&Se!==document.documentElement?(Se===document&&(Se=D()),t.top+=Se.scrollTop,t.left+=Se.scrollLeft):Se=D(),Le=j(Se)}R(ie=re.cloneNode(!0),n.ghostClass,!1),R(ie,n.fallbackClass,!0),R(ie,n.dragClass,!0),N(ie,"transition",""),N(ie,"transform",""),N(ie,"box-sizing","border-box"),N(ie,"margin",0),N(ie,"top",t.top),N(ie,"left",t.left),N(ie,"width",t.width),N(ie,"height",t.height),N(ie,"opacity","0.8"),N(ie,"position",Ge?"absolute":"fixed"),N(ie,"zIndex","100000"),N(ie,"pointerEvents","none"),We.ghost=ie,e.appendChild(ie),N(ie,"transform-origin",Ae/parseInt(ie.style.width)*100+"% "+be/parseInt(ie.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;te("dragStart",this,{evt:e}),We.eventCanceled?this._onDrop():(te("setupClone",this),We.eventCanceled||((ce=Y(re)).removeAttribute("id"),ce.draggable=!1,ce.style["will-change"]="",this._hideClone(),R(ce,this.options.chosenClass,!1),We.clone=ce),n.cloneId=Qe((function(){te("clone",n),We.eventCanceled||(n.options.removeCloneOnHide||ae.insertBefore(ce,re),n._hideClone(),ne({sortable:n,name:"clone"}))})),!t&&R(re,o.dragClass,!0),t?(Te=!0,n._loopId=setInterval(n._emulateDragOver,50)):(_(document,"mouseup",n._onDrop),_(document,"touchend",n._onDrop),_(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,re)),w(document,"drop",n),N(re,"transform","translateZ(0)")),xe=!0,n._dragStartId=Qe(n._dragStarted.bind(n,t,e)),w(document,"selectstart",n),Ee=!0,I&&N(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,a=e.target,s=this.options,l=s.group,c=We.active,u=fe===l,d=s.sort,h=me||c,g=this,f=!1;if(!Oe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=x(a,s.draggable,i,!0),L("dragOver"),We.eventCanceled)return f;if(re.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||g._ignoreWhileAnimating===a)return D(!1);if(Te=!1,c&&!s.disabled&&(u?d||(r=oe!==ae):me===this||(this.lastPutMode=fe.checkPull(this,c,re,e))&&l.checkPut(this,c,re,e))){if(o="vertical"===this._getDirection(e,a),t=M(re),L("dragOverValid"),We.eventCanceled)return f;if(r)return oe=ae,O(),this._hideClone(),L("revert"),We.eventCanceled||(se?ae.insertBefore(re,se):ae.appendChild(re)),D(!0);var m=B(i,s.draggable);if(!m||function(e,t,n){var r=M(B(n.el,n.options.draggable)),o=W(n.el,n.options,ie),i=10;return t?e.clientX>o.right+i||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>o.bottom+i||e.clientX>r.right&&e.clientY>r.top}(e,o,this)&&!m.animated){if(m===re)return D(!1);if(m&&i===e.target&&(a=m),a&&(n=M(a)),!1!==Xe(ae,i,re,t,a,n,e,!!a))return O(),m&&m.nextSibling?i.insertBefore(re,m.nextSibling):i.appendChild(re),oe=i,j(),D(!0)}else if(m&&function(e,t,n){var r=M(U(n.el,0,n.options,!0)),o=W(n.el,n.options,ie),i=10;return t?e.clientX<o.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<o.top-i||e.clientY<r.bottom&&e.clientX<r.left}(e,o,this)){var y=U(i,0,s,!0);if(y===re)return D(!1);if(n=M(a=y),!1!==Xe(ae,i,re,t,a,n,e,!1))return O(),i.insertBefore(re,y),oe=i,j(),D(!0)}else if(a.parentNode===i){n=M(a);var v,C,I,A=re.parentNode!==i,b=!function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===a||o===s||r+i/2===a+l/2}(re.animated&&re.toRect||t,a.animated&&a.toRect||n,o),E=o?"top":"left",w=G(a,"top","top")||G(re,"top","top"),_=w?w.scrollTop:void 0;if(we!==a&&(C=n[E],Re=!1,Ne=!b&&s.invertSwap||A),v=function(e,t,n,r,o,i,a,s){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,p=r?n.bottom:n.right,d=!1;if(!a)if(s&&Pe<c*o){if(!Re&&(1===_e?l>u+c*i/2:l<p-c*i/2)&&(Re=!0),Re)d=!0;else if(1===_e?l<u+Pe:l>p-Pe)return-_e}else if(l>u+c*(1-o)/2&&l<p-c*(1-o)/2)return function(e){return F(re)<F(e)?1:-1}(t);if((d=d||a)&&(l<u+c*i/2||l>p-c*i/2))return l>u+c/2?1:-1;return 0}(e,a,n,o,b?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Ne,we===a),0!==v){var P=F(re);do{P-=v,I=oe.children[P]}while(I&&("none"===N(I,"display")||I===ie))}if(0===v||I===a)return D(!1);we=a,_e=v;var S=a.nextElementSibling,T=!1,k=Xe(ae,i,re,t,a,n,e,T=1===v);if(!1!==k)return 1!==k&&-1!==k||(T=1===k),Oe=!0,setTimeout(Je,30),O(),T&&!S?i.appendChild(re):a.parentNode.insertBefore(re,T?S:a),w&&V(w,0,_-w.scrollTop),oe=re.parentNode,void 0===C||Ne||(Pe=Math.abs(C-M(a)[E])),j(),D(!0)}if(i.contains(re))return D(!1)}return!1}function L(s,l){te(s,g,p({evt:e,isOwner:u,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:d,fromSortable:h,target:a,completed:D,onMove:function(n,r){return Xe(ae,i,re,t,n,M(n),e,r)},changed:j},l))}function O(){L("dragOverAnimationCapture"),g.captureAnimationState(),g!==h&&h.captureAnimationState()}function D(t){return L("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(g),g!==h&&(R(re,me?me.options.ghostClass:c.options.ghostClass,!1),R(re,s.ghostClass,!0)),me!==g&&g!==We.active?me=g:g===We.active&&me&&(me=null),h===g&&(g._ignoreWhileAnimating=a),g.animateAll((function(){L("dragOverAnimationComplete"),g._ignoreWhileAnimating=null})),g!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(a===re&&!re.animated||a===i&&!a.animated)&&(we=null),s.dragoverBubble||e.rootEl||a===document||(re.parentNode[X]._isOutsideThisEl(e.target),!t&&Ve(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function j(){de=F(re),ge=F(re,s.draggable),ne({sortable:g,name:"change",toEl:i,newIndex:de,newDraggableIndex:ge,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){_(document,"mousemove",this._onTouchMove),_(document,"touchmove",this._onTouchMove),_(document,"pointermove",this._onTouchMove),_(document,"dragover",Ve),_(document,"mousemove",Ve),_(document,"touchmove",Ve)},_offUpEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._onDrop),_(e,"touchend",this._onDrop),_(e,"pointerup",this._onDrop),_(e,"touchcancel",this._onDrop),_(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;de=F(re),ge=F(re,n.draggable),te("drop",this,{evt:e}),oe=re&&re.parentNode,de=F(re),ge=F(re,n.draggable),We.eventCanceled||(xe=!1,Ne=!1,Re=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),$e(this.cloneId),$e(this._dragStartId),this.nativeDraggable&&(_(document,"drop",this),_(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),I&&N(document.body,"user-select",""),N(re,"transform",""),e&&(Ee&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ie&&ie.parentNode&&ie.parentNode.removeChild(ie),(ae===oe||me&&"clone"!==me.lastPutMode)&&ce&&ce.parentNode&&ce.parentNode.removeChild(ce),re&&(this.nativeDraggable&&_(re,"dragend",this),Ze(re),re.style["will-change"]="",Ee&&!xe&&R(re,me?me.options.ghostClass:this.options.ghostClass,!1),R(re,this.options.chosenClass,!1),ne({sortable:this,name:"unchoose",toEl:oe,newIndex:null,newDraggableIndex:null,originalEvent:e}),ae!==oe?(de>=0&&(ne({rootEl:oe,name:"add",toEl:oe,fromEl:ae,originalEvent:e}),ne({sortable:this,name:"remove",toEl:oe,originalEvent:e}),ne({rootEl:oe,name:"sort",toEl:oe,fromEl:ae,originalEvent:e}),ne({sortable:this,name:"sort",toEl:oe,originalEvent:e})),me&&me.save()):de!==pe&&de>=0&&(ne({sortable:this,name:"update",toEl:oe,originalEvent:e}),ne({sortable:this,name:"sort",toEl:oe,originalEvent:e})),We.active&&(null!=de&&-1!==de||(de=pe,ge=he),ne({sortable:this,name:"end",toEl:oe,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){te("nulling",this),ae=re=oe=ie=se=ce=le=ue=ye=ve=Ee=de=ge=pe=he=we=_e=me=fe=We.dragged=We.ghost=We.clone=We.active=null,De.forEach((function(e){e.checked=!0})),De.length=Ce=Ie=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":re&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)x(e=n[r],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||Ke(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var o=r.children[t];x(o,this.options.draggable,r,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return x(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=Q.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&qe(n)},destroy:function(){te("destroy",this);var e=this.el;e[X]=null,_(e,"mousedown",this._onTapStart),_(e,"touchstart",this._onTapStart),_(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_(e,"dragover",this),_(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),ke.splice(ke.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ue){if(te("hideClone",this),We.eventCanceled)return;N(ce,"display","none"),this.options.removeCloneOnHide&&ce.parentNode&&ce.parentNode.removeChild(ce),ue=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ue){if(te("showClone",this),We.eventCanceled)return;re.parentNode!=ae||this.options.group.revertClone?se?ae.insertBefore(ce,se):ae.appendChild(ce):ae.insertBefore(ce,re),this.options.group.revertClone&&this.animate(re,ce),N(ce,"display",""),ue=!1}}else this._hideClone()}},Me&&w(document,"touchmove",(function(e){(We.active||xe)&&e.cancelable&&e.preventDefault()})),We.utils={on:w,off:_,css:N,find:O,is:function(e,t){return!!x(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:H,closest:x,toggleClass:R,clone:Y,index:F,nextTick:Qe,cancelNextTick:$e,detectDirection:je,getChild:U,expando:X},We.get=function(e){return e[X]},We.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(We.utils=p(p({},We.utils),e.utils)),Q.mount(e)}))},We.create=function(e,t){return new We(e,t)},We.version="1.15.3";var et,tt,nt,rt,ot,it,at=[],st=!1;function lt(){at.forEach((function(e){clearInterval(e.pid)})),at=[]}function ct(){clearInterval(it)}var ut=H((function(e,t,n,r){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=D(),u=!1;tt!==n&&(tt=n,lt(),et=t.scroll,o=t.scrollFn,!0===et&&(et=q(n,!0)));var p=0,d=et;do{var h=d,g=M(h),f=g.top,m=g.bottom,y=g.left,v=g.right,C=g.width,I=g.height,A=void 0,b=void 0,E=h.scrollWidth,w=h.scrollHeight,_=N(h),P=h.scrollLeft,S=h.scrollTop;h===c?(A=C<E&&("auto"===_.overflowX||"scroll"===_.overflowX||"visible"===_.overflowX),b=I<w&&("auto"===_.overflowY||"scroll"===_.overflowY||"visible"===_.overflowY)):(A=C<E&&("auto"===_.overflowX||"scroll"===_.overflowX),b=I<w&&("auto"===_.overflowY||"scroll"===_.overflowY));var x=A&&(Math.abs(v-i)<=s&&P+C<E)-(Math.abs(y-i)<=s&&!!P),T=b&&(Math.abs(m-a)<=s&&S+I<w)-(Math.abs(f-a)<=s&&!!S);if(!at[p])for(var k=0;k<=p;k++)at[k]||(at[k]={});at[p].vx==x&&at[p].vy==T&&at[p].el===h||(at[p].el=h,at[p].vx=x,at[p].vy=T,clearInterval(at[p].pid),0==x&&0==T||(u=!0,at[p].pid=setInterval(function(){r&&0===this.layer&&We.active._onTouchMove(ot);var t=at[this.layer].vy?at[this.layer].vy*l:0,n=at[this.layer].vx?at[this.layer].vx*l:0;"function"==typeof o&&"continue"!==o.call(We.dragged.parentNode[X],n,t,e,ot,at[this.layer].el)||V(at[this.layer].el,n,t)}.bind({layer:p}),24))),p++}while(t.bubbleScroll&&d!==c&&(d=q(d,!1)));st=u}}),30),pt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||o;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function dt(){}function ht(){}dt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=U(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:pt},g(dt,{pluginName:"revertOnSpill"}),ht.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:pt},g(ht,{pluginName:"removeOnSpill"});We.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):this.options.supportPointer?w(document,"pointermove",this._handleFallbackAutoScroll):t.touches?w(document,"touchmove",this._handleFallbackAutoScroll):w(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):(_(document,"pointermove",this._handleFallbackAutoScroll),_(document,"touchmove",this._handleFallbackAutoScroll),_(document,"mousemove",this._handleFallbackAutoScroll)),ct(),lt(),clearTimeout(T),T=void 0},nulling:function(){ot=tt=et=st=it=nt=rt=null,at.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(r,o);if(ot=e,t||this.options.forceAutoScrollFallback||v||y||I){ut(e,this.options,i,t);var a=q(i,!0);!st||it&&r===nt&&o===rt||(it&&ct(),it=setInterval((function(){var i=q(document.elementFromPoint(r,o),!0);i!==a&&(a=i,lt()),ut(e,n.options,i,t)}),10),nt=r,rt=o)}else{if(!this.options.bubbleScroll||q(i,!0)===D())return void lt();ut(e,this.options,q(i,!1),!1)}}},g(e,{pluginName:"scroll",initializeByDefault:!0})}),We.mount(ht,dt);const gt=We;var ft=n(2940);const mt={_createDraggableElement:function(e,t){var n=".GPlayerName";(0,ft.A)()&&(n=".GPlayerDragNDrop"),navigator.userAgent.match(/chrome|chromium|crios/i)?gt.create(e,{handle:n,draggable:".draggable-layer",ghostClass:"GPghostLayer",animation:200,forceFallback:!0,onEnd:function(e){t._onEndDragAndDropLayerClick(e)}}):gt.create(e,{handle:n,draggable:".draggable-layer",ghostClass:"GPghostLayer",animation:200,onEnd:function(e){t._onEndDragAndDropLayerClick(e)}})},_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPlayerSwitcher"),e.className="GPwidget gpf-widget gpf-mobile-fullscreen",e},_createMainLayersShowElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPshowLayersList"),e.type="checkbox",e},_createMainLayersElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPlayersList"),e.className="GPpanel gpf-panel fr-modal",e},_createMainLayersDivElement:function(){var e=document.createElement("div");return e.className="GPpanelBody gpf-panel__body_ls fr-modal__body",e},_createMainPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowLayersListPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowLayersListPicto gpf-btn gpf-btn-icon gpf-btn-icon-layerswitcher fr-btn",t.htmlFor=this._addUID("GPshowLayersList"),t.title="Afficher/masquer le gestionnaire de couches",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.setAttribute("type","button"),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),document.getElementById(e._addUID("GPshowLayersList")).checked=n,document.getElementById(e._addUID("GPshowLayersList")).checked&&(document.getElementById(e._addUID("GPlayerInfoPanel")).classList.remove("GPlayerInfoPanelOpened","gpf-visible"),document.getElementById(e._addUID("GPlayerInfoPanel")).classList.add("GPlayerInfoPanelClosed","gpf-hidden")),e.onShowLayerSwitcherClick()})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),document.getElementById(e._addUID("GPshowLayersList")).checked&&(document.getElementById(e._addUID("GPlayerInfoPanel")).classList.remove("GPlayerInfoPanelOpened","gpf-visible"),document.getElementById(e._addUID("GPlayerInfoPanel")).classList.add("GPlayerInfoPanelClosed","gpf-hidden")),e.onShowLayerSwitcherClick()})),t},_createMainCounterLayersElement:function(){var e=document.createElement("span");return e.id=this._addUID("GPlayerCounter"),e.className="GPlayerCounter",e.innerHTML="0",e},_createMainInfoElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPlayerInfoPanel"),e.className="GPpanel GPlayerInfoPanelClosed gpf-panel fr-modal",e},_createMainInfoDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createLayersPanelHeaderElement:function(){var e=document.createElement("div");return e.className="GPpanelHeader gpf-panel__header_ls",e},_createLayersPanelIconElement:function(){var e=document.createElement("label");return e.className="GPpanelIcon gpf-btn-header gpf-btn-icon-layers",e.title="Couches de donnÃ©es",e},_createLayersPanelTitleElement:function(){var e=document.createElement("div");return e.className="GPpanelTitle gpf-panel__title_ls",e.id=this._addUID("GPlayersHeaderTitle"),e.innerHTML="Couches de donnÃ©es",e},_createLayersPanelCloseElement:function(){var e=this,t=document.createElement("button");t.id=this._addUID("GPlayersPanelClose"),t.className="GPpanelClose GPlayersPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",t.title="Fermer le panneau";var n=document.createElement("span");return n.className="GPelementHidden gpf-visible fr-mx-1w",n.innerText="Fermer",t.appendChild(n),t.addEventListener?t.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowLayersListPicto")).click()}),!1):t.attachEvent&&t.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowLayersListPicto")).click()})),t},_createContainerLayerElement:function(e){var t=document.createElement("div");return t.id=this._addUID("GPlayerSwitcher_ID_"+e.id),t.className="GPlayerSwitcher_layer gpf-panel__content fr-modal__content draggable-layer",t.appendChild(this._createBasicToolElement(e)),t.appendChild(this._createAdvancedToolShowElement(e)),t.appendChild(this._createAdvancedToolElement(e)),t},_createBasicToolElement:function(e){var t=document.createElement("div");return t.id=this._addUID("GPbasicTools_ID_"+e.id),t.className="GPlayerBasicTools",t.appendChild(this._createBasicToolNameElement(e)),t.appendChild(this._createBasicToolVisibilityElement(e)),t.appendChild(this._createBasicToolDragNDropElement(e)),t},_createBasicToolDragNDropElement:function(e){var t=document.createElement("div");t.id=this._addUID("GPdragndropPicto_ID_"+e.id),t.className="GPelementHidden GPlayerDragNDrop gpf-btn gpf-btn-icon gpf-btn-icon-ls-dragndrop gpf-btn--tertiary fr-btn fr-btn--tertiary-no-outline fr-m-1w",t.title="Deplacer la couche",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!0);var n=this;return t.addEventListener?t.addEventListener("click",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),n._onStartDragAndDropLayerClick(e)})):t.attachEvent&&t.attachEvent("onclick",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),n._onStartDragAndDropLayerClick(e)})),t},_createBasicToolNameElement:function(e){var t=document.createElement("label");return t.id=this._addUID("GPname_ID_"+e.id),t.className="GPlayerName gpf-label gpf-label-name fr-label",t.title=e.description||e.title,t.innerHTML=e.title,t},_createBasicToolVisibilityElement:function(e){var t=void 0===e.visibility||e.visibility,n=document.createElement("button");n.id=this._addUID("GPvisibilityPicto_ID_"+e.id),n.className="GPlayerVisibility gpf-btn gpf-btn-icon gpf-btn-icon-ls-visibility fr-btn fr-btn--tertiary gpf-btn--tertiary",n.title="Afficher/masquer la couche",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",t),n.setAttribute("type","button");var r=this;return n.addEventListener?n.addEventListener("click",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),r._onVisibilityLayerClick(e)})):n.attachEvent&&n.attachEvent("onclick",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),r._onVisibilityLayerClick(e)})),n},_createAdvancedToolShowElement:function(e){var t=document.createElement("button");t.id=this._addUID("GPshowAdvancedTools_ID_"+e.id),t.className="GPshowAdvancedToolPicto GPshowMoreOptionsImage GPshowMoreOptions GPshowLayerAdvancedTools gpf-btn gpf-btn-icon gpf-btn-icon-ls-collapse fr-btn--sm fr-btn--tertiary gpf-btn--tertiary",t.title="Plus d'outils",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.setAttribute("type","button");var n=this;return t.addEventListener?t.addEventListener("click",(function(t){var r="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!r);var o=document.getElementById(n._addUID("GPadvancedTools_ID_"+e.id));r?(o.classList.replace("GPelementVisible","GPelementHidden"),o.classList.replace("gpf-visible","gpf-hidden")):(o.classList.replace("GPelementHidden","GPelementVisible"),o.classList.replace("gpf-hidden","gpf-visible"))})):t.attachEvent&&t.attachEvent("onclick",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),element.classList.replace("GPelementVisible","GPelementHidden"),element.classList.replace("gpf-visible","gpf-hidden")})),t},_createAdvancedToolElement:function(e){var t=document.createElement("div");if(t.id=this._addUID("GPadvancedTools_ID_"+e.id),t.className="GPelementHidden GPlayerAdvancedTools gpf-hidden",t.appendChild(this._createAdvancedToolDeleteElement(e)),t.appendChild(this._createAdvancedToolInformationElement(e)),"feature"!==e.type)for(var n=this._createAdvancedToolOpacityElement(e),r=0;r<n.length;r++)t.appendChild(n[r]);if(t.appendChild(this._createAdvancedToolExtentElement(e)),(0,ft.A)()){var o=document.createElement("button");o.className="GPlayerAdvancedToolsContextual fr-btn gpf-btn gpf-btn--tertiary fr-btn--tertiary-no-outline",o.setAttribute("aria-pressed",!1),o.addEventListener?o.addEventListener("click",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t)})):o.attachEvent&&o.attachEvent("onclick",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t)}));var i=document.createElement("div");i.appendChild(this._createAdvancedToolDeleteElement(e,!0)),i.appendChild(this._createAdvancedToolInformationElement(e,!0)),i.appendChild(this._createAdvancedToolExtentElement(e,!0)),t.appendChild(o),t.appendChild(i)}return t},_createAdvancedToolDeleteElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("button");n.id=t?this._addUID("GPremoveContextual_ID_"+e.id):this._addUID("GPremove_ID_"+e.id),n.className="GPlayerRemove gpf-btn gpf-btn-icon gpf-btn-icon-ls-remove fr-btn fr-btn--tertiary gpf-btn--tertiary",n.title="Supprimer la couche",n.layerId=e.id,t&&(n.innerText="Supprimer"),n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!0),n.setAttribute("type","button");var r=this;return n.addEventListener?n.addEventListener("click",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),r._onDropLayerClick(e)})):n.attachEvent&&n.attachEvent("onclick",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),r._onDropLayerClick(e)})),n},_createAdvancedToolInformationElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("button");n.id=t?this._addUID("GPinfoContextual_ID_"+e.id):this._addUID("GPinfo_ID_"+e.id),n.className="GPlayerInfo GPlayerInfoClosed gpf-btn gpf-btn-icon gpf-btn-icon-ls-info fr-btn fr-btn--tertiary gpf-btn--tertiary",e.title&&e.description||(n.style.opacity="0",n.style.visibility="hidden",t&&(n.style.display="none")),n.title="Informations/lÃ©gende",n.layerId=e.id,t&&(n.innerText="Informations"),n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!0),n.setAttribute("type","button");var r=this;return n.addEventListener?n.addEventListener("click",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),r._onOpenLayerInfoClick(e)})):n.attachEvent&&n.attachEvent("onclick",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),r._onOpenLayerInfoClick(e)})),n},_createAdvancedToolOpacityElement:function(e){var t=[],n=document.createElement("div");n.id=this._addUID("GPopacity_ID_"+e.id),n.className="GPlayerOpacity fr-range fr-range--sm",n.dataset.frJsRange="true",n.title="OpacitÃ©";var r=void 0!==e.opacity?e.opacity:1;r=Math.round(100*r),n.style.setProperty("--progress-right",r+"%");var o=document.createElement("input");o.id=this._addUID("GPopacityValueDiv_ID_"+e.id),o.type="range",o.value=r,o.ariaLabel="OpacitÃ©";var i=this;o.addEventListener?o.addEventListener("change",(function(e){i._onChangeLayerOpacity(e)})):o.attachEvent&&o.attachEvent("onchange",(function(e){i._onChangeLayerOpacity(e)})),o.addEventListener?o.addEventListener("input",(function(e){i._onChangeLayerOpacity(e)})):o.attachEvent&&o.attachEvent("oninput",(function(e){i._onChangeLayerOpacity(e)})),n.appendChild(o);var a=document.createElement("div");a.id=this._addUID("GPopacityValueDiv_ID_"+e.id),a.className="GPlayerOpacityValue";var s=document.createElement("span");return s.id=this._addUID("GPopacityValue_ID_"+e.id),s.className="gpf-range__output fr-range__output gpf-visible",s.innerHTML=r+"%",a.appendChild(s),t.push(n),t.push(a),t},_createAdvancedToolExtentElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("button");n.id=t?this._addUID("GPextentContextual_ID_"+e.id):this._addUID("GPextent_ID_"+e.id),n.className="GPelementHidden GPlayerExtent gpf-btn gpf-btn-icon gpf-btn-icon-ls-extent fr-btn fr-btn--tertiary gpf-btn--tertiary",n.title="Zoomer dans l'Ã©tendue",n.layerId=e.id,t&&(n.innerText="Zommer"),n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!0),n.setAttribute("type","button");var r=this;return n.addEventListener?n.addEventListener("click",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),r._onZoomToExtentClick(e)})):n.attachEvent&&n.attachEvent("onclick",(function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t),r._onZoomToExtentClick(e)})),n},_createContainerLayerInfoElement:function(e){var t=document.createElement("div"),n=document.createElement("div");n.className="gpf-panel__header_ls",t.appendChild(n);var r=document.createElement("label");r.className="GPlayerInfo gpf-btn-header gpf-btn-icon-ls-info",r.title="Informations",n.appendChild(r);var o=document.createElement("div");o.id=this._addUID("GPlayerInfoTitle"),o.innerHTML=e.title,o.className="gpf-panel__title_ls",n.appendChild(o);var i=document.createElement("button");i.id=this._addUID("GPlayerInfoClose"),i.className="GPpanelClose GPlayersPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",i.title="Fermer la fenÃªtre";var a=this,s=function(){document.getElementById(a._addUID("GPlayerInfoPanel")).classList.add("GPlayerInfoPanelClosed","gpf-hidden"),document.getElementById(a._addUID("GPlayerInfoPanel")).classList.remove("GPlayerInfoPanelOpened","gpf-visible"),document.getElementById(e.id).classList.add("GPlayerInfoClosed"),document.getElementById(e.id).classList.remove("GPlayerInfoOpened")};i.addEventListener?i.addEventListener("click",s):i.attachEvent&&i.attachEvent("onclick",s),n.appendChild(i),t.appendChild(n);var l=document.createElement("div");if(l.id=this._addUID("GPlayerInfoContent"),l.className="gpf-panel__content fr-modal__content",t.appendChild(l),e.quicklookUrl){var c=document.createElement("div");c.id=this._addUID("GPlayerInfoQuicklook"),c.title="Afficher un aperÃ§u de la couche";var u=document.createElement("a");u.href=e.quicklookUrl,u.appendChild(c),l.appendChild(u)}var p=document.createElement("div");if(p.id=this._addUID("GPlayerInfoDescription"),p.innerHTML=e.description,l.appendChild(p),e.metadata){var d=document.createElement("div");d.id=this._addUID("GPlayerInfoMetadata");var h=document.createElement("div");h.className="GPlayerInfoSubtitle",h.innerHTML="MÃ©tadonnÃ©es",d.appendChild(h);for(var g=0;g<e.metadata.length;g++){var f=e.metadata[g].url,m=document.createElement("div");m.className="GPlayerInfoLink";var y=document.createElement("a");y.href=f,y.innerHTML=f,m.appendChild(y),d.appendChild(m)}0!==e.metadata.length&&l.appendChild(d)}if(e.legends){var v=document.createElement("div");v.id=this._addUID("GPlayerInfoLegend");var C=document.createElement("div");C.className="GPlayerInfoSubtitle",C.innerHTML="LÃ©gende",v.appendChild(C);for(var I={},A=e.maxScaleDenominator||56e7,b=0;b<e.legends.length;b++){var E=e.legends[b].minScaleDenominator;if(E){var w=E.toString();E=Math.round(parseInt(w.substring(0,3),10)/10)*Math.pow(10,w.length-2)}else E=270;I[E]=e.legends[b]}for(var _ in I)if(I.hasOwnProperty(_)){var P=I[_].url;if("string"==typeof P&&-1===P.toLowerCase().indexOf("nolegend.jpg")){var S=document.createElement("div");S.className="GPlayerInfoLink",A=I[_].maxScaleDenominator||A;var x=document.createElement("a");x.className="fr-link",x.href=P,x.innerHTML="Du 1/"+_+" au 1/"+A,S.appendChild(x),v.appendChild(S)}else delete I[_]}0!==Object.keys(I).length&&l.appendChild(v)}return t}};function yt(e){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt(e)}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ct(r.key),r)}}function Ct(e){var t=function(e,t){if("object"!=yt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yt(t)?t:t+""}function It(e,t){if(t&&("object"==yt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function At(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(At=function(){return!!e})()}function bt(){return bt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Et(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},bt.apply(null,arguments)}function Et(e){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Et(e)}function wt(e,t){return wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wt(e,t)}var _t=l.A.getLogger("layerswitcher"),Pt=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o,i,a=(e=e||{}).options||{},s=e.layers||[];if(r=this,o=t,i=[{element:a.element,target:a.target,render:a.render}],o=Et(o),!((n=It(r,At()?Reflect.construct(o,i||[],Et(r).constructor):o.apply(r,i)))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(!Array.isArray(s))throw new Error("ERROR WRONG_TYPE : layers should be an array");if("object"!==yt(a))throw new Error("ERROR WRONG_TYPE : options should be an object");return n.CLASSNAME="LayerSwitcher",n._initialize(a,s),n.container=n._initContainer(a),n.element?n.element.appendChild(n.container):n.element=n.container,It(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wt(e,t)}(t,e),n=t,r=[{key:"setMap",value:function(e){var n,r,i,a,s,l=this;if(e)this._addMapLayers(e),this.collapsed||this._showLayerSwitcherButton.setAttribute("aria-pressed",!0),this._listeners.onMoveListener=e.on("moveend",(function(){return l._onMapMoveEnd(e)})),this._listeners.onAddListener=e.getLayers().on("add",(function(e){var t,n=e.element;n.hasOwnProperty("gpLayerId")?t=n.gpLayerId:(t=l._layerId,n.gpLayerId=t,l._layerId++),l._layers[t]||l.addLayer(n)})),this._listeners.onRemoveListener=e.getLayers().on("remove",(function(e){var t=e.element,n=t.gpLayerId;l._layers[n]&&l.removeLayer(t)}));else{(0,o.unByKey)(this._listeners.onMoveListener),(0,o.unByKey)(this._listeners.onAddListener),(0,o.unByKey)(this._listeners.onRemoveListener);for(var c=this._layersOrder.length-1;c>=0;c--);}(n=t,r="setMap",i=this,s=bt(Et(1&(a=3)?n.prototype:n),r,i),2&a&&"function"==typeof s?function(e){return s.apply(i,e)}:s)([e]),this.options.position&&this.setPosition(this.options.position)}},{key:"addLayer",value:function(e,t){var n=this,r=this.getMap();if(t=t||{},e){var o=e.gpLayerId;if(void 0!==o){var i=!1;if(r.getLayers().forEach((function(e){e.gpLayerId===o&&(i=!0)})),i){if(this._layers[o]){for(var a in t)t.hasOwnProperty(a)&&(this._layers[o][a]=t[a]);if(t.title){var s=document.getElementById(this._addUID("GPname_ID_"+o));s&&(s.innerHTML=t.title,s.title=t.description||t.title)}var l=document.getElementById(this._addUID("GPinfo_ID_"+o));if(!document.getElementById(this._addUID("GPinfo_ID_"+o))&&t.description){var c=document.getElementById(this._addUID("GPadvancedTools_ID_"+o));c&&c.appendChild(this._createAdvancedToolInformationElement({id:o}))}l&&"GPlayerInfoOpened"===l.className&&document.getElementById(this._addUID("GPlayerInfoPanel")).classList.add("GPlayerInfoPanelClosed","gpf-hidden")}else{var u=this.getLayerInfo(e)||{},p=e.getOpacity(),d=e.getVisible(),h=this.isInRange(e,r),g={layer:e,id:o,name:e.name,service:e.service,opacity:null!=p?p:1,visibility:null==d||d,inRange:null==h||h,title:null!=t.title?t.title:u._title||o,description:t.description||u._description||null,legends:t.legends||u._legends||[],metadata:t.metadata||u._metadata||[],quicklookUrl:t.quicklookUrl||u._quicklookUrl||null};this._layers[o]=g;var f=this._createLayerDiv(g);this._layers[o].div=f,e.getZIndex&&0!==e.getZIndex()&&void 0!==e.getZIndex()||e._forceNullzIndex?this._updateLayersOrder():(this._layersOrder.unshift(g),this._lastZIndex++,e.setZIndex(this._lastZIndex),this._layerListContainer.insertBefore(f,this._layerListContainer.firstChild)),this._listeners.updateLayerOpacity=e.on("change:opacity",(function(e){return n._updateLayerOpacity(e)})),this._listeners.updateLayerVisibility=e.on("change:visible",(function(e){return n._updateLayerVisibility(e)})),null==this._layers[o].onZIndexChangeEvent&&(this._layers[o].onZIndexChangeEvent=e.on("change:zIndex",(function(){return n._updateLayersOrder()})))}this._updateLayerCounter(),this.dispatchEvent({type:"layerswitcher:add",layer:this._layers[o]})}else _t.log("[ERROR] LayerSwitcher:addLayer - configuration cannot be set for ",e," layer (layer is not in map.getLayers() )")}else _t.trace("[WARN] LayerSwitcher:addLayer - configuration cannot be set for this layer (layer id not found)",e)}else _t.log("[ERROR] LayerSwitcher:addLayer - missing layer parameter")}},{key:"removeLayer",value:function(e){if(e){(0,o.unByKey)(this._listeners.updateLayerOpacity),(0,o.unByKey)(this._listeners.updateLayerVisibility),_t.trace(e);var t=e.gpLayerId,n=document.getElementById(this._addUID("GPinfo_ID_"+t));n&&"GPlayerInfoOpened"===n.className&&document.getElementById(this._addUID("GPlayerInfoPanel")).classList.add("GPlayerInfoPanelClosed","gpf-hidden");var r=document.getElementById(this._addUID("GPlayerSwitcher_ID_"+t));r&&this._layerListContainer.removeChild(r);var i=Math.abs(e.getZIndex()-this._lastZIndex);this._layersOrder.splice(i,1),this._lastZIndex--;for(var a=this._layersOrder,s=0;s<a.length;s++)a[s].layer.setZIndex(this._lastZIndex-s);this.dispatchEvent({type:"layerswitcher:remove",layer:this._layers[t]}),delete this._layers[t],this._updateLayerCounter()}}},{key:"setCollapsed",value:function(e){if(void 0!==e){var t=!document.getElementById(this._addUID("GPshowLayersList")).checked;e&&t||!e&&!t||(t||document.getElementById(this._addUID("GPlayerInfoPanel")).classList.add("GPlayerInfoPanelClosed","gpf-hidden"),document.getElementById(this._addUID("GPshowLayersList")).checked=!e)}else _t.log("[ERROR] LayerSwitcher:setCollapsed - missing collapsed parameter")}},{key:"getCollapsed",value:function(){return this.collapsed}},{key:"setRemovable",value:function(e,t){if(e){var n=e.gpLayerId;if(null!=n){var r=document.getElementById(this._addUID("GPremove_ID_"+n));r&&(!1===t?r.style.display="none":!0===t&&(r.style.display="block"))}else _t.log("[LayerSwitcher:setRemovable] layer should be added to map before calling setRemovable method")}}},{key:"getContainer",value:function(){return this.container}},{key:"_initialize",value:function(e,t){this._uid=s.A.generate(),this.options=e,this.options.layers=t,this._layers={},this._layersOrder=[],this._layersIndex={},this._lastZIndex=0,this._layerId=0,this.collapsed=void 0===e.collapsed||e.collapsed,this._layerListContainer=null,this._listeners={};for(var n=0;n<t.length;n++){var r=t[n].layer;if(r){var o;r.hasOwnProperty("gpLayerId")?o=r.gpLayerId:(o=this._layerId,r.gpLayerId=o,this._layerId++);var i=t[n].config||{},a=r.getOpacity(),l=r.getVisible(),c={layer:r,id:o,name:r.name,service:r.service,opacity:null!=a?a:1,visibility:null==l||l,title:null!=i.title?i.title:i.id?i.id:o,description:i.description||null,legends:i.legends||[],metadata:i.metadata||[],quicklookUrl:i.quicklookUrl||null};this._layers[o]=c}}}},{key:"_initContainer",value:function(){var e=this._createMainContainerElement(),t=this._createMainLayersShowElement();e.appendChild(t),this.collapsed?this.collapsed=!0:(t.checked="checked",this.collapsed=!1);var n=this,r=function(e){this.collapsed=!e.target.checked,this.dispatchEvent("change:collapsed")};t.addEventListener("click",(function(e){r.call(n,e)}));var o=this._showLayerSwitcherButton=this._createMainPictoElement();if(e.appendChild(o),e.classList.add("GplayerSwitcher-counterRemoved"),this.options.counter){e.classList.remove("GplayerSwitcher-counterRemoved"),e.classList.add("GplayerSwitcher-counterAdded");var i=this._layerSwitcherCounter=this._createMainCounterLayersElement();o.appendChild(i)}var a=this._createMainLayersElement();if(e.appendChild(a),this.options.panel){var s=this._createLayersPanelHeaderElement();a.appendChild(s);var l=this._createLayersPanelIconElement();s.appendChild(l);var c=this._createLayersPanelTitleElement();s.appendChild(c);var u=this._createLayersPanelCloseElement();s.appendChild(u)}var p=this._layerListContainer=this._createMainLayersDivElement();a.appendChild(p),this._createDraggableElement(p,this);var d=this._createMainInfoElement(),h=this._createMainInfoDivElement();return d.appendChild(h),e.appendChild(d),e}},{key:"_addMapLayers",value:function(e){var t=this;for(var n in this._layersIndex={},e.getLayers().forEach((function(n){var r=null;n.hasOwnProperty("gpLayerId")?r=n.gpLayerId:(r=t._layerId,n.gpLayerId=r,t._layerId++);var o=t.getLayerInfo(n)||{};if(t._layers[r])t._layers[r].opacity=n.getOpacity(),t._layers[r].visibility=n.getVisible(),t._layers[r].inRange=t.isInRange(n,e);else{var i=n.getOpacity(),a=n.getVisible(),s=t.isInRange(n,e),l={layer:n,id:r,name:n.name,service:n.service,opacity:null!=i?i:1,visibility:null==a||a,inRange:null==s||s,title:o._title||r,description:o._description||null,legends:o._legends||[],metadata:o._metadata||[],quicklookUrl:o._quicklookUrl||null};t._layers[r]=l}if(t._updateLayerCounter(),t._listeners.updateLayerOpacity=n.on("change:opacity",(function(e){return t._updateLayerOpacity(e)})),t._listeners._updateLayerVisibility=n.on("change:visible",(function(e){return t._updateLayerVisibility(e)})),void 0!==n.getZIndex){var c=n.getZIndex()||0;t._layersIndex[c]&&Array.isArray(t._layersIndex[c])||(t._layersIndex[c]=[]),t._layersIndex[c].push(t._layers[r])}})),this._layersIndex)if(this._layersIndex.hasOwnProperty(n))for(var r=this._layersIndex[n],o=0;o<r.length;o++)this._layersOrder.unshift(r[o]),this._lastZIndex++,r[o].layer.setZIndex(this._lastZIndex),null==this._layers[r[o].layer.gpLayerId].onZIndexChangeEvent&&(this._layers[r[o].layer.gpLayerId].onZIndexChangeEvent=r[o].layer.on("change:zIndex",(function(){return t._updateLayersOrder()})));for(var i=0;i<this._layersOrder.length;i++){var a=this._layersOrder[i],s=this._createLayerDiv(a);this._layerListContainer.querySelector("#"+s.id)||this._layerListContainer.appendChild(s),this._layers[a.id].div=s}}},{key:"_createLayerDiv",value:function(e){var t=e.legends&&0!==e.legends.length,n=e.metadata&&0!==e.metadata.length,r=e.quicklookUrl;(t||n||r)&&(e.displayInformationElement=!0);var o=this._createContainerLayerElement(e);return e.inRange||o.classList.add("outOfRange"),o}},{key:"onShowLayerSwitcherClick",value:function(){var e=this._showLayerSwitcherButton.ariaPressed;this.collapsed=!("true"===e),this.dispatchEvent("change:collapsed"),this.options.position&&!this.collapsed&&this.updatePosition(this.options.position)}},{key:"_updateLayerCounter",value:function(){this._layerSwitcherCounter&&(this._layerSwitcherCounter.innerHTML=Object.keys(this._layers).length)}},{key:"_onChangeLayerOpacity",value:function(e){e.target.parentNode.style.setProperty("--progress-right",e.target.value+"%");var t=e.target.id,n=s.A.index(t),r=this._layers[n].layer,o=e.target.value;document.getElementById(this._addUID("GPopacityValue_ID_"+n)).innerHTML=o+"%",r.setOpacity(o/100)}},{key:"_updateLayerOpacity",value:function(e){var t=e.target.getOpacity();t>1&&(t=1),t<0&&(t=0);var n=e.target.gpLayerId,r=document.getElementById(this._addUID("GPopacityValueDiv_ID_"+n));r&&(r.value=Math.round(100*t));var o=document.getElementById(this._addUID("GPopacityValue_ID_"+n));o&&(o.innerHTML=Math.round(100*t)+"%"),this.dispatchEvent({type:"layerswitcher:change:opacity",opacity:t,layer:this._layers[n]})}},{key:"_onVisibilityLayerClick",value:function(e){var t=e.target.id,n=s.A.index(t);this._layers[n].layer.setVisible("true"===e.target.ariaPressed)}},{key:"_updateLayerVisibility",value:function(e){var t=e.target.getVisible(),n=e.target.gpLayerId,r=document.getElementById(this._addUID("GPvisibilityPicto_ID_"+n));r&&(r.ariaPressed=t),this.dispatchEvent({type:"layerswitcher:change:visibility",visibility:t,layer:this._layers[n]})}},{key:"_updateLayersOrder",value:function(){var e=this,t=this.getMap();if(t){var n,r;for(var i in this._layersIndex={},t.getLayers().forEach((function(t){r=t.gpLayerId,(0,o.unByKey)(e._layers[r].onZIndexChangeEvent),e._layers[r].onZIndexChangeEvent=null,n=null,void 0!==t.getZIndex&&(n=t.getZIndex(),e._layersIndex[n]&&Array.isArray(e._layersIndex[n])||(e._layersIndex[n]=[]),e._layersIndex[n].push(e._layers[r]))})),this._lastZIndex=0,this._layersOrder=[],this._layersIndex)if(this._layersIndex.hasOwnProperty(i))for(var a=this._layersIndex[i],s=0;s<a.length;s++)this._layersOrder.unshift(a[s]),this._lastZIndex++,null==this._layers[a[s].layer.gpLayerId].onZIndexChangeEvent&&(this._layers[a[s].layer.gpLayerId].onZIndexChangeEvent=a[s].layer.on("change:zIndex",(function(){return e._updateLayersOrder()})));if(this._layerListContainer){for(var l=0;l<this._layerListContainer.childNodes.length;l++){var c=this._layerListContainer.childNodes[l];""!==c.id&&c.remove()}for(var u=0;u<this._layersOrder.length;u++){var p=this._layersOrder[u];this._layerListContainer.appendChild(p.div)}}else _t.log("[ol.control.LayerSwitcher] _updateLayersOrder : layer list container not found to update layers order ?!")}}},{key:"_onOpenLayerInfoClick",value:function(e){var t,n,r=e.target.id,o=s.A.index(r),i=this._layers[o],a=document.getElementById(e.target.id);if(a.classList.contains("GPlayerInfoOpened"))return a.classList.remove("GPlayerInfoOpened"),a.classList.add("GPlayerInfoClosed"),(t=document.getElementById(this._addUID("GPlayerInfoPanel"))).classList.remove("GPlayerInfoPanelOpened","gpf-visible"),t.classList.add("GPlayerInfoPanelClosed","gpf-hidden"),void((n=document.getElementById(this._addUID("GPlayerInfoContent")))&&n.parentNode.remove());a.classList.contains("GPlayerInfoClosed")&&(a.classList.remove("GPlayerInfoClosed"),a.classList.add("GPlayerInfoOpened")),(t=document.getElementById(this._addUID("GPlayerInfoPanel"))).classList.remove("GPlayerInfoPanelClosed","gpf-hidden"),t.classList.add("GPlayerInfoPanelOpened","gpf-visible"),(n=document.getElementById(this._addUID("GPlayerInfoContent")))&&n.parentNode.remove();var l={id:r,title:i.title,description:i.description,quicklookUrl:i.quicklookUrl,metadata:i.metadata,legends:i.legends},c=i.layer.getMaxResolution();l._maxScaleDenominator=c===1/0?56e7:Math.round(c/28e-5);var u=this._createContainerLayerInfoElement(l);t.firstChild.appendChild(u)}},{key:"_onDropLayerClick",value:function(e){var t=e.target.id,n=s.A.index(t),r=this._layers[n].layer;this.getMap().getLayers().remove(r)}},{key:"_onEndDragAndDropLayerClick",value:function(e){var t=this;_t.trace(e);var n=this.getMap(),r=document.querySelectorAll("div.GPlayerSwitcher_layer"),i=r.length;this._layersOrder=[];for(var a=0;a<r.length;a++){var l=r[a].id,c=s.A.index(l),u=this._layers[c].layer;(0,o.unByKey)(this._layers[c].onZIndexChangeEvent),this._layers[c].onZIndexChangeEvent=null,u.setZIndex&&(u.setZIndex(i),this._layersOrder.push(this._layers[c]),i--),null==this._layers[c].onZIndexChangeEvent&&(this._layers[c].onZIndexChangeEvent=u.on("change:zIndex",(function(){return t._updateLayersOrder()})))}n.updateSize(),this.dispatchEvent({type:"layerswitcher:change:position",position:e.newIndex,layer:this._layersOrder[e.newIndex],layers:this._layersOrder})}},{key:"_onStartDragAndDropLayerClick",value:function(e){_t.debug(e)}},{key:"_onZoomToExtentClick",value:function(e){_t.debug(e);var t=e.target.id,n=s.A.index(t),r=this._layers[n],o=null,i=null;try{if(!c.isConfigLoaded())throw"ERROR : contract key configuration has to be loaded to load Geoportal layers.";if(!r.layer.hasOwnProperty("gpLayerId"))throw"WARN : User data not yet implemented !";var l=r.layer.name||r.layer.getSource().name,u=r.layer.service||r.layer.getSource().service,p=c.configuration.getLayerId(l,u);if(!p)throw"ERROR : Layer ID not found into the catalogue !?";var d=c.configuration.getGlobalConstraints(p);if(d){var h=this.getMap();if(!h||!h.getView())return;var g=h.getView(),f=g.getProjection(),m=[d.extent.left,d.extent.bottom,d.extent.right,d.extent.top],y=d.crs;y||(y="EPSG:4326"),(o=(0,a.transformExtent)(m,y,f))&&g.fit(o)}}catch(e){i=e}this.dispatchEvent({type:"layerswitcher:extent",extent:o,layer:r,error:i})}},{key:"_onMapMoveEnd",value:function(e){var t=this;e.getLayers().forEach((function(n){var r=n.gpLayerId;if(t._layers[r]){var o=t._layers[r];t.isInRange(n,e)&&!o.inRange?(o.inRange=!0,document.getElementById(t._addUID("GPlayerSwitcher_ID_"+r)).classList.remove("outOfRange")):!t.isInRange(n,e)&&o.inRange&&(o.inRange=!1,document.getElementById(t._addUID("GPlayerSwitcher_ID_"+r)).classList.add("outOfRange"))}}))}},{key:"getLayerDOMId",value:function(e){var t=null;return this.getMap().getLayers().forEach((function(n){n===e&&(t=n.hasOwnProperty("gpLayerId")?n.gpLayerId:null)})),null!==t?this._addUID("GPlayerSwitcher_ID_"+t):null}},{key:"isInRange",value:function(e,t){if(t){var n=t.getView().getResolution();if(n>e.getMaxResolution()||n<e.getMinResolution())return!1;var r=t.getView().calculateExtent(t.getSize()),o=e.getExtent();return!(o&&!(0,i.intersects)(r,o))}}},{key:"getLayerInfo",value:function(e){var t={};if(void 0!==e.getProperties&&void 0!==e.getSource){var n=e.getProperties(),r=n.source;r&&(t._title=r._title||n.id||"",t._description=r._description||"",t._quicklookUrl=r._quicklookUrl||"",t._metadata=r._metadata||[],t._legends=r._legends||[])}return t}}],r&&vt(n.prototype,r),l&&vt(n,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,l}(r.A);Object.assign(Pt.prototype,mt);const St=Pt;window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=Pt)},2714:(e,t,n)=>{"use strict";n.d(t,{default:()=>S});var r=n(7392),o=n.n(r),i=n(5370),a=n.n(i),s=n(9201),l=n(1363),c=n(2987),u=n(5844),p=n(2536),d=n(3273),h=n(6736),g=n(9994),f=n(2940),m=u.A.getLogger("LocationSelectorDOM");const y={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.className=this._addUID("GPlocationPoint"),e.className+=" GPwidget gpf-widget ",e},_createLocationPointElement:function(e,t){var n=document.createElement("div");return n.id=this._addUID("GPlocationPoint_"+e),n.className=t?"GPflexInput GPlocationStageFlexInput gpf-flex":"GPflexInput GPelementHidden gpf-flex gpf-hidden",n.style.cssText="",n},_createLocationPointLabelElement:function(e,t){var n=this,r=document.createElement("button");return r.id=this._addUID("GPlocationOriginLabel_"+e),r.innerHTML=t,r.className="GPlocationOriginLabel gpf-btn gpf-btn-icon-label fr-btn fr-btn--secondary gpf-btn--secondary",r.setAttribute("type","button"),r.addEventListener("click",(function(e){for(var t=h.A.index(this.id),r=document.getElementsByClassName(n._addUID("GPlocationPoint")),o=0;o<r.length;o++){var i=r[o].childNodes[0].id,a=h.A.index(i);document.getElementById(n._addUID("GPlocationPoint_"+a)).style.cssText=""}document.getElementById(n._addUID("GPlocationOriginCoords_"+t)).value="",document.getElementById(n._addUID("GPlocationOrigin_"+t)).value="",document.getElementById(n._addUID("GPlocationPoint_"+t)).style.cssText="",document.getElementById(n._addUID("GPlocationOriginPointer_"+t)).checked=!1,document.getElementById(n._addUID("GPlocationOrigin_"+t)).className="GPelementShow gpf-show  gpf-input fr-input",document.getElementById(n._addUID("GPlocationOriginCoords_"+t)).className="GPelementHidden gpf-hidden",document.getElementById(n._addUID("GPlocationStageRemove_"+t))&&(document.getElementById(n._addUID("GPlocationStageRemove_"+t)).className="GPlocationStageRemove gpf-btn gpf-btn-icon-remove fr-btn--sm fr-btn--secondary gpf-btn--secondary"),document.getElementById(n._addUID("GPlocationStageAdd"))&&(document.getElementById(n._addUID("GPlocationStageAdd")).className="GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm fr-btn--secondary gpf-btn--secondary fr-mt-2w"),n.onLocationClearPointClick(e)})),r},_createLocationAutoCompleteteInputElement:function(e){var t=this,n=document.createElement("input");return n.id=this._addUID("GPlocationOrigin_"+e),n.className="GPelementShow gpf-show gpf-input fr-input",n.type="text",n.placeholder="Saisir une adresse, un lieu...",n.autocomplete="off",n.addEventListener("keyup",(function(e){var n=e.which||e.keyCode;if(13!==n&&10!==n&&38!==n&&40!==n){var r=h.A.index(this.id);document.getElementById(t._addUID("GPlocationOrigin_"+r)).value.length>2?(document.getElementById(t._addUID("GPlocationAutoCompleteList_"+r)).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+r)).classList.replace("gpf-hidden","gpf-visible")):(document.getElementById(t._addUID("GPlocationAutoCompleteList_"+r)).classList.replace("GPelementVisible","GPelementHidden"),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+r)).classList.replace("gpf-visible","gpf-hidden")),t.onAutoCompleteSearchText(e)}})),n.addEventListener("keydown",(function(n){var r=n.which||n.keyCode,o=document.getElementById(t._addUID("GPlocationAutoCompleteResult_"+e));if(o){var i=o.getElementsByClassName("GPautoCompleteProposal current"),a=o.getElementsByClassName("GPautoCompleteProposal"),s=a.length;if(s){var l=null;if(!i.length)return(l=a[0]).className="GPautoCompleteProposal current",l.style.color="#000000",void(l.style["background-color"]="#CEDBEF");l=i[0];var c=parseInt(h.A.index(l.id),10),u=c===s-1?a[0]:a[c+1],p=0===c?a[s-1]:a[c-1];switch(l.style["background-color"]="",l.style.color="",p.style["background-color"]="",p.style.color="",u.style["background-color"]="",u.style.color="",r){case 38:m.log("arrow up"),l.className="GPautoCompleteProposal",p.className="GPautoCompleteProposal current",p.style.color="#000000",p.style["background-color"]="#CEDBEF";break;case 40:m.log("arrow down"),l.className="GPautoCompleteProposal",u.className="GPautoCompleteProposal current",u.style.color="#000000",u.style["background-color"]="#CEDBEF";break;case 13:m.log("enter"),l.click(n)}l.focus()}}})),n},_createLocationCoordinateInputElement:function(e){var t=this,n=document.createElement("input");return n.id=this._addUID("GPlocationOriginCoords_"+e),n.className="GPelementHidden gpf-input gpf-hidden fr-input",n.type="text",n.disabled=!1,n.addEventListener("click",(function(){var e=h.A.index(this.id);document.getElementById(t._addUID("GPlocationOriginLabel_"+e)).click()})),n},_createLocationPointerShowInputElement:function(e){var t=document.createElement("input");return t.id=this._addUID("GPlocationOriginPointer_"+e),t.className="GPelementHidden gpf-hidden",t.type="checkbox",t},_createLocationPointerInputElement:function(e){var t=this,n=document.createElement("button");return n.id=this._addUID("GPlocationOriginPointerImg_"+e),n.htmlFor=this._addUID("GPlocationOriginPointer_"+e),n.className="GPlocationOriginPointerImg gpf-btn gpf-btn-icon-pointer fr-btn",n.title="Pointer un lieu sur la carte",n.setAttribute("type","button"),n.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var n,r,o,i=h.A.index(this.id),a=document.getElementsByClassName(t._addUID("GPlocationPoint"));for(n=0;n<a.length;n++)r=a[n].childNodes[0].id,i!==(o=h.A.index(r))&&(document.getElementById(t._addUID("GPlocationOriginPointer_"+o)).checked=!1,"Pointer un lieu sur la carte"===document.getElementById(t._addUID("GPlocationOriginCoords_"+o)).value&&(document.getElementById(t._addUID("GPlocationOriginCoords_"+o)).value="",document.getElementById(t._addUID("GPlocationOrigin_"+o)).className="GPelementShow gpf-show  gpf-input fr-input",document.getElementById(t._addUID("GPlocationOriginCoords_"+o)).className="GPelementHidden gpf-hidden"));if(document.getElementById(t._addUID("GPlocationOriginPointer_"+i)).checked){for(document.getElementById(t._addUID("GPlocationOriginCoords_"+i)).value="",n=0;n<a.length;n++)r=a[n].childNodes[0].id,o=h.A.index(r),document.getElementById(t._addUID("GPlocationPoint_"+o)).style.cssText="";document.getElementById(t._addUID("GPlocationStageRemove_"+i))&&(document.getElementById(t._addUID("GPlocationStageRemove_"+i)).className="GPlocationStageRemove  gpf-btn gpf-btn-icon-remove fr-btn--sm fr-btn--secondary gpf-btn--secondary"),document.getElementById(t._addUID("GPlocationStageAdd"))&&(document.getElementById(t._addUID("GPlocationStageAdd")).className="GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm fr-btn--secondary gpf-btn--secondary fr-mt-2w"),document.getElementById(t._addUID("GPlocationOriginPointer_"+i)).checked=!1,document.getElementById(t._addUID("GPlocationOrigin_"+i)).className="GPelementShow gpf-show  gpf-input fr-input",document.getElementById(t._addUID("GPlocationOriginCoords_"+i)).className="GPelementHidden gpf-hidden"}else{for(document.getElementById(t._addUID("GPlocationOriginCoords_"+i)).value="Pointer un lieu sur la carte",n=0;n<a.length;n++)r=a[n].childNodes[0].id,i===(o=h.A.index(r))?document.getElementById(t._addUID("GPlocationPoint_"+o)).style.cssText="":document.getElementById(t._addUID("GPlocationPoint_"+o)).style.display="none";document.getElementById(t._addUID("GPlocationStageRemove_"+i))&&(document.getElementById(t._addUID("GPlocationStageRemove_"+i)).className="GPelementHidden gpf-hidden"),document.getElementById(t._addUID("GPlocationStageAdd"))&&(document.getElementById(t._addUID("GPlocationStageAdd")).className="GPelementHidden gpf-hidden"),document.getElementById(t._addUID("GPlocationOriginPointer_"+i)).checked=!0,document.getElementById(t._addUID("GPlocationOrigin_"+i)).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GPlocationOriginCoords_"+i)).className="GPelementShow gpf-show gpf-input fr-input",document.getElementById(t._addUID("GPlocationOriginCoords_"+i)).disabled=!0}t.onActivateMapPointClick(e)})),n},_createLocationRemovePointElement:function(e){var t=this,n=document.createElement("button");return n.id=this._addUID("GPlocationStageRemove_"+e),n.className="GPlocationOpen GPlocationStageRemove gpf-btn gpf-btn-icon-remove fr-btn--sm fr-btn--secondary gpf-btn--secondary",n.title="Supprimer l'Ã©tape",n.setAttribute("tabindex","0"),n.setAttribute("aria-pressed",!1),n.setAttribute("type","button"),n.addEventListener("click",(function(n){var r="true"===n.target.ariaPressed;n.target.setAttribute("aria-pressed",!r);var o=document.getElementsByClassName(t._addUID("GPlocationPoint")),i=o.length-1,a=o[0].childNodes[0].id,s=o[i].childNodes[0].id,l=h.A.index(a),c=h.A.index(s);if(e!==l&&e!==c){var u=h.A.index(this.id);document.getElementById(t._addUID("GPlocationPoint_"+u)).className="GPflexInput GPelementHidden gpf-flex gpf-hidden",document.getElementById(t._addUID("GPlocationOrigin_"+u)).value="",document.getElementById(t._addUID("GPlocationOrigin_"+u)).className="GPelementShow gpf-show gpf-input fr-input",document.getElementById(t._addUID("GPlocationOriginCoords_"+u)).value="",document.getElementById(t._addUID("GPlocationOriginCoords_"+u)).className="GPelementHidden gpf-hidden",document.getElementById(t._addUID("GPlocationStageAdd")).style.display="",document.getElementById(t._addUID("GPlocationPoint_"+u)).parentElement.previousSibling.classList.add("GPelementHidden","gpf-hidden"),t.onLocationRemovePointClick(n)}})),n},_createLocationAddPointElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPlocationStageAdd"),t.className="GPlocationOpen GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm fr-btn--secondary gpf-btn--secondary fr-mt-2w",t.title="Ajouter une Ã©tape",(0,f.A)()&&(t.innerText="Ajouter une Ã©tape"),t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.setAttribute("type","button"),t.addEventListener("click",(function(t){for(var n=1,r=0,o=document.getElementsByClassName(e._addUID("GPlocationPoint")),i=1;i<o.length-1;i++){var a=o[i].childNodes[0].id,s=h.A.index(a);document.getElementById(e._addUID("GPlocationPoint_"+s))&&("GPflexInput GPelementHidden gpf-flex gpf-hidden"===document.getElementById(e._addUID("GPlocationPoint_"+s)).className?1===n&&(n=s):r++)}n<o.length&&(document.getElementById(e._addUID("GPlocationPoint_"+n)).className="GPflexInput GPlocationStageFlexInput gpf-flex",document.getElementById(e._addUID("GPlocationPoint_"+n)).parentElement.previousSibling.classList.remove("GPelementHidden","gpf-hidden")),4===r&&(document.getElementById(e._addUID("GPlocationStageAdd")).style.display="none");var l="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!l),e.onLocationAddPointClick(t)})),t},_createLocationAutoCompleteElement:function(e){var t=document.createElement("div");return t.id=this._addUID("GPlocationAutoCompleteList_"+e),t.className="GPlocationAutoCompleteList GPelementHidden gpf-panel gpf-hidden fr-modal",t},_createLocationAutoCompleteResultElement:function(e){var t=this,n=document.createElement("div");return n.id=this._addUID("GPlocationAutoCompleteResult_"+e),n.className="GPadvancedAutoCompleteResult gpf-panel__list",n.addEventListener?n.addEventListener("click",(function(n){t.onAutoCompletedResultsItemClick(n),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).classList.replace("gpf-hidden","gpf-visible")}),!1):n.attachEvent&&n.attachEvent("onclick",(function(n){t.onAutoCompletedResultsItemClick(n),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).classList.replace("GPelementHidden","GPelementVisible"),document.getElementById(t._addUID("GPlocationAutoCompleteList_"+e)).classList.replace("gpf-hidden","gpf-visible")})),n},_createLocationAutoCompletedLocationElement:function(e,t,n){var r=document.getElementById(this._addUID("GPlocationAutoCompleteResult_"+e)),o=document.createElement("div");o.id=this._addUID("AutoCompletedLocation_"+n),o.className="GPautoCompleteProposal gpf-panel__items",o.innerHTML=d.A.getSuggestedLocationFreeform(t),r.appendChild(o)},GPdisplayCoordinate:function(e){for(var t=document.getElementsByClassName(this._addUID("GPlocationPoint")),n=0;n<t.length;n++){var r=t[n].childNodes[0].id,o=h.A.index(r);if(document.getElementById(this._addUID("GPlocationOriginPointer_"+o)).checked){document.getElementById(this._addUID("GPlocationOriginCoords_"+o)).value=e,document.getElementById(this._addUID("GPlocationOriginCoords_"+o)).disabled=!1;for(var i=0;i<t.length;i++){r=t[i].childNodes[0].id;var a=h.A.index(r);document.getElementById(this._addUID("GPlocationPoint_"+a)).style.cssText="",document.getElementById(this._addUID("GPlocationStageRemove_"+a))&&(document.getElementById(this._addUID("GPlocationStageRemove_"+a)).className="GPlocationStageRemove gpf-btn gpf-btn-icon-remove fr-btn--sm fr-btn--secondary gpf-btn--secondary")}return document.getElementById(this._addUID("GPlocationOriginPointer_"+o)).checked=!1,void(document.getElementById(this._addUID("GPlocationStageAdd"))&&(document.getElementById(this._addUID("GPlocationStageAdd")).className="GPlocationStageAdd gpf-btn gpf-btn-icon-add fr-btn--sm"))}}}};function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}function I(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}function A(e,t){if(t&&("object"==v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}var _=u.A.getLogger("locationselector"),P=function(e){function t(e){var n,r,o,i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=t,i=[{element:(e=e||{}).element||document.createElement("div"),render:e.render,target:e.target}],o=E(o),!((n=A(r,b()?Reflect.construct(o,i||[],E(r).constructor):o.apply(r,i)))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.initialize(e),n._container=n._initContainer(),n.element?n.element.appendChild(n._container):n.element=n._container,A(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(t,e),n=t,r=[{key:"initialize",value:function(e){this.options={tag:{id:1,groupId:null,label:">",display:!0,addOption:!1,removeOption:!1},displayInfo:!0,autocompleteOptions:{}},p.A.mergeParams(this.options,e),this._uid=this.options.tag.groupId||h.A.generate(),this._map=null,this._inputsContainer=null,this._buttonLabel=null,this._inputAutoComplete=null,this._inputShowPointerContainer=null,this._inputShowPointer=null,this._inputCoordinateContainer=null,this._addPointElement=null,this._removePointElement=null,this._coordinate=null,this._suggestedContainer=null,this._suggestedList=null,this._suggestedLocations=[],this._currentLocation=null,this._initMarker(),this._resources={},this.listenerKey=null}},{key:"_initMarker",value:function(){if(this._marker=null,this._markerUrl="",this._markerOffset=[0,0],this.options.tag.markerOpts&&this.options.tag.markerOpts.url){this._markerUrl=this.options.tag.markerOpts.url;var e=this.options.tag.markerOpts.offset;e&&(Array.isArray(e)&&2===e.length?this._markerOffset=e:_.log("markerOpts.offset should be an array. e.g. : [0,0]"))}else this._markerUrl=g.A.lightOrange,this._markerOffset=g.A.defaultOffset}},{key:"getCoordinate",value:function(){return this._coordinate}},{key:"setCoordinate",value:function(e,t){var n=this.getMap().getView().getProjection().getCode();t||(t=n),this._setCoordinate(e,t),e=(0,s.transform)(e,t,n),this._setMarker([e[0],e[1]],null,!1)}},{key:"clear",value:function(){this.clearResults(),this._buttonLabel.click()}},{key:"clearResults",value:function(){this._currentLocation=null,this._coordinate=null,this._hideSuggestedLocation(),this._clearSuggestedLocation(),this._setMarker(),(0,l.unByKey)(this.listenerKey)}},{key:"_initContainer",value:function(){var e=this,t=this.options.tag.id,n=this._createMainContainerElement(),r=this._inputsContainer=this._createLocationPointElement(t,this.options.tag.display);n.appendChild(r);var o=this._buttonLabel=this._createLocationPointLabelElement(t,this.options.tag.label);r.appendChild(o);var i=this._inputAutoComplete=this._createLocationAutoCompleteteInputElement(t);i.addEventListener?i.addEventListener("click",(function(){return e.onAutoCompleteInputClick()})):i.attachEvent&&i.attachEvent("onclick",(function(){return e.onAutoCompleteInputClick()})),r.appendChild(i);var a=this._inputCoordinateContainer=this._createLocationCoordinateInputElement(t);r.appendChild(a);var s=this._inputShowPointerContainer=this._createLocationPointerShowInputElement(t);r.appendChild(s);var l=this._inputShowPointer=this._createLocationPointerInputElement(t);if(r.appendChild(l),this.options.tag.addOption){var c=this._addPointElement=this._createLocationAddPointElement();r.appendChild(c)}if(this.options.tag.removeOption){var u=this._removePointElement=this._createLocationRemovePointElement(t);r.appendChild(u)}var p=this._suggestedContainer=this._createLocationAutoCompleteElement(t),d=this._suggestedList=this._createLocationAutoCompleteResultElement(t);return p.appendChild(d),n.appendChild(p),n}},{key:"onAutoCompleteInputClick",value:function(){this._inputAutoComplete&&this._inputAutoComplete.value.length>2&&this._displaySuggestedLocation()}},{key:"onAutoCompleteSearchText",value:function(e){var t=this,n=e.target.value;if(n){var r=this.options.autocompleteOptions||{},o=r.onSuccess||null,i=r.onFailure||null;if(this._currentLocation=n,n.length<3)this._clearSuggestedLocation();else{var a=this;this._requestAutoComplete({text:n,maximumResponses:5,onSuccess:function(e){if(e){var t=e.suggestedLocations;a._fillAutoCompletedLocationListContainer(t),o&&o.call(this,e)}},onFailure:function(e){a._clearSuggestedLocation(),_.log(e.message),i&&i.call(this,e)}});var s=this.getMap();s.on("click",(function(){return t._hideSuggestedLocation()})),s.on("pointerdrag",(function(){return t._hideSuggestedLocation()}))}}}},{key:"onAutoCompletedResultsItemClick",value:function(e){var t=h.A.index(e.target.id);if(t){var n=[this._suggestedLocations[t].position.x,this._suggestedLocations[t].position.y];this._coordinate=n;var r={type:this._suggestedLocations[t].type,fields:this._suggestedLocations[t]},o=d.A.getSuggestedLocationFreeform(this._suggestedLocations[t]);this._setLabel(o);var i=this.getMap().getView().getProjection().getCode();"EPSG:4326"!==i&&(n=(0,s.transform)(n,"EPSG:4326",i)),this._setPosition(n),this._setMarker(n,r,this.options.displayInfo)}}},{key:"onActivateMapPointClick",value:function(){var e=this,t=this.getMap();this._inputShowPointerContainer.checked?(this.clearResults(),this.listenerKey=t.on("click",(function(t){return e.onMouseMapClick(t)})),this._setCursor("crosshair")):((0,l.unByKey)(this.listenerKey),this._setCursor())}},{key:"onLocationClearPointClick",value:function(){this._setCursor(),this.clearResults()}},{key:"onLocationRemovePointClick",value:function(){this._setCursor(),this.clearResults()}},{key:"onLocationAddPointClick",value:function(e){_.log("onRouteAddPointClick",e)}},{key:"onMouseMapClick",value:function(e){var t=e.coordinate;if(e.map&&e.map.getView()){var n=e.map.getView().getProjection();this._setCoordinate(t,n),this._setMarker([t[0],t[1]],null,!1),this.onActivateMapPointClick(e)}}},{key:"_setLabel",value:function(e){this._inputAutoComplete.value=e}},{key:"_setCursor",value:function(e){var t=this.getMap().getTargetElement();t.style.cursor=e||null}},{key:"_setCoordinate",value:function(e,t){this._coordinate=(0,s.transform)(e,t,"EPSG:4326");var n=this._coordinate[0].toFixed(4),r=this._coordinate[1].toFixed(4)+" / "+n;this.GPdisplayCoordinate(r)}},{key:"_setPosition",value:function(e){this.getMap().getView().setCenter(e)}},{key:"_setMarker",value:function(e,t,n){var r=this.getMap();if(null!=this._marker&&(r.removeOverlay(this._marker),this._marker=null),e){var o=document.createElement("img");o.src=this._markerUrl,this._marker=new(a())({position:e,offset:this._markerOffset,element:o,stopEvent:!1}),r.addOverlay(this._marker),n&&_.log("marker information : ",t)}}},{key:"_clearSuggestedLocation",value:function(){if(this._suggestedLocations=[],this._suggestedList)for(;this._suggestedList.firstChild;)this._suggestedList.removeChild(this._suggestedList.firstChild)}},{key:"_hideSuggestedLocation",value:function(){this._suggestedContainer&&(this._suggestedContainer.classList.replace("GPelementVisible","GPelementHidden"),this._suggestedContainer.classList.replace("gpf-visible","gpf-hidden"))}},{key:"_displaySuggestedLocation",value:function(){this._suggestedContainer&&(this._suggestedContainer.classList.replace("GPelementHidden","GPelementVisible"),this._suggestedContainer.classList.replace("gpf-hidden","gpf-visible"))}},{key:"_requestAutoComplete",value:function(e){if(_.log("_requestAutoComplete()",e),e&&0!==Object.keys(e).length&&e.text){_.log(e);var t={};p.A.assign(t,this.options.autocompleteOptions),p.A.assign(t,e);var n=this._resources.AutoCompletion||null;n&&Array.isArray(n)&&(t.filterOptions||(t.filterOptions={}),t.filterOptions.type=n),t.apiKey=t.apiKey||this.options.apiKey,"boolean"!=typeof t.ssl&&("boolean"==typeof this.options.ssl?t.ssl=this.options.ssl:t.ssl=!0),_.log(t),c.Ay.Services.autoComplete(t)}}},{key:"_fillAutoCompletedLocationListContainer",value:function(e){if(e&&0!==e.length){var t=this._suggestedList;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild);for(var n=0;n<e.length;n++)this._createLocationAutoCompletedLocationElement(this.options.tag.id,e[n],n);this._suggestedLocations=e}}}],r&&C(n.prototype,r),o&&C(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(o());Object.assign(P.prototype,y);const S=P;window.ol&&window.ol.control&&(window.ol.control.LocationSelector=P)},6606:(e,t,n)=>{"use strict";n.d(t,{default:()=>F});var r=n(562),o=n(1363),i=n(5370),a=n.n(i),s=n(996),l=n.n(s),c=n(3668),u=n.n(c);const p=ol.events.condition;var d=n(5074),h=n(2999),g=n(9201),f=n(2987),m=n(5844),y=n(2536),v=n(6736),C=n(9994),I=n(6117),A=n(3600),b=n(2714),E=n(8526),w=n(9209),_=n(9632),P=n(3273),S=n(2940),x=m.A.getLogger("RouteDOM");const T={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProute"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowRoutePictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowRoutePicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowRoutePicto gpf-btn gpf-btn-icon gpf-btn-icon-route fr-btn",t.title="Ouvrir le calcul d'itinÃ©raire",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.setAttribute("type","button"),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowRoutePanelClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowRoutePanelClick(t)})),t},_createRoutePanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GProutePanel"),e.className="GPpanel gpf-panel fr-modal",e},_createRoutePanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createRoutePanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title fr-pt-4w",n.innerHTML="Calcul d'itinÃ©raire",t.appendChild(n);var r=document.createElement("button");r.id=this._addUID("GProutePanelClose"),r.className="GPpanelClose GProutePanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",r.title="Masquer le panneau",r.addEventListener?r.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowRoutePicto")).click()}),!1):r.attachEvent&&r.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowRoutePicto")).click()}));var o=document.createElement("span");return o.className="GPelementHidden gpf-visible",o.innerText="Fermer",r.appendChild(o),t.appendChild(r),t},_createRoutePanelFooterElement:function(){var e=document.createElement("div");return e.className="GPpanelFooter gpf-panel__footer fr-modal__footer",e},_createRoutePanelFormPointLabel:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.createElement("p");n.innerHTML=e;var r=t?"":" GPelementHidden gpf-hidden";return n.className="GProutePointLabelP gpf-label fr-label"+r,n},_createRoutePanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GProuteForm"),t.className="gpf-panel__content fr-modal__content",t.setAttribute("onkeypress","return event.keyCode != 13;"),t.addEventListener("submit",(function(t){x.log(t),t.preventDefault();var n=document.getElementsByClassName(e._addUID("GPlocationPoint")),r=n[0].childNodes[0].id,o=n[n.length-1].childNodes[0].id,i=v.A.index(r),a=v.A.index(o);if(""===document.getElementById(e._addUID("GPlocationOrigin_"+i)).value&&""===document.getElementById(e._addUID("GPlocationOriginCoords_"+i)).value||""===document.getElementById(e._addUID("GPlocationOrigin_"+a)).value&&""===document.getElementById(e._addUID("GPlocationOriginCoords_"+a)).value)return!1;e._addRouteResultsStagesValuesElement(n);var s=null;document.getElementById(e._addUID("GProuteComputationChoice"))&&(document.getElementById(e._addUID("GProuteComputationFastest"))&&document.getElementById(e._addUID("GProuteComputationFastest")).checked&&(s=document.getElementById(e._addUID("GProuteComputationFastest")).value),document.getElementById(e._addUID("GProuteComputationShortest"))&&document.getElementById(e._addUID("GProuteComputationShortest")).checked&&(s=document.getElementById(e._addUID("GProuteComputationShortest")).value));var l=null;document.getElementById(e._addUID("GProuteTransportCar"))&&document.getElementById(e._addUID("GProuteTransportCar")).checked&&(l=document.getElementById(e._addUID("GProuteTransportCar")).value),document.getElementById(e._addUID("GProuteTransportPedestrian"))&&document.getElementById(e._addUID("GProuteTransportPedestrian")).checked&&(l=document.getElementById(e._addUID("GProuteTransportPedestrian")).value);for(var c=[],u=document.getElementsByClassName("GProuteExclusionsOption"),p=0;p<u.length;p++){var d=u[p].htmlFor,h=document.getElementById(d);h.checked||c.push(h.value)}return e.onRouteComputationSubmit({computation:s,transport:l,exclusions:c}),!1})),t},_createRoutePanelResultsElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteResultsPanel"),e.className="GPelementHidden gpf-hidden",e.appendChild(this._createRouteResultsStagesElement()),e.appendChild(this._createRouteResultsElement()),e.appendChild(this._createRouteShowResultsDetailsElement()),e.appendChild(this._createRouteResultsDetailsElement()),e},_createRouteWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GProuteCalcWaitingContainer"),e.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var t=document.createElement("p");return t.className="GPwaitingContainerInfo gpf-waiting_info",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createRouteResultsStagesElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteResultsStages"),e},_addRouteResultsStagesValuesElement:function(e){document.getElementById(this._addUID("GProuteResultsStages")).innerHTML="";for(var t=0;t<e.length;t++){var n=e[t].childNodes[0].id,r=v.A.index(n);if("GPflexInput GPlocationStageFlexInput gpf-flex"===document.getElementById(this._addUID("GPlocationPoint_"+r)).className){var o=document.createElement("div");o.className="GProuteResultsStages";var i=document.createElement("div");i.className="GProuteResultStageLabel",i.innerHTML=document.getElementById(this._addUID("GPlocationOriginLabel_"+r)).innerHTML+" :",o.appendChild(i);var a=document.createElement("div");a.className="GProuteResultStageValue";var s=document.getElementById(this._addUID("GPlocationOriginCoords_"+r)),l=s.value,c="GPelementVisible gpf-visible"===s.className;a.innerHTML=null!==l&&""!==l&&c?l:document.getElementById(this._addUID("GPlocationOrigin_"+r)).value,o.appendChild(a),""!==a.innerHTML&&document.getElementById(this._addUID("GProuteResultsStages")).appendChild(o)}}},_createRouteResultsElement:function(){var e=this,t=document.createElement("div");t.id=this._addUID("GProuteResults");var n=document.createElement("div");n.id=this._addUID("GProuteResultsValues"),t.appendChild(n);var r=document.createElement("div");r.id=this._addUID("GProuteResultsMode");var o=document.createElement("select");o.id=this._addUID("GProuteResultsComputationSelect"),o.className="GPselect gpf-select fr-select",o.addEventListener("change",(function(t){e.onRouteModeComputationChangeAndRun(t)}));for(var i=[{code:"fastest",label:"Plus rapide"},{code:"shortest",label:"Plus court"}],a=0;a<i.length;a++){var s=document.createElement("option");s.value=i[a].code,s.text=i[a].label,o.appendChild(s)}r.appendChild(o),t.appendChild(r);var l=document.createElement("div");return l.id=this._addUID("GProuteResultsNew"),l.className="GPresetPicto gpf-btn gpf-btn-icon-reset fr-btn fr-btn--secondary gpf-btn--secondary",l.title="Modifier le calcul",l.addEventListener("click",(function(t){document.getElementById(e._addUID("GProuteResultsPanel")).className="GPelementHidden gpf-hidden",document.getElementById(e._addUID("GProuteForm")).className="gpf-panel__content fr-modal__content",e.onShowRouteResultsNewClick(t)})),t.appendChild(l),t},_addRouteResultsValuesElement:function(e,t,n){var r=document.getElementById(this._addUID("GProuteResultsValues"));if(r.childElementCount)for(;r.firstChild;)r.removeChild(r.firstChild);var o=document.createElement("div");o.className="GProuteResultsValue";var i=document.createElement("label");i.className="GProuteResultsValueLabel",i.innerHTML="Distance :",o.appendChild(i);var a=0;if(parseInt(e/1e3,10)){var s=Math.round(e);a=(s/=1e3)+" km"}else a=Math.round(e)+" m";var l=document.createElement("div");l.id=this._addUID("GProuteResultsValueDist"),l.innerHTML=a,o.appendChild(l),r.appendChild(o);var c=document.createElement("div");c.className="GProuteResultsValue";var u=document.createElement("label");u.className="GProuteResultsValueLabel",u.innerHTML="DurÃ©e :",c.appendChild(u);var p=document.createElement("div");return p.id=this._addUID("GProuteResultsValueDist"),p.innerHTML=n(t),c.appendChild(p),r.appendChild(c),r},_createRouteShowResultsDetailsElement:function(){var e=document.createElement("div");if(e.className="GProuteResultsShowDetailsDiv gpf-flex fr-checkbox-group fr-m-1w",!(0,S.A)()){var t=document.createElement("div");t.className="GPfakeBorder GPfakeBorderLeft",e.appendChild(t)}var n=document.createElement("input");n.id=this._addUID("GProuteResultsShowDetails"),n.type="checkbox",e.appendChild(n);var r=document.createElement("label");if(r.className="gpf-label fr-label",r.htmlFor=this._addUID("GProuteResultsShowDetails"),r.innerHTML="Afficher le dÃ©tail",e.appendChild(r),!(0,S.A)()){var o=document.createElement("label");o.htmlFor=this._addUID("GProuteResultsShowDetails"),o.innerHTML="Masquer le dÃ©tail",e.appendChild(o);var i=document.createElement("div");i.className="GPfakeBorder",e.appendChild(i)}return e},_createRouteResultsDetailsElement:function(){var e=document.createElement("div");return e.id=this._addUID("GProuteResultsDetails"),e},_addRouteResultsDetailsElement:function(e,t){var n=this,r=document.getElementById(this._addUID("GProuteResultsDetails"));if(r.childElementCount)for(;r.firstChild;)r.removeChild(r.firstChild);for(var o=0,i=0,a=0;a<e.length;a++){var s=a+1,l=e[a],c=document.createElement("div");c.className="GProuteResultsDetailsNumber",c.innerHTML=s+".",r.appendChild(c),i+=parseFloat(l.duration),o+=parseFloat(l.distance);var u=0;if(parseInt(o/1e3,10)){var p=Math.round(o);u=(p/=1e3)+" km"}else u=Math.round(o)+" m";var d=document.createElement("div");d.className="GProuteResultsDetailsInstruction",d.id=this._addUID("GProuteResultsDetailsInstruction_"+s),d.title="distance : "+u+" / temps : "+t(i),d.innerHTML=l.instruction,d.addEventListener("mouseover",(function(e){n.onRouteResultsDetailsMouseOver(e)})),d.addEventListener("mouseout",(function(e){n.onRouteResultsDetailsMouseOut(e)})),d.addEventListener("click",(function(e){"function"==typeof n.onRouteResultsDetailsClick&&n.onRouteResultsDetailsClick(e)})),r.appendChild(d)}return r},_createRoutePanelFormPointElement:function(e,t,n){var r=this,o=document.createElement("div");o.id="GProutePoint"+e,o.className=n?"GPflexInput GProuteStageFlexInput":"GPflexInput GProuteStageFlexInputHidden";var i=document.createElement("label");i.id="GProuteOriginLabel"+e,i.htmlFor="GProuteOrigin"+e,i.innerHTML=t,i.addEventListener("click",(function(){var e=this.id.charAt(this.id.length-1);document.getElementById("GProuteOriginCoords"+e).value="";for(var t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display="flex";document.getElementById("GProuteForm").className="gpf-panel__content fr-modal__content",document.getElementById("GProuteOriginPointer"+e).checked=!1,document.getElementById("GProuteOrigin"+e).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+e).className="GPelementHidden gpf-hidden"})),o.appendChild(i);var a=document.createElement("input");a.id="GProuteOrigin"+e,a.className="GPelementVisible gpf-visible",a.type="text",a.placeholder="Saisir une adresse, un lieu...",a.addEventListener("keyup",(function(e){var t=e.which||e.keyCode;if(13!==t&&10!==t){var n=this.id.charAt(this.id.length-1);document.getElementById("GProuteOrigin"+n).value.length>2?document.getElementById("GProuteAutoCompleteList"+n).style.display="block":document.getElementById("GProuteAutoCompleteList"+n).style.display="none",r.onAutoCompleteSearchText(e)}})),a.addEventListener("blur",(function(){var e=this.id.charAt(this.id.length-1);document.getElementById("GProuteAutoCompleteList"+e).style.display="none"})),o.appendChild(a);var s=document.createElement("input");s.id="GProuteOriginCoords"+e,s.className="GPelementHidden gpf-hidden",s.type="text",s.disabled=!0,o.appendChild(s);var l=document.createElement("input");l.id="GProuteOriginPointer"+e,l.type="checkbox",o.appendChild(l);var c=document.createElement("label");return c.id="GProuteOriginPointerImg"+e,c.htmlFor="GProuteOriginPointer"+e,c.className="GProuteOriginPointerImg",c.title="Pointer un lieu sur la carte",c.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t,n=this.id.charAt(this.id.length-1);for(t=1;t<8;t++)n!==t&&(document.getElementById("GProuteOriginPointer"+t).checked=!1,"Pointer un lieu sur la carte"===document.getElementById("GProuteOriginCoords"+t).value&&(document.getElementById("GProuteOriginCoords"+t).value="",document.getElementById("GProuteOrigin"+t).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+t).className="GPelementHidden gpf-hidden"));if(document.getElementById("GProuteOriginPointer"+n).checked){for(document.getElementById("GProuteOriginCoords"+n).value="",t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display="flex";document.getElementById("GProuteForm").className="gpf-panel__content fr-modal__content",document.getElementById("GProuteOriginPointer"+n).checked=!1,document.getElementById("GProuteOrigin"+n).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+n).className="GPelementHidden gpf-hidden"}else{for(document.getElementById("GProuteOriginCoords"+n).value="Pointer un lieu sur la carte",t=1;t<8;t++)document.getElementById("GProutePoint"+t).style.display=n===t?"flex":"none";document.getElementById("GProuteForm").className="GProuteFormMini gpf-panel__content fr-modal__content",document.getElementById("GProuteOriginPointer"+n).checked=!0,document.getElementById("GProuteOrigin"+n).className="GPelementHidden gpf-hidden",document.getElementById("GProuteOriginCoords"+n).className="GPelementVisible gpf-visible"}r.onRouteMapPointClick(e)})),o.appendChild(c),o},_createRoutePanelFormRemoveStageElement:function(e){var t=this,n=document.createElement("div");return n.id="GProuteStageRemove"+e,n.className="GProuteStageRemove",n.title="Supprimer l'Ã©tape",1!==e&&7!==e&&n.addEventListener("click",(function(e){var n=this.id.charAt(this.id.length-1);document.getElementById("GProutePoint"+n).className="GPflexInput GProuteStageFlexInputHidden",document.getElementById("GProuteOrigin"+n).value="",document.getElementById("GProuteOrigin"+n).className="GPelementVisible gpf-visible",document.getElementById("GProuteOriginCoords"+n).value="",document.getElementById("GProuteOriginCoords"+n).className="GPelementHidden gpf-hidden",document.getElementById("GProuteStageAdd").style.display="",t.onRouteRemovePointClick(e)})),n},_createRoutePanelFormAddStageElement:function(){var e=this,t=document.createElement("div");return t.id="GProuteStageAdd",t.title="Ajouter une Ã©tape",t.addEventListener("click",(function(t){for(var n=1,r=0,o=2;o<7;o++)"GPflexInput GProuteStageFlexInputHidden"===document.getElementById("GProutePoint"+o).className?1===n&&(n=o):r++;n<7&&(document.getElementById("GProutePoint"+n).className="GPflexInput GProuteStageFlexInput"),4===r&&(document.getElementById("GProuteStageAdd").style.display="none"),e.onRouteAddPointClick(t)})),t},_createRoutePanelFormAutoCompleteListElement:function(e){var t=this,n=document.createElement("div");return n.id="GProuteAutoCompleteList"+e,n.className="GPadvancedAutoCompleteList",n.addEventListener?n.addEventListener("click",(function(n){t.onAutoCompletedResultsItemClick(n),document.getElementById("GProuteAutoCompleteList"+e).style.display="none"}),!1):n.attachEvent&&n.attachEvent("onclick",(function(n){t.onAutoCompletedResultsItemClick(n),document.getElementById("GProuteAutoCompleteList"+e).style.display="none"})),n},_createRouteAutoCompletedLocationElement:function(e,t,n){var r=document.getElementById("GProuteAutoCompleteList"+t),o=document.createElement("div");o.id="AutoCompletedLocation"+n,o.className="GPautoCompleteProposal",o.innerHTML=P.A.getSuggestedLocationFreeform(e),r.appendChild(o)},_createRoutePanelFormModeChoiceTransportElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GProuteTransportChoice");var r=document.createElement("label");r.className="GProuteModeLabel gpf-label fr-label",r.innerHTML="Choisir un mode de dÃ©placement",n.appendChild(r);var o=document.createElement("div");o.className="gpf-radio-btn-group";for(var i=0;i<e.length;i++){var a=e[i],s=document.createElement("div");if(s.className="GProuteTransportChoice gpf-flex gpf-radio-group fr-radio-group fr-my-1w","Voiture"===a){var l=document.createElement("input");l.id=this._addUID("GProuteTransportCar"),l.type="radio",l.name="GProuteTransport",l.value="Voiture",0===i&&(l.checked=!0),l.addEventListener?l.addEventListener("change",(function(e){t.onRouteModeTransportChange(e)})):l.attachEvent&&l.attachEvent("onchange",(function(e){t.onRouteModeTransportChange(e)})),s.appendChild(l);var c=document.createElement("label");c.className="GProuteTransportImg gpf-label fr-label",c.htmlFor=this._addUID("GProuteTransportCar"),c.title="Voiture",c.innerHTML="Voiture",s.appendChild(c)}if("Pieton"===a){var u=document.createElement("input");u.id=this._addUID("GProuteTransportPedestrian"),u.type="radio",u.name="GProuteTransport",u.value="Pieton",0===i&&(u.checked=!0),u.addEventListener?u.addEventListener("change",(function(e){t.onRouteModeTransportChange(e)})):u.attachEvent&&u.attachEvent("onchange",(function(e){t.onRouteModeTransportChange(e)})),s.appendChild(u);var p=document.createElement("label");p.className="GProuteTransportImg gpf-label fr-label",p.htmlFor=this._addUID("GProuteTransportPedestrian"),p.title="PiÃ©ton",p.innerHTML="PiÃ©ton",s.appendChild(p)}o.appendChild(s)}return n.appendChild(o),n},_createRoutePanelFormModeChoiceComputeElement:function(){var e=this,t=document.createElement("div");t.id=this._addUID("GProuteComputationChoice"),t.className="fr-mt-2w";var n=document.createElement("label");n.className="GProuteComputationLabel gpf-label fr-label",n.innerHTML="Mode de calcul",t.appendChild(n);var r=document.createElement("div");r.className="gpf-radio-btn-group";var o=document.createElement("div");o.className="GProuteComputationChoice gpf-flex gpf-radio-group fr-radio-group fr-my-1w";var i=document.createElement("input");i.id=this._addUID("GProuteComputationFastest"),i.type="radio",i.name="GProuteComputation",i.value="fastest",i.checked=!0,i.addEventListener?i.addEventListener("change",(function(t){e.onRouteModeComputationChange(t)})):i.attachEvent&&i.attachEvent("onchange",(function(t){e.onRouteModeComputationChange(t)})),o.appendChild(i);var a=document.createElement("label");a.className="gpf-label fr-label",a.htmlFor=this._addUID("GProuteComputationFastest"),a.title="Plus rapide",a.innerHTML="Plus rapide",o.appendChild(a),r.appendChild(o);var s=document.createElement("div");s.className="GProuteComputationChoice gpf-flex gpf-radio-group fr-radio-group fr-my-1w";var l=document.createElement("input");l.id=this._addUID("GProuteComputationShortest"),l.type="radio",l.name="GProuteComputation",l.value="shortest",l.addEventListener?l.addEventListener("change",(function(t){e.onRouteModeComputationChange(t)})):l.attachEvent&&l.attachEvent("onchange",(function(t){e.onRouteModeComputationChange(t)})),s.appendChild(l);var c=document.createElement("label");return c.className="gpf-label fr-label",c.htmlFor=this._addUID("GProuteComputationShortest"),c.title="Plus court",c.innerHTML="Plus court",s.appendChild(c),r.appendChild(s),t.appendChild(r),t},_createShowRouteExclusionsPictoElement:function(){var e=this,t=document.createElement("button");t.id=this._addUID("GPshowRouteExclusionsPicto");var n="";return(0,S.A)()&&(n="GPelementHidden gpf-hidden"),t.className="GPshowAdvancedToolPicto GPshowMoreOptionsImage GPshowMoreOptions GPshowRouteExclusionsPicto ".concat(n," gpf-btn fr-btn--sm fr-btn--secondary gpf-btn--secondary fr-icon-arrow-down-fill"),t.title="Exclusions",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!0),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowRouteExclusionsClick(t)})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowRouteExclusionsClick(t)})),t},_createRoutePanelFormExclusionsElement:function(){var e=document.createElement("div");e.id=this._addUID("GProuteExclusions"),e.className="fr-mt-2w";var t=document.createElement("label");return t.className="GProuteExclusionsLabel fr-label",t.innerHTML="Passages autorisÃ©s",e.appendChild(t),e},_createRoutePanelFormExclusionOptionsElement:function(e){var t=this,n=document.createElement("div");for(var r in n.className="GProuteExclusionsOptions gpf-flex fr-checkbox-group fr-m-1w",e)if(e.hasOwnProperty(r)){var o=e[r];switch(r){case"toll":var i=document.createElement("input");i.id=this._addUID("GProuteExclusionsToll"),i.type="checkbox",i.value="Toll",i.name="Peage",i.checked=!o,i.addEventListener?i.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):i.attachEvent&&i.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),n.appendChild(i);var a=document.createElement("label");a.className="GProuteExclusionsOption",a.htmlFor=this._addUID("GProuteExclusionsToll"),a.innerHTML="PÃ©ages",n.appendChild(a);break;case"tunnel":var s=document.createElement("input");s.id=this._addUID("GProuteExclusionsTunnel"),s.type="checkbox",s.value="Tunnel",s.name="Tunnel",s.checked=!o,s.addEventListener?s.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):s.attachEvent&&s.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),n.appendChild(s);var l=document.createElement("label");l.className="GProuteExclusionsOption",l.htmlFor=this._addUID("GProuteExclusionsTunnel"),l.innerHTML="Tunnels",n.appendChild(l);break;case"bridge":var c=document.createElement("input");c.id=this._addUID("GProuteExclusionsBridge"),c.type="checkbox",c.value="Bridge",c.name="Ponts",c.checked=!o,c.addEventListener?c.addEventListener("change",(function(e){t.onRouteExclusionsChange(e)})):c.attachEvent&&c.attachEvent("onchange",(function(e){t.onRouteExclusionsChange(e)})),n.appendChild(c);var u=document.createElement("label");u.className="GProuteExclusionsOption",u.htmlFor=this._addUID("GProuteExclusionsBridge"),u.innerHTML="Ponts",n.appendChild(u)}}return n},_createRouteSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GProuteSubmit"),e.className="GPsubmit gpf-btn gpf-btn-icon-submit fr-btn",e.type="submit",e.value="Calculer l'itinÃ©raire",e},_createRouteFormResetElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GProuteReset"),t.title="RÃ©initialiser les paramÃ¨tres",t.className="GPresetPicto gpf-btn gpf-btn-icon-reset fr-btn fr-btn--secondary gpf-btn--secondary",t.title="RÃ©initialiser les paramÃ¨tres",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onRouteResetClick(t)})),t}};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function N(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k(t)?t:t+""}function L(e,t){if(t&&("object"==k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(null,arguments)}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}var U=m.A.getLogger("route"),B=function(e){function t(e){var n,r,o,i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=t,i=[{element:(e=e||{}).element,target:e.target,render:e.render}],o=M(o),!((n=L(r,O()?Reflect.construct(o,i||[],M(r).constructor):o.apply(r,i)))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.initialize(e),n._container=n._createMainContainerElement(),n.element?n.element.appendChild(n._container):n.element=n._container,L(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(t,e),n=t,r=[{key:"setMap",value:function(e){if(e){if(this._container=this._initContainer(e),this.element=this._container,this.options.export){var n=y.A.assign({control:this},this.options.export);this.export=new E.default(n),this.export.render();var r=this;this.export.on("export:compute",(function(e){r.dispatchEvent({type:"export:compute",content:e.content})}))}this.draggable&&I.A.dragElement(this._panelRouteContainer,this._panelHeaderRouteContainer,this.options.position?null:e.getTargetElement()),this.collapsed||this._showRouteButton.setAttribute("aria-pressed",!0)}var o,i,a,s,l;(o=t,i="setMap",a=this,l=D(M(1&(s=3)?o.prototype:o),i,a),2&s&&"function"==typeof l?function(e){return l.apply(a,e)}:l)([e]),this.options.position&&this.setPosition(this.options.position)}},{key:"getCollapsed",value:function(){return this.collapsed}},{key:"setCollapsed",value:function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GProutePanelClose-"+this._uid).click():this._showRouteButton.click(),this.collapsed=e):U.log("[ERROR] Route:setCollapsed - missing collapsed parameter")}},{key:"getLayer",value:function(){return this._geojsonSections}},{key:"setLayer",value:function(e){e?e instanceof l()?(e.setStyle(this._defaultFeatureStyle),this._geojsonSections=e):U.log("no valid layer given for hosting drawn features."):this._geojsonSections=null}},{key:"getGeoJSON",value:function(){return JSON.stringify(this._geojsonObject)}},{key:"setGeoJSON",value:function(e){try{this._geojsonObject=JSON.parse(e)}catch(e){U.log("no valid geojson given :"+e.message)}}},{key:"getData",value:function(){for(var e=[],t=0;t<this._currentPoints.length;t++){var n=this._currentPoints[t];e.push(n.getCoordinate())}var r={type:"route",points:e,transport:this._currentTransport,exclusions:this._currentExclusions,computation:this._currentComputation,results:{}};return y.A.assign(r.results,this._currentRouteInformations),r}},{key:"setData",value:function(e){this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions;for(var t=0;t<this._currentPoints.length;t++){var n=this._currentPoints[t];if(n.getCoordinate()){n.clearResults();var r=t+1+"-"+this._uid;document.getElementById("GPlocationOriginCoords_"+r).value="",document.getElementById("GPlocationOrigin_"+r).value="",document.getElementById("GPlocationPoint_"+r).style.cssText="",t>0&&t<6&&(document.getElementById("GPlocationPoint_"+r).className="GPflexInput GPelementHidden gpf-flex gpf-hidden "),document.getElementById("GPlocationOriginPointer_"+r).checked=!1,document.getElementById("GPlocationOrigin_"+r).className="GPelementVisible gpf-visible",document.getElementById("GPlocationOriginCoords_"+r).className="GPelementHidden gpf-hidden"}}for(var o=0;o<e.points.length;o++){var i=e.points[o];i&&this._currentPoints[o].setCoordinate(i,"EPSG:4326")}this._currentRouteInformations=e.results}},{key:"getContainer",value:function(){return this._container}},{key:"getStyle",value:function(){return this._defaultFeatureStyle}},{key:"init",value:function(){for(var e=0;e<this._currentPoints.length;e++){var t=e+1,n=this._currentPoints[e].getCoordinate();n&&(document.getElementById("GPlocationOrigin_"+t+"-"+this._uid).value=n[1].toFixed(4)+" / "+n[0].toFixed(4),e>0&&e<6&&(document.getElementById("GPlocationPoint_"+t+"-"+this._uid).className="GPflexInput GPlocationStageFlexInput gpf-flex"))}var r,o=document.getElementsByClassName("GPlocationPoint-"+this._uid);this._addRouteResultsStagesValuesElement(o),"Pieton"===this._currentTransport?(r=document.getElementById("GProuteTransportPedestrian-"+this._uid))&&(r.checked="true"):(r=document.getElementById("GProuteTransportCar-"+this._uid))&&(r.checked="true");var i=document.getElementById("GProuteComputationSelect-"+this._uid);i&&(i.value=this._currentComputation);var a=document.getElementById("GProuteExclusionsToll-"+this._uid);a&&(-1!==this._currentExclusions.indexOf("toll")?a.checked=!1:a.checked=!0);var s=document.getElementById("GProuteExclusionsTunnel-"+this._uid);s&&(-1!==this._currentExclusions.indexOf("tunnel")?s.checked=!1:s.checked=!0);var l=document.getElementById("GProuteExclusionsBridge-"+this._uid);l&&(-1!==this._currentExclusions.indexOf("bridge")?l.checked=!1:l.checked=!0);var c=this._currentRouteInformations.totalDistance,u=this._currentRouteInformations.totalTime,p=this._simplifiedInstructions(this._currentRouteInformations.routeInstructions);p&&this._fillRouteResultsDetailsContainer(c,u,p),this._formRouteContainer.className="GPelementHidden gpf-hidden gpf-panel__content fr-modal__content",this._hideWaitingContainer(),this._resultsRouteContainer.className=""}},{key:"clean",value:function(){this._currentTransport=null,this._currentExclusions=[],this._currentComputation=null;for(var e=0;e<this._currentPoints.length;e++)this._currentPoints[e].clear();this._removeRouteStepLocations(),this._clearRouteInputOptions(),this._clearRouteResultsDetails(),this.setLayer(),this._formRouteContainer.className="gpf-panel__content fr-modal__content",this._resultsRouteContainer.className="GPelementHidden gpf-hidden"}},{key:"initialize",value:function(e){this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,export:!1,graphs:["Pieton","Voiture"],exclusions:{toll:!1,tunnel:!1,bridge:!1},routeOptions:{},autocompleteOptions:{},layerDescription:{title:"ItinÃ©raire",description:"ItinÃ©raire basÃ© sur un graphe"}},y.A.assign(this.options,e);var t={departure:{url:C.A.red,offset:C.A.defaultOffset},stages:{url:C.A.lightOrange,offset:C.A.defaultOffset},arrival:{url:C.A.darkOrange,offset:C.A.defaultOffset}};this.options.markersOpts=y.A.assign(t,e.markersOpts),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=v.A.generate(),this._showRouteButton=null,this._panelRouteContainer=null,this._panelHeaderRouteContainer=null,this._waitingContainer=null,this._formRouteContainer=null,this._resultsRouteContainer=null,this._showRouteExclusionsElement=null,this._currentPoints=[],this._currentTransport=null,this._initTransport(),this._currentComputation=null,this._initComputation(),this._currentExclusions=[],this._initExclusions(),this._waiting=!1,this._timer=null,this._geojsonRoute=null,this._geojsonSections=null,this._geojsonObject=null,this.export=null,this._popupContent=null,this._popupDiv=this._initPopupDiv(),this._popupOverlay=null,this._resultsSelectInteraction=null,this._resultsHoverInteraction=null,this._defaultFeatureStyle=new h.Style({stroke:new h.Stroke({color:"rgba(0,183,152,0.9)",width:12})}),this._selectedFeatureStyle=new h.Style({stroke:new h.Stroke({color:"rgba(255,102,0,0.9)",width:12})}),this._currentRouteInformations=null,this._resources={},this.listenerKey=null}},{key:"_checkInputOptions",value:function(e){if(e.graphs)if(Array.isArray(e.graphs)&&e.graphs.length)for(var t=0;t<e.graphs.length;t++)"string"==typeof e.graphs[t]?("pieton"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Pieton"),"voiture"===e.graphs[t].toLowerCase()&&(e.graphs[t]="Voiture")):(U.log("[ol.control.Route] ERROR : parameter 'graphs' elements should be of type 'string'"),e.graphs[t]=null);else U.warn("'graphs' parameter should be an array"),e.graphs=null;"true"===e.collapsed&&(e.collapsed=!0),"false"===e.collapsed&&(e.collapsed=!1)}},{key:"_initContainer",value:function(e){var t=this,n=this._container;if(n.childElementCount>0)return n;var r=this._showRouteButton=this._createShowRoutePictoElement();n.appendChild(r);var o=this._panelRouteContainer=this._createRoutePanelElement(),i=this._createRoutePanelDivElement();o.appendChild(i);var a=this._panelHeaderRouteContainer=this._createRoutePanelHeaderElement();i.appendChild(a);var s=this._formRouteContainer=this._createRoutePanelFormElement();s.appendChild(this._createRoutePanelFormModeChoiceTransportElement(this.options.graphs));for(var l=this._createRoutePanelFormPointsElement(e),c=0;c<l.length;c++)s.appendChild(l[c]);s.appendChild(this._createRoutePanelFormModeChoiceComputeElement()),this._showRouteExclusionsElement=this._createShowRouteExclusionsPictoElement(),s.appendChild(this._showRouteExclusionsElement);var u=this._createRoutePanelFormExclusionsElement();u.appendChild(this._createRoutePanelFormExclusionOptionsElement(this.options.exclusions)),s.appendChild(u);var p=this._createRoutePanelFooterElement();if(s.appendChild(p),!(0,S.A)()){var d=this._createRouteFormResetElement();p.appendChild(d)}var h=this._createRouteSubmitFormElement();p.appendChild(h),i.appendChild(s);var g=this._resultsRouteContainer=this._createRoutePanelResultsElement();i.appendChild(g);var f=this._waitingContainer=this._createRouteWaitingElement();return i.appendChild(f),n.appendChild(o),n.addEventListener&&n.addEventListener("click",(function(e){return t._hideRouteSuggestedLocations(e)})),n}},{key:"_initTransport",value:function(){this._currentTransport="Pieton";var e=this.options.graphs;e&&0!==e.length||(this.options.graphs=["Pieton","Voiture"]),Array.isArray(e)&&e.length&&("Voiture"!==e[0]&&"Pieton"!==e[0]||(this._currentTransport=e[0]));var t=this.options.routeOptions;t.graph&&(this._currentTransport=t.graph)}},{key:"_initComputation",value:function(){this._currentComputation="fastest";var e=this.options.routeOptions;e.routePreference&&(this._currentComputation=e.routePreference)}},{key:"_initExclusions",value:function(){this._currentExclusions=[];var e=this.options.exclusions;if((!e||"object"===k(e)&&0===Object.keys(e).length)&&(this.options.exclusions={toll:!1,tunnel:!1,bridge:!1}),e&&"object"===k(e)&&Object.keys(e).length)for(var t in e)e.hasOwnProperty(t)&&e[t]&&this._currentExclusions.push(t);var n=this.options.routeOptions;Array.isArray(n.exclusions)&&(this._currentExclusions=n.exclusions)}},{key:"_initPopupDiv",value:function(){var e=this,t=document.createElement("div");t.className="gp-feature-info-div";var n=document.createElement("input");return n.type="button",n.className="gp-styling-button closer",n.onclick=function(){return null!=e._popupOverlay&&e._popupOverlay.setPosition(void 0),!1},this._popupContent=document.createElement("div"),this._popupContent.className="gp-features-content-div",t.appendChild(this._popupContent),t.appendChild(n),t}},{key:"_createRoutePanelFormPointsElement",value:function(e){var t=[],n=1,r=new b.default({apiKey:this.options.apiKey||null,tag:{id:n,groupId:this._uid,markerOpts:this.options.markersOpts.departure,display:!0},autocompleteOptions:this.options.autocompleteOptions||null});for(r.setMap(e),this._addFormPointsEventListeners(r),t.push(this._createRoutePanelFormPointLabel("DÃ©part")),t.push(r._container),this._currentPoints.push(r),n=2;n<7;n++){var o=new b.default({apiKey:this.options.apiKey||null,tag:{id:n,groupId:this._uid,markerOpts:this.options.markersOpts.stages,display:!1,removeOption:!0},autocompleteOptions:this.options.autocompleteOptions||null});o.setMap(e),this._addFormPointsEventListeners(o),t.push(this._createRoutePanelFormPointLabel("Ã‰tape",!1)),t.push(o._container),this._currentPoints.push(o)}var i=new b.default({apiKey:this.options.apiKey||null,tag:{id:n,groupId:this._uid,markerOpts:this.options.markersOpts.arrival,display:!0,addOption:!0},autocompleteOptions:this.options.autocompleteOptions||null});return i.setMap(e),this._addFormPointsEventListeners(i),t.push(this._createRoutePanelFormPointLabel("ArrivÃ©e")),t.push(i._container),this._currentPoints.push(i),t}},{key:"_addFormPointsEventListeners",value:function(e){var t=this;e&&(e._buttonLabel.addEventListener?(e._buttonLabel.addEventListener("click",(function(e){return t.onRouteOriginLabelClick(e)})),e._inputShowPointer.addEventListener("click",(function(n){return t.onRouteOriginPointerClick(n,e)})),e._removePointElement&&e._removePointElement.addEventListener("click",(function(e){U.trace("click on _removePointElement",e)})),e._addPointElement&&e._addPointElement.addEventListener("click",(function(e){U.trace("click on _addPointElement",e)}))):e._buttonLabel.attachEvent&&(e._buttonLabel.attachEvent("onclick",(function(e){return t.onRouteOriginLabelClick(e)})),e._inputShowPointer.attachEvent("onclick",(function(n){return t.onRouteOriginPointerClick(n,e)})),e._removePointElement&&e._removePointElement.attachEvent("onclick",(function(e){})),e._addPointElement&&e._addPointElement.attachEvent("onclick",(function(e){}))))}},{key:"onRouteComputationSubmit",value:function(e){U.log("onRouteComputationSubmit",e);var t,n,r=this._currentPoints;if(r[0]&&r[0].getCoordinate){var o=r[0].getCoordinate();t={x:o[0],y:o[1]},U.log("start",t)}var i=r[r.length-1];if(i&&i.getCoordinate){var a=i.getCoordinate();n={x:a[0],y:a[1]},U.log("end",n)}for(var s=[],l=1;l<r.length-1;l++)if(r[l]&&r[l].getCoordinate){var c=r[l].getCoordinate();if(c){var u={x:c[0],y:c[1]};U.log("step",u),s.push(u)}}this._currentTransport=e.transport,this._currentComputation=e.computation,this._currentExclusions=e.exclusions;var p,d=this.options.routeOptions;d.resource?p=d.resource:"fastest"===this._currentComputation&&"Pieton"===this._currentTransport&&(p="bdtopo-valhalla");var h=d.protocol||"XHR",g=d.timeOut||0;"JSONP"===h&&0===g&&(g=15e3);var f=!(null===d.onFailure||"function"!=typeof d.onFailure),m=!(null===d.onSuccess||"function"!=typeof d.onSuccess),y=this;this._requestRouting({startPoint:t,endPoint:n,viaPoints:s,graph:d.graph||this._currentTransport,routePreference:d.routePreference||this._currentComputation,exclusions:d.exclusions||this._currentExclusions,geometryInInstructions:!0,distanceUnit:"m",timeOut:g,protocol:h,resource:p,onSuccess:function(e){U.log(e),e&&y._fillRouteResultsDetails(e),m&&d.onSuccess.call(y,e)},onFailure:function(e){y._hideWaitingContainer(),y._clearRouteResultsDetails(),U.log(e.message),f&&d.onFailure.call(y,e)}})}},{key:"onRouteOriginLabelClick",value:function(){this._formRouteContainer.className="gpf-panel__content fr-modal__content",(0,o.unByKey)(this.listenerKey),this.dispatchEvent("route:drawend")}},{key:"onRouteOriginPointerClick",value:function(e,t){var n=this,r=this.getMap();t._inputShowPointerContainer.checked?(this._formRouteContainer.className="GProuteFormMini gpf-panel__content fr-modal__content",e.target.parentElement.parentElement.classList.add("selected"),this.listenerKey=r.on("click",(function(){e.target.parentElement.parentElement.classList.remove("selected"),"GProuteFormMini gpf-panel__content fr-modal__content"===n._formRouteContainer.className&&(n._formRouteContainer.className="gpf-panel__content fr-modal__content"),(0,o.unByKey)(n.listenerKey),n.dispatchEvent("route:drawend")})),this.dispatchEvent("route:drawstart")):(this._formRouteContainer.className="",(0,o.unByKey)(this.listenerKey),this.dispatchEvent("route:drawend"))}},{key:"onShowRoutePanelClick",value:function(e){var t=this.getMap();A.A.unset(t),this._geojsonSections||this._waiting||this._clear();var n=this._showRouteButton.ariaPressed;this.collapsed=!("true"===n),this.dispatchEvent("change:collapsed"),this.options.position&&!this.collapsed&&this.updatePosition(this.options.position)}},{key:"onRouteModeComputationChange",value:function(e){var t=e.target.value;t&&(U.log(t),this._currentComputation=t)}},{key:"onRouteModeComputationChangeAndRun",value:function(e){this.onRouteModeComputationChange(e),this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry(),this.onRouteComputationSubmit({computation:this._currentComputation,transport:this._currentTransport,exclusions:this._currentExclusions})}},{key:"onRouteModeTransportChange",value:function(e){var t=e.target.value;t&&(this._currentTransport=t)}},{key:"onShowRouteExclusionsClick",value:function(e){U.log("onShowRouteExclusionsClick",e)}},{key:"onRouteExclusionsChange",value:function(e){var t=e.target.value,n=e.target.checked;if(t&&"string"==typeof t){t=t.toLowerCase();for(var r=!1,o=null,i=0;i<this._currentExclusions.length;i++)this._currentExclusions[i]===t&&(o=i,r=!0);r||n||this._currentExclusions.push(t),r&&n&&this._currentExclusions.splice(o,1)}}},{key:"onRouteResetClick",value:function(){for(var e=this._currentPoints,t=0;t<e.length;t++)e[t].clear();this._clear(),this._clearRouteInputOptions()}},{key:"onShowRouteResultsNewClick",value:function(){this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry()}},{key:"onRouteResultsDetailsMouseOver",value:function(e){var t=e.target.id,n=t.substring(t.indexOf("_")+1);e.target.classList&&e.target.classList.add("GProuteResultsDetailsInstructionHighlight"),this._geojsonSections&&this._geojsonSections.getSource().getFeatureById(parseInt(n,10)).setStyle(this._selectedFeatureStyle)}},{key:"onRouteResultsDetailsMouseOut",value:function(e){var t=e.target.id,n=t.substring(t.indexOf("_")+1);e.target.classList&&e.target.classList.remove("GProuteResultsDetailsInstructionHighlight"),this._geojsonSections&&this._geojsonSections.getSource().getFeatureById(parseInt(n,10)).setStyle(null)}},{key:"_requestRouting",value:function(e){!e||"object"===k(e)&&0===Object.keys(e).length||e.startPoint&&e.endPoint&&(e.apiKey=this.options.routeOptions.apiKey||this.options.apiKey,"boolean"!=typeof e.ssl&&("boolean"==typeof this.options.ssl?e.ssl=this.options.ssl:e.ssl=!0),U.log(e),this._displayWaitingContainer(),f.Ay.Services.route(e))}},{key:"_fillRouteResultsDetails",value:function(e){var t=e.totalDistance,n=e.totalTime,r=this._simplifiedInstructions(e.routeInstructions);r&&this._fillRouteResultsDetailsContainer(t,n,r);var o=e.routeGeometry;o&&this._fillRouteResultsDetailsGeometry(o,this._defaultFeatureStyle),r&&r[0].geometry&&this._fillRouteResultsDetailsFeatureGeometry(r,this._defaultFeatureStyle);var i=e.bbox;if(i){var a=this.getMap(),s=[i.left,i.bottom,i.right,i.top],l=a.getView().getProjection().getCode();"EPSG:4326"!==l&&(s=(0,g.transformExtent)(s,"EPSG:4326",l)),a.getView().fit(s,a.getSize())}this._currentRouteInformations=e,this.dispatchEvent({type:"route:compute"}),this._formRouteContainer.className="GPelementHidden gpf-hidden gpf-panel__content fr-modal__content",this._hideWaitingContainer(),this._resultsRouteContainer.className=""}},{key:"_fillRouteResultsDetailsContainer",value:function(e,t,n){this._resultsRouteValuesContainer=this._addRouteResultsValuesElement(e,t,this._convertSecondsToTime),this._resultsRouteDetailsContainer=this._addRouteResultsDetailsElement(n,this._convertSecondsToTime)}},{key:"_fillRouteResultsDetailsGeometry",value:function(e,t){this._clearRouteResultsGeometry();var n=this.getMap();if(e){var r={type:"FeatureCollection",features:[{type:"Feature",crs:{type:"name",properties:{name:"EPSG:4326"}},geometry:e}]},o=new _.A({defaultDataProjection:"EPSG:4326",defaultStyle:t}).readFeatures(r,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});this._geojsonRoute=new(l())({source:new(u())({features:o}),style:t}),n.addLayer(this._geojsonRoute)}}},{key:"_fillRouteResultsDetailsFeatureGeometry",value:function(e,t){var n=this;this._clearRouteResultsFeatureGeometry();var r=this.getMap();this._geojsonObject={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:[]};for(var o=0;o<e.length;o++){for(var i=e[o],a=o+1,s=i.geometry.coordinates,c=0;c<s.length;c++)"string"==typeof s[c][0]&&(s[c][0]=parseFloat(s[c][0]),s[c][1]=parseFloat(s[c][1]));this._geojsonObject.features.push({type:"Feature",geometry:i.geometry,properties:{popupContent:"("+a+") distance : "+this._convertDistance(i.distance)+" / temps : "+this._convertSecondsToTime(i.duration)},id:a})}this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._currentPoints[0].getCoordinate()},properties:{description:"Point de dÃ©part","marker-symbol":this.options.markersOpts.departure.url}});for(var h=1;h<this._currentPoints.length-1;h++)if(this._currentPoints[h]&&this._currentPoints[h].getCoordinate){var g=this._currentPoints[h].getCoordinate();g&&this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:g},properties:{description:"Point d'Ã©tape","marker-symbol":this.options.markersOpts.stages.url}})}this._geojsonObject.features.push({type:"Feature",geometry:{type:"Point",coordinates:this._currentPoints[this._currentPoints.length-1].getCoordinate()},properties:{description:"Point d'arrivÃ©e","marker-symbol":this.options.markersOpts.arrival.url}});var f,m=new _.A({defaultDataProjection:"EPSG:4326",defaultStyle:t}),y=this.getMap().getView().getProjection().getCode(),v=m.readFeatures(this._geojsonObject,{dataProjection:"EPSG:4326",featureProjection:y});this._geojsonSections=new(l())({source:new(u())({features:v}),style:t,opacity:.9}),"Pieton"===this._currentTransport?(f="piÃ©ton",this._geojsonSections.gpResultLayerId="Pieton$OGC:OPENLS;Itineraire"):(f="voiture",this._geojsonSections.gpResultLayerId="Voiture$OGC:OPENLS;Itineraire"),r.addLayer(this._geojsonSections),r.getControls().forEach((function(e){if(e instanceof w.default){var t=n._geojsonSections.gpLayerId;e._layers[t].title===t&&e.addLayer(n._geojsonSections,{title:n.options.layerDescription.title+" ("+f+")",description:n.options.layerDescription.description})}}),this),this._resultsHoverInteraction=new d.Select({condition:p.pointerMove,layers:[this._geojsonSections],style:this._selectedFeatureStyle}),this._resultsHoverInteraction.on("select",(function(e){return n._onResultsFeatureMouseOver(e)})),r.addInteraction(this._resultsHoverInteraction),this._resultsSelectInteraction=new d.Select({layers:[this._geojsonSections],style:this._selectedFeatureStyle}),this._resultsSelectInteraction.on("select",(function(e){return n._onResultsFeatureSelect(e)})),r.addInteraction(this._resultsSelectInteraction)}},{key:"_onResultsFeatureMouseOver",value:function(e){if(0!==e.selected.length){var t=e.selected[0],n=document.getElementById("GProuteResultsDetailsInstruction_"+t.getId()+"-"+this._uid);n&&n.classList&&n.classList.add("GProuteResultsDetailsInstructionHighlight")}if(0!==e.deselected.length){var r=e.deselected[0],o=document.getElementById("GProuteResultsDetailsInstruction_"+r.getId()+"-"+this._uid);o&&o.classList&&o.classList.remove("GProuteResultsDetailsInstructionHighlight")}}},{key:"_onResultsFeatureSelect",value:function(e){var t=this.getMap();if(0!==e.selected.length){var n=e.selected[0];this._popupContent.innerHTML=n.getProperties().popupContent,this._popupOverlay?this._popupOverlay.setPosition(e.mapBrowserEvent.coordinate):(this._popupOverlay=new(a())({element:this._popupDiv,positioning:"bottom-center",position:e.mapBrowserEvent.coordinate}),t.addOverlay(this._popupOverlay))}else null!=this._popupOverlay&&this._popupOverlay.setPosition(void 0)}},{key:"_clear",value:function(){this._currentTransport=null,this._currentExclusions=[],this._currentComputation=null,this._clearRouteResultsDetails(),this._clearRouteResultsGeometry(),this._clearRouteResultsFeatureGeometry();for(var e=0;e<this._currentPoints.length;e++)this._currentPoints[e].clear();this._removeRouteStepLocations()}},{key:"_clearRouteInputOptions",value:function(){var e;this._initTransport(),this._initComputation(),this._initExclusions(),"Pieton"===this._currentTransport?(e=document.getElementById("GProuteTransportPedestrian-"+this._uid))&&(e.checked="true"):(e=document.getElementById("GProuteTransportCar-"+this._uid))&&(e.checked="true");var t=document.getElementById("GProuteComputationSelect-"+this._uid);t&&(t.value=this._currentComputation);var n=document.getElementById("GProuteExclusionsToll-"+this._uid);n&&(-1!==this._currentExclusions.indexOf("toll")?n.checked=!1:n.checked=!0);var r=document.getElementById("GProuteExclusionsTunnel-"+this._uid);r&&(-1!==this._currentExclusions.indexOf("tunnel")?r.checked=!1:r.checked=!0);var o=document.getElementById("GProuteExclusionsBridge-"+this._uid);o&&(-1!==this._currentExclusions.indexOf("bridge")?o.checked=!1:o.checked=!0)}},{key:"_removeRouteStepLocations",value:function(){var e=document.querySelectorAll('div[id^="GPlocationPoint"]');if(0!==e.length){for(var t=[],n=0;n<e.length;n++)-1!==e[n].id.indexOf(this._uid)&&t.push(e[n]);for(var r=1;r<t.length-1;r++){var o=t[r].classList;if(0!==o.length)for(var i=0;i<o.length;i++)"GPlocationStageFlexInput"===o[i]&&document.getElementById(this._addUID("GPlocationStageRemove_"+(r+1))).click()}}}},{key:"_clearRouteResultsDetails",value:function(){if(this._currentRouteInformations=null,this._resultsRouteDetailsContainer){var e=this._resultsRouteDetailsContainer;if(e.childElementCount)for(;e.firstChild;)e.removeChild(e.firstChild)}if(this._resultsRouteValuesContainer){var t=this._resultsRouteValuesContainer;if(t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild)}}},{key:"_clearRouteResultsGeometry",value:function(){var e=this.getMap();null!=this._geojsonRoute&&(e.removeLayer(this._geojsonRoute),this._geojsonRoute=null)}},{key:"_clearRouteResultsFeatureGeometry",value:function(){var e=this.getMap();null!=this._geojsonSections&&(e.removeLayer(this._geojsonSections),this._geojsonSections=null,this._geojsonObject=null),null!=this._popupOverlay&&(e.removeOverlay(this._popupOverlay),this._popupOverlay=null),null!=this._resultsSelectInteraction&&(e.removeInteraction(this._resultsSelectInteraction),this._resultsSelectInteraction=null),null!=this._resultsHoverInteraction&&(e.removeInteraction(this._resultsHoverInteraction),this._resultsHoverInteraction=null)}},{key:"_hideRouteSuggestedLocations",value:function(e){if(e.target&&e.target.id&&-1!==e.target.id.indexOf("GPlocationOrigin_"))for(var t=parseInt(e.target.id.split("_")[1][0],10)-1,n=0;n<this._currentPoints.length;n++)n!==parseInt(t,10)&&this._currentPoints[n]._hideSuggestedLocation();else for(var r=0;r<this._currentPoints.length;r++)this._currentPoints[r]._hideSuggestedLocation()}},{key:"_displayWaitingContainer",value:function(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0;var e=this.options.routeOptions;if(e&&e.timeOut){this._timer&&(clearTimeout(this._timer),this._timer=null);var t=this;this._timer=setTimeout((function(){!0===t._waiting?t._hideWaitingContainer():t._timer&&clearTimeout(t._timer)}),16e3)}}},{key:"_hideWaitingContainer",value:function(){if(this._waiting){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1;var e=this.options.routeOptions;e&&e.timeOut&&(clearTimeout(this._timer),this._timer=null)}}},{key:"_simplifiedInstructions",value:function(e){var t=[],n=e[0];1===e.length&&t.push(n);for(var r=1;r<e.length;r++){var o=e[r];if(o.instruction===n.instruction){n.distance=(parseFloat(o.distance)+parseFloat(n.distance)).toString(),n.duration=(parseFloat(o.duration)+parseFloat(n.duration)).toString();for(var i=1;i<o.geometry.coordinates.length;i++)n.geometry.coordinates.push(o.geometry.coordinates[i])}else t.push(n),n=o,r===e.length-1&&(t.push(o),n=null)}return U.log(t),t}},{key:"_convertSecondsToTime",value:function(e){var t="";e=Math.round(e);var n=Math.floor(e/3600),r=e%3600;return n&&(t=n+"h "),t+=Math.floor(r/60)+" min"}},{key:"_convertDistance",value:function(e){var t=parseInt(e/1e3,10);return t?t+" km":parseInt(e,10)+" m"}}],r&&R(n.prototype,r),i&&R(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(r.A);Object.assign(B.prototype,T);const F=B;window.ol&&window.ol.control&&(window.ol.control.Route=B)},2940:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(){return""!==getComputedStyle(document.documentElement).getPropertyValue("--blue-france-sun-113-625")}},3600:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(7392),o=n.n(r),i=n(5074),a=n(5844),s=n(2536),l=a.A.getLogger("interactions");const c={_extensions:["Measures","ElevationPath","Drawing"],_options:{current:null,clean:null},unset:function(e,t){l.trace("unset()");var n={};s.A.mergeParams(n,this._options),s.A.mergeParams(n,t);for(var r=e.getInteractions().getArray(),a=0;a<r.length;a++)if(r[a].getActive()&&(r[a]instanceof i.Draw||r[a]instanceof i.Select||r[a]instanceof i.Modify)){var c=r[a].getProperties(),u=c.name;if(void 0!==u&&this._extensions.indexOf(u)>-1){if(n.current&&n.current===u)continue;r[a].setActive(!1);var p=c.source;if(void 0!==p&&p instanceof o())for(var d in n)if(n.hasOwnProperty(d)){if("current"===d)continue;if("function"==typeof p[d]){var h=Array.isArray(n[d])?n[d]:[n[d]];p[d].apply(p,h)}}}else r[a].setActive(!1)}}}},9994:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={lightOrange:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAgCAYAAAC/40AfAAASf3pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjapZpptuO4DYX/cxVZAsEBIJfD8ZzsIMvPB8mvpq5OupN6Xc8uW5Yo4OIOdIfzr3/e8A/+lNo1lGpNu2rkT+mlp8GTFt8/4/ktsTy/nz85f96Tn18P6fN6TLzkB30ObPo5/ut1+XaC92HwrP5worY+b8yf3+jlc/72y4k+F8q+Il/F/pyof06U0/uGfE4w3tuK2pv9eAvzvI/7607a+zf4r/tVE3sffv13Maq3K9fJKZ0sOfL7U6ycsv/NIQ+eVH6nXDhQsj3P31fssxIK8rs6ffvTWdH1pZbfHvRTV749+6Vbnwpwa790q6TPIfmXIuu3x9++HqT+vitP6X+4cmmfZ+nn10eVz4p+qf5T/Lvbfe6ZuxhFKbV+burrFp9nHDe5hF+6BZamdEfBUOPRfzo/jZtfQGHHFSc/S7ok2nWlyJYhV87zuGSxxJJOSMaTlFbKz4stW+ppZe9f8R+5yXLPOze6uJ62l5y+rUWey/a4wnO1xpW3cGgSTiZ85G//hL/7gXt9FES8luOtFetKyYvNMrxz/pvD6IjcT1HrU+Cvn1//eF8zHaxeZR+Rzqnne4r5NvPFVn4anTmw8vjOoNj+nIAScenKYiTTAbomuYpKtJRMhEI2GjRYus/MpANSa9osMpWcld605JfmIybPoakmXg68DpnRiZqVOWt0aNCsUir4sdLA0Ki5llqrVqut9jo0a9GqqqZOisOylWDV1MyadRstt9Jq02attd5GTz1DmhBpt95672NwzcGZB58eHDDGTDPPMmuYOm222edYwGeVVZcuW231NXbaecMfW7fttvseRw5QOuXUo8dOO/2MC9RuDrfcevXabbff8a1rn7b+4edvdE0+XUtPp/xA+9Y1XjX7OoU4nVTvGQ1LoQgdN28BgE7es9iklOSd857FDv3lmlhk9Z5t8Y7RwXIk1StfvQvp7ah37v/qW7DyU9/S/9q54K37m537Y99+17XtJLyejr1T6EWNmenjmJEa/zGtf3wMnycdEnrmgScKh+W2rFIB58FVtiU7CVaLdS1hHXPoPkvVW5b2oXDBZM5kyN7VVS1pzsLdAoljo1+6tE5b+ciweuqaTNwEgrpb3atwvSOzw3Aa7Git98o4VD3nq3Nz/50yiEw9MXMCh+hOfU+a3euZl0IjZX1tW/VQIF0lHO5kjFqF2hvlvCOvrEi+yhlzzHKu6fCXapZzFpUqw+TMUoU1TrM8K8eEt2CcvwpvlcXjErqqEPqJVIoz1cQ7CdQOB0qqW1QrkrCsK6Afva0R7pobdpd7pG47/Z7UpwDkCm4ql9Y8G2Oi4+S0rJ3LiVdtruM9Jb1Ja6ESIbdenfb7pXSsmRIcyTStcG9xoGh7gbLD1W/ra462dTTubFKUsWyMLTThhmZUszvGdgZEZizn7D1Pvb3VmlkuoOsHSOIrxmpt0EbpgB81ynTMBlDt4TB1Vq5U0EsVt3mfgfWpNiTznwumVxaPWHprbym/Svr9MfzZG/QkgrS9IGdlYQ6i4zdpbQ/m9sbCKqv0ZKwrI5D8c+V9b9uzAIzM/Z4lm07xdl/X4aOlTekLNI+orHQcAKRJpdnQM8CoBLRYV9plleJl8yJpa3OPe+a+2ljD2pnF7GnxzrzWZijn2Ke3SytrYTJHl3CK9lQgFlNNC3tc+vJx88VLOxAB9avWjwIU0L+9m61oK7lrkrd4DEFof16knx/5sM6pOzqQ89r9dFase7a2kvXApdQOnAIH5T1mG+BM+ikt1QrNMltZKx0fC2XliVbK2enAuDk5P93TQXSY4nS4IchETYYPGGuNXfPJe8dboIixZ13bJ3mSES4KnZel1RgaaOZA8OcESKbuDaQOmjUXww93t1szsyHSFGynylw7HKfe096ywI75p6qE/1AWLgx4tMx14z2j6kyisec64EDuBCwwy/Hkm8cNzHK6iw7YiNbnVQpjdjOH0neUT9rCo7fozG2DjiOBKQKQC/0ivclYZtIwF7fDPLR2xsKkM0cZc3h3ubjIPgBmOYr3S+fTa5Zz1mfVLToJjbVH2GgN1DhKaQuluyAVe7PRRMRsWBqIgqYBoNC+NuDliY1RKG/iF5V5dztbGlQLAybsk82qaE3fzPS1zo1n5ygmKC4wsUvbiNBGerilBnJoSE4DG6x13BXWzXBv4vYFstG1VoOoC6oGPXX/UIRoN9Ib52D6Juin06jZss0ksVys5ZihjGxtMgDdLmq0EzXjzAC3GYCBXfJmwiQVEFzdurMKcZKkpyctqt0wSD0I04f4UnjXutEEdDzPuPOKKFPiKejaATr81NlRGzDe3HRwNPkVbr8UG4ZhJjM8BolsXMthNArGnMEfadoZhuRvosTdXPLOb6A0JOrIp3/hv06r4ESq1wpWZVzvZn6y/7vgYoE/RL0HgLxUNSFWB62gtiN2hhEcIbWpICkUOvvAoA/4gwScv+C0v8MJXQ+Nhqg1bgvZyqdP8vWsKBV8RUCGpsq1Orzz87Z547iFBkQcRUQrWKA86w2AavJxAguRhd6xoAOTYog6816YrroLXcGYxwUwoyFHxbtxwRY8c6zO2TQAYZkL53DIRQdBfHU1oxhJNzYpyVhcSYrFDSNPjwSTWZx0C7pf0DkOS8j9rA2q42RUpIpREda6Y4OVDMScySKSXydzjIPsENagrkkhcCt4BqZhB/N2onoPdi7ctdN3/3Qrd4qgPo8DCaYdnU9QE0W7h/vF5XGz3/AdFCBL/iqDfzDxQUSMGzfioPgJEvYDInjPyQaugchuEgbt4iCQY5ZDnwpnKTiqgj3mLhg1NCq+QwLyYPY43chRPVrq0WriYlciCNXr9VZ3eICCMIBS4nhvGEAIw0qEhaAkDex6p7qYKmQHB1AbnfAkxigx1QyOzGYXWYL/CubfGEbWGIDhxA3eiL9PpQDHRUgAbReX0ZAINyI0tQyUgcVzKFiDBOCFjXMlQ6QIYkMb7saZZliZxQwEHn7o2G6Dw8gKBXCjW9HZ5/SKXUR+OGGzMloZaAvkmmvAMyBcC4kU4YA7WToAmhlidyGKa0VSxUljYxnPcmeRgXsRbqRzbRBckHloBPPrw4Zr9/nkeMzb5VrMpFf9AdVcbrK+uoGUwtqrX/d3dJMJxvohLt7qvV04IsR7p1zM26eJ1/k1x//g+d/H8D4BAfSL+aSxxKRFa8VwUdeY6QURKy/NDAFrToKxoZTYfM331eZeAgxflY4XBZ69YaDqBP0056yGHyqnI9Rm+K1p4rSSFV9wIQGusB4PwEsdXUP9DnZtZ94jN0xuBSPBvXtoV2+0IasUFkXDKp3lXoDfe5DX9kLTOsqO9cOHgM9dqcdiEIusVMgFQy508wSbpxADbn2mkuCEx6EsXBGIAZaI1QujONgyMWaU1cti1qaQEDl1Vj7vsZFkI2m+A1t7/N49QJhK5OIUe/mWkE5sXwYa+J+lLKYCuDVajRjq3pAsYg3SQnkfQcb5LTz7xuPjv3k+dmCWUDi39Gl2ps4dXcYVJ+59d99wRJHQ9LtAD2XCRjYYkN8YUkIsrfFM5Bua5BDFyIKdxluACNO7zFkGegGi99np8n9j/ehWp2oYY4SOQWj9XHz1WcHWQL0BTYasCIpgkjyEg2C5TjD10bCGFz/PM8b5+O4Qk/m+Q5382uG5+CN3633jvfzjO4W5+TohQ8+pxIiNEfMI6VGFDe3Vd7VByDt4j0ebGrIEM2FxoZRLB0ld8XEkKBgMwyDC7QsJysobUBnjBgjRwxnsynv/tfjqx2VNJC2GPT4rjSDBV4jDl/3nVG6B+hHJ/bY9TyerWAXsIZHtzugCQWRAOXCVZl5Xxtv3fWErmHaDtJp8l2EikIXuKSylj/uCveU2fazmTH53yCEnm+KTd2E8hu4qTrIvHDJGlUkZS4IXFcPl7A8fAbrNqGf3Qh0xQTZ0SOsbIwDBLK/x9DWhsopPIiRsgHCMYjfP9wzMjbM37G0lr8B9aaI3NOogBL6Xs2HMOSH289KUQKo/Buvw+9qVTK6UUwqBuBPJFVPro5AfXk+Hn4zJjMj3RBR5J8BC2PqEG63CIG16OTfx+pr5fu30UWcS0DFuDuKHtdFjnLuM6psYkD2+oF5CjVvhS0CnoHwa/WNusfqXim5qQpjM1ZuFIjyYKi4vxKw4DZoiVeu6o4ZKaXzoURuq4nOHt6Fa9ATnU7ncxo7g6UE+0kYg8fExDzwLcq3ErIGXRo5wH+cRiu336mjg3/3hG2IT6ohLvVXuTCXB0dhTZ+++gRgyV/xAITch2WCqEVVrzPAxLgXRI1voOfSbmnM3/CXgYh8rPhxfDFL225b2jePCd7J7H2GzAwgjZgFyJj8SfsUItFBpFvCwUUQDA4ArY0Ch61SNvFZ8rw4vVhHyw5p9f3bEFDt1PjrID05RjBzVgqbJUJXSLARoRkQCNSZf5olAkobc12LqI73yrQJsCI4mLYS/rubukwKjPDlOFkPFgSrnRyNwuAcbiRm94aPI9zdmLUkujYQqcYLjaGRIFnZ9jYRcLJlv/hX30BiQgE6j5A+dU2RwwDKwGdzTAYnH2f2ctN0O7I1HTtBURMBcroAlYgjM8GYBFvPdA+imolWmjWHi4gzYfRqHKRuMrUQIsUDygBhBxs1jo+CJ/IRoNDEAuvemMJCC/Xg00L/U+v7I1Ly3qnhB/Jnv36SmOB4fM0A35hihOAcqHpM4x/zAdUx8e02G/BVzGxEpEBsqKathzVgltlb3EfNtLcNVGPPt0TpvbA+eMs3SfMcK04ln8fXDhgIiSOwUm4lj8jugXZhmRg6AHMb9gijciwnTDnNhKBXDI9m3iD38ciZ0YLpbxWho2ISpAY66Q2ZZgwv9YyzHM2QkASaOBrCM9OP4q+8xXnvSaycEuDbB4cHeJeEM08EstvvA765nu7r4RjF5YxNiO742DawE9XUMghITWK87c1sOWHBLFCdbxFqYR1wcoI8cBOX6jFuFBLCGvrO4QGX1bQxLMyX1IOX6X7bSfq7geCNzFbDeFfsL4sAm9acvxwtCFjQCGbaQ5SXYzrfVaxzOdTr6hCG35oVdOc2NjGrlX48wehxksic+UH1zZFGbgTZ0K7g4w03xafwEKo3qmAT1ovmmWMLjkxQfaNJsfbCSfP/Bjam3D72Oor77aumCQix5g05JlNJPOM40mKCcXes2BgAqwbwjX9C6YD5GLvF1Btsafh9ONbfSezJDaSKHSLBCtccxqI9oQpBKdPOW8ElM6cLAUEp480Jj9F8ZWZlutjwrw34IF3Ru/nXGEPVdmdKGfy3h2xPSckwZ++JVZyTNxYgPu4Xr7t9dEwC884PvdGPaUoDyS8JT24R1WOfECBGsahPUmDtm+cTW6WDpaAjUzlyS1kncYJEIDAiZyxN0E5/siGdvg+9mUv9KxWpkpJZHQvPvaxZnxBcgaAiXh+X94PwInyIy3xvwy/LG3eRYB/K+3Rv/0tbkr5t1/t2Cf/2ywR63xthCV3sBUwghIvm+R2nAiiQx9m1ALsHxHN59A48pBKgBad+otn9vQ+k4H3eDprO46VGMaI8i2WtEMWRIDaGfMTZn+VEuSgW8+gwAObmZIcwd38EfjH/1vT7fEMfSUMtuvYNP3y02Lp8384OnnB5SE3yl2JVLXkupN8SeLMR0edpWPOdiYAzEoLsnU06ADN0M4jS0g3qw/pl6ie/3qbB8IAwhZKSSWdYi2UeyRcdX7oYRIJHqRg3ohnS35cvNC0hB48rizpKbfgIpJ4K8UTXsMyPJS8f3molSYALLgj3yJXXfIQUczfMrnTGm9vXmbqT9Cxm1gL0Av0xdB/GsoGePVRtqwDiU7NkOC5OoSHUj2313k5QM26h2luk7Bj3ZCNe/pU0Qy4KK4CUIssMEE7uGyWV2uHjb+uw+wh8kX2daUJevGzUyICdt1kJizKnhNN9fJdvgDiNkP/wLw3jTrngRHBUjR54lJbBuOeAjo47O6yybKKQ1+BYN9E7SdXSh7kg7fhkCp+XcFTAgpvpIdDeDnincsPl3LFAaQHpywRwhptNoKXGKHlun1+/eKorKDU6M+vPdy4TRM3hBqOByFyqMtsOze740DPsC8pAEAoG/Lv5/CMA8eARSjpFJ/D3fpm7bv13y/1/gYgKdVn1LkvDNrMDBe5OOZLrnE6TOLjSDqjEAmIBNMzyKH+RuFd8whbrQq0Eg9sSGkBz/Ho6Yxe0G6mANNHo8de/ikteZX99WyNEZrVJf5T6opO+8RJLMjhgqGLMdsOXbSlqCutkhdPhvUMPc/H7Tgqm9nnHDvwF6YngoNZcUVAAAAYRpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNAHMVfU0tFKh3sUMUhQ3WyICriqFUoQoVSK7TqYHLpFzRpSFJcHAXXgoMfi1UHF2ddHVwFQfADxNXFSdFFSvxfUmgR48FxP97de9y9A4RmlalmzzigapaRSSbEXH5VDL4igCjCGERIYqY+l06n4Dm+7uHj612cZ3mf+3P0KwWTAT6ReJbphkW8QTy9aemc94kjrCwpxOfEYwZdkPiR67LLb5xLDgs8M2JkM/PEEWKx1MVyF7OyoRJPEccUVaN8IeeywnmLs1qts/Y9+QtDBW1lmes0h5HEIpaQhggZdVRQhYU4rRopJjK0n/DwDzn+NLlkclXAyLGAGlRIjh/8D353axYnJ9ykUAIIvNj2xwgQ3AVaDdv+Prbt1gngfwautI6/1gRmPklvdLTYERDeBi6uO5q8B1zuANEnXTIkR/LTFIpF4P2MvikPDNwCfWtub+19nD4AWeoqdQMcHAKjJcpe93h3b3dv/55p9/cDPGdykYtTXU4AAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjkyYWVkNjM2LWY3MDMtNDAzOC1hNzM4LWZiYzYxYzZlMTljNCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NWMzZWI3NC0zYWRmLTRkYzUtOWZjZS1iODQ4NTc3Nzg4ODQiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0NjI3ZDg3NC1lZDIyLTRiZTUtYTlkNS00NDlmMzVhZDIxYzgiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE5Mjc4OTUzMDYiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphM2U3ZWQ1MS0xNTI4LTRhYjAtODVjOS0zNzNkNzgxZGM2ZmMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI1OjI3KzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PofUkY4AAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGRuA4VZTAAAFcElEQVRYw82YW2xbVRaGv7XP8bHjXByHQkNhWigdVX1AikRBMBoQ8wASl4fRqPDAAxIPKAVxeRqQRohHBEVCaoGKUBCl4qHcNKCZVKMRRQxtgTaACLRKqlwB14NzM2ni2D2XvXjgBFXQOnFiA1uy/HB89u9/7bX+vf4l1HnpK57hTNCE0AzqAS5gAAuEID5KiWSiLPf4tp7YUjcSu4yLZzdi2IJyNXANcBlwAdAKzAHTwDhwDKEPywC+GZWHbPi7IKOvZIWguAnlr8BtwJ+AxDJeDYCPgF6Ed0hkh+Weov5mZLTHJMDeBjwYk0itYJtKTOpZML3SbYNfnYz2SBr0buARYENcFytdFvga2AGyT7p14Vcjoz3ShOgdKDuAi+pUewpMIDyCypvSreWGk9HdroOEV2F4A1hfTxGJCX2D5U7U/UzuD6NaXq49NRJhBsOjwMVLEtE4gaL4W5cV3IsxPEoizDT0ZLTHcSH6M/BWLLlVwpQKuPzhb+i8sRkv04Y/e5rvPigxtnM9trKU2k0D28A5LN3RsmXbrbFOU8DtQLpqfJqu97nh6TydmzvwWpOI8VDbxqbrkmz62yk+/Ps6yoe8KkeV/hHHfgrMNyrNEkBX1SAktgRs3T7ApV1rSWayiEkDLmLSJDNZLu1ay9btAyS2BEsEuWuZ99WKyRhgHeCcn8wGw/qbOnAS3jmfOwmP9Td1kNhQDduJcUwjyciS0RJXMMkWkPPUo/z4XFxZRhZII8mEwFCsT+f5xXTE7FAOteduItVaZodyhNPVZDeKccJGkxmsChIMOvTt6aRSzIP+7A9rRKWYp29PJ8GgsyqcVauZSADaj+IDTecWvBlD4e01HKjM07XtOOuuy+A2X0BYmib/8SxfvLWRYm8LdqZaCvkI/SDBci6nld0ze7KCLa4F3gSurR4MB5x1FnMhiCeor9hJiPKmWpbGp3EU2IbJFuTe5XfStbczLxgP7K0IPcCFDWhnJoFuMAek2/oNbWdku/WxHATejT1JPZcPvINysFYiK+gAFkXTK6H+MyhXADeseJ9fmrVDM6X080/+p1M2/yFsD1zjEIauEeMAqNpQE16oaKiqwfjYeLk+fuYl10HDq7DsBTavxs8o6FzFKez/dM3rLx9LjUyVxcb7yVkfzmpXFbACJURHIxgyxkyu1ml6qL0Z4YX4xl7Jfrrgm9Ov9bX/e++x1tHCgkQ11lgELGA4sBp3iHRbH5GDwJPAFLXo6KJnDmTh/aG2w2/3t47VSGQxs1zAE9U2s9pEjx3hXuBloCa7G1rxv8o3f/7SkUz/UFFWMqGRWMpHAqsDbl00KGotIXM7MawF7gKSS5oJJRospI7v+rD96Ikp8aV2EgrkVPW4OnIy6SVL9ZubvZgyaOVyYDfwl2oNqVWiXNEb231oTe+/BrzvK9Gy01MFyoiOKzIEmqsEfjGf/39U1yHgosJFUXhlFMl+z9E/nkvhVNHZsjux+9Caf77RnyzMBaJLmW4RrWAlB3Y4Uh13HLOA4wQjo6O2IRPNxVV4JuG5Et2SSelzjtFLzsZQ0NIZ8/2rx7K9+/paxqbKvyh4Bc4AFQxzau23Dow7FS+nHmfEUz05OqINH8+evXJPJVOuE93XkY4eSziaXcQpB2b+vZNt7+/8IPPl2OxPRMJ4dDsLzIho3hpzamJ6aqJ0ei6qtZAasmZ2OS1RyOMd6egBIzSFVoKj4y1Hnvhv+8cD02ZOkEmgIKITVnXKWDs1ksvNrgbTbRSZ46cypY50aWcllIsyKXvr8GTyi9f6WvePFGVQhO8EPW2NzI+OfV2pF2bDTgbg8D/aJeVUspd1BK3/G24u7/skO3+iYP3h3LdhI/B+AGodUpo8WKwoAAAAAElFTkSuQmCC",darkOrange:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAgCAYAAAC/40AfAAAStXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjapZpplmO5boT/cxVeAkeQWA4H8BzvwMv3B0pV7qou26/tyk5JeXXFAQgEIqgO9h//fsO/8a/2KKG2PkRFIv+qVs2TFyN+/s33mGJ9j+9fKd/30q/XQ/5ej5lLftP3xiHf+39cTz8H+DxNXrW/DDT294316xtav+OP3wb6TlR8Rb6K8x1IvwOV/HkjfQeYn21F0dH/uoVln+fzYyfj8xv84f6ISf88/f537UTvNOYpOVtJJfL4DVbJxX9LKJMXjcdcKjem0t/r9q7/2BIB+VOcfv5TVnR9qfWPN/2SlZ+vfsvWNwJs7bds1fy9pfwWZPn5/MfrIbU/Z+WF/i8z1/F9lX+9nkpKnxX9Fv0X/HvGfXtmF7MKoZbvpn5s8b3ivsUUPvUILE3IjoChwbP/KD+DzW+gcOKOi5+dNGXSdVNNJ810k73nnTZLrNlC7rzIeefyLo7Ss+ZdPH/Vf9LNvWg5ZZDL/dJeS/65lvSm1bjDm20w80ncmhODJT7yj3/CP/3AvV4KBHi81KdPfnP2YLMMz5w/chsZSfcb1PYC/OPn93+e10IGm0fZS0QZen2GWC39FxOUl+jCjY3nTw2mfr4DECKmbiwGBNRE1lJpSVLsOfeUCOQgQZOle80sMpBay4dF5lqKkJuRfWo+0tO7NbfM5cB1yIxMtCLU2SBDk2TV2sBPrwMMzVZaba1J6200bVOKVGki0sVJcfbSa+itS+99dO1zlFFHGzL6GEPH1KwF0mwq2nWo6pzMORl58unJDXOuvMqqq4Ulq6+xdM0NfHbdbcvue2zd8+RTDvxx5PQzjp5pyYCSVWsm1m2Y2rxA7ZZw621Xbr/j6p0/s/ZN699+/kHW0jdr+WXKb+w/s8bV3n8MkZxOmueMhOVQExnvngIAnT1ncaRas2fOcxYV+ists8jmOTvJM0YGq6XcbvqRu5A/GfXM/b/yFnr9JW/5/5q54Kn7h5n7e97+lLXjJLxfxj5V+BiwUH3cM/PgP6r178/h+2IWNXr3IZDKnG1YHtrtFtaVWu1ilevx7tYtr7VXOy3nSum0NHSeHSC4lcbIFUozk32J9iFdrXthMcaFq0z0Wlp6+qg7HfZer+Z0+zpjlQ5fRmKkS8fOua1j1CP7llovW7E816hHdHtUrZ5+oz0IDLDFuIMOT2Rma2CHreke6c5TYFqCY9puXmPuPRcL6KvoarLOvlBpNrRL37lJbySs733aav2UesPNIHA2O7WlZr3tW+ML4QSvXKsuLPpsgL0u/mbyXnZpdPGZjOttnz2khypsW2Jt5Fozqdl8qnedcofdunR20BHbANt15T1WAltjrZ53p6nfQqC6rqBWe6l0nMIi9+69RD0LYHu7WZT7SBuQzttKZNQmaIJGvHZZtrsC2T07siMATFvb7ja2C4/eLpMY6Y3jssO25l3SrxyZyBE7R4kTA+Zia60CIJVPnhkqFFtZ7lbmX7OMuH2OHEEBv42VEN66HZf+st21L32sSZIpaVIuvZie0Ge0B9BFHxzfMMd/8DzkZjNwFFdW4zWFApTWlpP3vCOzxUm1FWKkBtHMW+zI2iReZFFt7DcKsCld21qB8OQjdRDXQhXmKB1CEcC+q2c0bT7SjLbfG228GPk7hRnhmQNmEQOdQj6htHgI3AZ5KV/KSy5Qvz4ukCY1hWWM0YhnSa3Uk9dmzdAdoeYHkiPXuQbNHUoZk0+U1KEXyZnw7UUCFyAmnmlQI1tjE1u3fEp+abX5p+r/Iz2QS1Kc9umzQg1lt3Lhw1NuHXclsLDiGHcfUBnKZe/sIx0kz6JICFA+2cTpDpqVDFCytG0wMyxRxibwdjZ7Il4ytbdVoBED6TSBNCbLX7lBnKTOUXZxF2o2nAngN2KboX6uU13NKlAVjWsOwqVSAwGjKo22ARgudUtcr3jbr7JqqgS73qGbknEAGrMVbrKz7oxe06mx+Z3Ct8DT//JMvxjD+NC4EX461F1OUiEZ9Fo6PQak4+Q9cFXp/RXYwfqdetl701wUChFKMN42b+9HHuVV8vC2TBo2vXVGDSCqz6sQl2sSK9HIcSu0Boa7ZhMwb2bxhfVtCl19V/kBwlpSpmxq7XRkqEtPSbqTM/gr6VupkEZLO4fWYHXTxiKN58CCXNsCME6+O0Pc7LgEgroA87HqGzRqHg7g1iwoZdilXwZ1KQgjzcFdjZZAWs+iOv16vVkgmkBYdJF2PuA6s/DJnibdlxZzJwDhCu6LAGRQmeH6TpWowl4bxmBRWhagC2iAc05T0HOmEgY2Au9Qj3bpoMwJCCe7bsTXYPTvhMNbNy35wNACBQfebVUHW6cb07j9jtu4NhM6gGYFw2/BSEz7shWMncc+X1RAvc6jEiaCB4r2pC2MMTlBMZVELQMZ8sm87CGvc2yZLlbHzL5AGkM370hIm3UtpL4vKf2U9EEeSP1X6XGmaf1u5kU+BYRD0+6xqOhky2zr/PWGv79/S1EEBfVpo592XV3EGVjeB2AddoXuX/mwwVzp5WiI5K2oRm6nfGNeDSKS00DeGClvsFMQXpYCssEzwwNTL5wNayGwm/Z/EJA80jz7ukpsB3THWulMHV13IAfym+m+VAleRFOX4kRD6SEbCCQl4mKfAWCOJhC9AtoeUZMtbl7SD8aBayBoffyKhlwj0/zovihoCM2J6cwrkAYIoUEAvaO8n82lBUATNBjkBuFAz2jX69Gii1xgw/YFTl9mr6KFjXbxEih0lDTYKeQDaGlYWEA21FAdcME9yQnMc3hDivcvCX9w+QmbsVAVDI0MBeQQnLNu/lxhFsL3+SBgK+Gf4ebcDyzS32AR/jFu+gc3v8IG6fcDNwhHF3qHHr2JKxWOxa4GvSBc5MDZFQxAfgK1S3NJHLvz9aTBQRjBdTjkIZooUtwD+YcX9bWmaXD04mOOlQcfkghzo2hSvcz6GCkT/9bCKBEhhWrfyE6KFNm7EVoFtQCBILKAYro1Ge9EBFtVWGDZhCwaHNAQyAnJH8MtiKZVBxYBAYpEVEJZkQkoCMNQb2xFRX4AJ8iqpu7AqLZ9YXR/yB6mA/BBYR6iTfPcvZZ4yvTwcA3VjiY/9MkL6fVUNBu690BZQJXyQOShufFPKAW2dg6qJaPqaRfwIi2p+/pxEpdcokQK3RHJqILUAfKsNV1uRStfGq4e8Or4COhH4vE/IvJ3PCqY/hWNgDH8y2hcU3c+NAb0VY2If0FNd5zlrVtbph0h75BRgNL7LH/ePtT7LAouIZ6E5v/6rFs9Yo8NQaluBzGOrKGMHVkrFJe+bVOGy7B/GAhBBjJg75Wx8G/e6RgXkjmsCy14jXxw+63UNLEr04kNyoc4BNw3rJ0r0a7S3L/ebkgoIU3XOR/oYyHZFn+IkR8FYWQQfYgUa8hjrIJMUtkPsgHxr191N/JPtdzzIlqomkJs0dZIJ0rB1wCVQlNSLeBzyAw6N4vEM1B34oIfH5zBSOXNT4Mp+a8iHItfoMZdELWsAuILvO7QH/VNQo6rWzx9o4niuNx/Alw25XGqqBW8GS0x0TSN1TcuirqCbick1OFedZ+IZm00BUGeI6Iw5+7wwDNekAElOjrPoEAQ7vlaLndsJwZlnb25zTqYKdmUHgoVoW/TbQoQRyzdJ6egYhzH0x7R4sddUrh0GdT7wJTo0UAhkp5zgScViyGnkayJFFkIPW9+h05xySh/5Sdw8JFU/JvgRGjuWkxoyPeWx5SFsobrf+Nz3o0uOrgyBhFBfZHXtly3UTF9g4+Bw4iobQRTCahTcObjlt7co60nhwsZBdPNRKhMbYcFF39nVRsJk77A2qiMd8yPxDQUc8qtLjMhaH6n4s/cxkTEKvwwky/eF/Bx3lD7/INVCN8X0LRRg/vNekelk+FYGNfdY8IvYHUQXnZN7B5cyj2zAWqmX/idg86erDH7wYsiP5GtFcqPFEfCn70MQZ7AFbbod2La6ap4VgiTKoVgGoaku4ZMKOzW+TVv1V7KG4HMipBvtHCASd/Jxc+astMWOkDIOk0ZW1vOVZT5PrWESpfBRY423JcjvphjR0FHIPgorIt1VCrZGzjsbhQQ5EDFYudxaui3LJk1YPxw5fQVGo1+Gp47uF9F+R+dGKUKbcEHMIR1Cdk7Iu02D0X1WK4R4+7apqMdkDdMookuMgfea/phsvh3H8go/AOWFZZiQWWFjHhGiqSCUySO9FC6wXN41dWxHwSYPTG2l6cpDTYLzeNgMRqHoqKfdoJN53Syk04No6vmpGJKrscZchpwv8fe+U9EdomvwN1Pxh3Mi6LVtAFtaQitxVbBbSWOWKFnwA4suZPO5n+75os4exayDhZ83KN+ZnjdpGdaHAvut4Y5n/LGW7RKye3E/CiA5Qt87ANeWC14hAhGfLUIVEg+1oduAjaf1Apo9P/W9KFvcN2jEGpgDBoLPJz/puvRFGyNlWOhEhtxu9DRKNV0ozFB9xP1Y3WUTfFGRM+1om4xKgHeKeGMB2oEFje6CDRa0cBIJz/FchGAmHATTihQBojPgf5160WbqQpsN1IgDWFfup1Yd4KzMXjXpZQlbpWOIE+U1UkKqT+bTyXjre0dZ1U/Tft64hr/65nghzq2nw+q0zs0kw+2aMCBLR3UZZ2IMJQz0sUD0Zz9E5YS4vfmQTy2lwziI7RSITFofBE5qbGwBD/NOE8rUi/gqnk3AjzIJef0w/4+X58ISyh8hDQEQu1npzAGoCHoSE8IzskbcY76Wl9z/8HWH/JLInx7oUFd7APzRdOjJQgM7vYYyUTSucMPiunOIMij04t9FLqfV/81VuGXoH0VLjIL+d/84G/gxPMp3vAuQo6OFxH+Ha5Cd7k5Ue8bNUtwn1txU2cWDOIUJOeC7JSST8MPjXZVVAP9TEmddbQdoQX64PA08TZsxi82SzY2G95A/0CUbjSKwxIiq610mIy9IJmmH7AOQFE9KJQe8pgxyi4EAM6mC1HLSsshbMJO1Pzgjj6DWb906nvgnn7xBgoPQENyHul725zomKKEDXMMs0A/AitvQzdvNDVvmDMo5BCJd6e14c2Vhr4GmYGAzVHUq3+TMEv207ca/HAPoda7Vcyklg77X+9nFfXgehp7dyraEC1HyG8FTlOyOsSRlbGgWSjAFHCnAnfDZ2jq/NqAkGzsQETfUyaHlZXL6ogHrTopSECq09eoP4llyTvWC24H4NTNJhpcpAhXq09Wt+GYbnul7vb+nbF/TL0r9NcFqh8PrYoK2OHRb3QHiysgU2DERaHhACp967hQTKgmcN2JWUreSXNZHUshBZOCLnI7GlCFKArV+U7Vp94l5xB9MgRbH2gYGQOZOj46DQeF3tG9hrDU9mQOThdP8mTNfCrnwJwISKQPnT0uR7VNigXpWiEFP0Lxr98KaVRvvbFK9W99yFLG00LSEBRM6N9hdpSdn1v1xajAaNI5aoM1RvOvbtFmReiHev0we/lXd/QOdgDhk35za4XWdq2Kq0CLNKSaZSMmiFa3b52utEkcBgkaBtPuvCgUnUfhvWgjBioKqFKmzXuYpxTl/eQshPPO2ShJRza2dD8dmfb8nMrEf/mI9cczhuFgqAQhsyhVlS50UbeZhXJw12E90H4zEaXeyEpzm1hL9S8p8IDmB3Uoe0SMkyiamhaFiUZRkxc/jhjIoYNyQNaQfNBIVzUIyF2vZUKndnGxeMRUKB8atHpXwjJENI834Aua3xE9HrDApxJwLZAABnp544Cu6gTzDanTXSRBCgWnZa1TIFQX/aCR3IJnEahlwKxX5PoZ2xzJv1FDSTHR2I/yJ5bIE+PfISQqkGpHdqMYFqq1uu8F/1n8izQPIr5lhztexUKSUDfKYvHn8KA6E7wzR1wtru04SeGJVKUgRZzL9yofVU7H6QEpk7p/0zasYFQpSSG90K2fcl64K5m79bFoTBb91AYHjv+/uSLhYRe6bvajej/vvKkVHJ0TPF4buZAoev8WpEDemJctMADcTzd4GkafL0juiyEKwG0XETEBfR4bioCLBmZlDprvZuGtR/zHJPHinE9Ok5/YQ3yYCfrV8iOC1oAVOgDBDksbjH9wOmwIuBPo5icdgiwS1wbND9YU/UHbRZBMgo0IV1jpSUKhQlaYrnkehdAkrI/jgs7JwVWXutTfHbKGdLO6gSFyCyp2j738tB41BgTSDRFYZZQCTKx0bOZkVEiuHFbhtecqYjkv107p0VeeJ6GFqZ+UMrS5tr5BQKz3toOfxbe3a1dtvW+oRnvdOiOWQK+fRFWJgk9hWwgNBvX6peddODKw713i8VM+1Bw+zzXE80FMMd0LY9XoxN0P/Nty75bP4xRkTPHvFMwzuwKeBW3l38aB4uaPlBEG8s8HGwhv/x9y/hPOIdIfHx3GqQAAAYRpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNQFIVPU0tFKh3sUMQhQ3WyIFrEUatQhAqhVmjVweSlf9CkJUlxcRRcCw7+LFYdXJx1dXAVBMEfEFcXJ0UXKfG+pNAixgeX93HeO4f77gOEVpVpZt8EoOmWkUklxVx+VQy+IoAowlQJmZn1OUlKw3N93cPH97s4z/K+9+caVAsmA3wi8SyrGxbxBvH0plXnvE8cYWVZJT4nHjeoQeJHrisuv3EuOSzwzIiRzcwTR4jFUg8rPczKhkacII6pmk75Qs5llfMWZ63aYJ0++QtDBX1lmetUI0hhEUuQIEJBAxVUYSFOu06KiQydJz38w45fIpdCrgoYORZQgwbZ8YP/we/ZmsWpSTcplAQCL7b9MQoEd4F207a/j227fQL4n4ErveuvtYCZT9KbXS12BIS3gYvrrqbsAZc7QPSpLhuyI/mphGIReD+jb8oDQ7fAwJo7t845Th+ALM0qfQMcHAJjJcpe93h3f+/c/r3Tmd8PnXByuOaabnkAAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjIxNDZjMzUzLWIxZjItNGVjOC04NzQ3LTIwMGEyYWExM2ViMyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NGViNmI2Ni03Y2I2LTRkZGUtYTI3OS01MGY0ZWFiZGFhODAiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1ODRhM2VjZC1kNGFmLTQ3NjItYjA1ZS04ODk2MGQ4ZTk0Y2MiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE5MDM3ODI2MTQiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxYzNjOGRkZi1kMjVkLTQ4YzQtYTAwYS0yMmU3ZDYwMzg1YjYiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI1OjAzKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PuhCAHgAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGQOTjc4FAAAFdklEQVRYw82YW2gcZRTHf+eb2dlkc9lsrFYr2notfSgWxKKiog8VvIFI9UFQEaWtYPFJfREfRRSEeqlttViLD/WGisYXrShWpfWC1WpSN5eN3cZumkuTzWY3c/mOD9lI0WSTTXbVA8M8zMz3n//5zvl/5xyhxqb3ewYvaERpAvUAFzCABUIQH6GAHyvKa76tJbbUjMRW4+LbC7GsQbgCWA+sAs4AWoA8MAxkgEMo32LoxDO98oIN/xdk9IGUYEYvRrgduAW4Gogt4NMA+BroQHkfm+qW3aP6n5HRTSYG9hZga5lEwyKWKZVJvQCmQ3bZ4F8no5skAXov8BiwspwXizUL9APPgOyVXTr5r5HRzdKI1TsRngHOqlHuKTCI8hhG3padWqw7GX3IddDwcixvAefXUkTKhH7HcBfifi8vh1E1H1cfGkGYxPI4cM68RGw5zf3y3S7IuedgeZwgTNZ1Z3Sz46LRNcA7Zcmd25yGgPWP/M7q65toTLZSHBvn6OcFDm07n6g0n9oNAxsR54DsjBYs2251QWAbgFuBREX/tF3rc9+zA6xa3U5jSxwxHmpbueyqOOvvOM7rj67g1JfedFTNagngVtR+B0zUK8xiwLqKTmhcE3Dblk4uXbecRDKFmATgIiZBIpni0nXLuW1LJ41rgnmcvG6B59WiyRhgBeDM+UZipWHthnbcmDf7b8Y81m5oJ7GyErZTxjH1JCPzesu4ghtvBpkjH2X6uXFlAVEg9SMjhEAamFsyp4Yjcuks1s6uXdZacuksU8OVZDcC0mW8OpFRQqBruvqdwwpdDh+9cjaF0QHQv/2wRhRGB6afdzkVkKZxtDoyVaqZBKCHEXygcXafjhi63l3G9tIEGzYe4ZKrksSbzmCqMEz6mzE+eedC+juaiUYqhZCPchgkqKB4SzxntqQEO7oceBu4srIzHIitsMTOBOMJ1leCkxAMmEpRWt6Vg8BGTConOxZeSVdfzmwxHmpvRtkJnFmHcuYksBkxH8tO69e1nJEd1sdhP/BBuUippfnA+3jsr5ZI9TnzV33mFcB/DuEi4LpFr/PPZu3LkanES08fOltWnxe2Ba5xCEPXiHEAVG2oMS9UNFTVINOXKdamn3nQdSC8HMMeYPVS+hkFzQdObl9m2Zu7+xt6hkKx5fXktGumdNXyZQUKiPZGkDbGnFxqp+kh9kaUHeUTezHr6WRkxt/oa/toT39Lby6QqMoci4BJDB8vpTtEdlkflf3A08AQ1ejoTM8cyeRnudYD72Zb+qokMhNZLuCJaqtZaqDLLi0i7EHYDVTV7oZW/J9PNf3wanfycLoki5nQSFnKewKrnW5NNMhtKRDlt6EsB+4G4vM2/UrUNd5w5Pl028FfiuJL9SQUyKrqEXXkaNyLF2o3N9vUYKB0AbAduKFSQWqVKFv0+rYfXdbx4aB3qqQLDk8VKCKaUSQNmi0F/ujAwB9RTYeAMwoXabg2QvZ5jl4ym8Ip6FjgDm7/bdl7bw3Ec/lItEJyWyAS0RJWsmC7I9WM45hJHCfo6e21dZlozlju3pjnSnRT0tMXHdFzT8dQ0EJoTr2eSXXs7W/uG/pnwiswBZQw5NXaYw5knJKXVY8p8VSP9vZo3cezp1v2nniDK9FD7V70RMxoaganGJmJT0+0frbtt+RPfVN/EQnLo9sxYEREB6wxxweHhwYL4/mo2kSqi43c5zRH8GS7Fz1shMZQJTg41PzVU7+2fdNZNHlBTgI5ER20qkPG2qGebHZsSTpULzJH8slCe6ywrWTlrGTM3tw9Ef/xjUzLvp6idIlwQtBxa2Sit6+/VCvMuu0MwIE726RBSqlViaDli6Gm4t6e1MQveet3Z4+F9cD7Ewo4WRJBbaaSAAAAAElFTkSuQmCC",red:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAgCAYAAAC/40AfAAATbHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjapZppchuxEUb/4xQ5AvYGjgOgG1W5QY6f10NKtmW5EieiTVLDIQbo5VswCvavf97wD37qyD3UJqPP3iM/ddaZF29GfP2s5znF+jw/P6W8P0u/Hg/5fTxmDvlJ7xNHf5//cTx9DvB6WbxrPw00zvuD/esHs77HH18Gel+o+Ix8FvoeaL4HKvn1QXoPsF7Lin0O+XkJ216v+rGS8fof/Ol+xEReL19/r0L0tHGdkrOVVCLP72CVXPx/CWXxpvGcS+XEVOR5H3mu5SMmBOS7OH3+TGZ0far125N+ycrnuy/ZekeApX3JVs3vU8qXIPfP12+Ph9S+z8oT+p+uXMf7Xf71+NgpvWb0JfpP8K+O+6yZVazaCXV/L+ozak9Srm4u4Zcegal1stOpocGrPyaPweIPpaDxxM3jpJky6bqpJk0r3WTP60mHKdZsIQtvcj65PAdHkTzzKZ6/6o90s5RZtAxyeZ6015I/55Key854wnO1wZU1cWpODJb4yl8/wt9+4V5vBQI8ntSnV35z9mAzDc+cP3MaGUn3HdT2BPjj8fXH81rIYPMoe4tMht6vIXZLP5CgPIkunNh4ffVgEn0PQIi4dGMyqZABspZKSz1FyVlSIpCDBC2m7j2zyUBqLSuTzLWUTm5G9kvzFUnPqbllDgeOA2ZkopVOnw0ytEhWrY36kTqoodVKq6213qSNNtvqpdfeeu/SHRSXFKlBmnQRGTJljTLqaKMPGWPMsWaeBdBss0+ZY865FtdcjLz49uKEtXbeZdfdwu5b9thzr0P5nHra6UfOOPMszVoU/NCuokOnLktGKVm1Zt3Ehk1bl1K7Jdx62+1X7rjzrs+svdP62+MvspbeWctPpvxE+cwaR0U+hkgOJ81zRsJyqImMi6eAgs6eszhSrdkz5zmLE/grLTPJ5jnT5Bkjg9VSbjd95C7kV0Y9c/9X3oLUX/KW/9fMBU/dX2bu97x9lzV1ED5Pxl5d6EGNhe7jnJUH/+jW31/D+83KPiEmlrd0ZremEblUT7eZm0BzexaimmXYgubnuEPvkbQGa9wthiOWrraVZNfSbR0D3dM5e18pXeZJJmnLWKdvldHSuKUOsxOt3bbTboUw2gyslJWdOaVdy9qByFHOHqbkHGo8yhf7pMzaZaS57phW01Jel0mrG5SmjUNddDez7oydWuXyM2lNdiFWXboPJVg7FGLzCt/lNwpH8zahiOZobe1kVcJOl4zlA+HOkZfx6ZCqda7d110dOqk5j555J51FiWZST5Qtdd1klCVRBYFSJPLQBhVUm0uIVsH9rLkAPGR3mNdLnms6F9jxCstcglo/til6U1v7hJm27l3rQ7HE7SzZVqiFqgKlzQ0BSa17KIOX6mWnnHzLOfToTkNLH9lgkXjuufNIsdmoM5nGyaSbACl51ihnS4t7TBrI9uikqdFIpLPGdaGkO4e2QBHMZEe8Ls6U6DWk+dBZ9VLGu98lM11aIjXjakwmrUP6KF24IvLlTbBSMKXAz7ibZFg6JtIZFqmoicKJlpnItETwSSfBphrjGTYkkzzqgArxS9wA7/o/amHMG4VpUQ4naZO6llRb63b19J1i3g9Lqy/ptx4Jf2yej95JmyqnPp40nD1FZ6eEE5GkmCLLXyizGgweEiqMDJ59WrKiWnajjLNcFMFdh/WCApcKnDU3Ymiqex46z4jy0O5rCny1U8sU44naDrlFlpBoiqK2FSlQEkHj0YlVtbmq2OSJIt9n3XKPnkuWEFrHx1cmu67wCdWWb26RPgIq6cbWQSCh7ae1mavXCLiYj//UCeia5L5SWHfOUy1nmsah0qgDFAnlMSvhAGM7iEUB9aZX4xO7Zb2Agc/b+D4UPt78/jq64wBC6Jaup8vuDiT7JCo/slSKKILbA1xMusPOqh2o3McIKmivFJLa3bxx2ChgFek5k49tFcrJazxJPZAlqmxVaMSQfstACssdyhDQIDJr+rfDSzfXCzFsBrte200pvE5xAkmDNjbIohNm5klmgx9YnSeanMqY5A/FTwObIRibOeDRqguEXKfVlYUsDBao9WTlykDd1C2A/6v6HDLrn8L19fWACeBm7jfSqwkmzehsIIaOBraQNtfrp43aAEzqpEvhK1NPFeC4qG2jkWBXunMnuOISRcCYsAdsF3O7fUNnujpInQp4DZ8KwV2FmvtIOsh0MU0/t5EmSrcCsRpAyod4KFVKDYGfrdIxkSyVp42oJ1W+RLmRdmi0Esc0V7UIzJJ//A+4FBq6GJDSNahvqK0ceqdOtLOlCY7I3aUpxTsUdtOZL6m/rVwjKAPk2qwfngswTfY1DlqXBA1y3zIyIc/qRPHoW5SIy37KpWFJjHxD3I6/c2bOA3y2hQ4pYTZgbjokXWhk5NuoOmZiZwI/XVUnUEJFcawCmm1Ta/tw3ZnakHNtNGbUWEmVz6sXlxuq5lNV4lOqIJuQU5QHEMeyooAIrnXphlkdMea0QBdhgMjIKxu4ijyOJsAkNkSA4nW3zegoRhLwGvsiwsZFjaA+vJ+Pgl41LFqKTBzKJzeY4y4K5XoNc7nis0wgQnLKo12glDFaehPgz6/h64EaExPNTwJAe1DE3wFUMBxd4DV7naTKl3PCl5MMxeG/EgQoy39r+w5UIWwAZ7wmNqNo/ZhYKgiEmkMjJViEcWAN4ggPgzAdfloCgu4iHEgRDTcRcXnedsSBlODF7lLlgOpER4KNup9IZKHakS9TXDhct95PHzZaH3cFI3KsEcHSDhw4pxZUZEFXqYrF0L1DQXjKGS3CVVwx8nDWQ8lEU9eXCBiEat99LPSlgWplOVQDS2NDg3WSNSQYde+YyYCuVZNkYNUgND126YEyidh4loQEG2DBs/cx8KWQNz0yTgqCTkMLmclevB/oQSuswMNCWvYAHh277jmLiswGO2w9Q1IplD35KTr5Hkwr71QA1z9KYTfXDe9ie6JJUVGMgMsSH6YhBvcTN5Z+bw/6BkhdiOf4X0Pk+Qpv4YVvn/BmtOy3CPg+A8gw+v/J82EJl0ikfsma0i508WtNQFu6GJ5nsZ7sTacCgBfB1FmObYVEFLW3GkrRWXPP3mc5A+7fEinK4mqRU5D8gGpdNjZaTx7lfU3nAo5S7q6ZuzncQWjEbqGSyCJeBLuCbu5dB2B0NAvwQyBz0dO4KqIKUmzL6q2DRavRClhgVIC4xaAFJtpuxYBysKndvZhDL1fAUIGdSPVI1pj/IDsdOKzaO8oQp+O6V3E/4NI4XnZr1TBg9+zyic6BWbfzLUlOLB6VgvGd9dJlG2R3DQsnLrRb6tTGFEK3xB7SD1RT3S59Z7c2jisR42rokoQEIGggP4WMs4k1IYD3cOfVdnNjhiKwU8dM8YaSfVVYkKt2aOTuqsgBZY7jUazQPnqrocQgNSYPRF9E+SvLGIzVnyRDRzT5U7xUMb2wAFgAhqoHIja8Y7WQRurG2vHdnqeq6N53vShmnb5r4SmYj8L506vjGsLOMErgHKOchXNdCpdq3QKvrjCj24kXD1E11zUiyyQP1MMjC1GiLD4NtFbhbGXGdkY8i7TXDL5BETfhadPCzeugxtwL4lmKYfiQ+XpIzLxwA9hIky+ggMIqYFfDmiPa8AX7XMRUP+GAPciSQmZh4Q3ckRH3wIhZAsCijAbKl3J+pBtLw3pYK7n4IYHuIwk8Qdyjb+veV3i3lQFXjE95i470ifEZ34URpc53BJVKlIXJwbJgCB41Ag71DFpSqxtLXgf2MW3cvBmvhAaOZEiIFY4AVBNM8UITXn7AS1iF7J6pAoWAjmh4y5Wmx51o7qBVgkfol4MYBDQ6qnu60cLlwDyLZYLAnBUqs8u49IqKPjh1RKKDN4iOh8DC90kXJ3xR8Z3IXSKZY8wTHxaiwMkIazyh4r9Gh4PQgzQ5mi1l/HgDodGAEMOgPtzPUKjxDvqs3BfQ2QO0J2IC73XMhu3pL5h3OK0uF1GF9tgFiBzAEbEjPTfS0cXuhVAaV2toiWcgvopYcMpGI0r0rdl00vNRBbx+vXb6+do4CCDx7s8BhYZKAbGVsYEF33o6xfVwbB6PDhm42oxaeA0Pis6BgJjTlTqIdcdjI5CuK9YAEKmrYea3ZUCxeBgkMLVzXT48dD4WLX4TigKZ1x4yfWTZoIw5Yfj9Abj/j9QD9LCQRHR8r8ZAtosh4YsTZzwE6+t04rsoc2+g1h5gIHF4+O1J7Vg+NGbz7SfwOlPzvqVFhJCQ4mnAXHYqSrG5AGNBbEqAGmFR7CdXyA2PXUBbZDh04fz6OMUM3MHoVfGpA62Ch3LlCzVgC7l8h8oDzdHdYxXflJvm2zGM3fYpvodExdcdIZQVxzzLN/gLhzHDXBEgfgFpqgumRYc6Z2AyvCqVChakJ3UFShQaws6WkvrLRGBZ2vdBDT8fmO5ZrS1WV7AY6aEvuGNBCy6dENU+H7cj+IjURXxTlPiK5oBpiACdbw2ydEwhPeXgVeb0ZnPzCSk4aFIe3c7D+pQqdIRsEnklqk/0kTRiCrR5Cwx7NlvcKcK/+C842Hscz4SUBV8uHsfcFaHWDgNiVHyPq2tg2I0GwSGsCArBXY9aaonlIA/89/xSTMxu0YksrZC3USmjxhTd1OydAjy7HAWjs35LiSTJJGK+1fLY/jYha/Vtoc6KLD7NAwjBqov6ivQQKv+1N5Lit2LeX0kyrAOWwx4Y324Y6Ta1Pfe28KB+o20SyxGKged8rR68DLyOIPFZ8CylJuyKu1OIFtC7cUjNvv1wXNFyGgVX0BpryQgwPEYaTYyRPB4XzBaiaPdjDIqGRRW4knDdjsiAkxdzpWuOpxqgQMMzl0uLjOmW/UD7ziKzeymC3sVo9mXbwe1RmQix8c2+EFYJ2pqhsAx6apOdEn2fGXY9rvHJmE1Ae+fyqD0sH6o6dwh1wtUz6c6+XccvEf4MCg1gEJAu+DwazG+DVNf1RCkDYkgs37VXmFBbf21t9YRme7YS1HcXi284Q9kfNGWse323t0VlvTrImQsPsQe6oMLeHd2EbPNN6ub3aUuCjRDEcgcWHxX+kvCkf/xHvW1E1jcoJZxauvcKydiCv48V37kWZQxtw4qJNODPVsIU+R44zQtroi0Be+hQX63ZyRriAqWJJEBGzKI6HJPsdjpG3Vc3onja7pSJW3QaDu/lW8PjGISJQeEi9QZyj2GseK/BcVrkzo6CmB6a4tMCg2mQY5Ir7qkXBGGv51Yy496L2SD5l4UJHQG9D4NFJC5gLAA8HHMB1ULcWPqjb/FcfCK03wHQM64NAO9+x/lQNAHAAX2YIPJ5gjLOmy259gcgyvU7L8idDkJ2yr1iWAUkKo7aIk9uF+QrKQAFiq4u8yDdIZJNQ+Ts+x2oKKSDb5VtVDdyAHQi/ANtRPG4NK/Z8W1ilCdNK4egJtQD80GKITglgrcAvDm7GAgUvenMrdOOvrlEwcpEut/RfSe/eJeHm6vvwhdX3gi1lwnEsNAm/jZX13mIJM+UrhGdBlhhvig38IwcJ8W9zsAUzqpRN4VOZ6jfC6b+sS/Y0+VtHOmH6PwKZYMjbnwus9HtO0/IURgRkxFYTHJapCqYIzWFN4BpySEpeKAeD6PzeaflxfmdVkq7ynBzOtqlqAW/BkrR0Y7mINvwbWv4iO6GSDPJHdmbG+xH+UW+DEnHia4hqdQ2ohfBna6CR8CN+u0CFILsuJOLZ99dv72NlBM1hBDGM8IP5TFZ/QAQhDXKyVAIySckQWg/67gP6hDcqVNQlTt3Z3Bp5Ksj2JAxfs+OKrZqmi8nKzhDDVK6ie+cEli83+7BM4qzhKseI23xey7482t4xHg1VjMBA+zFo89895p+Rfr4Ni6Ek+j4+ayNAovkBd00m7iCQrQSvXB97wCkxqsPopP00DnR7zRQIHs2uowUsjA8dPG/jrjS/UYoEgyM9Xs/FSUpLaAjORmgMNyebyyd3G82egkJ4rfESLTf/Lfie7SAK4GFZyh/GrsDyRW3gxoNiJjVkPK++Ygp9T1h3BB4xirxqpZXj7YAtoUcBcCwBRv9j0xh9EFhGOyOMwoO4rmNW/1GTWx0/FnUAZN0P19SxougYiS7BzkOfe63MH3Nd29lMhC6UvG0g7Pwn4sCXag3v1t6XXfn5RrBnc4hwNv3CiYVAk75nhTtZy6QhgFusIEE1Gf1sTiISULf0Q1Ukd8PtZuzAzk1bA2fbRAJUoZT0iWiKGNFpKKLerkngI3DN5P83tEsCCValn5tCSSoAFZ8NE5iZCGOFvnI2+fc0hSMyOP6hgheBC/JqM0XtzPY4ff3CcRZGFPQp+eT9FGVEXZAx5l6MPfTxBAh6p9mAdsCes1v4slb46vGhDSdrI7iP3whocfnC9FXoxzU/6gk3T51NDqRmqXEDBZpfvMByw0xUJeUSzQ5viPcMHg1uzxlzOnc9szCN1b5NBH44/uD8eVHwoMzBAdw5t/eZ7uSp4CG3yd2DETwEdbr9O8QEP3Wg28roCeRYRkHdKL6HzKxMGDwGRf0vRjBi75j7X6nFNW/ckp20Z7t7ZL6fRp0CBMDCbLfwU4hteMuyDWR35qZvpvj1ZDwnfkxnjWhUnmmRRqK67v2d+On/kdI/wa+GQTprDiGjAAAAYRpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNAHMVfU0tFKh0MUsQhQ3WyICriqFUoQoVQK7TqYD76BU0akhQXR8G14ODHYtXBxVlXB1dBEPwAcXVxUnSREv+XFFrEeHDcj3f3HnfvAK5ZVTSrZxzQdNvMpJJCLr8qhF8RQgxR8BiUFMuYE8U0fMfXPQJsvUuwLP9zf45+tWApQEAgnlUM0ybeIJ7etA3G+8S8UpZU4nPiMZMuSPzIdNnjN8YllzmWyZvZzDwxTyyUuljuYqVsasRTxHFV0ymfy3msMt5irFXrSvue7IWRgr6yzHSaw0hhEUsQIUBGHRVUYSNBq06KhQztJ338Q65fJJdMrgoUciygBg2S6wf7g9/dWsXJCS8pkgRCL47zMQKEd4FWw3G+jx2ndQIEn4ErveOvNYGZT9IbHS1+BES3gYvrjibvAZc7QOzJkEzJlYI0uWIReD+jb8oDA7dA35rXW3sfpw9AlrpK3wAHh8BoibLXfd7d293bv2fa/f0ASM5yljz/NiUAAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOmI5YjA2YTAwLWZkOTQtNDc5MC1hNzIzLTlkMGUwNGRiNTRlNyIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1MTQ3ZGU5Yi1kOTA0LTRlNWYtYjIyYy0wZmMzOGRmMWI3ZGEiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4YzBjNTI2YS1lYTkyLTQxYWItODM5Yy05OWFhYTM0YjdlYzciCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE2NDAxNTU0MjYiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMjQ4MDc5ZS1kMTYyLTQxZmItOGViYS1lMzY2NTRiNGRjMjYiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjIwOjQwKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PkaovgIAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPFCiKn0kIAAAFfUlEQVRYw82YTWxc1RXHf+e+N2/GH+Px2IEEV02AgqIsIkwgoYS2ahepVGCBUOiCRRdsAAnECthErBBCICGFj4gqRQqBRSABUrVm1URtCSATJ5ASZCPHH0kGgx1/xJl5nvH7uIcFY4iIM/GzZyhHenqL994993/u+f/fOUeos+nNnkHCJoQWRD0UFzCARYhQCVB8NFWWTwNbT99SNxC3GZfIXg9sADYDWxCuRekEskARYQplFPgEOAr045ph6bXRzwKM3pEX5mduQLkHuAvYCqSW8GkIfAT0IBwknT8lH87o/w2M3mpSqL0LeLQKIrOMZSpVUC8hpkf6bPiTg9FbpBn0L8ATwLoqL5ZrFjgNPAeyV47p3E8GRjdLE6r3oTwHXF0n7ikwgfAEIvvlqJYbDkY3uw4a3YLyNrC2niJSBXQG4c+Ie0yORnGSj5OnRhzlUJ4ErrkikBAoAjPVe7ik4F6D8iRxlGvoyegmx4X4NwgHgM6a8fUyIfc8doZbf99Ca66N0uwF+v7tc3DnWoJK6gqep1C2g3NEjsdLlm03GXSbAe4GmmvGZ91vA3Y8P8aN6ztoyaYxxsPaNrbcnmbbvV/x9ONdnPnA+w71otaMcDfYPqDUmDQTUgjdNYPQsSHkgYf62di9mmwujzHNgIsxzWRzeTZ2r+aBh/rp2BDWDLLQjSzpf7VMMIpB6QKcy77Tuc6wdVsHbspbfJspj63bOuhcV8u3g9KFJtufWQbHakfLdQUv3YrI4qwQ+e65616Jr6mknE4KJgIGgctLZnEq5vRgAWsXLyKttZweLFCcqiW7cdVP1DgwQoQwUNPJxIDDG7vXMDszBvqjDWvM7MwYb+xew8SAUzNowgCSDEwyNVMJQU8AAdC06DvBtOG/76xirlLi3u0nufn2HJmWTir+FJ9+PMu7B66nr6eVYLpWCgUoJ0DCGoq3wv/MbXkhmlkN7Ad+XTMY4kBTl6XlKnA8IQ4U/xyUx8wlB3ZpKvcC23Hz49K79Ep6GeWM8VB7J8pfgasaUM6cAx5EzPvSZ4OGljNy1AYIh4C/L6lASWYBcBCHQ0mBJOfM94rk+WjwAsKvgN8te51LK7kPpm3zK89OrZH1v4zaQ9c4RJFrxDgAqjbSlBcpGqlqODoyWq5TP1OtnoU9wPqV9DMKWlRnfJ+/6q3XKpmhSRVbXU8uuhb6Hq1eVsBHdDiGQWPMuZV1mpuMB/aPCK8CXcsMjs6pufCm3/7PPZXs8LhKnJBjMTCH4f2VdIfIcRsgcgh4FpgkiY4u9Mwqc4fn2468M58dSQhkIbNcwBPVNrPSRJdjWgb2AK8BidrdSCX4PGw5/re53IlBK8uZ0EhVyodCq/1uXTTIzfrExZ0oq4H7gfQSmv54IMqcfNFv7/0ilkCSg1CgoKon1ZEv017ar9/cbEvGEFeuQ9mF8IdaBamFuBB7I7tKq3r+EXjnK0tPTxUoIzqqyCBooRIGM2NjX8d1HQIuKFys0cYY2eeJ3riYwinorHUndvmr3nt7Pj1eVNEa5LZALKIVrBTAnopVRx3HzOE44dDwsG3IRHPBxrtTnkv8p5yjLzvoLy72oaC+mvOvz+V79pZbRyYvJbwC80AFQ1GtPevAqFPxCuoxL57ql8ND2vDx7MVW2JTOuMQPdxDvSInmF/yU1ZT+Nd92eGcp97+RH4BE1XHHLDAtomPWmK8mpiYn/AvFOCmRGmLTm53WOOKpDhM/YqApQsLe+dYPnym1f9xvTVGQc8C4iE5Y1Ulj7eRQoTC7Ih1qFJiTQc7vwN9ZUbk6Z+ydp6L0Z2+Ws/uGrAyI8I2gF6yR0vDI6Uq9fDbsZACO3NQuGa3kr3XC7H+ClvJeP1/6IrbBqbNno0b4+xbMlmARngcRbAAAAABJRU5ErkJggg==",turquoiseBlue:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAgCAYAAAC/40AfAAAQDHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjapZlrciO5joX/cxWzhCRB8LEckiAjZgez/PnAlD1drrpxu+/YUZJKSmWSwMF5pMP+n/8+4b/4yTHmkLW20kt5+Mk99zR40Z73Z9zH+OT7eH9EPp/FX98P6fP+k3jLD/oc2Mrn+K/34/cJ3qfBK/3Lidr6fDB//aDnz/nbjxN9LiS+Il+FfU7UPyeS9H4QPycY77ae0lv96xbmfp/tayft/Rf84XzVpL5PP/+fK9Uz5TqS0pYoD4+fYkkS/ydBBi+UxySZA6PU9/V9LJ+VUJA/1en7p7Oi40vNfzzol658v/rRrU8F2NqPbuX0OUR+FLl8P//x/RD1z125pf/LlXP7vEq/vr/k2e+KflT/Fv9YO3fP7GLkQqnLZ1NfW7yvOG5yCb90Cyyt0J0ChhrP/tv5bWx+AQV71jP5XbHHRLtOzNHiiCfu+7ziYok57ZAqL1JaSe6bTWrqifXSv+y/8aQqXUwaXVy37VnS91rivWx/VrhXa1zZIoemyMkiX/nHv+GffuEcH4UYvZbjrRXrSsmLzTK8c/7IYXQknk9R9Rb46/fnj/dV6KB6lX1EOqee7ymmxv9jArmNFg5Unt8ZjNU+J6BEXFpZTBQ6QNeiaCzxqSlVCEpSo0GDpfvMTDoQVZOxyJRFCr1pyS/NV2q8hyZNvB14HzKjEyqFOWt0aNCsnBX81NzA0FDRrKpFqzbtOoqUXLSUUouT4qhSc6haS6211V5Hk5abttJqa6230VMXSFN76bW33vsYXHNw5sG3BweMMdOUmaeGWWadbfY5FvBZeekqq662+hqWTAz+sGLVmnUbO26gtPPWXXbdbfc9DlA7Ek4+esqpp51+xnfXPm397fcfdC1+upZup/zA+t013q316xTR6US9ZzQshRzpePUWAOjkPXtazDl557xnT4f+RBOLVO+ZRe8YHcw7Jj3xq3chvR31zv2/+hZq/qVv6T/tXPDW/cPO/d63P3XNnITX7dg7hV7UR5g+Pt9tpDZc7H57Dl8vmBBZjQJKZuNivLe6qJ0KRa10Ri3sSNYUdlTSNhm2fHrW3q2WHUz5Uoy2+qhR1zpd42Kfqyg8pnJK5+GxtfY5jWIPR8pZTsbIJJvx55WD1SrglQsUYzWZesXZ6EkvyWy2BWNz5ii8eI4Oy0Oimkb6skc7bSy6pxpOdJYYfF/3mc9YVbJGen163LX5y4iCvNVAAtgR2sr6lTeca5byylbY04Zy0lkYmkRfF1ReNGUqriVaiyxjp7FhRh2DtvV1qia+03tuAKqzuDlD4XICE9HCqRXrsGVorgIPmcFOOteac6Su7GnsGruyokw9o4BjmR0ARLQ/jwP6BpXm2fXsKYML5BPnaTWtkxc79oIWNTBfe9+FB/A3Oe2s0XJfVYMAPuF6JY3l7goPEzen6iXzT9eoNnwSlc5YYkriFIq5D4N668YUQbg5qBuit6R/55niMfQdTow+0WNvrlaf1sLs3mChUH0c5PChozp06pmlnrJKn4+UbX1r7SOmvPuc0vZs2/wMjDgk0VtYqxjIM1dYscoJtGQYvTb2n5n30Tkf6BursV16Av77ZMB90ucZjDxYsOCHFZuw/1vDvlhJ2YKlPEbd6M9gX8Of00jJTeEY176YG8UDIkBnDqWu7YSyZCM+pjMmOzPXqic9Xsw0s7SV/vW4vs+h3T69/xsRhPcJA/Sdzz51OUPUep69F73eWyzNJidiM5NDYiJEZ04GNnB1WcvGinPN48iEv549+ZStTUt7SN8AY5cIG9bWk7bOPPaUgcRz+LSVmWDI8kBTtZh2O42TplnioNGx7n0YJGe0/MGpMZq1AeLCRxkQIcHZWtMZWkOYa88AP85ZhWvSFmu7zEatE3LewfssC3ZnGhI96iseCHaPafkLlUH/LhpjPVm8LgypZPNX44wGO2V4BWJzCQCLcAzitjMDL/VsLue27FlaJ3tjC3UIVH0aX20MX/5u6a6/UK2/lR05de6JOMTWtzzmBhEZYzQ5Tc+QRtkKC9YEqcF9A/RZKmUGwysy8sNYYWlXNWiILrihT3uAes1rQlP7OTTjHJGzo8IDA+YjV1BReKcFo2UGWgBGbZy/l2nQtwGauIVsUNEpOtFTNdaky7kYApqIyuqMhM7HAEsYYApVU0e+i1uMrCdDT3PpQT+o20OXgEPZwBKiy8REeBwv22wNhA5Bw0S4okzNG35mqDMMaVTl0jZunyl6QV/5IMFkSB8EhX0DGTOBi1E3FHh6YICd/fbZ4/06lbX8tzHBVIELRJmYhTI5dvUigxWcYq4Df0CDx70vPGi03hkp6OEsbTWM9+TQzpH22dKT0T0MjdSiEHJh5OJZggTYdLMzQTrDW3BGMmGpBZcF9X0z4AtKWwK71Mlw8mpfgj5HYVNo7UEJEzPBtxjkTEBt6xiDdAYsVyTggptVFBK7tJCwXhycUQBHmk9VZ/3J+pb3qKMXk1kDsJQHfRGmOO1mD64WS8OJ0Eeqv1D4zfekuw8Alrkkx9LjBMkc3TpyalBHtw5Xm1+VDScVdJByj0tUsFq2crIXUjrAbSZdLdHUDWjevuKdTvvuH+xOA8I2f1EAKCEsU6bqJ4QXzzao7UMTENho75h6mPnDc/jLGx7P0oco6u9EYdiMpB/YXNQAhxc37C0AG5j2d1zgmN99oAv7G39lrE2WwVFQSAFzbnfZdi/BBwI23hOlS9XNbWHOC2yaHOWQ9oTRCrS1eQCsRiZNyb0OeIoHcMQ9FRzlZgfXBoPgG/YqcPO5y4YO8EsTN94fJ4UOxYCqOfjFF1d8ImG042Oa7BbE+CgSfPkaACzizdHSzO8HQQSivWFjk/uYPAm08ML0Oxlj5EZNYNeJky5h4/oWxdnIP68xUhgQCmDb/TYGDPUfczW4nmnWYhgam4adQQ9nq24MODXIPlg1aQgIBmG4KYBBB/XDdGW3ZoYLVazkgYAIVFTlwK4oWesYQAwzSyS9Bwwc9beJo2LIKe9nhuPWn5j7E+S+ARf+NuJ+AI5xvnBboOjArMH78+INjoT6cnMQWNkJokBBi1tjvoBTcpOw0GLGKTvF6zLyB5RSqzEiWyhCQviNkiMvIpQOx4LrwlWnOuDTzs49wpNvcMOgHkfsdhrCByEJeJQAQAYxI/9cPgrQYWbsg7iGRgjlDKlb4Xckeidy0ioTqwt/kXRC58hFGsNjt4ovxYBjL5W8R/hT7XnW99wkrPYXxgYc+FmK293mkftBSbYluHaDfDay1ODagSwdcVET7CMc1zkXWy7L8wYA5IChD6II2pNLesCUUOmHHDST05V6iKiQq8PmoDmMeNcbZK6FWBVCpawscajPgdd3bJw/1UBI8UH1ysPGVCYlDDnj6tmki5t/5Jb7oL554rFh39P35a524lgrMIZUxqLORIcNkO7x/RXcZPyxGhIwZcMpmacKIm3vHoF2AEv6TCwP0XopjZ/uAeBiPC7ChlawzcowIPcoBGrObFFLl9TmbeE0fk8y/Abey4xQX2OPm2TjWefgu434eMCaE7EJlhrXcpAJ5sr1MLB+qkP21oEJngtlRWw20WXjJTHJfIOMRjlLYYc7ERNIxcL2ngjaKRDb3zm4D0JVkQ76ZejoBgasfHm8w+27PrWH/0ZoMvZ9PDrgEzzjEkOQzDnJbkQI1HJBrBNpg1bh54gCP57oSZoZzBG/1hJscm+5OwOcymQAn3kqafWSBWYU7/MR/H/57Gk5ne7UuGEn0+RqeW0SRBrZ8rM2bkQBoHtdbCbaCiHS3GevBXYqChEHkZM98k4io4Fq0ihehV0el5yi7vcsRCzHvmBbM4Oo4a4x9YohJUqwb6FgdoRVVSNIMP8kIi3drSHjMD0erTpCd1qn2+IAyR4Xn+OxoVV4EW9CcmBAS3FzARHEKOWgUXZ3TSn9Bpt/xqxBOeJI1a6CyMAwjRiF3/e/JahO+ALcwOUv1OKf3VvwF9jMhkhgPI3gb9uQQhJJzbXjfvMaxLbtaRxOwNgCb3X4uRYOiz7osgKpTT2ZiC2mA9JthP7l4XQXDvNIZH6Nx/1KvNcgGfl9pfVeY7x3uIN7qsn6VckwqA/DCE/hAwWjS0bT5PMFh6KIU2K5UgGJ/Ix+4YFxAUUpGO0Me16HlBLJ7N7AQusY3EcIWpSY/uKmPCBwIAFCvQYH4Sq0P7IYOMwnxzWcdIWHncQITB62vKWGnQbwwIIh89FHLkkihUyJojCjWwnCoSMnqNp+Ch1HL15exsqP9K8hT6ZgXSU7pmveB8AGGhsxIxlEyHRUR3cGFd8hfjvtNrz92ygnOfjoHMkd29zd1JwEFSO/SCM5lh17sqkGRs7usAhuExZRQktLhdkDmdiGOJg1RK3xBb/1jrvVxQA0D7/QbBloVoU3K/pM/Ohk1Qaj8QVcNmkrI0FV3QSH6Dcw8A5GhK24M4zXqUJ92Tk05ARIVVudK89Xbcltox5yHiNKxriMivWDmO/UTi/bMKIGLoOeM0TEp1z9htwS1HXZ5c5l8EYb+G+mFgEnw/UmWgJenLHN08Coma6DCSK7em/xWlxCM3XiubnDtT08jiIgBFVwljwbIIS6gjMmRtygIiwfowtA/G9kD21jsjGMrXa/fSBQYuxsTByznPXeSirOK3q7VisGrAOqjgQwRMAcYSSn5ERQfKN0QqVcZ5YyKPgX9sls0HlmaeJ8KromfhsYSNjoiZHmlExMo4iwUqrYCl+y3HtnfmNQi9f5yJWlV4OH5YUc0dd7/39TXvB8ovgND7Sdo/e9twbhx/fmZU7YeMcrEsCM0TDfzGyM9AxM+IgMBLI9JsPKaY+TeInkhPeW30IgFsQJbPrUODmW2UTFoTGuACs4sW1K0akJGvg1Cf/+ZtHnmbX67RbAU2uwXvYoDS8GzzKM5LRNYql+H/NQs4gJEjDb88GPp/sXRsyH39RdW+vohMhra6bf0T0EU4pL1EBKRvV8yMCw/e5BHtJwrJAeico3PhZTupL9jk71O511WcC+53vPadEifNmqD/6+Ca1a+B57arkpfxFk/S4oBApPH1aOizMC7lK/D7cCm8Gpmdv8LMsTKPbUoy1mXBbBt/uYUu7kt8X4iEBJVtkKezRr12rliBml/GgfMnphhinBrj0+tkwZfgmFOlagbcwpjomMXOgZY+i+WTBVpb6OMbB3ZnOgIMktAhxTMxLpZXCJvwYdgJdOAiLLEXEflQefJrV5ANNaUX5MRN1kPYPqoWe/TcPEkUmoDPyNRmNehZrh+bo7Yohe/P4KKbNMwW7XxCDD7hYmLI3RhiJ8hjBiC6vitzy3/9nFcwD2X+tecsqjzW1bh3oWs0z623xJIO5TgydMFMUaXh1X4RiCLcheaIZHJKDKqm4NMcBcTmjxGP3GAdIIVtIepjocEsqDaI07Tyi2npk9YovfGDpzY4E8CST/O91aOT5FPS24MRIS9Ze+hF+Ehmaa/4H7fwGCg3GYVGiblAAAAYRpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNQFIVPW0tFKx3sUMQhQ3WyICriqFUoQoVQK7TqYPLSP2jSkKS4OAquBQd/FqsOLs66OrgKguAPiKuLk6KLlHhfUmgR44PL+zjvncN99wH+ZpWpZs84oGqWkUklhVx+VQi9IogYIlT9EjP1OVFMw3N93cPH97sEz/K+9+caUAomA3wC8SzTDYt4g3h609I57xNHWVlSiM+JxwxqkPiR67LLb5xLDvt5ZtTIZuaJo8RCqYvlLmZlQyWeIo4rqkb5/pzLCuctzmq1ztp98heGC9rKMtephpHCIpYgQoCMOiqowkKCdo0UExk6T3r4hxy/SC6ZXBUwciygBhWS4wf/g9+zNYuTE25SOAkEX2z7YwQI7QKthm1/H9t26wQIPANXWsdfawIzn6Q3Olr8CIhsAxfXHU3eAy53gNiTLhmSIwWo/MUi8H5G35QHBm+BvjV3bu1znD4AWZpV+gY4OARGS5S97vHu3u65/XunPb8fN2tyj8UDOK0AAA0aaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjEwNGNlNWFhLTE1YzctNGI4Yi1iOGU1LTFmYWQyNWFiYzBhZCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkNDMyZTY1Zi0xOThhLTQxM2EtYWYyMy1jNzhlNzczNGRlN2QiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyNzExODVkMi03MWZiLTRhZDMtYTJmMi1iNjM3OWU3MDc1OTEiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE2ODQ5NDE4NjYyMzgzMjQiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zMCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NGFiYzNkYS1lZWJiLTRlZjctYjdjNS04ZDRjODY5OGVjODMiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTA1LTI0VDE3OjI0OjI2KzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pj0tlUwAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBRgPGBru/VeEAAAABmJLR0QA/wD/AP+gvaeTAAAFO0lEQVRYw9WYe2xTVRzHTx97dYS5B1UHa+/tY12dDoOKWyIGlfgHkCkSNTHGwHxA3NiAP/A5x4CMKEzdYL29YyAyBxKQZbI+NvYIaowaH9Ogi2GRbGjcFrbBNrq2a2/9nq5LCFnbbfSOeZJPTs/t6Tm/7/39zu+cU0IiXc7WSImNX0BsZiVYAhigmah5tHklsZrjSYtJSuZtaeSiiJU3gHUwfC9oARfBIHBP1DzaPH1eRuzmp0E6aTgSNX9EWMwSvOkMGPgG+CpguG8a0H7nA78zkMYqye0V0lYXDSHrYUw7cE5TxM04/b+38+vJ+RPRt0eIjVeAAhhyCQizFDKJEBjndaCY49Di4+CRlzFxfwSE3Ciol9i4DSBujoRUy7HIszFxdwSF3CioBy8qm1g5ufhirHwyJqwHrrDGWTlg8hFL1URN2+EF0XFPkyYuSWwhUVgnT2CygXBG3dFcM7bz1/au1u7OK9/93eWidUlHe1dCc810EsUAsXOPQZCI3rGZ6Wb4EXAEM0SCUFnZduz6T/09l4bHXYOCz+f0+XxeWg+7XYM/4vnKtlqHJHSIOrAHlYMFYmawRNCKycaDGZLVfMRdf/nPDpfXM+abotDnpy93dtzXfNgdZg+im2uimJ6h66UTeIMZsrat1jvkdPRRb/imLt4hl6N3DfqFEIPvOMzDJYspJsWfbUKEyFNttcKoyzkKo4UgYoRRt3OE9guT1br984nsmQ7gCWbIipaj4xeu9v/hFQTPlG7B89+u9v9O+4UQQ8f/BSlaVM8kgBOhji4p9mpvwQ+Wfwddjp6bQw2u8g44HT3535/tTUa/0Eccvg4sFDE1m2PBZkx2LVRqVcLQvG/PDDX1/tVxze38x+UZH6O1He28b764qgwtxOcf327eBGLFE9NikiD3qzDZhVBJgCJH3KubDnkfbD4s5Jw74qM1bcvDnxq8/vHt1SrS9InIJ2m7OQ4UYsKhCB9lJqHj0gPsHJzPvsS9w8rRRPDptI40M8PlH9fOJ5M5K008rsZmIwi5gc4QN9Zja8zn+5epch9PTFepU1iGuVunVqeyS9g0iv8zy96l0WiSjIsXx28iJEJhaONkMGB5YP14bkmI1SzIz1T0pRa9VKnNzCjUMcwWUAS2BtgWYLJN+xTo1OyrOhW7xsAwqnSGkd3i+uGjkT5Xw6DLt3AdEKQNB4YXbdtwQpuVuRtG7pwhxWA7vJgRib0nDuSDvtkIkjYcHE3aVWjRLL9/zyyETPK2Vq3OidAaOhiPDLcbxo3MRIik0eReWPnO15pHHiqbpYhS6hkNw7wAz0To6GM5hAzH3wkDa6b7x4bEwnkUfMnP6idX7Nex7GxElIDNerV6hU6jSdbp9RHck2w0w/FaGGoJm7KtnCfmWNlF1fOrK3Q6bekMRFABO7QM8yxewFLUi+5JSxPpAmcxy0gjt1Rytir4NcHKCfJTH/al5j1j1hr0pWEML55YD+x2GP6cVqNZZjQYEvUsG4vP4v8jKju5L1p6qnytxGKa6qogyOorBpVbXvxMe69xdxABb9I0DAGvIIRWp7NsBsJIoWVZKfaXuf+jMKp2b6z8+Adb4aErNwpCCh5J2pnfoH0ga08g7invBfaQjXjjuQifhyEgLdNolJP5UqR17y+QnSwvk1i565OZK6F8RzubvWwvDH8LvKZnmHXY8HKws+sNLJtI5muJ/7hYElOzJ1V+fN9R7CVDClPJOVXuqo06vS4HQjTwgDKDZRXk/1JiD7wrieFLk6T1lczCXUVK7aPZinS9XrTw+Q+Tql7SUmvGuQAAAABJRU5ErkJggg==",defaultOffset:[-25.5,-32]}},7255:(e,t,n)=>{"use strict";n.d(t,{default:()=>A});const r=ol.format.GPX;var o=n.n(r);const i=ol.geom.MultiLineString;var a=n.n(i);const s=ol.geom.LineString;var l=n.n(s),c=n(2888),u=n(9335);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}function g(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function m(e,t,n,r){var o=y(v(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},y.apply(null,arguments)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}var I=function(e){function t(e){var n,r,o,i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=[e],o=v(o=t),!((n=g(r,f()?Reflect.construct(o,i||[],v(r).constructor):o.apply(r,i)))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");if(n.options=e||{},n.options.readExtensions&&"function"==typeof n.options.readExtensions){var a=n.options.readExtensions;n.options.readExtensions=function(e,t){this.readExtensions(e,t),a.call(this,e,t)}}else n.options.readExtensions=n.readExtensions;return null!==n.options.defaultStyle&&void 0!==n.options.defaultStyle||(n.options.defaultStyle={}),n.source=null,g(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),n=t,(r=[{key:"readFeatures",value:function(e,n){var r=m(t,"readFeatures",this,3)([e,n]);"string"==typeof e?this.source=u.A.parse(e):null!==e&&(this.source=e);var o=this;return r.forEach((function(e,t,n){e.setId(t+1);var r=e.getProperties().desc;if(r&&e.setProperties({description:r}),!e.getStyleFunction()){var i=c.A.defineStyleFunctionByDefault(o.options.defaultStyle);i&&e.setStyle(i)}})),r}},{key:"writeFeatures",value:function(e,n){if(e.forEach((function(t,n,r){var o=t.getProperties().description;o&&t.setProperties({desc:o}),c.A.definePropertiesFromStyle(t);var i=t.getGeometry().getType();if("Polygon"===i){var s=t.clone();s.set("type",i),s.setGeometry(new(l())(t.getGeometry().getCoordinates())),e.push(s),r.splice(n,1)}else if("MultiPolygon"===i){var u=t.clone();u.set("type",i),u.setGeometry(new(a())(t.getGeometry().getCoordinates())),e.push(u),r.splice(n,1)}})),void 0!==this.options.orderBy){var r=this.options.orderBy;r&&e.sort((function(e,t){var n=e.get(r)||0,o=t.get(r)||0;return n.toString().localeCompare(o.toString(),void 0,{numeric:!0})}))}var o=m(t,"writeFeaturesNode",this,3)([e,n]);if(null===o)return null;this.options.hasOwnProperty("extensions")&&this.writeRootExtensions_(o,this.options.extensions),this.processExtensions_(o,e,{extensions:this.writeExtensions_});var i=u.A.toString(o);if(!i)return null;var s=u.A.format(i);return""===s?null:s}},{key:"readExtensions",value:function(e,t){var n=t;if(!t){var r=e.getProperties();for(var o in r)if(Object.hasOwnProperty.call(r,o)){var i=r[o];if(i instanceof Node){n=i;break}}}if(n){for(var a=0;a<n.childNodes.length;a++){var s=n.childNodes[a];1===s.nodeType&&e.set(s.nodeName,s.textContent)}c.A.APPLY_CONVERT_GEOM_GPX=!0;var l=c.A.defineStyleFromProperties(e);l&&e.setStyle(l)}else console.warn("node not found !")}},{key:"readRootExtensions",value:function(e){for(var t={},n=this.source.childNodes[0].childNodes,r=0;r<n.length;r++){var o=n[r];if("metadata"===o.nodeName)for(var i=o.childNodes,a=0;a<i.length;a++){var s=i[a];if("extensions"===s.nodeName)for(var l=s.childNodes,c=0;c<l.length;c++){var u=l[c];if("data"===u.nodeName){var p=u.attributes[0];if(p&&"name"===p.nodeName&&p.nodeValue===e){t=JSON.parse(u.textContent);break}}}}}return t}},{key:"writeRootExtensions_",value:function(e,t,n){var r=document.createElement("metadata"),o=document.createElement("extensions");if(n)!function e(t,n){for(var r in n)if(Object.hasOwnProperty.call(n,r)){var o=n[r]||"",i=document.createElement(r);if("string"==typeof o||"number"==typeof o)i.innerHTML=o,t.appendChild(i);else if(o instanceof Array){i.setAttribute("type","array"),i.setAttribute("index",o.length);for(var a=0;a<o.length;a++){var s=o[a]||"",l=document.createElement("value");if("string"==typeof s||"number"==typeof s)l.innerHTML=s,i.appendChild(l);else if(s instanceof Array){l.setAttribute("type","array"),l.setAttribute("index",s.length);for(var c=0;c<s.length;c++){var u=s[c]||"",p=document.createElement("value");"string"!=typeof u&&"number"!=typeof u||(p.innerHTML=u,l.appendChild(p))}i.appendChild(l)}else s instanceof Object&&i.appendChild(e(l,s))}t.appendChild(i)}else o instanceof Object&&t.appendChild(e(i,o))}return t}(o,t);else for(var i in t)if(Object.hasOwnProperty.call(t,i)){var a=t[i],s=document.createElement("data");s.setAttribute("name",i);var l=document.createTextNode(JSON.stringify(a));s.appendChild(l),o.appendChild(s)}r.appendChild(o);var c=e.firstChild;e.insertBefore(r,c)}},{key:"writeExtensions_",value:function(e,t){var n=document.createElementNS(t.parentNode.namespaceURI,"extensions");c.A.getListTags().forEach((function(r){if(e.get(r)){var o=document.createElementNS(t.parentNode.namespaceURI,r);o.innerHTML=e.get(r),n.appendChild(o)}})),t.appendChild(n)}},{key:"processExtensions_",value:function(e,t,n){for(var r=-1,o=e.childNodes,i=0;i<o.length;i++){var a=o[i];switch(a.nodeName){case"wpt":case"rte":case"trk":var s=t[++r];if(s.getStyle()){var l=n.extensions;l&&"function"==typeof l&&l(s,a)}break;case"metadata":break;default:console.warn("nodename unknown :",a.nodeName)}}}}])&&d(n.prototype,r),o&&d(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(o());const A=I;window.ol&&window.ol.format&&(window.ol.format.GPXExtended=I)},9632:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(7304),o=n.n(r),i=n(2888);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function c(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(null,arguments)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var g=function(e){function t(e){var n,r,o,i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=[e],o=d(o=t),!((n=c(r,u()?Reflect.construct(o,i||[],d(r).constructor):o.apply(r,i)))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.options=e||{},null!==n.options.defaultStyle&&void 0!==n.options.defaultStyle||(n.options.defaultStyle={}),n.source=null,c(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),n=t,r=[{key:"readFeatures",value:function(e,n){var r,o,a,s,l,c=this,u=(r=t,o="readFeatures",a=this,l=p(d(1&(s=3)?r.prototype:r),o,a),2&s&&"function"==typeof l?function(e){return l.apply(a,e)}:l)([e,n]);return"string"==typeof e?this.source=JSON.parse(e):null!==e&&(this.source=e),u.forEach((function(e){var t=e.getStyleFunction();if(t){var n=t.call(c,e,0);n&&0!==n.length&&e.setStyle(n[0])}else{var r=i.A.defineStyleFromProperties(e);if(r)e.setStyle(r);else{var o=i.A.defineStyleFunctionByDefault(c.options.defaultStyle);o&&(e.setStyle(o),i.A.definePropertiesFromStyle(e))}}})),u}},{key:"writeFeatures",value:function(e,t){e.forEach((function(e){i.A.definePropertiesFromStyle(e)}));var n=this.writeFeaturesObject(e,t);return this.options.hasOwnProperty("extensions")&&Object.assign(n,this.options.extensions),JSON.stringify(n)}},{key:"readRootExtensions",value:function(e){return this.source[e]}}],r&&s(n.prototype,r),o&&s(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(o());const f=g;window.ol&&window.ol.format&&(window.ol.format.GeoJSONExtended=g)},5771:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});const r=ol.format.KML;var o=n.n(r),i=n(2999),a=n(2888),s=n(3920),l=n(5844),c=n(9335),u=n(2536);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}function g(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function m(e,t,n,r){var o=y(v(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},y.apply(null,arguments)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}var I=l.A.getLogger("extended KML format"),A=function(e){function t(e){var n,r,o,i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=[e],o=v(o=t),!((n=g(r,f()?Reflect.construct(o,i||[],v(r).constructor):o.apply(r,i)))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return e=e||{},n.source=null,n.extensions=e.extensions||null,e.defaultStyle&&!Array.isArray(e.defaultStyle)&&(e.defaultStyle=[e.defaultStyle]),null!==e.defaultStyle&&void 0!==e.defaultStyle||(e.defaultStyle=[]),g(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),n=t,r=[{key:"_processKml",value:function(e,t,n){for(var r="#document"===e.nodeName?e.childNodes[0].childNodes:e.childNodes,o=r,a=0;a<r.length;a++){var s=r[a];if("Document"===s.nodeName){o=s.childNodes;break}if("Placemark"===s.nodeName){o=[s];break}}for(var l={},c=-1,u=0;u<o.length;u++){var p=o[u];switch(p.nodeName){case"Style":var d=p.attributes[0];if(d&&"id"===d.nodeName){var h=p;l[d.nodeValue]=h}break;case"Placemark":c++;for(var g=p.childNodes,f=!1,m=!1,y=!1,v=null,C=null,A=null,b=p,E=0;E<g.length;E++)switch(g[E].nodeName){case"Polygon":y=!0;break;case"LineString":m=!0;break;case"Point":f=!0;break;case"Style":C=g[E],v=g[E].childNodes;break;case"styleUrl":var w=g[E].textContent.slice(1);l[w]&&(v=l[w].childNodes);break;case"ExtendedData":A=g[E].childNodes;break;case"name":b=null}if(A){I.log("ExtendedData :",A);var _=n.extendedData;_&&"function"==typeof _&&_(t[c],A)}if(b){I.log("Name :",b);var P=n.nameData;P&&"function"==typeof P&&P(t[c],b)}if(f&&v&&0!==v.length){for(var S=null,x=null,T=0;T<v.length;T++)switch(v[T].nodeName){case"LabelStyle":S=v[T];break;case"IconStyle":x=v[T]}var k=t[c].getProperties().name,R=t[c].getProperties().description,N=k||R;if(I.trace(N),!x&&S){var L=n.labelStyle;L&&"function"==typeof L&&L(t[c],S)}else if(x&&!S){var O=n.iconStyle;O&&"function"==typeof O&&O(t[c],x)}else if(x&&S){var D=n.iconLabelStyle;D&&"function"==typeof D&&D(t[c],x,S)}}else{var M=t[c],G=M.getStyle();if(G&&"function"==typeof G){var U=G.call(this,M,0);U&&0!==U.length&&(G=U[0])}if(y){var B=n.polygonStyle;B&&"function"==typeof B&&B(t[c],v)}if(m){var F=n.lineStringStyle;F&&"function"==typeof F&&F(t[c],v)}if(f&&G){var j=G.getImage();if(j&&j instanceof i.Circle){var q=n.circleStyle;q&&"function"==typeof q&&q(t[c],C)}else if(j&&j instanceof i.Icon){var z=n.pointStyle;z&&"function"==typeof z&&z(t[c],C)}}}break;default:I.trace("tag is not processing !")}}}},{key:"writeFeatures",value:function(e,n){I.log("overload : ol.format.KML.writeFeatures");var r=m(t,"writeFeaturesNode",this,3)([e,n]);if(null===r)return null;this.hasOwnProperty("extensions")&&this._writeRootExtensions(r,this.extensions);var o=this._writeExtendStylesFeatures(r,e,n),i=c.A.format(o);return""===i?null:i}},{key:"_writeExtendStylesFeatures",value:function(e,t,n){function r(e,t){var n=e.toString(16);"#"===n.charAt(0)&&(n=n.slice(1)),t=t||1;var r=t=(t=parseInt(255*t,10)).toString(16);return r+=n.substr(4,2),r+=n.substr(2,2),(r+=n.substr(0,2)).toLowerCase()}var o=function(t,n){if(I.trace("label with style :",n),t&&t.getStyle()instanceof i.Style){var o=t.getStyle().getText();if(!o)return;var a="Sans",l="16px",c=o.getFont();if(c){var u=c.split(" ",2);l=u[0],a=u[1]}var p=t.getStyle().getText().getStroke();if(!p)return;if(p instanceof i.Stroke){var d=r("#FFFFFF"),h=p.getColor();if(Array.isArray(h)){var g="rgba(";g+=h[0]+",",g+=h[1]+",",g+=h[2]+",",h=g+=h[3]+")"}if(s.A.isRGB(h)){var f=s.A.rgbaToHex(h);d=r(f.hex,f.opacity)}else d=r(h);var m=p.getWidth()||"0";if(n&&0===n.getElementsByTagName("LabelStyleSimpleExtensionGroup").length){var y=document.createElementNS(e.namespaceURI,"LabelStyleSimpleExtensionGroup");y.setAttribute("fontSize",l),y.setAttribute("fontFamily",a),y.setAttribute("haloColor",d),y.setAttribute("haloRadius",m),y.setAttribute("haloOpacity","1"),n.appendChild(y)}}var v=t.getStyle().getImage();if(!v)return;if(v instanceof i.Circle){var C=null,A=null;if(v.getStroke()){if(A=v.getStroke().getWidth(),C=v.getStroke().getColor(),Array.isArray(C)){var b="rgba(";b+=C[0]+",",b+=C[1]+",",b+=C[2]+",",C=b+=C[3]+")"}if(s.A.isRGB(C)){var E=s.A.rgbaToHex(C);C=r(E.hex,E.opacity)}else C=r(C)}var w=null;if(v.getFill()){if(w=v.getFill().getColor(),Array.isArray(w)){var _="rgba(";_+=w[0]+",",_+=w[1]+",",_+=w[2]+",",w=_+=w[3]+")"}if(s.A.isRGB(w)){var P=s.A.rgbaToHex(w);w=r(P.hex,P.opacity)}else w=r(w)}if(n&&0===n.getElementsByTagName("ObjectSimpleExtensionGroup").length){var S=document.createElementNS(e.namespaceURI,"ObjectSimpleExtensionGroup");S.setAttribute("type","circle"),S.setAttribute("radius",v.getRadius()),S.setAttribute("fillColor",w),S.setAttribute("strokeColor",C),S.setAttribute("strokeWidth",A),n.appendChild(S)}}}},l=function(t,n){if(I.trace("marker with style (hotspot):",n),t&&t.getStyle()instanceof i.Style){var r=t.getStyle().getImage();if(!r)return;if(r instanceof i.Icon){var o=0,a=0,s="pixels",l=r.getSize(),c=r.getAnchor();if(c.length&&(o=c[0],a=(a=c[1])===l[1]?0:l[1]-a),n&&0===n.getElementsByTagName("hotSpot").length){var u=document.createElementNS(e.namespaceURI,"hotSpot");u.setAttribute("x",o),u.setAttribute("y",a),u.setAttribute("xunits","pixels"),u.setAttribute("yunits",s),n.appendChild(u)}}}};this._processKml(e,t,{labelStyle:o,iconStyle:l,iconLabelStyle:function(e,t,n){I.trace("write an icon with a label"),l(e,t),o(e,n)},circleStyle:function(t,n){if(t&&t.getStyle()instanceof i.Style){var o=t.getStyle().getImage();if(!o)return;if(o instanceof i.Circle){var a=null,l=null;if(o.getStroke()){if(l=o.getStroke().getWidth(),a=o.getStroke().getColor(),Array.isArray(a)){var c="rgba(";c+=a[0]+",",c+=a[1]+",",c+=a[2]+",",a=c+=a[3]+")"}if(s.A.isRGB(a)){var u=s.A.rgbaToHex(a);a=r(u.hex,u.opacity)}else a=r(a)}var p=null;if(o.getFill()){if(p=o.getFill().getColor(),Array.isArray(p)){var d="rgba(";d+=p[0]+",",d+=p[1]+",",d+=p[2]+",",p=d+=p[3]+")"}if(s.A.isRGB(p)){var h=s.A.rgbaToHex(p);p=r(h.hex,h.opacity)}else p=r(p)}if(n&&0===n.getElementsByTagName("ObjectSimpleExtensionGroup").length){var g=document.createElementNS(e.namespaceURI,"LabelStyle"),f=document.createElementNS(e.namespaceURI,"ObjectSimpleExtensionGroup");f.setAttribute("type","circle"),f.setAttribute("radius",o.getRadius()),f.setAttribute("fillColor",p),f.setAttribute("strokeColor",a),f.setAttribute("strokeWidth",l),g.appendChild(f),n.appendChild(g)}}}},pointStyle:function(e,t){},nameData:function(e,t){for(var n=0;n<t.length;n++)if("name"===t[n].nodeName)return;var r=e.getProperties().name;if(r){var o=document.createElement("name");o.innerHTML=r,t.appendChild(o)}},extendedData:function(e,t){if(t&&t.length){for(var n=[],r=0;r<t.length;r++){var o=t[r];if("Data"===o.nodeName){var i=o.getAttribute("name");a.A.getListTags().includes(i)&&n.push(o)}}n&&n.length&&n.forEach((function(e){e.remove()}))}}});var u=c.A.toString(e);return u||null}},{key:"_writeRootExtensions",value:function(e,t){var n=document.createElementNS(e.namespaceURI,"ExtendedData");for(var r in t)if(Object.hasOwnProperty.call(t,r)){var o=t[r],i=document.createElementNS(e.namespaceURI,"Data");i.setAttribute("name",r);var a=document.createTextNode(JSON.stringify(o));i.appendChild(a),n.appendChild(i)}var s=e.firstChild;e.insertBefore(n,s)}},{key:"readFeatures",value:function(e,t){I.log("overload : ol.format.KML.readFeatures"),"string"==typeof e?this.source=c.A.parse(e):null!==e&&(this.source=e);var n=this._readExtendStylesFeatures(e,t);return I.trace("Styles Ã©tendus",n),n.forEach((function(e){a.A.definePropertiesFromStyle(e)})),n}},{key:"_readExtendStylesFeatures",value:function(e,n){var r,o=m(t,"readFeatures",this,3)([e,n]),a="";if(a=(a=(a="string"==typeof e?e:e.documentElement.outerHTML).replace(/\n/g,"")).replace(/(>)\s*(<)/g,"$1$2"),null===(r=c.A.parse(a)))return o;function l(e){var t="";t+=e.substr(6,2),t+=e.substr(4,2),t+=e.substr(2,2);for(var n=parseInt(t,16).toString(16),r="",o=n.length||0,i=0;i<6-o;i++)r+="0";return n="#"+r+n}var p=function(e,t){if(I.trace("label with style :",t),e){for(var n=e.getProperties().name,r=l("ff000000"),o="#FFFFFF",a=0,c="Sans",u="16px",p=null,d=5,h="#000000",g="#ffffff",f=1,m=!1,y=!1,v=t.childNodes,C=0;C<v.length;C++)switch(v[C].nodeName){case"scale":case"colorMode":break;case"color":r=l(v[C].textContent);break;case"LabelStyleSimpleExtensionGroup":m=!0;for(var A=v[C].attributes,b=0;b<A.length;b++)switch(A[b].nodeName){case"fontFamily":c=A[b].nodeValue;break;case"fontSize":u=A[b].nodeValue;break;case"haloColor":o=l(A[b].nodeValue);break;case"haloRadius":a=parseInt(A[b].nodeValue,10)}break;case"ObjectSimpleExtensionGroup":y=!0;for(var E=v[C].attributes,w=0;w<E.length;w++)switch(E[w].nodeName){case"type":p=E[w].nodeValue;break;case"radius":d=parseInt(E[w].nodeValue,10);break;case"fillColor":var _=E[w].nodeValue,P=Math.round(s.A.num(_.substr(0,2))/255*10)/10,S=l(_);h=s.A.hexToRgba(S,P);break;case"strokeColor":var x=E[w].nodeValue,T=Math.round(s.A.num(x.substr(0,2))/255*10)/10,k=l(x);g=s.A.hexToRgba(k,T);break;case"strokeWidth":f=parseInt(E[w].nodeValue,10)}}var R=null;y&&"circle"===p?R=new i.Circle({radius:d,fill:new i.Fill({color:h}),stroke:new i.Stroke({color:g,width:f})}):m&&(R=new i.Icon({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",size:[51,38],anchor:[25.5,38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"})),e.setStyle(new i.Style({image:R,text:new i.Text({font:u+" "+c,textAlign:"left",text:n,fill:new i.Fill({color:r}),stroke:new i.Stroke({color:o,width:a})})}))}},d=function(e,t){I.trace("hotspot :",t);for(var n=null,r=null,o=l("ffffffff"),a=!1,s=51,c=38,p=!1,d=25.5,h="pixels",g=38,f="pixels",m=t.childNodes,y=!1,v=0;v<m.length;v++)switch(m[v].nodeName){case"Icon":y=!0;for(var C=m[v].childNodes,A=0;A<C.length;A++)switch(C[A].nodeName){case"href":n=C[A].textContent;break;case"gx:w":a=!0,s=parseFloat(C[A].textContent);break;case"gx:h":a=!0,c=parseFloat(C[A].textContent)}break;case"hotSpot":p=!0;for(var b=m[v].attributes,E=0;E<b.length;E++)switch(b[E].nodeName){case"x":d=parseFloat(b[E].nodeValue);break;case"y":g=parseFloat(b[E].nodeValue);break;case"yunits":h=b[E].nodeValue;break;case"xunits":f=b[E].nodeValue}break;case"scale":r=parseFloat(m[v].textContent);break;case"color":o=l(m[v].textContent)}var w=null;if(y){var _={src:n||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII=",color:o,crossOrigin:"anonymous",scale:r||1};a&&u.A.mergeParams(_,{size:[s,c]}),p&&u.A.mergeParams(_,{anchor:[d,g],anchorOrigin:"bottom-left",anchorXUnits:h||"pixels",anchorYUnits:f||"pixels"}),w=new i.Icon(_)}var P=e.getStyleFunction();if(P){var S=P(e,0);if(S&&!Array.isArray(S)&&(S=[S]),S&&0!==S.length){var x=1===S.length?S[0]:S[S.length-1];e.setStyle(new i.Style({image:w,text:x.getText()}))}}},h=function(e,t){};return this._processKml(r,o,{lineStringStyle:h,polygonStyle:h,pointStyle:h,labelStyle:this.showPointNames_?p:null,iconStyle:d,iconLabelStyle:this.showPointNames_?function(e,t,n){I.trace("display icon and label"),p(e,n),d(e,t)}:d,extendedData:function(e,t){if(I.trace("extendData :",t),e){for(var n={},r=e.get("name")||"",o=e.get("description")||"",i=null,a=0;a<t.length;a++){var s=t[a],l=s.attributes[0],c=s.childNodes;if("name"===l.nodeName)switch(l.nodeValue){case"label":r=s.textContent,n.name=r;break;case"title":case"attributetitle":for(var u=0;u<c.length;u++)"value"===c[u].nodeName&&(i=c[u].textContent);break;default:n[l.nodeValue]=s.textContent}}i&&(o=o?i+" : "+o:i,n.description=o),Object.keys(n).length&&e.setProperties(n,!0)}}}),o}},{key:"readRootExtensions",value:function(e){for(var t={},n=("#document"===this.source.nodeName?this.source.childNodes[0]:this.source).childNodes,r=0;r<n.length;r++){var o=n[r];if("ExtendedData"===o.nodeName)for(var i=o.childNodes,a=0;a<i.length;a++){var s=i[a];if("Data"===s.nodeName){var l=s.attributes[0];if(l&&"name"===l.nodeName&&l.nodeValue===e){t=JSON.parse(s.textContent);break}}}}return t}}],r&&d(n.prototype,r),o&&d(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(o());const b=A;window.ol&&window.ol.format&&(window.ol.format.KMLExtended=A)},2888:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});var r=n(3920),o=n(5844),i=n(9994),a=n(9972),s=n.n(a),l=n(5576),c=n.n(l),u=n(2423),p=n.n(u),d=n(86),h=n.n(d),g=n(7158),f=n.n(g),m=n(7195),y=n.n(m),v=n(9464),C=n.n(v);const I=ol.geom.Polygon;var A=n.n(I);const b=ol.geom.MultiPolygon;var E=n.n(b),w=o.A.getLogger("styling");s().prototype.setPropertyFill=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getFill();if(t){var n=t.getColor();if(Array.isArray(n)){var o="rgba(";o+=n[0]+",",o+=n[1]+",",o+=n[2]+",",n=o+=n[3]+")"}if(r.A.isRGB(n)){var i=r.A.rgbaToHex(n);this.set("fill",i.hex),this.set("fill-opacity",i.opacity)}else this.set("fill",n),this.set("fill-opacity",1)}}},s().prototype.setPropertyStroke=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getStroke();if(t){var n=t.getColor();if(Array.isArray(n)){var o="rgba(";o+=n[0]+",",o+=n[1]+",",o+=n[2]+",",n=o+=n[3]+")"}if(r.A.isRGB(n)){var i=r.A.rgbaToHex(n);this.set("stroke",i.hex),this.set("stroke-opacity",i.opacity)}else this.set("stroke",n),this.set("stroke-opacity",1);this.set("stroke-width",t.getWidth())}}},s().prototype.setPropertyLabel=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=void 0!==this.get("name");if(e.getText()&&t){var n=e.getText().getFill();if(n){var o=n.getColor();if(Array.isArray(o)){var i="rgba(";i+=o[0]+",",i+=o[1]+",",i+=o[2]+",",o=i+=o[3]+")"}if(r.A.isRGB(o)){var a=r.A.rgbaToHex(o);this.set("label-fill",a.hex),this.set("label-fill-opacity",a.opacity)}else this.set("label-fill",o),this.set("label-fill-opacity",1)}var s=e.getText().getStroke();if(s){var l=s.getColor();if(Array.isArray(l)){var c="rgba(";c+=l[0]+",",c+=l[1]+",",c+=l[2]+",",l=c+=l[3]+")"}if(r.A.isRGB(l)){var u=r.A.rgbaToHex(l);this.set("label-stroke",u.hex),this.set("label-stroke-opacity",u.opacity)}else this.set("label-stroke",l),this.set("label-stroke-opacity",1);this.set("label-stroke-width",s.getWidth())}this.set("label-font",e.getText().getFont()||_.DEFAULT_TEXT.font),this.set("label-textAlign",e.getText().getTextAlign()||_.DEFAULT_TEXT.textAlign)}}},s().prototype.setPropertyMarker=function(){var e=this.getStyle();if(e&&(!Array.isArray(e)||0!==e.length)){var t=e.getImage();if(t)if(t instanceof h()){var n=t.getColor();if(Array.isArray(n)){var o="rgba(";o+=n[0]+",",o+=n[1]+",",o+=n[2]+",",n=o+=n[3]+")"}if(n){var i=r.A.rgbaToHex(n);this.set("marker-color",i.hex)}var a=t.getScale();switch(Math.round(2*a)/2){case 0:case.5:this.set("marker-size","small");break;case 1:this.set("marker-size","medium");break;case 1.5:case 2:this.set("marker-size","large")}var s=t.getSrc();s&&this.set("marker-symbol",s),this.unset("circle-fill"),this.unset("circle-fill-opacity"),this.unset("circle-stroke"),this.unset("circle-stroke-width"),this.unset("circle-stroke-opacity"),this.unset("circle-radius")}else{var l=t.getFill();if(l){var c=l.getColor();if(Array.isArray(c)){var u="rgba(";u+=c[0]+",",u+=c[1]+",",u+=c[2]+",",c=u+=c[3]+")"}if(r.A.isRGB(c)){var p=r.A.rgbaToHex(c);this.set("circle-fill",p.hex),this.set("circle-fill-opacity",p.opacity)}else this.set("circle-fill",c),this.set("circle-fill-opacity",1)}var d=t.getStroke();if(d){var g=d.getColor();if(Array.isArray(g)){var f="rgba(";f+=g[0]+",",f+=g[1]+",",f+=g[2]+",",g=f+=g[3]+")"}if(r.A.isRGB(g)){var m=r.A.rgbaToHex(g);this.set("circle-stroke",m.hex),this.set("circle-stroke-opacity",m.opacity)}else this.set("circle-stroke",g),this.set("circle-stroke-opacity",1);this.set("circle-stroke-width",d.getWidth())}var y=t.getRadius();this.set("circle-radius",y)}}};var _={APPLY_CONVERT_GEOM_GPX:!0,DEFAULT_ICON:{src:i.A.lightOrange,anchor:[.5,1],scale:1},DEFAULT_CIRCLE:{radius:10,fill:{opacity:1,color:[0,0,0,1]},stroke:{width:1,opacity:1,color:[0,0,0,1]}},DEFAULT_STROKE:{width:5,opacity:1,color:[250,250,250,1]},DEFAULT_FILL:{opacity:1,color:[0,0,0,1]},DEFAULT_TEXT:{font:"16px sans",textAlign:"left",stroke:{color:[250,250,250,1],width:5,opactity:1},fill:{opacity:1,color:[0,0,0,1]}},getListTags:function(){return["type","fill","fill-opacity","stroke","stroke-opacity","stroke-width","circle-fill","circle-fill-opacity","circle-stroke","circle-stroke-opacity","circle-stroke-width","circle-radius","marker-symbol","marker-color","marker-size","label-fill","label-fill-opacity","label-stroke","label-stroke-width","label-stroke-opacity","label-font","label-textAlign"]},defineStyleFromProperties:function(e){var t=null,n={},o=null;if(e.get("marker-color")||e.get("marker-size")||e.get("marker-symbol")){(o={}).src=this.DEFAULT_ICON.src,o.anchor=this.DEFAULT_ICON.anchor;var i=e.get("marker-symbol");i&&-1!==i.search("data:image/png;base64")&&(o.src=i);var a=e.get("marker-color");r.A.isHex(a)&&(o.color=r.A.hexToRgba(a,1));var s=e.get("marker-size");if(s)switch(s){case"small":o.scale=.5;break;case"medium":o.scale=1;break;case"large":o.scale=1.5;break;default:o.scale=this.DEFAULT_ICON.scale}}var l=null;(e.get("stroke")||e.get("stroke-opacity")||e.get("stroke-width"))&&((l={}).color=r.A.hexToRgba(e.get("stroke"),+e.get("stroke-opacity")||this.DEFAULT_STROKE.opacity),l.width=+e.get("stroke-width")||this.DEFAULT_STROKE.width);var u=null;(e.get("fill")||e.get("fill-opacity"))&&((u={}).color=r.A.hexToRgba(e.get("fill"),+e.get("fill-opacity")||this.DEFAULT_FILL.opacity));var d=null,g=null,m=""!==e.get("name");m&&((e.get("label-fill")||e.get("label-fill-opacity"))&&((g={}).color=r.A.hexToRgba(e.get("label-fill"),+e.get("label-fill-opacity")||this.DEFAULT_TEXT.fill.opacity)),(e.get("label-stroke")||e.get("label-stroke-opacity")||e.get("label-stroke-width"))&&((d={}).color=r.A.hexToRgba(e.get("label-stroke"),+e.get("label-stroke-opacity")||this.DEFAULT_TEXT.stroke.opacity),d.width=+e.get("label-stroke-width")||this.DEFAULT_TEXT.stroke.width));var v=e.get("circle-radius")||this.DEFAULT_CIRCLE.radius,I=null;(e.get("circle-stroke")||e.get("circle-stroke-opacity")||e.get("circle-stroke-width"))&&((I={}).color=r.A.hexToRgba(e.get("circle-stroke"),+e.get("circle-stroke-opacity")||this.DEFAULT_CIRCLE.stroke.opacity),I.width=+e.get("circle-stroke-width")||this.DEFAULT_CIRCLE.stroke.width);var b=null;(e.get("circle-fill")||e.get("circle-fill-opacity"))&&((b={}).color=r.A.hexToRgba(e.get("circle-fill"),+e.get("circle-fill-opacity")||this.DEFAULT_CIRCLE.fill.opacity));var w=e.getGeometry().getType();switch(w){case"Circle":case"Point":case"MultiPoint":var _=!1,P={};if(I&&(P.stroke=new(y())(I)),b&&(P.fill=new(f())(b)),0!==Object.keys(P).length&&(_=!0,P.radius=+v,n.image=new(p())(P)),o&&(n.image=new(h())(o)),m){var S={};if(d&&(S.stroke=new(y())(d)),g&&(S.fill=new(f())(g)),0!==Object.keys(S).length)S.text=e.get("name"),S.textAlign=e.get("label-textAlign")||this.DEFAULT_TEXT.textAlign,S.font=e.get("label-font")||this.DEFAULT_TEXT.font,n.text=new(C())(Object.assign({},this.DEFAULT_TEXT,S));else if(o||_){var x=new(C())(Object.assign({},this.DEFAULT_TEXT,{fill:new(f())(this.DEFAULT_TEXT.fill),stroke:new(y())(this.DEFAULT_TEXT.stroke)}));if(x){var T=x.clone();T.setText(e.get("name")),n.text=T}}}break;case"Polygon":case"MultiPolygon":l&&(n.stroke=new(y())(l)),u&&(n.fill=new(f())(u));break;case"LineString":case"MultiLineString":if(l&&(n.stroke=new(y())(l)),this.APPLY_CONVERT_GEOM_GPX&&u){var k=e.get("type");if(k&&("Polygon"===k||"MultiPolygon"===k)){n.fill=new(f())(u);var R=e.clone(),N="LineString"===w?A():E();e.setGeometry(new N([R.getGeometry().getCoordinates()]))}}}return 0!==Object.keys(n).length&&(t=new(c())(n)),t},defineStyleFunctionByDefault:function(e){if(!e)return[];if(0===Object.keys(e).length)return[];return function(t,n){var r=null;switch(t.getGeometry().getType()){case"Point":case"MultiPoint":var o={};if(e.getImage()&&(o.image=e.getImage()),e.getText()&&t.get("name")){var i=e.getText().clone();i.setText(t.get("name")),o.text=i}r=new(c())(o);break;case"Circle":var a={},s={};if(e.getFill()&&(s.fill=e.getFill()),e.getStroke()&&(s.stroke=e.getStroke()),e.getText()&&t.get("name")){var l=e.getText().clone();l.setText(t.get("name")),a.text=l}0!==Object.keys(s).length&&(s.radius=3,a.image=new(p())(s)),r=new(c())(a);break;case"Polygon":case"MultiPolygon":var u={};e.getFill()&&(u.fill=e.getFill()),e.getStroke()&&(u.stroke=e.getStroke()),r=new(c())(u);break;case"LineString":case"LinearRing":case"MultiLineString":var d={};e.getStroke()&&(d.stroke=e.getStroke()),r=new(c())(d)}return[r]}},definePropertiesFromStyleByType:function(e){switch(e.getGeometry().getType()){case"Point":case"MultiPoint":e.setPropertyMarker(),e.setPropertyLabel();break;case"LineString":case"MultiLineString":e.setPropertyStroke();break;case"Polygon":case"MultiPolygon":e.setPropertyStroke(),e.setPropertyFill()}},definePropertiesFromStyle:function(e){var t=e.getStyle()||e.getStyleFunction();if(t){if("function"==typeof t){var n=t.call(this,e,0);if(!n||0===n.length)return;t=Array.isArray(n)?n[0]:n,e.setStyle(t)}this.definePropertiesFromStyleByType(e)}},defineTagFromStyle:function(e,t){return w.trace("todo..."),null}};const P=_},3920:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={hex:function(e){if(e>255)throw new Error("'"+e+"'' is greater than 255(0xff);");return("0"+Number(e).toString(16)).slice(-2)},num:function(e){return parseInt(e,16)},arrayToRgba:function(e){if(!Array.isArray(e))throw new Error("Not an array !");var t=e[0],n=e[1],r=e[2],o=e[3]||1;return"rgba("+t+", "+n+", "+r+", "+parseFloat(o)+")"},arrayToHex:function(e){if(!Array.isArray(e))throw new Error("Not an array !");var t=e[0],n=e[1],r=e[2],o=e[3],i=[this.hex(t),this.hex(n),this.hex(r)],a={};return a.hex="#"+i.join(""),o&&(a.opacity=parseFloat(o)),a},rgbaToHex:function(e){var t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(0?.?\d+)\s*)?\)/.exec(e);if(!t)throw new Error("Invalid format: "+e);var n=t[1],r=t[2],o=t[3],i=t[4],a=[this.hex(n),this.hex(r),this.hex(o)],s={};return s.hex="#"+a.join(""),i&&(s.opacity=parseFloat(i)),s},hexToRgba:function(e,t){if(!e)throw new Error("Invalid format");e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return(n=n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null)?"rgba("+n.r+", "+n.g+", "+n.b+", "+t+")":null},isHex:function(e){if(!e)return!1;if("#"!==e.charAt(0))return!1;return!!/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)},isRGB:function(e){if(!e)return!1;return!!/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(0?.?\d+)\s*)?\)/.exec(e)}}},6117:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5844).A.getLogger("draggable");const o={dragElement:function(e,t,n){var o,i,a=!1,s={x:0,y:0};function l(t){(t=t||window.event).preventDefault(),a=!0,t._pageX=t._pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),t._pageY=t._pageY||t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop),s.x=t._pageX-e.offsetLeft,s.y=t._pageY-e.offsetTop,document.addEventListener("mouseup",c,!0),document.addEventListener("mousemove",u,!0)}function c(){a=!1,document.removeEventListener("mouseup",c,!0),document.removeEventListener("mousemove",u,!0)}function u(t){if(t=t||window.event,a){t._pageX=t._pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),t._pageY=t._pageY||t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);var l=n?n.offsetLeft:e.parentElement.offsetLeft,c=n?n.offsetTop:e.parentElement.parentElement.offsetTop;r.trace("parent offset",l,c),o=t._pageX-s.x<0-l?0-l:t._pageX-s.x+e.clientWidth>document.body.clientWidth?document.body.clientWidth-e.clientWidth:t._pageX-s.x,r.trace("left/right constraint",o),i=t._pageY-s.y<0-c?0-c:t._pageY-s.y+e.clientHeight>document.body.clientHeight?document.body.clientHeight-e.clientHeight:t._pageY-s.y,r.trace("top/bottom constraint",i),e.style.top=i+"px",e.style.bottom="unset",e.style.left=o+"px",e.style.right="unset"}}t?t.addEventListener("mousedown",l,!0):e.addEventListener("mousedown",l,!0)}}},3273:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={getGeocodedLocationFreeform:function(e){var t=e.placeAttributes;if(t.label)return t.label;if("PositionOfInterest"===e.type){var n=t.toponym;return t.category&&Array.isArray(t.category)&&t.category.length>=2&&"administratif"===t.category[0]?n=n+", "+t.category[1]:t.postcode&&(n=n+", "+t.postcode[0],t.city&&(n=n+" "+t.city[0])),n}return"StreetAddress"===e.type?(t.housenumber?t.housenumber+" ":"")+t.street+" "+(t.postcode?t.postcode+", ":"")+t.city:"CadastralParcel"===e.type?t.id:"..."},getSuggestedLocationFreeform:function(e){if(e.fullText)return e.fullText;var t=[];return t.push(e.street||""),t.push(e.postalCode||""),t.push(e.commune||""),"PositionOfInterest"===e.type&&(t.push(e.poi||""),t.push(e.kind||"")),t.join(" - ")}}},2536:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>o});const o={detectSupport:function(){var e=!0,t=window.navigator.userAgent.toLowerCase();return-1===t.indexOf("iphone")&&-1===t.indexOf("ipod")&&-1===t.indexOf("ipad")&&-1===t.indexOf("android")&&-1===t.indexOf("mobile")&&-1===t.indexOf("blackberry")&&-1===t.indexOf("tablet")&&-1===t.indexOf("phone")&&-1===t.indexOf("touch")||(e=!1),-1===t.indexOf("msie")&&-1===t.indexOf("trident")||(e=!0),e},assign:function(e,t){for(var n in e=e||{},t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},mergeParams:function(e,t,n){if(void 0!==e&&void 0!==t)for(var o in void 0===n&&(n=!0),t)t.hasOwnProperty(o)&&("object"===r(t[o])?e.hasOwnProperty(o)?this.mergeParams(e[o],t[o],n):e[o]=t[o]:e.hasOwnProperty(o)?n&&(e[o]=t[o]):e[o]=t[o])}}},5844:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3065),o={getLogger:function(e){if(void 0===t)var t={env:{VERBOSE:!1}};t.env.VERBOSE?r.enableAll():r.disableAll();var n=e||"default";return r.getLogger(n)},disableAll:function(){var e=r.getLoggers();for(var t in e){if(Object.hasOwnProperty.call(e,t))e[t].disableAll()}},enableAll:function(){var e=r.getLoggers();for(var t in e){if(Object.hasOwnProperty.call(e,t))e[t].enableAll()}}};const i=o;window.Gp&&(window.Gp.Logger=o)},9335:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>i});var o=n(5844).A.getLogger("parser");const i={parse:function(e){var t=null,i="undefined"!=typeof window?window:null;"object"===("undefined"==typeof exports?"undefined":r(exports))&&null===window?t=(new(0,n(8978).S4)).parseFromString(e,"text/xml"):i.DOMParser?t=(new i.DOMParser).parseFromString(e,"text/xml"):i.ActiveXObject?((t=new i.ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e)):o.log("Incompatible environment for DOM Parser !");var a=t.querySelector("parsererror");return a?(console.error(a),null):(o.trace(t),t)},toString:function(e){var t=(new XMLSerializer).serializeToString(e);return o.trace(t),t},format:function(e){for(var t="",n=(e=e.replace(/(>)\s*(<)(\/*)/g,"$1\n$2$3").replace(/ *(.*) +\n/g,"$1\n").replace(/(<.+>)(.+\n)/g,"$1\n$2")).split("\n"),r=0,i="other",a={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0},s=0;s<n.length;s++){var l=n[s],c=Boolean(l.match(/<.+\/>/)),u=Boolean(l.match(/<\/.+>/)),p=Boolean(l.match(/<[^!].*>/)),d=c?"single":u?"closing":p?"opening":"other",h=i+"->"+d;i=d;var g="";r+=a[h];for(var f=0;f<r;f++)g+="\t";"opening->closing"===h?t=t.substr(0,t.length-1)+l+"\n":t+=g+l+"\n"}return o.trace(t),t}}},6736:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>o});const o={generate:(r=Math.floor(Date.now()),function(){return r++}),name:function(e){var t=null,n=e.lastIndexOf("-");return t=-1===n?e:e.substring(0,n),t},index:function(e){var t=null,n=this.name(e),r=n.lastIndexOf("_");return-1!==r&&(t=n.substring(r+1)),t},uuid:function(e){var t=null,n=e.lastIndexOf("-");return-1!==n&&(t=parseInt(e.substring(n+1),10)),t}}},6964:function(e,t,n){e.exports=function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,a=void 0,s=function(e,t){I[o]=e,I[o+1]=t,2===(o+=2)&&(a?a(A):E())};function l(e){a=e}function c(e){s=e}var u="undefined"!=typeof window?window:void 0,p=u||{},d=p.MutationObserver||p.WebKitMutationObserver,h="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),g="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){return function(){return process.nextTick(A)}}function m(){return void 0!==i?function(){i(A)}:C()}function y(){var e=0,t=new d(A),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function v(){var e=new MessageChannel;return e.port1.onmessage=A,function(){return e.port2.postMessage(0)}}function C(){var e=setTimeout;return function(){return e(A,1)}}var I=new Array(1e3);function A(){for(var e=0;e<o;e+=2)(0,I[e])(I[e+1]),I[e]=void 0,I[e+1]=void 0;o=0}function b(){try{var e=Function("return this")().require("vertx");return i=e.runOnLoop||e.runOnContext,m()}catch(e){return C()}}var E=void 0;function w(e,t){var n=this,r=new this.constructor(S);void 0===r[P]&&W(r);var o=n._state;if(o){var i=arguments[o-1];s((function(){return z(o,r,i,n._result)}))}else j(n,r,e,t);return r}function _(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(S);return G(n,e),n}E=h?f():d?y():g?v():void 0===u?b():C();var P=Math.random().toString(36).substring(2);function S(){}var x=void 0,T=1,k=2;function R(){return new TypeError("You cannot resolve a promise with itself")}function N(){return new TypeError("A promises callback cannot return that same promise.")}function L(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function O(e,t,n){s((function(e){var r=!1,o=L(n,t,(function(n){r||(r=!0,t!==n?G(e,n):B(e,n))}),(function(t){r||(r=!0,F(e,t))}),"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,F(e,o))}),e)}function D(e,t){t._state===T?B(e,t._result):t._state===k?F(e,t._result):j(t,void 0,(function(t){return G(e,t)}),(function(t){return F(e,t)}))}function M(e,n,r){n.constructor===e.constructor&&r===w&&n.constructor.resolve===_?D(e,n):void 0===r?B(e,n):t(r)?O(e,n,r):B(e,n)}function G(t,n){if(t===n)F(t,R());else if(e(n)){var r=void 0;try{r=n.then}catch(e){return void F(t,e)}M(t,n,r)}else B(t,n)}function U(e){e._onerror&&e._onerror(e._result),q(e)}function B(e,t){e._state===x&&(e._result=t,e._state=T,0!==e._subscribers.length&&s(q,e))}function F(e,t){e._state===x&&(e._state=k,e._result=t,s(U,e))}function j(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+T]=n,o[i+k]=r,0===i&&e._state&&s(q,e)}function q(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?z(n,r,o,i):o(i);e._subscribers.length=0}}function z(e,n,r,o){var i=t(r),a=void 0,s=void 0,l=!0;if(i){try{a=r(o)}catch(e){l=!1,s=e}if(n===a)return void F(n,N())}else a=o;n._state!==x||(i&&l?G(n,a):!1===l?F(n,s):e===T?B(n,a):e===k&&F(n,a))}function H(e,t){try{t((function(t){G(e,t)}),(function(t){F(e,t)}))}catch(t){F(e,t)}}var V=0;function Y(){return V++}function W(e){e[P]=V++,e._state=void 0,e._result=void 0,e._subscribers=[]}function X(){return new Error("Array Methods must be provided an Array")}var Z=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(S),this.promise[P]||W(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&B(this.promise,this._result))):F(this.promise,X())}return e.prototype._enumerate=function(e){for(var t=0;this._state===x&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===_){var o=void 0,i=void 0,a=!1;try{o=e.then}catch(e){a=!0,i=e}if(o===w&&e._state!==x)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===te){var s=new n(S);a?F(s,i):M(s,e,o),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===x&&(this._remaining--,e===k?F(r,n):this._result[t]=n),0===this._remaining&&B(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;j(e,void 0,(function(e){return n._settledAt(T,t,e)}),(function(e){return n._settledAt(k,t,e)}))},e}();function J(e){return new Z(this,e).promise}function K(e){var t=this;return r(e)?new t((function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function Q(e){var t=new this(S);return F(t,e),t}function $(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ee(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var te=function(){function e(t){this[P]=Y(),this._result=this._state=void 0,this._subscribers=[],S!==t&&("function"!=typeof t&&$(),this instanceof e?H(this,t):ee())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var n=this,r=n.constructor;return t(e)?n.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();function ne(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=te}return te.prototype.then=w,te.all=J,te.race=K,te.resolve=_,te.reject=Q,te._setScheduler=l,te._setAsap=c,te._asap=s,te.polyfill=ne,te.Promise=te,te}()},3110:function(e){var t;e.exports=(t={},(t=function(){this.listeners={}}).prototype={addEventListener:function(e,t,n){for(var r=[],o=arguments.length,i=0;i<o;i++)r.push(arguments[i]);r=r.length>3?r.splice(3,r.length-1):[],void 0!==this.listeners[e]?this.listeners[e].push({scope:n,callback:t,args:r}):this.listeners[e]=[{scope:n,callback:t,args:r}]},removeEventListener:function(e,t,n){if(void 0!==this.listeners[e]){for(var r=this.listeners[e].length,o=[],i=0;i<r;i++){var a=this.listeners[e][i];a.scope==n&&a.callback==t||o.push(a)}this.listeners[e]=o}},hasEventListener:function(e,t,n){if(void 0!==this.listeners[e]){var r=this.listeners[e].length;if(void 0===t&&void 0===n)return r>0;for(var o=0;o<r;o++){var i=this.listeners[e][o];if((!n||i.scope==n)&&i.callback==t)return!0}}return!1},dispatch:function(e,t){for(var n={type:e,target:t},r=[],o=arguments.length,i=0;i<o;i++)r.push(arguments[i]);if(r=r.length>2?r.splice(2,r.length-1):[],r=[n].concat(r),void 0!==this.listeners[e]){var a=this.listeners[e].slice(),s=a.length;for(i=0;i<s;i++){var l=a[i];if(l&&l.callback){var c=r.concat(l.args);l.callback.apply(l.scope,c)}}}},getEvents:function(){var e="";for(var t in this.listeners)for(var n=this.listeners[t].length,r=0;r<n;r++){var o=this.listeners[t][r];e+=o.scope&&o.scope.className?o.scope.className:"anonymous",e+=" listen for '"+t+"'\n"}return e}},new t)},336:(e,t)=>{"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var r=n({HTML:"text/html",isHTML:function(e){return e===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),o=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===o.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var r=0;r<e.length;r++)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];if(t.call(void 0,o,r,e))return o}},t.freeze=n,t.MIME_TYPE=r,t.NAMESPACE=o},4398:(e,t,n)=>{var r=n(336),o=n(64),i=n(965),a=n(4288),s=o.DOMImplementation,l=r.NAMESPACE,c=a.ParseError,u=a.XMLReader;function p(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function d(e){this.options=e||{locator:{}}}function h(){this.cdata=!1}function g(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function f(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function m(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function y(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}d.prototype.parseFromString=function(e,t){var n=this.options,r=new u,o=n.domBuilder||new h,a=n.errorHandler,s=n.locator,c=n.xmlns||{},d=/\/x?html?$/.test(t),g=d?i.HTML_ENTITIES:i.XML_ENTITIES;s&&o.setDocumentLocator(s),r.errorHandler=function(e,t,n){if(!e){if(t instanceof h)return t;e=t}var r={},o=e instanceof Function;function i(t){var i=e[t];!i&&o&&(i=2==e.length?function(n){e(t,n)}:e),r[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+f(n))}||function(){}}return n=n||{},i("warning"),i("error"),i("fatalError"),r}(a,o,s),r.domBuilder=n.domBuilder||o,d&&(c[""]=l.HTML),c.xml=c.xml||l.XML;var m=n.normalizeLineEndings||p;return e&&"string"==typeof e?r.parse(m(e),c,g):r.errorHandler.error("invalid doc source"),o.doc},h.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var o=this.doc,i=o.createElementNS(e,n||t),a=r.length;y(this,i),this.currentElement=i,this.locator&&g(this.locator,i);for(var s=0;s<a;s++){e=r.getURI(s);var l=r.getValue(s),c=(n=r.getQName(s),o.createAttributeNS(e,n));this.locator&&g(r.getLocator(s),c),c.value=c.nodeValue=l,i.setAttributeNode(c)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&g(this.locator,n),y(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=m.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&g(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=m.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&g(this.locator,r),y(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(e,t,n);this.locator&&g(this.locator,o),y(this,o),this.doc.doctype=o}},warning:function(e){console.warn("[xmldom warning]\t"+e,f(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,f(this.locator))},fatalError:function(e){throw new c(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){h.prototype[e]=function(){return null}})),t.DOMParser=d},64:(e,t,n)=>{var r=n(336),o=r.find,i=r.NAMESPACE;function a(e){return""!==e}function s(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function l(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(a):[]}(e);return Object.keys(t.reduce(s,{}))}function c(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function u(e,t){var n=e.prototype;if(!(n instanceof t)){function r(){}r.prototype=t.prototype,c(n,r=new r),e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var p={},d=p.ELEMENT_NODE=1,h=p.ATTRIBUTE_NODE=2,g=p.TEXT_NODE=3,f=p.CDATA_SECTION_NODE=4,m=p.ENTITY_REFERENCE_NODE=5,y=p.ENTITY_NODE=6,v=p.PROCESSING_INSTRUCTION_NODE=7,C=p.COMMENT_NODE=8,I=p.DOCUMENT_NODE=9,A=p.DOCUMENT_TYPE_NODE=10,b=p.DOCUMENT_FRAGMENT_NODE=11,E=p.NOTATION_NODE=12,w={},_={},P=(w.INDEX_SIZE_ERR=(_[1]="Index size error",1),w.DOMSTRING_SIZE_ERR=(_[2]="DOMString size error",2),w.HIERARCHY_REQUEST_ERR=(_[3]="Hierarchy request error",3)),S=(w.WRONG_DOCUMENT_ERR=(_[4]="Wrong document",4),w.INVALID_CHARACTER_ERR=(_[5]="Invalid character",5),w.NO_DATA_ALLOWED_ERR=(_[6]="No data allowed",6),w.NO_MODIFICATION_ALLOWED_ERR=(_[7]="No modification allowed",7),w.NOT_FOUND_ERR=(_[8]="Not found",8)),x=(w.NOT_SUPPORTED_ERR=(_[9]="Not supported",9),w.INUSE_ATTRIBUTE_ERR=(_[10]="Attribute in use",10));w.INVALID_STATE_ERR=(_[11]="Invalid state",11),w.SYNTAX_ERR=(_[12]="Syntax error",12),w.INVALID_MODIFICATION_ERR=(_[13]="Invalid modification",13),w.NAMESPACE_ERR=(_[14]="Invalid namespace",14),w.INVALID_ACCESS_ERR=(_[15]="Invalid access",15);function T(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,_[e]),this.message=_[e],Error.captureStackTrace&&Error.captureStackTrace(this,T);return n.code=e,t&&(this.message=this.message+": "+t),n}function k(){}function R(e,t){this._node=e,this._refresh=t,N(this)}function N(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(Ce(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var r=n.length;r in e;r++)Object.prototype.hasOwnProperty.call(e,r)&&delete e[r];c(n,e),e._inc=t}}function L(){}function O(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function D(e,t,n,r){if(r?t[O(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var o=e.ownerDocument;o&&(r&&q(o,e,r),function(e,t,n){e&&e._inc++;var r=n.namespaceURI;r===i.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(o,e,n))}}function M(e,t,n){var r=O(t,n);if(!(r>=0))throw new T(S,new Error(e.tagName+"@"+n));for(var o=t.length-1;r<o;)t[r]=t[++r];if(t.length=o,e){var i=e.ownerDocument;i&&(q(i,e,n),n.ownerElement=null)}}function G(){}function U(){}function B(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function F(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(F(e,t))return!0}while(e=e.nextSibling)}function j(){this.ownerDocument=this}function q(e,t,n,r){e&&e._inc++,n.namespaceURI===i.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function z(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var o=t.firstChild,i=0;o;)r[i++]=o,o=o.nextSibling;r.length=i,delete r[r.length]}}}function H(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,z(e.ownerDocument,e),t}function V(e){return e&&e.nodeType===U.DOCUMENT_TYPE_NODE}function Y(e){return e&&e.nodeType===U.ELEMENT_NODE}function W(e){return e&&e.nodeType===U.TEXT_NODE}function X(e,t){var n=e.childNodes||[];if(o(n,Y)||V(t))return!1;var r=o(n,V);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function Z(e,t){var n=e.childNodes||[];if(o(n,(function(e){return Y(e)&&e!==t})))return!1;var r=o(n,V);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function J(e,t,n){if(!function(e){return e&&(e.nodeType===U.DOCUMENT_NODE||e.nodeType===U.DOCUMENT_FRAGMENT_NODE||e.nodeType===U.ELEMENT_NODE)}(e))throw new T(P,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new T(S,"child not in parent");if(!function(e){return e&&(Y(e)||W(e)||V(e)||e.nodeType===U.DOCUMENT_FRAGMENT_NODE||e.nodeType===U.COMMENT_NODE||e.nodeType===U.PROCESSING_INSTRUCTION_NODE)}(t)||V(t)&&e.nodeType!==U.DOCUMENT_NODE)throw new T(P,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function K(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===U.DOCUMENT_FRAGMENT_NODE){var a=i.filter(Y);if(a.length>1||o(i,W))throw new T(P,"More than one element or text in fragment");if(1===a.length&&!X(e,n))throw new T(P,"Element in fragment can not be inserted before doctype")}if(Y(t)&&!X(e,n))throw new T(P,"Only one element can be added and only after doctype");if(V(t)){if(o(r,V))throw new T(P,"Only one doctype is allowed");var s=o(r,Y);if(n&&r.indexOf(s)<r.indexOf(n))throw new T(P,"Doctype can only be inserted before an element");if(!n&&s)throw new T(P,"Doctype can not be appended since element is present")}}function Q(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===U.DOCUMENT_FRAGMENT_NODE){var a=i.filter(Y);if(a.length>1||o(i,W))throw new T(P,"More than one element or text in fragment");if(1===a.length&&!Z(e,n))throw new T(P,"Element in fragment can not be inserted before doctype")}if(Y(t)&&!Z(e,n))throw new T(P,"Only one element can be added and only after doctype");if(V(t)){if(o(r,(function(e){return V(e)&&e!==n})))throw new T(P,"Only one doctype is allowed");var s=o(r,Y);if(n&&r.indexOf(s)<r.indexOf(n))throw new T(P,"Doctype can only be inserted before an element")}}function $(e,t,n,r){J(e,t,n),e.nodeType===U.DOCUMENT_NODE&&(r||K)(e,t,n);var o=t.parentNode;if(o&&o.removeChild(t),t.nodeType===b){var i=t.firstChild;if(null==i)return t;var a=t.lastChild}else i=a=t;var s=n?n.previousSibling:e.lastChild;i.previousSibling=s,a.nextSibling=n,s?s.nextSibling=i:e.firstChild=i,null==n?e.lastChild=a:n.previousSibling=a;do{i.parentNode=e}while(i!==a&&(i=i.nextSibling));return z(e.ownerDocument||e,e),t.nodeType==b&&(t.firstChild=t.lastChild=null),t}function ee(){this._nsMap={}}function te(){}function ne(){}function re(){}function oe(){}function ie(){}function ae(){}function se(){}function le(){}function ce(){}function ue(){}function pe(){}function de(){}function he(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,o=r.prefix,i=r.namespaceURI;if(i&&null==o&&null==(o=r.lookupPrefix(i)))var a=[{namespace:i,prefix:null}];return me(this,n,e,t,a),n.join("")}function ge(e,t,n){var r=e.prefix||"",o=e.namespaceURI;if(!o)return!1;if("xml"===r&&o===i.XML||o===i.XMLNS)return!1;for(var a=n.length;a--;){var s=n[a];if(s.prefix===r)return s.namespace!==o}return!0}function fe(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,B),'"')}function me(e,t,n,r,o){if(o||(o=[]),r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case d:var a=e.attributes,s=a.length,l=e.firstChild,c=e.tagName,u=c;if(!(n=i.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var p,y=0;y<a.length;y++)if("xmlns"===a.item(y).name){p=a.item(y).value;break}if(!p)for(var E=o.length-1;E>=0;E--){if(""===(w=o[E]).prefix&&w.namespace===e.namespaceURI){p=w.namespace;break}}if(p!==e.namespaceURI)for(E=o.length-1;E>=0;E--){var w;if((w=o[E]).namespace===e.namespaceURI){w.prefix&&(u=w.prefix+":"+c);break}}}t.push("<",u);for(var _=0;_<s;_++){"xmlns"==(P=a.item(_)).prefix?o.push({prefix:P.localName,namespace:P.value}):"xmlns"==P.nodeName&&o.push({prefix:"",namespace:P.value})}for(_=0;_<s;_++){var P,S,x;if(ge(P=a.item(_),0,o))fe(t,(S=P.prefix||"")?"xmlns:"+S:"xmlns",x=P.namespaceURI),o.push({prefix:S,namespace:x});me(P,t,n,r,o)}if(c===u&&ge(e,0,o))fe(t,(S=e.prefix||"")?"xmlns:"+S:"xmlns",x=e.namespaceURI),o.push({prefix:S,namespace:x});if(l||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;l;)l.data?t.push(l.data):me(l,t,n,r,o.slice()),l=l.nextSibling;else for(;l;)me(l,t,n,r,o.slice()),l=l.nextSibling;t.push("</",u,">")}else t.push("/>");return;case I:case b:for(l=e.firstChild;l;)me(l,t,n,r,o.slice()),l=l.nextSibling;return;case h:return fe(t,e.name,e.value);case g:return t.push(e.data.replace(/[<&>]/g,B));case f:return t.push("<![CDATA[",e.data,"]]>");case C:return t.push("\x3c!--",e.data,"--\x3e");case A:var T=e.publicId,k=e.systemId;if(t.push("<!DOCTYPE ",e.name),T)t.push(" PUBLIC ",T),k&&"."!=k&&t.push(" ",k),t.push(">");else if(k&&"."!=k)t.push(" SYSTEM ",k,">");else{var R=e.internalSubset;R&&t.push(" [",R,"]"),t.push(">")}return;case v:return t.push("<?",e.target," ",e.data,"?>");case m:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ye(e,t,n){var r;switch(t.nodeType){case d:(r=t.cloneNode(!1)).ownerDocument=e;case b:break;case h:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var o=t.firstChild;o;)r.appendChild(ye(e,o,n)),o=o.nextSibling;return r}function ve(e,t,n){var r=new t.constructor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=t[o];"object"!=typeof i&&i!=r[o]&&(r[o]=i)}switch(t.childNodes&&(r.childNodes=new k),r.ownerDocument=e,r.nodeType){case d:var a=t.attributes,s=r.attributes=new L,l=a.length;s._ownerElement=r;for(var c=0;c<l;c++)r.setAttributeNode(ve(e,a.item(c),!0));break;case h:n=!0}if(n)for(var u=t.firstChild;u;)r.appendChild(ve(e,u,n)),u=u.nextSibling;return r}function Ce(e,t,n){e[t]=n}T.prototype=Error.prototype,c(w,T),k.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)me(this[r],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},R.prototype.item=function(e){return N(this),this[e]||null},u(R,k),L.prototype={length:0,item:k.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new T(x);var n=this.getNamedItem(e.nodeName);return D(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new T(x);return t=this.getNamedItemNS(e.namespaceURI,e.localName),D(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return M(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return M(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},G.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new j;if(r.implementation=this,r.childNodes=new k,r.doctype=n||null,n&&r.appendChild(n),t){var o=r.createElementNS(e,t);r.appendChild(o)}return r},createDocumentType:function(e,t,n){var r=new ae;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=n||"",r}},U.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return $(this,e,t)},replaceChild:function(e,t){$(this,e,t,Q),t&&this.removeChild(t)},removeChild:function(e){return H(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ve(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==g&&e.nodeType==g?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e)return r;t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},c(p,U),c(p,U.prototype),j.prototype={nodeName:"#document",nodeType:I,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==b){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return $(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===d&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),H(this,e)},replaceChild:function(e,t){$(this,e,t,Q),e.ownerDocument=this,t&&this.removeChild(t),Y(e)&&(this.documentElement=e)},importNode:function(e,t){return ye(this,e,t)},getElementById:function(e){var t=null;return F(this.documentElement,(function(n){if(n.nodeType==d&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=l(e);return new R(this,(function(n){var r=[];return t.length>0&&F(n.documentElement,(function(o){if(o!==n&&o.nodeType===d){var i=o.getAttribute("class");if(i){var a=e===i;if(!a){var s=l(i);a=t.every((c=s,function(e){return c&&-1!==c.indexOf(e)}))}a&&r.push(o)}}var c})),r}))},createElement:function(e){var t=new ee;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new k,(t.attributes=new L)._ownerElement=t,t},createDocumentFragment:function(){var e=new ue;return e.ownerDocument=this,e.childNodes=new k,e},createTextNode:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new oe;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new pe;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new te;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new ce;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new ee,r=t.split(":"),o=n.attributes=new L;return n.childNodes=new k,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,o._ownerElement=n,n},createAttributeNS:function(e,t){var n=new te,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},u(j,U),ee.prototype={nodeType:d,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===b?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,z(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new R(this,(function(t){var n=[];return F(t,(function(r){r===t||r.nodeType!=d||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new R(this,(function(n){var r=[];return F(n,(function(o){o===n||o.nodeType!==d||"*"!==e&&o.namespaceURI!==e||"*"!==t&&o.localName!=t||r.push(o)})),r}))}},j.prototype.getElementsByTagName=ee.prototype.getElementsByTagName,j.prototype.getElementsByTagNameNS=ee.prototype.getElementsByTagNameNS,u(ee,U),te.prototype.nodeType=h,u(te,U),ne.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(_[P])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},u(ne,U),re.prototype={nodeName:"#text",nodeType:g,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},u(re,ne),oe.prototype={nodeName:"#comment",nodeType:C},u(oe,ne),ie.prototype={nodeName:"#cdata-section",nodeType:f},u(ie,ne),ae.prototype.nodeType=A,u(ae,U),se.prototype.nodeType=E,u(se,U),le.prototype.nodeType=y,u(le,U),ce.prototype.nodeType=m,u(ce,U),ue.prototype.nodeName="#document-fragment",ue.prototype.nodeType=b,u(ue,U),pe.prototype.nodeType=v,u(pe,U),de.prototype.serializeToString=function(e,t,n){return he.call(e,t,n)},U.prototype.toString=he;try{if(Object.defineProperty){function Ie(e){switch(e.nodeType){case d:case b:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(Ie(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(R.prototype,"length",{get:function(){return N(this),this.$$length}}),Object.defineProperty(U.prototype,"textContent",{get:function(){return Ie(this)},set:function(e){switch(this.nodeType){case d:case b:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Ce=function(e,t,n){e["$$"+t]=n}}}catch(Ae){}t.DocumentType=ae,t.DOMException=T,t.DOMImplementation=G,t.Element=ee,t.Node=U,t.NodeList=k,t.XMLSerializer=de},965:(e,t,n)=>{"use strict";var r=n(336).freeze;t.XML_ENTITIES=r({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=r({Aacute:"Ã",aacute:"Ã¡",Abreve:"Ä‚",abreve:"Äƒ",ac:"âˆ¾",acd:"âˆ¿",acE:"âˆ¾Ì³",Acirc:"Ã‚",acirc:"Ã¢",acute:"Â´",Acy:"Ğ",acy:"Ğ°",AElig:"Ã†",aelig:"Ã¦",af:"â¡",Afr:"ğ”„",afr:"ğ”",Agrave:"Ã€",agrave:"Ã ",alefsym:"â„µ",aleph:"â„µ",Alpha:"Î‘",alpha:"Î±",Amacr:"Ä€",amacr:"Ä",amalg:"â¨¿",AMP:"&",amp:"&",And:"â©“",and:"âˆ§",andand:"â©•",andd:"â©œ",andslope:"â©˜",andv:"â©š",ang:"âˆ ",ange:"â¦¤",angle:"âˆ ",angmsd:"âˆ¡",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angrt:"âˆŸ",angrtvb:"âŠ¾",angrtvbd:"â¦",angsph:"âˆ¢",angst:"Ã…",angzarr:"â¼",Aogon:"Ä„",aogon:"Ä…",Aopf:"ğ”¸",aopf:"ğ•’",ap:"â‰ˆ",apacir:"â©¯",apE:"â©°",ape:"â‰Š",apid:"â‰‹",apos:"'",ApplyFunction:"â¡",approx:"â‰ˆ",approxeq:"â‰Š",Aring:"Ã…",aring:"Ã¥",Ascr:"ğ’œ",ascr:"ğ’¶",Assign:"â‰”",ast:"*",asymp:"â‰ˆ",asympeq:"â‰",Atilde:"Ãƒ",atilde:"Ã£",Auml:"Ã„",auml:"Ã¤",awconint:"âˆ³",awint:"â¨‘",backcong:"â‰Œ",backepsilon:"Ï¶",backprime:"â€µ",backsim:"âˆ½",backsimeq:"â‹",Backslash:"âˆ–",Barv:"â«§",barvee:"âŠ½",Barwed:"âŒ†",barwed:"âŒ…",barwedge:"âŒ…",bbrk:"âµ",bbrktbrk:"â¶",bcong:"â‰Œ",Bcy:"Ğ‘",bcy:"Ğ±",bdquo:"â€",becaus:"âˆµ",Because:"âˆµ",because:"âˆµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â„¬",Bernoullis:"â„¬",Beta:"Î’",beta:"Î²",beth:"â„¶",between:"â‰¬",Bfr:"ğ”…",bfr:"ğ”Ÿ",bigcap:"â‹‚",bigcirc:"â—¯",bigcup:"â‹ƒ",bigodot:"â¨€",bigoplus:"â¨",bigotimes:"â¨‚",bigsqcup:"â¨†",bigstar:"â˜…",bigtriangledown:"â–½",bigtriangleup:"â–³",biguplus:"â¨„",bigvee:"â‹",bigwedge:"â‹€",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"â–ª",blacktriangle:"â–´",blacktriangledown:"â–¾",blacktriangleleft:"â—‚",blacktriangleright:"â–¸",blank:"â£",blk12:"â–’",blk14:"â–‘",blk34:"â–“",block:"â–ˆ",bne:"=âƒ¥",bnequiv:"â‰¡âƒ¥",bNot:"â«­",bnot:"âŒ",Bopf:"ğ”¹",bopf:"ğ•“",bot:"âŠ¥",bottom:"âŠ¥",bowtie:"â‹ˆ",boxbox:"â§‰",boxDL:"â•—",boxDl:"â•–",boxdL:"â••",boxdl:"â”",boxDR:"â•”",boxDr:"â•“",boxdR:"â•’",boxdr:"â”Œ",boxH:"â•",boxh:"â”€",boxHD:"â•¦",boxHd:"â•¤",boxhD:"â•¥",boxhd:"â”¬",boxHU:"â•©",boxHu:"â•§",boxhU:"â•¨",boxhu:"â”´",boxminus:"âŠŸ",boxplus:"âŠ",boxtimes:"âŠ ",boxUL:"â•",boxUl:"â•œ",boxuL:"â•›",boxul:"â”˜",boxUR:"â•š",boxUr:"â•™",boxuR:"â•˜",boxur:"â””",boxV:"â•‘",boxv:"â”‚",boxVH:"â•¬",boxVh:"â•«",boxvH:"â•ª",boxvh:"â”¼",boxVL:"â•£",boxVl:"â•¢",boxvL:"â•¡",boxvl:"â”¤",boxVR:"â• ",boxVr:"â•Ÿ",boxvR:"â•",boxvr:"â”œ",bprime:"â€µ",Breve:"Ë˜",breve:"Ë˜",brvbar:"Â¦",Bscr:"â„¬",bscr:"ğ’·",bsemi:"â",bsim:"âˆ½",bsime:"â‹",bsol:"\\",bsolb:"â§…",bsolhsub:"âŸˆ",bull:"â€¢",bullet:"â€¢",bump:"â‰",bumpE:"âª®",bumpe:"â‰",Bumpeq:"â‰",bumpeq:"â‰",Cacute:"Ä†",cacute:"Ä‡",Cap:"â‹’",cap:"âˆ©",capand:"â©„",capbrcup:"â©‰",capcap:"â©‹",capcup:"â©‡",capdot:"â©€",CapitalDifferentialD:"â……",caps:"âˆ©ï¸€",caret:"â",caron:"Ë‡",Cayleys:"â„­",ccaps:"â©",Ccaron:"ÄŒ",ccaron:"Ä",Ccedil:"Ã‡",ccedil:"Ã§",Ccirc:"Äˆ",ccirc:"Ä‰",Cconint:"âˆ°",ccups:"â©Œ",ccupssm:"â©",Cdot:"ÄŠ",cdot:"Ä‹",cedil:"Â¸",Cedilla:"Â¸",cemptyv:"â¦²",cent:"Â¢",CenterDot:"Â·",centerdot:"Â·",Cfr:"â„­",cfr:"ğ” ",CHcy:"Ğ§",chcy:"Ñ‡",check:"âœ“",checkmark:"âœ“",Chi:"Î§",chi:"Ï‡",cir:"â—‹",circ:"Ë†",circeq:"â‰—",circlearrowleft:"â†º",circlearrowright:"â†»",circledast:"âŠ›",circledcirc:"âŠš",circleddash:"âŠ",CircleDot:"âŠ™",circledR:"Â®",circledS:"â“ˆ",CircleMinus:"âŠ–",CirclePlus:"âŠ•",CircleTimes:"âŠ—",cirE:"â§ƒ",cire:"â‰—",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§‚",ClockwiseContourIntegral:"âˆ²",CloseCurlyDoubleQuote:"â€",CloseCurlyQuote:"â€™",clubs:"â™£",clubsuit:"â™£",Colon:"âˆ·",colon:":",Colone:"â©´",colone:"â‰”",coloneq:"â‰”",comma:",",commat:"@",comp:"âˆ",compfn:"âˆ˜",complement:"âˆ",complexes:"â„‚",cong:"â‰…",congdot:"â©­",Congruent:"â‰¡",Conint:"âˆ¯",conint:"âˆ®",ContourIntegral:"âˆ®",Copf:"â„‚",copf:"ğ•”",coprod:"âˆ",Coproduct:"âˆ",COPY:"Â©",copy:"Â©",copysr:"â„—",CounterClockwiseContourIntegral:"âˆ³",crarr:"â†µ",Cross:"â¨¯",cross:"âœ—",Cscr:"ğ’",cscr:"ğ’¸",csub:"â«",csube:"â«‘",csup:"â«",csupe:"â«’",ctdot:"â‹¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â‹",cuesc:"â‹Ÿ",cularr:"â†¶",cularrp:"â¤½",Cup:"â‹“",cup:"âˆª",cupbrcap:"â©ˆ",CupCap:"â‰",cupcap:"â©†",cupcup:"â©Š",cupdot:"âŠ",cupor:"â©…",cups:"âˆªï¸€",curarr:"â†·",curarrm:"â¤¼",curlyeqprec:"â‹",curlyeqsucc:"â‹Ÿ",curlyvee:"â‹",curlywedge:"â‹",curren:"Â¤",curvearrowleft:"â†¶",curvearrowright:"â†·",cuvee:"â‹",cuwed:"â‹",cwconint:"âˆ²",cwint:"âˆ±",cylcty:"âŒ­",Dagger:"â€¡",dagger:"â€ ",daleth:"â„¸",Darr:"â†¡",dArr:"â‡“",darr:"â†“",dash:"â€",Dashv:"â«¤",dashv:"âŠ£",dbkarow:"â¤",dblac:"Ë",Dcaron:"Ä",dcaron:"Ä",Dcy:"Ğ”",dcy:"Ğ´",DD:"â……",dd:"â…†",ddagger:"â€¡",ddarr:"â‡Š",DDotrahd:"â¤‘",ddotseq:"â©·",deg:"Â°",Del:"âˆ‡",Delta:"Î”",delta:"Î´",demptyv:"â¦±",dfisht:"â¥¿",Dfr:"ğ”‡",dfr:"ğ”¡",dHar:"â¥¥",dharl:"â‡ƒ",dharr:"â‡‚",DiacriticalAcute:"Â´",DiacriticalDot:"Ë™",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ëœ",diam:"â‹„",Diamond:"â‹„",diamond:"â‹„",diamondsuit:"â™¦",diams:"â™¦",die:"Â¨",DifferentialD:"â…†",digamma:"Ï",disin:"â‹²",div:"Ã·",divide:"Ã·",divideontimes:"â‹‡",divonx:"â‹‡",DJcy:"Ğ‚",djcy:"Ñ’",dlcorn:"âŒ",dlcrop:"âŒ",dollar:"$",Dopf:"ğ”»",dopf:"ğ••",Dot:"Â¨",dot:"Ë™",DotDot:"âƒœ",doteq:"â‰",doteqdot:"â‰‘",DotEqual:"â‰",dotminus:"âˆ¸",dotplus:"âˆ”",dotsquare:"âŠ¡",doublebarwedge:"âŒ†",DoubleContourIntegral:"âˆ¯",DoubleDot:"Â¨",DoubleDownArrow:"â‡“",DoubleLeftArrow:"â‡",DoubleLeftRightArrow:"â‡”",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"âŸ¸",DoubleLongLeftRightArrow:"âŸº",DoubleLongRightArrow:"âŸ¹",DoubleRightArrow:"â‡’",DoubleRightTee:"âŠ¨",DoubleUpArrow:"â‡‘",DoubleUpDownArrow:"â‡•",DoubleVerticalBar:"âˆ¥",DownArrow:"â†“",Downarrow:"â‡“",downarrow:"â†“",DownArrowBar:"â¤“",DownArrowUpArrow:"â‡µ",DownBreve:"Ì‘",downdownarrows:"â‡Š",downharpoonleft:"â‡ƒ",downharpoonright:"â‡‚",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥",DownLeftVector:"â†½",DownLeftVectorBar:"â¥–",DownRightTeeVector:"â¥Ÿ",DownRightVector:"â‡",DownRightVectorBar:"â¥—",DownTee:"âŠ¤",DownTeeArrow:"â†§",drbkarow:"â¤",drcorn:"âŒŸ",drcrop:"âŒŒ",Dscr:"ğ’Ÿ",dscr:"ğ’¹",DScy:"Ğ…",dscy:"Ñ•",dsol:"â§¶",Dstrok:"Ä",dstrok:"Ä‘",dtdot:"â‹±",dtri:"â–¿",dtrif:"â–¾",duarr:"â‡µ",duhar:"â¥¯",dwangle:"â¦¦",DZcy:"Ğ",dzcy:"ÑŸ",dzigrarr:"âŸ¿",Eacute:"Ã‰",eacute:"Ã©",easter:"â©®",Ecaron:"Äš",ecaron:"Ä›",ecir:"â‰–",Ecirc:"ÃŠ",ecirc:"Ãª",ecolon:"â‰•",Ecy:"Ğ­",ecy:"Ñ",eDDot:"â©·",Edot:"Ä–",eDot:"â‰‘",edot:"Ä—",ee:"â…‡",efDot:"â‰’",Efr:"ğ”ˆ",efr:"ğ”¢",eg:"âªš",Egrave:"Ãˆ",egrave:"Ã¨",egs:"âª–",egsdot:"âª˜",el:"âª™",Element:"âˆˆ",elinters:"â§",ell:"â„“",els:"âª•",elsdot:"âª—",Emacr:"Ä’",emacr:"Ä“",empty:"âˆ…",emptyset:"âˆ…",EmptySmallSquare:"â—»",emptyv:"âˆ…",EmptyVerySmallSquare:"â–«",emsp:"â€ƒ",emsp13:"â€„",emsp14:"â€…",ENG:"ÅŠ",eng:"Å‹",ensp:"â€‚",Eogon:"Ä˜",eogon:"Ä™",Eopf:"ğ”¼",eopf:"ğ•–",epar:"â‹•",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",Epsilon:"Î•",epsilon:"Îµ",epsiv:"Ïµ",eqcirc:"â‰–",eqcolon:"â‰•",eqsim:"â‰‚",eqslantgtr:"âª–",eqslantless:"âª•",Equal:"â©µ",equals:"=",EqualTilde:"â‰‚",equest:"â‰Ÿ",Equilibrium:"â‡Œ",equiv:"â‰¡",equivDD:"â©¸",eqvparsl:"â§¥",erarr:"â¥±",erDot:"â‰“",Escr:"â„°",escr:"â„¯",esdot:"â‰",Esim:"â©³",esim:"â‰‚",Eta:"Î—",eta:"Î·",ETH:"Ã",eth:"Ã°",Euml:"Ã‹",euml:"Ã«",euro:"â‚¬",excl:"!",exist:"âˆƒ",Exists:"âˆƒ",expectation:"â„°",ExponentialE:"â…‡",exponentiale:"â…‡",fallingdotseq:"â‰’",Fcy:"Ğ¤",fcy:"Ñ„",female:"â™€",ffilig:"ï¬ƒ",fflig:"ï¬€",ffllig:"ï¬„",Ffr:"ğ”‰",ffr:"ğ”£",filig:"ï¬",FilledSmallSquare:"â—¼",FilledVerySmallSquare:"â–ª",fjlig:"fj",flat:"â™­",fllig:"ï¬‚",fltns:"â–±",fnof:"Æ’",Fopf:"ğ”½",fopf:"ğ•—",ForAll:"âˆ€",forall:"âˆ€",fork:"â‹”",forkv:"â«™",Fouriertrf:"â„±",fpartint:"â¨",frac12:"Â½",frac13:"â…“",frac14:"Â¼",frac15:"â…•",frac16:"â…™",frac18:"â…›",frac23:"â…”",frac25:"â…–",frac34:"Â¾",frac35:"â…—",frac38:"â…œ",frac45:"â…˜",frac56:"â…š",frac58:"â…",frac78:"â…",frasl:"â„",frown:"âŒ¢",Fscr:"â„±",fscr:"ğ’»",gacute:"Çµ",Gamma:"Î“",gamma:"Î³",Gammad:"Ïœ",gammad:"Ï",gap:"âª†",Gbreve:"Ä",gbreve:"ÄŸ",Gcedil:"Ä¢",Gcirc:"Äœ",gcirc:"Ä",Gcy:"Ğ“",gcy:"Ğ³",Gdot:"Ä ",gdot:"Ä¡",gE:"â‰§",ge:"â‰¥",gEl:"âªŒ",gel:"â‹›",geq:"â‰¥",geqq:"â‰§",geqslant:"â©¾",ges:"â©¾",gescc:"âª©",gesdot:"âª€",gesdoto:"âª‚",gesdotol:"âª„",gesl:"â‹›ï¸€",gesles:"âª”",Gfr:"ğ”Š",gfr:"ğ”¤",Gg:"â‹™",gg:"â‰«",ggg:"â‹™",gimel:"â„·",GJcy:"Ğƒ",gjcy:"Ñ“",gl:"â‰·",gla:"âª¥",glE:"âª’",glj:"âª¤",gnap:"âªŠ",gnapprox:"âªŠ",gnE:"â‰©",gne:"âªˆ",gneq:"âªˆ",gneqq:"â‰©",gnsim:"â‹§",Gopf:"ğ”¾",gopf:"ğ•˜",grave:"`",GreaterEqual:"â‰¥",GreaterEqualLess:"â‹›",GreaterFullEqual:"â‰§",GreaterGreater:"âª¢",GreaterLess:"â‰·",GreaterSlantEqual:"â©¾",GreaterTilde:"â‰³",Gscr:"ğ’¢",gscr:"â„Š",gsim:"â‰³",gsime:"âª",gsiml:"âª",Gt:"â‰«",GT:">",gt:">",gtcc:"âª§",gtcir:"â©º",gtdot:"â‹—",gtlPar:"â¦•",gtquest:"â©¼",gtrapprox:"âª†",gtrarr:"â¥¸",gtrdot:"â‹—",gtreqless:"â‹›",gtreqqless:"âªŒ",gtrless:"â‰·",gtrsim:"â‰³",gvertneqq:"â‰©ï¸€",gvnE:"â‰©ï¸€",Hacek:"Ë‡",hairsp:"â€Š",half:"Â½",hamilt:"â„‹",HARDcy:"Ğª",hardcy:"ÑŠ",hArr:"â‡”",harr:"â†”",harrcir:"â¥ˆ",harrw:"â†­",Hat:"^",hbar:"â„",Hcirc:"Ä¤",hcirc:"Ä¥",hearts:"â™¥",heartsuit:"â™¥",hellip:"â€¦",hercon:"âŠ¹",Hfr:"â„Œ",hfr:"ğ”¥",HilbertSpace:"â„‹",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â‡¿",homtht:"âˆ»",hookleftarrow:"â†©",hookrightarrow:"â†ª",Hopf:"â„",hopf:"ğ•™",horbar:"â€•",HorizontalLine:"â”€",Hscr:"â„‹",hscr:"ğ’½",hslash:"â„",Hstrok:"Ä¦",hstrok:"Ä§",HumpDownHump:"â‰",HumpEqual:"â‰",hybull:"âƒ",hyphen:"â€",Iacute:"Ã",iacute:"Ã­",ic:"â£",Icirc:"Ã",icirc:"Ã®",Icy:"Ğ˜",icy:"Ğ¸",Idot:"Ä°",IEcy:"Ğ•",iecy:"Ğµ",iexcl:"Â¡",iff:"â‡”",Ifr:"â„‘",ifr:"ğ”¦",Igrave:"ÃŒ",igrave:"Ã¬",ii:"â…ˆ",iiiint:"â¨Œ",iiint:"âˆ­",iinfin:"â§œ",iiota:"â„©",IJlig:"Ä²",ijlig:"Ä³",Im:"â„‘",Imacr:"Äª",imacr:"Ä«",image:"â„‘",ImaginaryI:"â…ˆ",imagline:"â„",imagpart:"â„‘",imath:"Ä±",imof:"âŠ·",imped:"Æµ",Implies:"â‡’",in:"âˆˆ",incare:"â„…",infin:"âˆ",infintie:"â§",inodot:"Ä±",Int:"âˆ¬",int:"âˆ«",intcal:"âŠº",integers:"â„¤",Integral:"âˆ«",intercal:"âŠº",Intersection:"â‹‚",intlarhk:"â¨—",intprod:"â¨¼",InvisibleComma:"â£",InvisibleTimes:"â¢",IOcy:"Ğ",iocy:"Ñ‘",Iogon:"Ä®",iogon:"Ä¯",Iopf:"ğ•€",iopf:"ğ•š",Iota:"Î™",iota:"Î¹",iprod:"â¨¼",iquest:"Â¿",Iscr:"â„",iscr:"ğ’¾",isin:"âˆˆ",isindot:"â‹µ",isinE:"â‹¹",isins:"â‹´",isinsv:"â‹³",isinv:"âˆˆ",it:"â¢",Itilde:"Ä¨",itilde:"Ä©",Iukcy:"Ğ†",iukcy:"Ñ–",Iuml:"Ã",iuml:"Ã¯",Jcirc:"Ä´",jcirc:"Äµ",Jcy:"Ğ™",jcy:"Ğ¹",Jfr:"ğ”",jfr:"ğ”§",jmath:"È·",Jopf:"ğ•",jopf:"ğ•›",Jscr:"ğ’¥",jscr:"ğ’¿",Jsercy:"Ğˆ",jsercy:"Ñ˜",Jukcy:"Ğ„",jukcy:"Ñ”",Kappa:"Îš",kappa:"Îº",kappav:"Ï°",Kcedil:"Ä¶",kcedil:"Ä·",Kcy:"Ğš",kcy:"Ğº",Kfr:"ğ”",kfr:"ğ”¨",kgreen:"Ä¸",KHcy:"Ğ¥",khcy:"Ñ…",KJcy:"ĞŒ",kjcy:"Ñœ",Kopf:"ğ•‚",kopf:"ğ•œ",Kscr:"ğ’¦",kscr:"ğ“€",lAarr:"â‡š",Lacute:"Ä¹",lacute:"Äº",laemptyv:"â¦´",lagran:"â„’",Lambda:"Î›",lambda:"Î»",Lang:"âŸª",lang:"âŸ¨",langd:"â¦‘",langle:"âŸ¨",lap:"âª…",Laplacetrf:"â„’",laquo:"Â«",Larr:"â†",lArr:"â‡",larr:"â†",larrb:"â‡¤",larrbfs:"â¤Ÿ",larrfs:"â¤",larrhk:"â†©",larrlp:"â†«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â†¢",lat:"âª«",lAtail:"â¤›",latail:"â¤™",late:"âª­",lates:"âª­ï¸€",lBarr:"â¤",lbarr:"â¤Œ",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦‹",lbrksld:"â¦",lbrkslu:"â¦",Lcaron:"Ä½",lcaron:"Ä¾",Lcedil:"Ä»",lcedil:"Ä¼",lceil:"âŒˆ",lcub:"{",Lcy:"Ğ›",lcy:"Ğ»",ldca:"â¤¶",ldquo:"â€œ",ldquor:"â€",ldrdhar:"â¥§",ldrushar:"â¥‹",ldsh:"â†²",lE:"â‰¦",le:"â‰¤",LeftAngleBracket:"âŸ¨",LeftArrow:"â†",Leftarrow:"â‡",leftarrow:"â†",LeftArrowBar:"â‡¤",LeftArrowRightArrow:"â‡†",leftarrowtail:"â†¢",LeftCeiling:"âŒˆ",LeftDoubleBracket:"âŸ¦",LeftDownTeeVector:"â¥¡",LeftDownVector:"â‡ƒ",LeftDownVectorBar:"â¥™",LeftFloor:"âŒŠ",leftharpoondown:"â†½",leftharpoonup:"â†¼",leftleftarrows:"â‡‡",LeftRightArrow:"â†”",Leftrightarrow:"â‡”",leftrightarrow:"â†”",leftrightarrows:"â‡†",leftrightharpoons:"â‡‹",leftrightsquigarrow:"â†­",LeftRightVector:"â¥",LeftTee:"âŠ£",LeftTeeArrow:"â†¤",LeftTeeVector:"â¥š",leftthreetimes:"â‹‹",LeftTriangle:"âŠ²",LeftTriangleBar:"â§",LeftTriangleEqual:"âŠ´",LeftUpDownVector:"â¥‘",LeftUpTeeVector:"â¥ ",LeftUpVector:"â†¿",LeftUpVectorBar:"â¥˜",LeftVector:"â†¼",LeftVectorBar:"â¥’",lEg:"âª‹",leg:"â‹š",leq:"â‰¤",leqq:"â‰¦",leqslant:"â©½",les:"â©½",lescc:"âª¨",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âªƒ",lesg:"â‹šï¸€",lesges:"âª“",lessapprox:"âª…",lessdot:"â‹–",lesseqgtr:"â‹š",lesseqqgtr:"âª‹",LessEqualGreater:"â‹š",LessFullEqual:"â‰¦",LessGreater:"â‰¶",lessgtr:"â‰¶",LessLess:"âª¡",lesssim:"â‰²",LessSlantEqual:"â©½",LessTilde:"â‰²",lfisht:"â¥¼",lfloor:"âŒŠ",Lfr:"ğ”",lfr:"ğ”©",lg:"â‰¶",lgE:"âª‘",lHar:"â¥¢",lhard:"â†½",lharu:"â†¼",lharul:"â¥ª",lhblk:"â–„",LJcy:"Ğ‰",ljcy:"Ñ™",Ll:"â‹˜",ll:"â‰ª",llarr:"â‡‡",llcorner:"âŒ",Lleftarrow:"â‡š",llhard:"â¥«",lltri:"â—º",Lmidot:"Ä¿",lmidot:"Å€",lmoust:"â°",lmoustache:"â°",lnap:"âª‰",lnapprox:"âª‰",lnE:"â‰¨",lne:"âª‡",lneq:"âª‡",lneqq:"â‰¨",lnsim:"â‹¦",loang:"âŸ¬",loarr:"â‡½",lobrk:"âŸ¦",LongLeftArrow:"âŸµ",Longleftarrow:"âŸ¸",longleftarrow:"âŸµ",LongLeftRightArrow:"âŸ·",Longleftrightarrow:"âŸº",longleftrightarrow:"âŸ·",longmapsto:"âŸ¼",LongRightArrow:"âŸ¶",Longrightarrow:"âŸ¹",longrightarrow:"âŸ¶",looparrowleft:"â†«",looparrowright:"â†¬",lopar:"â¦…",Lopf:"ğ•ƒ",lopf:"ğ•",loplus:"â¨­",lotimes:"â¨´",lowast:"âˆ—",lowbar:"_",LowerLeftArrow:"â†™",LowerRightArrow:"â†˜",loz:"â—Š",lozenge:"â—Š",lozf:"â§«",lpar:"(",lparlt:"â¦“",lrarr:"â‡†",lrcorner:"âŒŸ",lrhar:"â‡‹",lrhard:"â¥­",lrm:"â€",lrtri:"âŠ¿",lsaquo:"â€¹",Lscr:"â„’",lscr:"ğ“",Lsh:"â†°",lsh:"â†°",lsim:"â‰²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â€˜",lsquor:"â€š",Lstrok:"Å",lstrok:"Å‚",Lt:"â‰ª",LT:"<",lt:"<",ltcc:"âª¦",ltcir:"â©¹",ltdot:"â‹–",lthree:"â‹‹",ltimes:"â‹‰",ltlarr:"â¥¶",ltquest:"â©»",ltri:"â—ƒ",ltrie:"âŠ´",ltrif:"â—‚",ltrPar:"â¦–",lurdshar:"â¥Š",luruhar:"â¥¦",lvertneqq:"â‰¨ï¸€",lvnE:"â‰¨ï¸€",macr:"Â¯",male:"â™‚",malt:"âœ ",maltese:"âœ ",Map:"â¤…",map:"â†¦",mapsto:"â†¦",mapstodown:"â†§",mapstoleft:"â†¤",mapstoup:"â†¥",marker:"â–®",mcomma:"â¨©",Mcy:"Ğœ",mcy:"Ğ¼",mdash:"â€”",mDDot:"âˆº",measuredangle:"âˆ¡",MediumSpace:"âŸ",Mellintrf:"â„³",Mfr:"ğ”",mfr:"ğ”ª",mho:"â„§",micro:"Âµ",mid:"âˆ£",midast:"*",midcir:"â«°",middot:"Â·",minus:"âˆ’",minusb:"âŠŸ",minusd:"âˆ¸",minusdu:"â¨ª",MinusPlus:"âˆ“",mlcp:"â«›",mldr:"â€¦",mnplus:"âˆ“",models:"âŠ§",Mopf:"ğ•„",mopf:"ğ•",mp:"âˆ“",Mscr:"â„³",mscr:"ğ“‚",mstpos:"âˆ¾",Mu:"Îœ",mu:"Î¼",multimap:"âŠ¸",mumap:"âŠ¸",nabla:"âˆ‡",Nacute:"Åƒ",nacute:"Å„",nang:"âˆ âƒ’",nap:"â‰‰",napE:"â©°Ì¸",napid:"â‰‹Ì¸",napos:"Å‰",napprox:"â‰‰",natur:"â™®",natural:"â™®",naturals:"â„•",nbsp:"Â ",nbump:"â‰Ì¸",nbumpe:"â‰Ì¸",ncap:"â©ƒ",Ncaron:"Å‡",ncaron:"Åˆ",Ncedil:"Å…",ncedil:"Å†",ncong:"â‰‡",ncongdot:"â©­Ì¸",ncup:"â©‚",Ncy:"Ğ",ncy:"Ğ½",ndash:"â€“",ne:"â‰ ",nearhk:"â¤¤",neArr:"â‡—",nearr:"â†—",nearrow:"â†—",nedot:"â‰Ì¸",NegativeMediumSpace:"â€‹",NegativeThickSpace:"â€‹",NegativeThinSpace:"â€‹",NegativeVeryThinSpace:"â€‹",nequiv:"â‰¢",nesear:"â¤¨",nesim:"â‰‚Ì¸",NestedGreaterGreater:"â‰«",NestedLessLess:"â‰ª",NewLine:"\n",nexist:"âˆ„",nexists:"âˆ„",Nfr:"ğ”‘",nfr:"ğ”«",ngE:"â‰§Ì¸",nge:"â‰±",ngeq:"â‰±",ngeqq:"â‰§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",nGg:"â‹™Ì¸",ngsim:"â‰µ",nGt:"â‰«âƒ’",ngt:"â‰¯",ngtr:"â‰¯",nGtv:"â‰«Ì¸",nhArr:"â‡",nharr:"â†®",nhpar:"â«²",ni:"âˆ‹",nis:"â‹¼",nisd:"â‹º",niv:"âˆ‹",NJcy:"ĞŠ",njcy:"Ñš",nlArr:"â‡",nlarr:"â†š",nldr:"â€¥",nlE:"â‰¦Ì¸",nle:"â‰°",nLeftarrow:"â‡",nleftarrow:"â†š",nLeftrightarrow:"â‡",nleftrightarrow:"â†®",nleq:"â‰°",nleqq:"â‰¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â‰®",nLl:"â‹˜Ì¸",nlsim:"â‰´",nLt:"â‰ªâƒ’",nlt:"â‰®",nltri:"â‹ª",nltrie:"â‹¬",nLtv:"â‰ªÌ¸",nmid:"âˆ¤",NoBreak:"â ",NonBreakingSpace:"Â ",Nopf:"â„•",nopf:"ğ•Ÿ",Not:"â«¬",not:"Â¬",NotCongruent:"â‰¢",NotCupCap:"â‰­",NotDoubleVerticalBar:"âˆ¦",NotElement:"âˆ‰",NotEqual:"â‰ ",NotEqualTilde:"â‰‚Ì¸",NotExists:"âˆ„",NotGreater:"â‰¯",NotGreaterEqual:"â‰±",NotGreaterFullEqual:"â‰§Ì¸",NotGreaterGreater:"â‰«Ì¸",NotGreaterLess:"â‰¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"â‰µ",NotHumpDownHump:"â‰Ì¸",NotHumpEqual:"â‰Ì¸",notin:"âˆ‰",notindot:"â‹µÌ¸",notinE:"â‹¹Ì¸",notinva:"âˆ‰",notinvb:"â‹·",notinvc:"â‹¶",NotLeftTriangle:"â‹ª",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangleEqual:"â‹¬",NotLess:"â‰®",NotLessEqual:"â‰°",NotLessGreater:"â‰¸",NotLessLess:"â‰ªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â‰´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",notni:"âˆŒ",notniva:"âˆŒ",notnivb:"â‹¾",notnivc:"â‹½",NotPrecedes:"âŠ€",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â‹ ",NotReverseElement:"âˆŒ",NotRightTriangle:"â‹«",NotRightTriangleBar:"â§Ì¸",NotRightTriangleEqual:"â‹­",NotSquareSubset:"âŠÌ¸",NotSquareSubsetEqual:"â‹¢",NotSquareSuperset:"âŠÌ¸",NotSquareSupersetEqual:"â‹£",NotSubset:"âŠ‚âƒ’",NotSubsetEqual:"âŠˆ",NotSucceeds:"âŠ",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â‹¡",NotSucceedsTilde:"â‰¿Ì¸",NotSuperset:"âŠƒâƒ’",NotSupersetEqual:"âŠ‰",NotTilde:"â‰",NotTildeEqual:"â‰„",NotTildeFullEqual:"â‰‡",NotTildeTilde:"â‰‰",NotVerticalBar:"âˆ¤",npar:"âˆ¦",nparallel:"âˆ¦",nparsl:"â«½âƒ¥",npart:"âˆ‚Ì¸",npolint:"â¨”",npr:"âŠ€",nprcue:"â‹ ",npre:"âª¯Ì¸",nprec:"âŠ€",npreceq:"âª¯Ì¸",nrArr:"â‡",nrarr:"â†›",nrarrc:"â¤³Ì¸",nrarrw:"â†Ì¸",nRightarrow:"â‡",nrightarrow:"â†›",nrtri:"â‹«",nrtrie:"â‹­",nsc:"âŠ",nsccue:"â‹¡",nsce:"âª°Ì¸",Nscr:"ğ’©",nscr:"ğ“ƒ",nshortmid:"âˆ¤",nshortparallel:"âˆ¦",nsim:"â‰",nsime:"â‰„",nsimeq:"â‰„",nsmid:"âˆ¤",nspar:"âˆ¦",nsqsube:"â‹¢",nsqsupe:"â‹£",nsub:"âŠ„",nsubE:"â«…Ì¸",nsube:"âŠˆ",nsubset:"âŠ‚âƒ’",nsubseteq:"âŠˆ",nsubseteqq:"â«…Ì¸",nsucc:"âŠ",nsucceq:"âª°Ì¸",nsup:"âŠ…",nsupE:"â«†Ì¸",nsupe:"âŠ‰",nsupset:"âŠƒâƒ’",nsupseteq:"âŠ‰",nsupseteqq:"â«†Ì¸",ntgl:"â‰¹",Ntilde:"Ã‘",ntilde:"Ã±",ntlg:"â‰¸",ntriangleleft:"â‹ª",ntrianglelefteq:"â‹¬",ntriangleright:"â‹«",ntrianglerighteq:"â‹­",Nu:"Î",nu:"Î½",num:"#",numero:"â„–",numsp:"â€‡",nvap:"â‰âƒ’",nVDash:"âŠ¯",nVdash:"âŠ®",nvDash:"âŠ­",nvdash:"âŠ¬",nvge:"â‰¥âƒ’",nvgt:">âƒ’",nvHarr:"â¤„",nvinfin:"â§",nvlArr:"â¤‚",nvle:"â‰¤âƒ’",nvlt:"<âƒ’",nvltrie:"âŠ´âƒ’",nvrArr:"â¤ƒ",nvrtrie:"âŠµâƒ’",nvsim:"âˆ¼âƒ’",nwarhk:"â¤£",nwArr:"â‡–",nwarr:"â†–",nwarrow:"â†–",nwnear:"â¤§",Oacute:"Ã“",oacute:"Ã³",oast:"âŠ›",ocir:"âŠš",Ocirc:"Ã”",ocirc:"Ã´",Ocy:"Ğ",ocy:"Ğ¾",odash:"âŠ",Odblac:"Å",odblac:"Å‘",odiv:"â¨¸",odot:"âŠ™",odsold:"â¦¼",OElig:"Å’",oelig:"Å“",ofcir:"â¦¿",Ofr:"ğ”’",ofr:"ğ”¬",ogon:"Ë›",Ograve:"Ã’",ograve:"Ã²",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"âˆ®",olarr:"â†º",olcir:"â¦¾",olcross:"â¦»",oline:"â€¾",olt:"â§€",Omacr:"ÅŒ",omacr:"Å",Omega:"Î©",omega:"Ï‰",Omicron:"ÎŸ",omicron:"Î¿",omid:"â¦¶",ominus:"âŠ–",Oopf:"ğ•†",oopf:"ğ• ",opar:"â¦·",OpenCurlyDoubleQuote:"â€œ",OpenCurlyQuote:"â€˜",operp:"â¦¹",oplus:"âŠ•",Or:"â©”",or:"âˆ¨",orarr:"â†»",ord:"â©",order:"â„´",orderof:"â„´",ordf:"Âª",ordm:"Âº",origof:"âŠ¶",oror:"â©–",orslope:"â©—",orv:"â©›",oS:"â“ˆ",Oscr:"ğ’ª",oscr:"â„´",Oslash:"Ã˜",oslash:"Ã¸",osol:"âŠ˜",Otilde:"Ã•",otilde:"Ãµ",Otimes:"â¨·",otimes:"âŠ—",otimesas:"â¨¶",Ouml:"Ã–",ouml:"Ã¶",ovbar:"âŒ½",OverBar:"â€¾",OverBrace:"â",OverBracket:"â´",OverParenthesis:"âœ",par:"âˆ¥",para:"Â¶",parallel:"âˆ¥",parsim:"â«³",parsl:"â«½",part:"âˆ‚",PartialD:"âˆ‚",Pcy:"ĞŸ",pcy:"Ğ¿",percnt:"%",period:".",permil:"â€°",perp:"âŠ¥",pertenk:"â€±",Pfr:"ğ”“",pfr:"ğ”­",Phi:"Î¦",phi:"Ï†",phiv:"Ï•",phmmat:"â„³",phone:"â˜",Pi:"Î ",pi:"Ï€",pitchfork:"â‹”",piv:"Ï–",planck:"â„",planckh:"â„",plankv:"â„",plus:"+",plusacir:"â¨£",plusb:"âŠ",pluscir:"â¨¢",plusdo:"âˆ”",plusdu:"â¨¥",pluse:"â©²",PlusMinus:"Â±",plusmn:"Â±",plussim:"â¨¦",plustwo:"â¨§",pm:"Â±",Poincareplane:"â„Œ",pointint:"â¨•",Popf:"â„™",popf:"ğ•¡",pound:"Â£",Pr:"âª»",pr:"â‰º",prap:"âª·",prcue:"â‰¼",prE:"âª³",pre:"âª¯",prec:"â‰º",precapprox:"âª·",preccurlyeq:"â‰¼",Precedes:"â‰º",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â‰¼",PrecedesTilde:"â‰¾",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â‹¨",precsim:"â‰¾",Prime:"â€³",prime:"â€²",primes:"â„™",prnap:"âª¹",prnE:"âªµ",prnsim:"â‹¨",prod:"âˆ",Product:"âˆ",profalar:"âŒ®",profline:"âŒ’",profsurf:"âŒ“",prop:"âˆ",Proportion:"âˆ·",Proportional:"âˆ",propto:"âˆ",prsim:"â‰¾",prurel:"âŠ°",Pscr:"ğ’«",pscr:"ğ“…",Psi:"Î¨",psi:"Ïˆ",puncsp:"â€ˆ",Qfr:"ğ””",qfr:"ğ”®",qint:"â¨Œ",Qopf:"â„š",qopf:"ğ•¢",qprime:"â—",Qscr:"ğ’¬",qscr:"ğ“†",quaternions:"â„",quatint:"â¨–",quest:"?",questeq:"â‰Ÿ",QUOT:'"',quot:'"',rAarr:"â‡›",race:"âˆ½Ì±",Racute:"Å”",racute:"Å•",radic:"âˆš",raemptyv:"â¦³",Rang:"âŸ«",rang:"âŸ©",rangd:"â¦’",range:"â¦¥",rangle:"âŸ©",raquo:"Â»",Rarr:"â† ",rArr:"â‡’",rarr:"â†’",rarrap:"â¥µ",rarrb:"â‡¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarrfs:"â¤",rarrhk:"â†ª",rarrlp:"â†¬",rarrpl:"â¥…",rarrsim:"â¥´",Rarrtl:"â¤–",rarrtl:"â†£",rarrw:"â†",rAtail:"â¤œ",ratail:"â¤š",ratio:"âˆ¶",rationals:"â„š",RBarr:"â¤",rBarr:"â¤",rbarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦Œ",rbrksld:"â¦",rbrkslu:"â¦",Rcaron:"Å˜",rcaron:"Å™",Rcedil:"Å–",rcedil:"Å—",rceil:"âŒ‰",rcub:"}",Rcy:"Ğ ",rcy:"Ñ€",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â€",rdquor:"â€",rdsh:"â†³",Re:"â„œ",real:"â„œ",realine:"â„›",realpart:"â„œ",reals:"â„",rect:"â–­",REG:"Â®",reg:"Â®",ReverseElement:"âˆ‹",ReverseEquilibrium:"â‡‹",ReverseUpEquilibrium:"â¥¯",rfisht:"â¥½",rfloor:"âŒ‹",Rfr:"â„œ",rfr:"ğ”¯",rHar:"â¥¤",rhard:"â‡",rharu:"â‡€",rharul:"â¥¬",Rho:"Î¡",rho:"Ï",rhov:"Ï±",RightAngleBracket:"âŸ©",RightArrow:"â†’",Rightarrow:"â‡’",rightarrow:"â†’",RightArrowBar:"â‡¥",RightArrowLeftArrow:"â‡„",rightarrowtail:"â†£",RightCeiling:"âŒ‰",RightDoubleBracket:"âŸ§",RightDownTeeVector:"â¥",RightDownVector:"â‡‚",RightDownVectorBar:"â¥•",RightFloor:"âŒ‹",rightharpoondown:"â‡",rightharpoonup:"â‡€",rightleftarrows:"â‡„",rightleftharpoons:"â‡Œ",rightrightarrows:"â‡‰",rightsquigarrow:"â†",RightTee:"âŠ¢",RightTeeArrow:"â†¦",RightTeeVector:"â¥›",rightthreetimes:"â‹Œ",RightTriangle:"âŠ³",RightTriangleBar:"â§",RightTriangleEqual:"âŠµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥œ",RightUpVector:"â†¾",RightUpVectorBar:"â¥”",RightVector:"â‡€",RightVectorBar:"â¥“",ring:"Ëš",risingdotseq:"â‰“",rlarr:"â‡„",rlhar:"â‡Œ",rlm:"â€",rmoust:"â±",rmoustache:"â±",rnmid:"â«®",roang:"âŸ­",roarr:"â‡¾",robrk:"âŸ§",ropar:"â¦†",Ropf:"â„",ropf:"ğ•£",roplus:"â¨®",rotimes:"â¨µ",RoundImplies:"â¥°",rpar:")",rpargt:"â¦”",rppolint:"â¨’",rrarr:"â‡‰",Rrightarrow:"â‡›",rsaquo:"â€º",Rscr:"â„›",rscr:"ğ“‡",Rsh:"â†±",rsh:"â†±",rsqb:"]",rsquo:"â€™",rsquor:"â€™",rthree:"â‹Œ",rtimes:"â‹Š",rtri:"â–¹",rtrie:"âŠµ",rtrif:"â–¸",rtriltri:"â§",RuleDelayed:"â§´",ruluhar:"â¥¨",rx:"â„",Sacute:"Åš",sacute:"Å›",sbquo:"â€š",Sc:"âª¼",sc:"â‰»",scap:"âª¸",Scaron:"Å ",scaron:"Å¡",sccue:"â‰½",scE:"âª´",sce:"âª°",Scedil:"Å",scedil:"ÅŸ",Scirc:"Åœ",scirc:"Å",scnap:"âªº",scnE:"âª¶",scnsim:"â‹©",scpolint:"â¨“",scsim:"â‰¿",Scy:"Ğ¡",scy:"Ñ",sdot:"â‹…",sdotb:"âŠ¡",sdote:"â©¦",searhk:"â¤¥",seArr:"â‡˜",searr:"â†˜",searrow:"â†˜",sect:"Â§",semi:";",seswar:"â¤©",setminus:"âˆ–",setmn:"âˆ–",sext:"âœ¶",Sfr:"ğ”–",sfr:"ğ”°",sfrown:"âŒ¢",sharp:"â™¯",SHCHcy:"Ğ©",shchcy:"Ñ‰",SHcy:"Ğ¨",shcy:"Ñˆ",ShortDownArrow:"â†“",ShortLeftArrow:"â†",shortmid:"âˆ£",shortparallel:"âˆ¥",ShortRightArrow:"â†’",ShortUpArrow:"â†‘",shy:"Â­",Sigma:"Î£",sigma:"Ïƒ",sigmaf:"Ï‚",sigmav:"Ï‚",sim:"âˆ¼",simdot:"â©ª",sime:"â‰ƒ",simeq:"â‰ƒ",simg:"âª",simgE:"âª ",siml:"âª",simlE:"âªŸ",simne:"â‰†",simplus:"â¨¤",simrarr:"â¥²",slarr:"â†",SmallCircle:"âˆ˜",smallsetminus:"âˆ–",smashp:"â¨³",smeparsl:"â§¤",smid:"âˆ£",smile:"âŒ£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸€",SOFTcy:"Ğ¬",softcy:"ÑŒ",sol:"/",solb:"â§„",solbar:"âŒ¿",Sopf:"ğ•Š",sopf:"ğ•¤",spades:"â™ ",spadesuit:"â™ ",spar:"âˆ¥",sqcap:"âŠ“",sqcaps:"âŠ“ï¸€",sqcup:"âŠ”",sqcups:"âŠ”ï¸€",Sqrt:"âˆš",sqsub:"âŠ",sqsube:"âŠ‘",sqsubset:"âŠ",sqsubseteq:"âŠ‘",sqsup:"âŠ",sqsupe:"âŠ’",sqsupset:"âŠ",sqsupseteq:"âŠ’",squ:"â–¡",Square:"â–¡",square:"â–¡",SquareIntersection:"âŠ“",SquareSubset:"âŠ",SquareSubsetEqual:"âŠ‘",SquareSuperset:"âŠ",SquareSupersetEqual:"âŠ’",SquareUnion:"âŠ”",squarf:"â–ª",squf:"â–ª",srarr:"â†’",Sscr:"ğ’®",sscr:"ğ“ˆ",ssetmn:"âˆ–",ssmile:"âŒ£",sstarf:"â‹†",Star:"â‹†",star:"â˜†",starf:"â˜…",straightepsilon:"Ïµ",straightphi:"Ï•",strns:"Â¯",Sub:"â‹",sub:"âŠ‚",subdot:"âª½",subE:"â«…",sube:"âŠ†",subedot:"â«ƒ",submult:"â«",subnE:"â«‹",subne:"âŠŠ",subplus:"âª¿",subrarr:"â¥¹",Subset:"â‹",subset:"âŠ‚",subseteq:"âŠ†",subseteqq:"â«…",SubsetEqual:"âŠ†",subsetneq:"âŠŠ",subsetneqq:"â«‹",subsim:"â«‡",subsub:"â«•",subsup:"â«“",succ:"â‰»",succapprox:"âª¸",succcurlyeq:"â‰½",Succeeds:"â‰»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â‰½",SucceedsTilde:"â‰¿",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â‹©",succsim:"â‰¿",SuchThat:"âˆ‹",Sum:"âˆ‘",sum:"âˆ‘",sung:"â™ª",Sup:"â‹‘",sup:"âŠƒ",sup1:"Â¹",sup2:"Â²",sup3:"Â³",supdot:"âª¾",supdsub:"â«˜",supE:"â«†",supe:"âŠ‡",supedot:"â«„",Superset:"âŠƒ",SupersetEqual:"âŠ‡",suphsol:"âŸ‰",suphsub:"â«—",suplarr:"â¥»",supmult:"â«‚",supnE:"â«Œ",supne:"âŠ‹",supplus:"â«€",Supset:"â‹‘",supset:"âŠƒ",supseteq:"âŠ‡",supseteqq:"â«†",supsetneq:"âŠ‹",supsetneqq:"â«Œ",supsim:"â«ˆ",supsub:"â«”",supsup:"â«–",swarhk:"â¤¦",swArr:"â‡™",swarr:"â†™",swarrow:"â†™",swnwar:"â¤ª",szlig:"ÃŸ",Tab:"\t",target:"âŒ–",Tau:"Î¤",tau:"Ï„",tbrk:"â´",Tcaron:"Å¤",tcaron:"Å¥",Tcedil:"Å¢",tcedil:"Å£",Tcy:"Ğ¢",tcy:"Ñ‚",tdot:"âƒ›",telrec:"âŒ•",Tfr:"ğ”—",tfr:"ğ”±",there4:"âˆ´",Therefore:"âˆ´",therefore:"âˆ´",Theta:"Î˜",theta:"Î¸",thetasym:"Ï‘",thetav:"Ï‘",thickapprox:"â‰ˆ",thicksim:"âˆ¼",ThickSpace:"âŸâ€Š",thinsp:"â€‰",ThinSpace:"â€‰",thkap:"â‰ˆ",thksim:"âˆ¼",THORN:"Ã",thorn:"Ã¾",Tilde:"âˆ¼",tilde:"Ëœ",TildeEqual:"â‰ƒ",TildeFullEqual:"â‰…",TildeTilde:"â‰ˆ",times:"Ã—",timesb:"âŠ ",timesbar:"â¨±",timesd:"â¨°",tint:"âˆ­",toea:"â¤¨",top:"âŠ¤",topbot:"âŒ¶",topcir:"â«±",Topf:"ğ•‹",topf:"ğ•¥",topfork:"â«š",tosa:"â¤©",tprime:"â€´",TRADE:"â„¢",trade:"â„¢",triangle:"â–µ",triangledown:"â–¿",triangleleft:"â—ƒ",trianglelefteq:"âŠ´",triangleq:"â‰œ",triangleright:"â–¹",trianglerighteq:"âŠµ",tridot:"â—¬",trie:"â‰œ",triminus:"â¨º",TripleDot:"âƒ›",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",Tscr:"ğ’¯",tscr:"ğ“‰",TScy:"Ğ¦",tscy:"Ñ†",TSHcy:"Ğ‹",tshcy:"Ñ›",Tstrok:"Å¦",tstrok:"Å§",twixt:"â‰¬",twoheadleftarrow:"â†",twoheadrightarrow:"â† ",Uacute:"Ãš",uacute:"Ãº",Uarr:"â†Ÿ",uArr:"â‡‘",uarr:"â†‘",Uarrocir:"â¥‰",Ubrcy:"Ğ",ubrcy:"Ñ",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"Ã›",ucirc:"Ã»",Ucy:"Ğ£",ucy:"Ñƒ",udarr:"â‡…",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",Ufr:"ğ”˜",ufr:"ğ”²",Ugrave:"Ã™",ugrave:"Ã¹",uHar:"â¥£",uharl:"â†¿",uharr:"â†¾",uhblk:"â–€",ulcorn:"âŒœ",ulcorner:"âŒœ",ulcrop:"âŒ",ultri:"â—¸",Umacr:"Åª",umacr:"Å«",uml:"Â¨",UnderBar:"_",UnderBrace:"âŸ",UnderBracket:"âµ",UnderParenthesis:"â",Union:"â‹ƒ",UnionPlus:"âŠ",Uogon:"Å²",uogon:"Å³",Uopf:"ğ•Œ",uopf:"ğ•¦",UpArrow:"â†‘",Uparrow:"â‡‘",uparrow:"â†‘",UpArrowBar:"â¤’",UpArrowDownArrow:"â‡…",UpDownArrow:"â†•",Updownarrow:"â‡•",updownarrow:"â†•",UpEquilibrium:"â¥®",upharpoonleft:"â†¿",upharpoonright:"â†¾",uplus:"âŠ",UpperLeftArrow:"â†–",UpperRightArrow:"â†—",Upsi:"Ï’",upsi:"Ï…",upsih:"Ï’",Upsilon:"Î¥",upsilon:"Ï…",UpTee:"âŠ¥",UpTeeArrow:"â†¥",upuparrows:"â‡ˆ",urcorn:"âŒ",urcorner:"âŒ",urcrop:"âŒ",Uring:"Å®",uring:"Å¯",urtri:"â—¹",Uscr:"ğ’°",uscr:"ğ“Š",utdot:"â‹°",Utilde:"Å¨",utilde:"Å©",utri:"â–µ",utrif:"â–´",uuarr:"â‡ˆ",Uuml:"Ãœ",uuml:"Ã¼",uwangle:"â¦§",vangrt:"â¦œ",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"âˆ…",varphi:"Ï•",varpi:"Ï–",varpropto:"âˆ",vArr:"â‡•",varr:"â†•",varrho:"Ï±",varsigma:"Ï‚",varsubsetneq:"âŠŠï¸€",varsubsetneqq:"â«‹ï¸€",varsupsetneq:"âŠ‹ï¸€",varsupsetneqq:"â«Œï¸€",vartheta:"Ï‘",vartriangleleft:"âŠ²",vartriangleright:"âŠ³",Vbar:"â««",vBar:"â«¨",vBarv:"â«©",Vcy:"Ğ’",vcy:"Ğ²",VDash:"âŠ«",Vdash:"âŠ©",vDash:"âŠ¨",vdash:"âŠ¢",Vdashl:"â«¦",Vee:"â‹",vee:"âˆ¨",veebar:"âŠ»",veeeq:"â‰š",vellip:"â‹®",Verbar:"â€–",verbar:"|",Vert:"â€–",vert:"|",VerticalBar:"âˆ£",VerticalLine:"|",VerticalSeparator:"â˜",VerticalTilde:"â‰€",VeryThinSpace:"â€Š",Vfr:"ğ”™",vfr:"ğ”³",vltri:"âŠ²",vnsub:"âŠ‚âƒ’",vnsup:"âŠƒâƒ’",Vopf:"ğ•",vopf:"ğ•§",vprop:"âˆ",vrtri:"âŠ³",Vscr:"ğ’±",vscr:"ğ“‹",vsubnE:"â«‹ï¸€",vsubne:"âŠŠï¸€",vsupnE:"â«Œï¸€",vsupne:"âŠ‹ï¸€",Vvdash:"âŠª",vzigzag:"â¦š",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©Ÿ",Wedge:"â‹€",wedge:"âˆ§",wedgeq:"â‰™",weierp:"â„˜",Wfr:"ğ”š",wfr:"ğ”´",Wopf:"ğ•",wopf:"ğ•¨",wp:"â„˜",wr:"â‰€",wreath:"â‰€",Wscr:"ğ’²",wscr:"ğ“Œ",xcap:"â‹‚",xcirc:"â—¯",xcup:"â‹ƒ",xdtri:"â–½",Xfr:"ğ”›",xfr:"ğ”µ",xhArr:"âŸº",xharr:"âŸ·",Xi:"Î",xi:"Î¾",xlArr:"âŸ¸",xlarr:"âŸµ",xmap:"âŸ¼",xnis:"â‹»",xodot:"â¨€",Xopf:"ğ•",xopf:"ğ•©",xoplus:"â¨",xotime:"â¨‚",xrArr:"âŸ¹",xrarr:"âŸ¶",Xscr:"ğ’³",xscr:"ğ“",xsqcup:"â¨†",xuplus:"â¨„",xutri:"â–³",xvee:"â‹",xwedge:"â‹€",Yacute:"Ã",yacute:"Ã½",YAcy:"Ğ¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ğ«",ycy:"Ñ‹",yen:"Â¥",Yfr:"ğ”œ",yfr:"ğ”¶",YIcy:"Ğ‡",yicy:"Ñ—",Yopf:"ğ•",yopf:"ğ•ª",Yscr:"ğ’´",yscr:"ğ“",YUcy:"Ğ®",yucy:"Ñ",Yuml:"Å¸",yuml:"Ã¿",Zacute:"Å¹",zacute:"Åº",Zcaron:"Å½",zcaron:"Å¾",Zcy:"Ğ—",zcy:"Ğ·",Zdot:"Å»",zdot:"Å¼",zeetrf:"â„¨",ZeroWidthSpace:"â€‹",Zeta:"Î–",zeta:"Î¶",Zfr:"â„¨",zfr:"ğ”·",ZHcy:"Ğ–",zhcy:"Ğ¶",zigrarr:"â‡",Zopf:"â„¤",zopf:"ğ•«",Zscr:"ğ’µ",zscr:"ğ“",zwj:"â€",zwnj:"â€Œ"}),t.entityMap=t.HTML_ENTITIES},4432:(e,t,n)=>{var r=n(64);r.DOMImplementation,r.XMLSerializer,t.DOMParser=n(4398).DOMParser},4288:(e,t,n)=>{var r=n(336).NAMESPACE,o=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+o.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+o.source+i.source+"*(?::"+o.source+i.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function l(){}function c(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function u(e,t,n,o,i,a){function s(e,t,r){n.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),r)}for(var l,c=++t,u=0;;){var p=e.charAt(c);switch(p){case"=":if(1===u)l=e.slice(t,c),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(a.warning('attribute value must after "="'),l=e.slice(t,c)),t=c+1,!((c=e.indexOf(p,t))>0))throw new Error("attribute value no end '"+p+"' match");s(l,d=e.slice(t,c),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');s(l,d=e.slice(t,c),t),a.warning('attribute "'+l+'" missed start quot('+p+")!!"),t=c+1,u=5}break;case"/":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:break;case 2:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==u&&n.setTagName(e.slice(t,c)),c;case">":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=e.slice(t,c)).slice(-1)&&(n.closed=!0,d=d.slice(0,-1));case 2:2===u&&(d=l),4==u?(a.warning('attribute "'+d+'" missed quot(")!'),s(l,d,t)):(r.isHTML(o[""])&&d.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),s(d,d,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"Â€":p=" ";default:if(p<=" ")switch(u){case 0:n.setTagName(e.slice(t,c)),u=6;break;case 1:l=e.slice(t,c),u=2;break;case 4:var d=e.slice(t,c);a.warning('attribute "'+d+'" missed quot(")!!'),s(l,d,t);case 5:u=6}else switch(u){case 2:n.tagName;r.isHTML(o[""])&&l.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,t),t=c,u=1;break;case 5:a.warning('attribute space is required"'+l+'"!!');case 6:u=1,t=c;break;case 3:u=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function p(e,t,n){for(var o=e.tagName,i=null,a=e.length;a--;){var s=e[a],l=s.qName,c=s.value;if((h=l.indexOf(":"))>0)var u=s.prefix=l.slice(0,h),p=l.slice(h+1),d="xmlns"===u&&p;else p=l,u=null,d="xmlns"===l&&"";s.localName=p,!1!==d&&(null==i&&(i={},g(n,n={})),n[d]=i[d]=c,s.uri=r.XMLNS,t.startPrefixMapping(d,c))}for(a=e.length;a--;){(u=(s=e[a]).prefix)&&("xml"===u&&(s.uri=r.XML),"xmlns"!==u&&(s.uri=n[u||""]))}var h;(h=o.indexOf(":"))>0?(u=e.prefix=o.slice(0,h),p=e.localName=o.slice(h+1)):(u=null,p=e.localName=o);var f=e.uri=n[u||""];if(t.startElement(f,p,o,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(f,p,o),i)for(u in i)Object.prototype.hasOwnProperty.call(i,u)&&t.endPrefixMapping(u)}function d(e,t,n,r,o){if(/^(?:script|textarea)$/i.test(n)){var i=e.indexOf("</"+n+">",t),a=e.substring(t+1,i);if(/[&<]/.test(a))return/^script$/i.test(n)?(o.characters(a,0,a.length),i):(a=a.replace(/&#?\w+;/g,r),o.characters(a,0,a.length),i)}return t+1}function h(e,t,n,r){var o=r[n];return null==o&&((o=e.lastIndexOf("</"+n+">"))<t&&(o=e.lastIndexOf("</"+n)),r[n]=o),o<t}function g(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function f(e,t,n,r){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(o=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,o-t-4),o+3):(r.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var i=function(e,t){var n,r=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;o.lastIndex=t,o.exec(e);for(;n=o.exec(e);)if(r.push(n),n[1])return r}(e,t),a=i.length;if(a>1&&/!doctype/i.test(i[0][0])){var s=i[1][0],l=!1,c=!1;a>3&&(/^public$/i.test(i[2][0])?(l=i[3][0],c=a>4&&i[4][0]):/^system$/i.test(i[2][0])&&(c=i[3][0]));var u=i[a-1];return n.startDTD(s,l,c),n.endDTD(),u.index+u[0].length}return-1}function m(e,t,n){var r=e.indexOf("?>",t);if(r){var o=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(o){o[0].length;return n.processingInstruction(o[1],o[2]),r+2}return-1}return-1}function y(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,l.prototype={parse:function(e,t,n){var o=this.domBuilder;o.startDocument(),g(t,t={}),function(e,t,n,o,i){function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function l(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(n,t)?n[t]:"#"===t.charAt(0)?a(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function g(t){if(t>_){var n=e.substring(_,t).replace(/&#?\w+;/g,l);b&&v(_),o.characters(n,0,t-_),_=t}}function v(t,n){for(;t>=I&&(n=A.exec(e));)C=n.index,I=C+n[0].length,b.lineNumber++;b.columnNumber=t-C+1}var C=0,I=0,A=/.*(?:\r\n?|\n)|.*$/g,b=o.locator,E=[{currentNSMap:t}],w={},_=0;for(;;){try{var P=e.indexOf("<",_);if(P<0){if(!e.substr(_).match(/^\s*$/)){var S=o.doc,x=S.createTextNode(e.substr(_));S.appendChild(x),o.currentElement=x}return}switch(P>_&&g(P),e.charAt(P+1)){case"/":var T=e.indexOf(">",P+3),k=e.substring(P+2,T).replace(/[ \t\n\r]+$/g,""),R=E.pop();T<0?(k=e.substring(P+2).replace(/[\s<].*/,""),i.error("end tag name: "+k+" is not complete:"+R.tagName),T=P+1+k.length):k.match(/\s</)&&(k=k.replace(/[\s<].*/,""),i.error("end tag name: "+k+" maybe not complete"),T=P+1+k.length);var N=R.localNSMap,L=R.tagName==k;if(L||R.tagName&&R.tagName.toLowerCase()==k.toLowerCase()){if(o.endElement(R.uri,R.localName,k),N)for(var O in N)Object.prototype.hasOwnProperty.call(N,O)&&o.endPrefixMapping(O);L||i.fatalError("end tag name: "+k+" is not match the current start tagName:"+R.tagName)}else E.push(R);T++;break;case"?":b&&v(P),T=m(e,P,o);break;case"!":b&&v(P),T=f(e,P,o,i);break;default:b&&v(P);var D=new y,M=E[E.length-1].currentNSMap,G=(T=u(e,P,D,M,l,i),D.length);if(!D.closed&&h(e,T,D.tagName,w)&&(D.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),b&&G){for(var U=c(b,{}),B=0;B<G;B++){var F=D[B];v(F.offset),F.locator=c(b,{})}o.locator=U,p(D,o,M)&&E.push(D),o.locator=b}else p(D,o,M)&&E.push(D);r.isHTML(D.uri)&&!D.closed?T=d(e,T,D.tagName,l,o):T++}}catch(e){if(e instanceof s)throw e;i.error("element parse error: "+e),T=-1}T>_?_=T:g(Math.max(P,_)+1)}}(e,t,n,o,this.errorHandler),o.endDocument()}},y.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!a.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=s},8288:(e,t,n)=>{"use strict";function r(e){if(!(this instanceof r))throw new TypeError("ErrorService constructor cannot be called as a function.");var t=e;"string"==typeof e||e instanceof String?(this.message=e,this.status=-1,this.type=r.TYPE_UNKERR):(this.message=t.message||"undefined!?",this.type=t.type,this.status=t.status||-1),this.name="ErrorService",this.stack=(new Error).stack}n.d(t,{A:()=>o}),r.TYPE_SRVERR="SERVICE_ERROR",r.TYPE_USEERR="USAGE_ERROR",r.TYPE_UNKERR="UNKNOWN_ERROR",r.prototype=Object.create(Error.prototype,{constructor:{value:r,writable:!0,configurable:!0}});const o=r},4841:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2710);function o(e){if(this.logger=r.A.getLogger(),this.logger.trace("[Constructeur WPS()]"),!(this instanceof o))throw new TypeError("WPS constructor cannot be called as a function.");if(this.options=e||{},this.DataObject=this.options.data,!this.DataObject)throw new TypeError("This data object is not defined !");this.paramservice=this.options.param.service||"WPS",this.paramversion=this.options.param.version||"1.0.0",this.paramidentifier=this.options.param.identifier||"gs:WPS",this.paramrawdataoutput=this.options.param.rawdataoutput||"result",this.paramrequest=this.options.param.request||"Execute",this.method=this.options.method||"GET"}o.prototype={requestString:null,constructor:o,template:{get:{value:"service=__SERVICE__&version=__VERSION__&rawdataoutput=__RAWDATAOUTPUT__&identifier=__IDENTIFIER__&request=__REQUEST__&datainputs=\x3c!-- __DATAINPUTS__ --\x3e",input:"__KEY__=__DATA__"},post:{value:'<?xml version="1.0" encoding="UTF-8"?><wps:__REQUEST__ version="__VERSION__" service="__SERVICE__" __NAMESPACE__ __SCHEMALOCATION__><ows:Identifier>__IDENTIFIER__</ows:Identifier><wps:DataInputs>\x3c!-- __DATAINPUTS__ --\x3e</wps:DataInputs><wps:ResponseForm><wps:RawDataOutput><ows:Identifier>__RAWDATAOUTPUT__</ows:Identifier></wps:RawDataOutput></wps:ResponseForm></wps:__REQUEST__>',input:"<wps:Input><ows:Identifier>__KEY__</ows:Identifier><wps:Data><wps:LiteralData>__DATA__</wps:LiteralData></wps:Data></wps:Input>"}},namespaceByDefault:function(){return['xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"','xmlns="http://www.opengis.net/wps/1.0.0"','xmlns:wfs="http://www.opengis.net/wfs"','xmlns:wps="http://www.opengis.net/wps/1.0.0"','xmlns:ows="http://www.opengis.net/ows/1.1"','xmlns:gml="http://www.opengis.net/gml"','xmlns:ogc="http://www.opengis.net/ogc"','xmlns:wcs="http://www.opengis.net/wcs/1.1.1"','xmlns:xlink="http://www.w3.org/1999/xlink"'].join(" ")},schemaLocationByDefault:function(){return'xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd"'},processRequestString:function(){this.logger.trace("WPS::processRequestString ()");var e="";if("POST"===this.method)e=this.template.post.value;else{if("GET"!==this.method)return this.logger.error("No other method supported by the service !"),!1;e=this.template.get.value}return e=(e=(e=(e=(e=e.replace(/__SERVICE__/g,this.paramservice)).replace(/__VERSION__/g,this.paramversion)).replace(/__RAWDATAOUTPUT__/g,this.paramrawdataoutput)).replace(/__IDENTIFIER__/g,this.paramidentifier)).replace(/__REQUEST__/g,this.paramrequest),"POST"===this.method&&(e=(e=e.replace(/__NAMESPACE__/g,this.namespaceByDefault)).replace(/__SCHEMALOCATION__/g,this.schemaLocationByDefault)),(e=e.replace(/<!-- __DATAINPUTS__ -->/g,this.__addDataInputs()))?(this.requestString=e,this.logger.trace("traduction tmpl",e),!0):(this.logger.warn("traduction tmpl : empty request !?"),!1)},__addDataInputs:function(){this.logger.trace("WPS::__addDataInputs ()");for(var e,t="GET"===this.method?this.template.get.input:this.template.post.input,n="GET"===this.method?";":"",r="",o=this,i=this.DataObject.getData(),a=0;a<i.length;a++)e=a,n&&(n=e===i.length-1?"":";"),r=r.concat(o.__addDataInput(t,i[e].k,i[e].v),n);return r},__addDataInput:function(e,t,n){var r=e;return r=(r=r.replace(/__KEY__/g,t)).replace(/__DATA__/g,n)},setMethod:function(e){"GET"===e||"POST"===e?this.method=e:this.logger.warn("support only GET and POST method !")},getMethod:function(){return this.method}};const i=o},4904:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2710);function o(e){if(!(this instanceof o))throw new TypeError("XML constructor cannot be called as a function.");this.logger=r.A.getLogger(),this.logger.trace("[Constructeur XML ()]"),this.xmlString=null,this.xmlDoc=null,this.reader=null,e&&(e.xmlString&&"string"==typeof e.xmlString&&(this.xmlString=e.xmlString,this.xmlDoc=i(e.xmlString)),e.reader&&this.setReader(e.reader))}function i(e){if("undefined"==typeof window)return(new(0,n(4432).DOMParser)).parseFromString(e,"text/xml");var t,r,o="Erreur lors du parsing de la rÃ©ponse du service : XML non conforme";if(window.ActiveXObject){(r=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,r.loadXML(e);var i=r.parseError;if(i.errorCode)throw i.line&&i.linepos&&(o+="( ligne "+i.line+", colonne "+i.linepos),i.reason&&(o+=":  "+i.reason+")"),new Error(o);return r}if(window.DOMParser){t=new window.DOMParser;try{r=t.parseFromString(e,"text/xml")}catch(e){throw"SyntaxError"===e.message?new Error(o):new Error("Erreur lors du parsing de la rÃ©ponse du service : "+e.message)}if(r.getElementsByTagName("parsererror").length>0)for(var a=r.getElementsByTagName("parsererror"),s=0;s<a.length;s++){var l=a[s].innerHTML;if(-1===l.indexOf("Huge input lookup"))throw o+="("+l+")",new Error(o)}else if(!r.documentElement)throw new Error(o);return r}throw new Error("Incompatible DOM Parser pour ce navigateur !")}function a(e){var t={};if(e.attributes.length>0){var n=function(e){if(e.attributes.length>0){for(var t={},n=e.attributes,r=0;r<n.length;r++){var o=n[r];t[o.nodeName]=o.nodeValue}return t}}(e);t.attributes=n}if(e.hasChildNodes())for(var r,o={},i=e.childNodes,s=0;s<i.length;s++)if(3===(r=i[s]).nodeType)t.textContent=r.nodeValue;else if(1===r.nodeType)if(o=a(r),t[r.nodeName]){if(!Array.isArray(t[r.nodeName])){var l=t[r.nodeName];t[r.nodeName]=[],t[r.nodeName].push(l)}t[r.nodeName].push(o)}else t[r.nodeName]=o;return t}o.prototype={constructor:o,getXMLString:function(){return this.xmlString},setXMLString:function(e){e&&"string"==typeof e&&(this.xmlString=e,this.xmlDoc=i(e))},getReader:function(){return this.reader},setReader:function(e){e&&e.read&&"function"==typeof e.read&&(this.reader=e)},getXMLDoc:function(){return this.xmlDoc},setXMLDoc:function(e){this.xmlDoc=e},parse:function(){if(!this.xmlDoc&&this.xmlString&&(this.xmlDoc=i(this.xmlString)),this.xmlDoc){var e,t=function(e){var t;9===e.nodeType?t=e.documentElement:1===e.nodeType&&(t=e);return t}(this.xmlDoc);return t?(this.reader&&this.reader.read?e=this.reader.read(t):(e={})[t.nodeName]=a(t),e):{}}}};const s=o},2987:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>I});var r=n(3255),o=n(7966),i=n(3565),a=n(3041),s=n(5941),l=n(9924),c=n(1489),u=n(2993),p=n(7868),d=n(4154),h=n(210),g=n(8288),f=n(3474),m=n(9032);const y=m.rE,v=m.p6;var C={};C.servicesVersion=y,C.servicesDate=v,C.Protocols={},C.Protocols.XHR=h.A,C.Services=r.A,C.Services.DefaultUrl=o.A,C.Services.AltiResponse=i.A,C.Services.Alti={},C.Services.Alti.Elevation=a.A,C.Services.AutoCompleteResponse=s.A,C.Services.AutoComplete={},C.Services.AutoComplete.SuggestedLocation=l.A,C.Services.Config=d.A,C.Services.IsoCurveResponse=c.A,C.Services.RouteResponse=u.A,C.Services.Route={},C.Services.Route.RouteInstruction=p.A,C.Error=g.A,C.Helper=f.A;const I=C},3494:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r,o=n(2710);const i={uuid:(r=Math.floor(Date.now()),function(){return r++}),call:function(e){var t=o.A.getLogger("JSONP");if(t.trace("[JSONP::call ()]"),!e)throw t.error("missing parameter : options !"),new Error("missing parameter : options !");if(!e.url)throw t.error("missing parameter : options.url !"),new Error("missing parameter : options.url !");if(e.timeOut||(t.info("setting 'options.timeOut' default value"),e.timeOut=0),!e.onResponse)throw t.error("missing parameter : options.onResponse !"),new Error("missing parameter : options.onResponse !");var n="string"==typeof e.callbackSuffix?e.callbackSuffix:this.uuid(),r=!1,i=!1,a=e.url.indexOf("callback=");if(-1!==a){r=!0;var s=e.url.indexOf("&",a);-1===s&&(s=e.url.length);var l=e.url.substring(a+9,s);l&&(i=!0,e.callbackName=l,t.info("setting 'options.callbackName' value ("+e.callbackName+") from 'options.url' parameter"))}if(!r){var c=e.url.indexOf("?");-1===c?e.url=e.url+"?callback=":c===e.url.length?e.url=e.url+"callback=":e.url=e.url+"&callback=",t.info("setting callback default key in 'options.url' : "+e.url)}var u=!!e.callbackName||i;if(i||(e.callbackName||(t.info("setting 'options.callbackName' default value"),e.callbackName="callback",(n||""===n)&&(e.callbackName+=n)),e.url=e.url.replace("callback=","callback="+e.callbackName),t.info("setting callback function name in 'options.url' : "+e.url)),e.onTimeOut||(t.info("setting 'options.onTimeOut' default value"),e.onTimeOut=function(){console.log("TimeOut while invoking url : "+e.url)}),!u){var p=this,d=null;e.timeOut>0&&(d=window.setTimeout((function(){window[e.callbackName]=function(){},e.onTimeOut(),p._deleteScript(n)}),e.timeOut)),window[e.callbackName]=function(t){window.clearTimeout(d),e.onResponse(t),p._deleteScript(n)}}this._createScript(n,e.url)},_createScript:function(e,t){var n,r=document.getElementById("results"+e);(n=document.createElement("script")).setAttribute("type","text/javascript"),n.setAttribute("src",t),n.setAttribute("charset","UTF-8"),n.setAttribute("id","results"+e),n.setAttribute("async","true");var o=document.documentElement||document.getElementsByTagName("head")[0];null===r?o.appendChild(n):o.replaceChild(n,r)},_deleteScript:function(e){var t=document.getElementById("results"+e);if(t){var n=t.parentNode||document.documentElement;if(!n)return;n.removeChild(t)}}}},6250:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(3474),o=n(210),i=n(3494);const a={send:function(e){var t=e||{method:"GET",protocol:"XHR",timeOut:0,format:null,wrap:!0,nocache:!0,output:"json",callback:null,callbackSuffix:null};if("undefined"!=typeof window||"JSONP"!==e.protocol){if("XHR"===e.protocol||"json"===e.format?t.wrap=!1:"JSONP"===e.protocol&&"xml"===e.format&&(t.wrap=!0),t.callback=null,t.output=t.wrap?"json":null,t.wrap){var n={};n.output=t.output,n.callback=t.callback,delete n.callback,t.url=r.A.normalyzeUrl(e.url,n)}switch(t.protocol){case"XHR":"GET"===e.method&&e.nocache&&(t.url=r.A.normalyzeUrl(t.url,{t:(new Date).getTime()})),o.A.call(t);break;case"JSONP":t.data&&(t.url=r.A.normalyzeUrl(t.url,t.data)),i.A.call(t);break;default:throw new Error("protocol not supported (XHR|JSONP) !")}}else console.log("Value (s) for parameter (s) 'protocol=JSONP (instead use XHR)' not supported to NodeJS")}}},210:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2710),o=n(3474),i=n(6964),a=n.n(i);const s={call:function(e){var t=r.A.getLogger("XHR");if(t.trace("[XHR::call()]"),a().polyfill(),!e.url)throw new Error("missing parameter : url is not defined !");if(!e.method)throw new Error("missing parameter : method is not defined !");e.format||(e.format="text");var n={};switch(n.url=e.url,n.data=e.data?e.data:null,n.method=e.method,n.timeOut=e.timeOut||0,n.scope=e.scope||this,n.proxy=e.proxy||null,n.content=e.content||null,n.headers=e.headers||{referer:"http://localhost"},e.method){case"DELETE":case"GET":break;case"PUT":case"POST":n.content=e.content?e.content:"application/x-www-form-urlencoded",n.headers=e.headers?e.headers:{referer:"http://localhost"};break;case"HEAD":case"OPTIONS":throw new Error("HTTP method not yet supported !");default:throw new Error("HTTP method unknown !")}switch(e.format){case"text":this.__call(n).then((function(n){t.trace(n),e.onResponse.call(this,n)})).catch((function(t){e.onFailure.call(this,t)}));break;case"json":this.__callJSON(n).then((function(n){t.trace(n),e.onResponse.call(this,n)})).catch((function(t){e.onFailure.call(this,t)}));break;case"xml":this.__callXML(n).then((function(n){t.trace(n),e.onResponse.call(this,n)})).catch((function(t){e.onFailure.call(this,t)}));break;default:throw new Error("This output Format is not yet supported !")}},__call:function(e){var t=r.A.getLogger("XHR");return t.trace("[XHR::__call()]"),new Promise((function(r,i){var a="POST"===e.method||"PUT"===e.method?1:0;e.data&&("object"==typeof e.data&&Object.keys(e.data).length||"string"==typeof e.data&&e.data.length)&&!a&&(e.url=o.A.normalyzeUrl(e.url,e.data)),t.trace("URL = ",e.url);var s=null;if("undefined"==typeof window){var l=n(3092),c={headers:{Referer:"https://localhost"}};return e.data&&"string"==typeof e.data&&a&&(c={method:e.method,body:e.data,headers:{"Content-Type":e.content,Referer:"https://localhost"}}),l(e.url,c).then((function(e){if(e.ok)r(e.text());else{var t="Errors Occured on Http Request (status : '"+e.statusText+"' | url : '"+e.url+"')",n=e.status;i({message:t,status:n})}})).catch((function(e){i({message:e,status:-1})}))}if(window.XMLHttpRequest){t.trace("XMLHttpRequest"),(s=new XMLHttpRequest).open(e.method,e.url,!0),s.overrideMimeType=e.content;var u=null;e.timeOut>0&&(t.trace("XHR - TimeOut actif !"),u=window.setTimeout((function(){i({message:"TimeOut Occured on Http Request with XMLHttpRequest !",status:-1})}),e.timeOut)),a&&(t.trace("data = ",e.data),s.setRequestHeader("Content-type",e.content)),s.onerror=function(e){console.log(e),i(new Error("Errors Occured on Http Request with XMLHttpRequest !"))},s.ontimeout=function(e){console.log(e),i(new Error("TimeOut Occured on Http Request with XMLHttpRequest !"))},s.onreadystatechange=function(e){if(4===s.readyState)if(200===s.status)window.clearTimeout(u),r(s.response);else{var t="Errors Occured on Http Request (status : '"+e.target.statusText+"' | url : '"+e.target.responseURL+"' | response : '"+e.target.response+"')",n=e.target.status;i({message:t,status:n})}};var p=e.data&&a?e.data:null;s.send(p)}else{if(!window.XDomainRequest)throw new Error("CORS not supported");t.trace("XDomainRequest"),(s=new XDomainRequest).open(e.method,e.url),s.overrideMimeType=e.content,e.timeOut>0&&(s.timeout=e.timeout,t.trace("XHR - TimeOut actif !")),a&&s.setRequestHeader("Content-type",e.content),s.onerror=function(){i(new Error("Errors Occured on Http Request with XMLHttpRequest !"))},s.ontimeout=function(){i(new Error("TimeOut Occured on Http Request with XMLHttpRequest !"))},s.onload=function(e){if(200===s.status)r(s.responseText);else{var t="Errors Occured on Http Request (status : '"+e.target.statusText+"' | url : '"+e.target.responseURL+"')",n=e.target.status;i({message:t,status:n})}};var d=e.data&&a?e.data:null;s.send(d)}}))},__callJSON:function(e){return this.__call(e).then(JSON.parse).catch((function(t){console.log("_callJSON failed on : ",e.url,t)}))},__callXML:function(e){return this.__call(e).then((function(e){var t;"undefined"==typeof window?t=(new(0,n(4432).DOMParser)).parseFromString(e,"text/xml"):window.DOMParser?t=(new window.DOMParser).parseFromString(e,"text/xml"):((t=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e));return t})).catch((function(t){console.log("__callXML failed on : ",e.url,t)}))}}},2366:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(2710),o=n(1097),i=n(8288),a=n(895),s=n(7966),l=n(8933),c=n(5325);function u(e){if(!(this instanceof u))throw new TypeError(o.A.getMessage("CLASS_CONSTRUCTOR","Alti"));if(this.CLASSNAME="Alti",a.A.apply(this,arguments),this.logger=r.A.getLogger("Gp.Services.Alti"),this.logger.trace("[Constructeur Alti (options)]"),!e.positions)throw new Error(o.A.getMessage("PARAM_MISSING","positions"));if(0===e.positions.length)throw new Error(o.A.getMessage("PARAM_EMPTY","positions"));if(this.options.positions=e.positions,this.options.outputFormat="string"==typeof e.outputFormat?e.outputFormat.toLowerCase():"xml",this.options.resource=e.resource||"ign_rge_alti_wld",this.options.sampling=e.sampling||null,this.options.api="string"==typeof e.api?e.api.toUpperCase():"REST","REST"===this.options.api&&(this.options.httpMethod="GET"),this.options.zonly=e.zonly||!1,this.options.measures=e.measures||!1,!this.options.serverUrl){var t=s.A.Alti.newUrl(),n=null;switch(this.options.api){case"WPS":n=t.wps;break;case"REST":n=t[(e.sampling?"profil":"elevation")+"-"+this.options.outputFormat];break;default:throw new Error(o.A.getMessage("PARAM_UNKNOWN","api"))}if(!n)throw new Error("Url by default not found !");this.options.serverUrl=n,this.logger.trace("Server URL by default : "+this.options.serverUrl)}var i=this.options.serverUrl.lastIndexOf(".");if(-1!==i){var l=this.options.serverUrl.substring(i+1);if(l&&l.length<5)switch(this.logger.trace("Server Extension URL : "+l),l.toLowerCase()){case"json":case"xml":this.options.outputFormat=l.toLowerCase();break;default:throw new Error("type of service : unknown or unsupported (json or xml) !")}}}u.prototype=Object.create(a.A.prototype,{}),u.prototype.constructor=u,u.prototype.buildRequest=function(e,t){var n={httpMethod:this.options.httpMethod,onSuccess:function(e){this.request=e,t.call(this,this.request)},onError:e,scope:this,resource:this.options.resource,positions:this.options.positions,outputFormat:this.options.outputFormat,sampling:this.options.sampling,api:this.options.api,zonly:this.options.zonly,measures:this.options.measures};l.A.build(n)},u.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};c.A.build(n)}else e.call(this,new i.A(o.A.getMessage("SERVICE_RESPONSE_EMPTY")))};const p=u},3667:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(3565),o=n(3041),i=n(9206),a={};a.READERS={elevations:function(e){var t=new r.A;if(e.hasChildNodes())for(var n,o,i=e.childNodes,s=0;s<i.length;s++)n=i[s],a.READERS[n.nodeName]&&(o=a.READERS[n.nodeName](n),t.elevations.push(o));return t},elevation:function(e){var t=new o.A;if(e.hasChildNodes())for(var n,r=e.childNodes,i=0;i<r.length;i++)n=r[i],a.READERS[n.nodeName]&&a.READERS[n.nodeName](n,t);return t},lat:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : latitude attendue mais absente");t.lat=parseFloat(n.nodeValue)},lon:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : longitude attendue mais absente");t.lon=parseFloat(n.nodeValue)},z:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : altitude attendue mais absente");if(!t)return(t=new o.A).z=parseFloat(n.nodeValue),t;t.z=parseFloat(n.nodeValue)},acc:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : prÃ©cision (acc) attendue mais absente");t.acc=parseFloat(n.nodeValue)},source_name:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : source_name attendue mais absente");t.source_name=n.nodeValue},source_measure:function(e,t){var n=e.firstChild;if(!n||3!==n.nodeType)throw new Error("Erreur dans la lecture de la rÃ©ponse du service : source_measure attendue mais absente");t.source_measure=n.nodeValue},measures:function(e,t){var n;if(t.measures=[],e.hasChildNodes())for(var r,o=e.childNodes,s=0;s<o.length;s++){n=new i.A,r=o[s].childNodes;for(var l=0;l<r.length;l++){if(!a.READERS[r[l].nodeName])throw new Error("Erreur dans la lecture de la rÃ©ponse du service : measures attendues mais absentes");a.READERS[r[l].nodeName](r[l],n)}t.measures.push(n)}},exceptionreport:function(e){var t={};if(e.hasChildNodes())for(var n,r=e.childNodes,o=0;o<r.length;o++)"Exception"===(n=r[o]).nodeName&&(t.exceptionReport=a.READERS.exception(n));return t},exception:function(e){var t={},n=e.getAttribute("exceptionCode");n&&(t.exceptionCode=n);var r=e.firstChild;return r&&3===r.nodeType&&(t.exception=r.nodeValue),t},error:function(e){var t={error:{}};if(e.hasChildNodes())for(var n,r=e.childNodes,o=0;o<r.length;o++){var i;1===(n=r[o]).nodeType&&"code"===n.nodeName&&(i=n.firstChild)&&3===i.nodeType&&(t.error.code=i.nodeValue),1===n.nodeType&&"description"===n.nodeName&&(i=n.firstChild)&&3===i.nodeType&&(t.error.description=i.nodeValue)}return t}},a.read=function(e){if("elevations"===e.nodeName)return a.READERS.elevations(e);if("ExceptionReport"===e.nodeName)return a.READERS.exceptionreport(e);if("error"===e.nodeName)return a.READERS.error(e);throw new Error("Erreur lors de la lecture de la rÃ©ponse : elle n'est pas au format attendu.")};const s=a},8933:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2710),o=n(8288),i=n(6933),a=n(4359);const s={build:function(e){r.A.getLogger("AltiRequestFactory").trace(["AltiRequestFactory::build()"]);var t=null,n={type:e.sampling?"Profil":"Elevation",method:e.httpMethod,param:{positions:null,delimiter:null,indent:null,crs:null,format:null,sampling:null,zonly:null,measures:null}};n.param.positions=e.positions,n.param.format=e.outputFormat,n.param.sampling=e.sampling,n.param.zonly=e.zonly,n.param.measures=e.measures,n.param.resource=e.resource;var s=!(null===e.onError||"function"!=typeof e.onError),l=!(null===e.onSuccess||"function"!=typeof e.onSuccess),c=null;switch(e.api){case"REST":var u=new i.A(n);if(!u.processRequestString()){if(c="Error in process request (rest) !",s)return void e.onError.call(e.scope,new o.A(c));throw new Error(c)}t=u.requestString;break;case"WPS":if(n.wps={service:null,version:null,identifier:null,rawdataoutput:null,request:null},!(t=a.A.build(n))){if(c="Error in process request (wps) !",s)return void e.onError.call(e.scope,new o.A(c));throw new Error(c)}break;default:if(c="Type of API is not supported by service (REST or WPS) !",s)return void e.onError.call(e.scope,new o.A(c));throw new Error(c)}return l&&e.onSuccess.call(e.scope,t),t}}},6933:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(2710),o=n(1097),i=n(5974),a=n(3471);function s(e){if(this.logger=r.A.getLogger("AltiRequestREST"),this.logger.trace("[Constructeur AltiRequestREST ()]"),!(this instanceof s))throw new TypeError("AltiRequestREST constructor cannot be called as a function.");if(this.options=e||{},!this.options)throw new Error(o.A.getMessage("PARAM_EMPTY","options"));if(!this.options.type)throw new Error(o.A.getMessage("PARAM_EMPTY","type (Elevation or Profil)"));switch(this.DataObject=null,this.options.type){case"Elevation":this.DataObject=new i.A(this.options.param);break;case"Profil":this.DataObject=new a.A(this.options.param);break;default:throw new Error(o.A.getMessage("PARAM_TYPE","type (Elevation or Profil)"))}this.method=this.options.method||"GET"}s.prototype={requestString:null,constructor:s,template:{get:{value:"lon=__LON__&lat=__LAT__&indent=__INDENT__&crs='__CRS__'&resource=__RESOURCE__&measures=__MEASURES__",input:{point:"&zonly=__ZONLY__",profil:"&sampling=__SAMPLING__"}},post:{value:"lon=__LON__\nlat=__LAT__\nindent=__INDENT__\ncrs='__CRS__'\nresource='__RESOURCE__'\nmeasures='__MEASURES__'\n",input:{point:"zonly=__ZONLY__\n",profil:"sampling=__SAMPLING__"}}},processRequestString:function(){this.logger.trace("AltiRequestREST::processRequestString ()");var e="";return"POST"===this.method?e=this.template.post.value:"GET"===this.method&&(e=this.template.get.value),e=(e=(e=(e=(e=(e=e.replace(/__LON__/g,this.DataObject.getLon())).replace(/__LAT__/g,this.DataObject.getLat())).replace(/__INDENT__/g,this.DataObject.indent)).replace(/__CRS__/g,this.DataObject.crs)).replace(/__RESOURCE__/g,this.DataObject.resource)).replace(/__MEASURES__/g,this.DataObject.measures),e+=this.__addDataInputs(),this.logger.trace("traduction tmpl",e),this.requestString=e,this.requestString},__addDataInputs:function(){var e;if(this.logger.trace("AltiRequestREST::addDataInput ()"),"POST"===this.method)e=this.template.post;else{if("GET"!==this.method)throw new Error("No other HTTP method supported by the service !");e=this.template.get}if("AltiElevationRequest"===this.DataObject.CLASSNAME)return e.input.point.replace(/__ZONLY__/g,this.DataObject.zonly.toString());if("AltiProfilRequest"===this.DataObject.CLASSNAME)return e.input.profil.replace(/__SAMPLING__/g,this.DataObject.sampling);throw new Error("No other object supported than elevation or profil !?")}};const l=s},4359:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(2710),o=n(1097),i=n(4841),a=n(5974),s=n(3471);const l={build:function(e){if(r.A.getLogger("AltiRequestWPS").trace(["AltiRequestWPS::build()"]),!e)throw new Error(o.A.getMessage("PARAM_EMPTY","options"));if(!e.type)throw new Error(o.A.getMessage("PARAM_EMPTY","type (Elevation or Profil)"));var t=null;switch(e.type){case"Elevation":e.wps.identifier="gs:WPSElevation",t=new a.A(e.param);break;case"Profil":e.wps.identifier="gs:WPSLineElevation",t=new s.A(e.param);break;default:throw new Error(o.A.getMessage("PARAM_TYPE","type (Elevation or Profil)"))}var n={data:t,method:e.method,param:e.wps},l=new i.A(n);if(!l.processRequestString())throw new Error("Enable to process request !");return l.requestString}}},5974:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2710),o=n(6221);function i(e){if(!(this instanceof i))throw new TypeError("AltiElevationRequest constructor cannot be called as a function.");this.CLASSNAME="AltiElevationRequest",o.A.apply(this,arguments),this.logger=r.A.getLogger(),this.logger.trace("[Constructeur AltiElevationRequest ()]"),this.zonly=this.options.zonly||!1}i.prototype=Object.create(o.A.prototype,{zonly:{get:function(){return this._zonly},set:function(e){this._zonly=e}}}),i.prototype.constructor=i,i.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"zonly",v:this.zonly}),e.push({k:"format",v:this.format}),e.push({k:"resource",v:this.resource}),e};const a=i},3471:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2710),o=n(6221);function i(e){if(!(this instanceof i))throw new TypeError("AltiProfilRequest constructor cannot be called as a function.");this.CLASSNAME="AltiProfilRequest",o.A.apply(this,arguments),this.logger=r.A.getLogger(),this.logger.trace("[Constructeur AltiProfilRequest ()]"),this.sampling=this.options.sampling||3}i.prototype=Object.create(o.A.prototype,{sampling:{get:function(){return this._sampling},set:function(e){this._sampling=e}}}),i.prototype.constructor=i,i.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"sampling",v:this.sampling}),e.push({k:"format",v:this.format}),e.push({k:"resource",v:this.resource}),e};const a=i},6221:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2710);function o(e){if(!(this instanceof o))throw new TypeError("AltiRequest constructor cannot be called as a function.");this.logger=r.A.getLogger(),this.logger.trace("[Constructeur AltiRequest ()]"),this.options=e||{},this.positions=this.options.positions||[],this.delimiter=this.options.delimiter||"|",this.indent=this.options.indent||!1,this.crs=this.options.crs||"CRS:84",this.format=this.options.format||"json",this.resource=this.options.resource,this.measures=this.options.measures||!1}o.CLASSNAME="AltiRequest",o.prototype={constructor:o,setPositions:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.lon&&r.lat&&t.push(r)}this.positions=t},getPositions:function(e){if(!e)return this.positions;var t=this.positions.length-1;return e>t||e<t?(this.logger.warn("index out of range !"),this.positions):this.positions[e]},addPositions:function(e){for(var t=0;t<e.length;t++){var n=e[t];n.lon&&n.lat&&this.positions.push(e[t])}},getLon:function(){for(var e=[],t=0;t<this.positions.length;t++)e.push(this.positions[t].lon);return this.logger.trace(e),e.join(this.delimiter)},getLat:function(){for(var e=[],t=0;t<this.positions.length;t++)e.push(this.positions[t].lat);return this.logger.trace(e),e.join(this.delimiter)}},o.prototype.getData=function(){var e=[];return e.push({k:"lon",v:this.getLon()}),e.push({k:"lat",v:this.getLat()}),e.push({k:"delimiter",v:this.delimiter}),e.push({k:"indent",v:this.indent}),e.push({k:"crs",v:this.crs}),e.push({k:"format",v:this.format}),e};const i=o},5325:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(2710),o=n(1097),i=n(8288),a=n(4904),s=n(3667),l=n(3565),c=n(3041);const u={build:function(e){var t=r.A.getLogger("AltiResponseFactory");t.trace(["AltiResponseFactory::build()"]);var n=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),n=e.response;else{switch(e.outputFormat){case"xml":t.trace("analyze response : xml");try{var u=new a.A({reader:s.A});if("string"==typeof e.response?u.setXMLString(e.response):u.setXMLDoc(e.response),!(n=u.parse()))throw new Error(o.A.getMessage("SERVICE_RESPONSE_EXCEPTION_2"))}catch(t){var p=t.message;return void e.onError.call(e.scope,new i.A({message:o.A.getMessage("SERVICE_RESPONSE_EXCEPTION",p),status:200,type:i.A.TYPE_SRVERR}))}break;case"json":t.trace("analyze response : json"),t.trace("analyze response : ",typeof e.response);var d=null;if((d="string"==typeof e.response?JSON.parse(e.response):e.response)&&d.error)return void e.onError.call(e.scope,new i.A({message:o.A.getMessage("SERVICE_RESPONSE_EXCEPTION",d.error.description),status:200,type:i.A.TYPE_SRVERR}));if(d){var h,g=d.elevations,f=new l.A;if(Array.isArray(g)&&g.length)for(var m=0;m<g.length;m++)h=new c.A,"object"==typeof g[m]?(g[m].lon&&(h.lon=g[m].lon),g[m].lat&&(h.lat=g[m].lat),g[m].z&&(h.z=g[m].z),g[m].acc&&(h.acc=g[m].acc),g[m].measures&&(h.measures=g[m].measures)):"number"==typeof g[m]&&(h.z=g[m]),Array.isArray(f.elevations)&&f.elevations.push(h);n=f}if(!n)return void e.onError.call(e.scope,new i.A({message:o.A.getMessage("SERVICE_RESPONSE_ANALYSE_2"),type:i.A.TYPE_UNKERR,status:-1}));break;default:return void e.onError.call(e.scope,new i.A({message:o.A.getMessage("SERVICE_RESPONSE_FORMAT_2"),type:i.A.TYPE_UNKERR,status:-1}))}if(n.exceptionReport)return void e.onError.call(e.scope,new i.A({message:o.A.getMessage("SERVICE_RESPONSE_EXCEPTION",n.exceptionReport),type:i.A.TYPE_SRVERR,status:200}));if(n.error){var y=n.error.description;return void e.onError.call(e.scope,new i.A({message:o.A.getMessage("SERVICE_RESPONSE_EXCEPTION",y),type:i.A.TYPE_SRVERR,status:200}))}}e.onSuccess.call(e.scope,n)}else e.onError.call(e.scope,new i.A(o.A.getMessage("SERVICE_RESPONSE_EMPTY")))}}},3565:(e,t,n)=>{"use strict";function r(){if(!(this instanceof r))throw new TypeError("AltiResponse constructor cannot be called as a function.");this.elevations=[]}n.d(t,{A:()=>o}),r.prototype={constructor:r};const o=r},3041:(e,t,n)=>{"use strict";function r(){if(!(this instanceof r))throw new TypeError("Elevation constructor cannot be called as a function.");this.z=null}n.d(t,{A:()=>o}),r.prototype={constructor:r};const o=r},9206:(e,t,n)=>{"use strict";function r(){if(!(this instanceof r))throw new TypeError("Measure constructor cannot be called as a function.");this.source_name=null,this.source_measure=null,this.z=null,this.acc=null}n.d(t,{A:()=>o}),r.prototype={constructor:r};const o=r},9338:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(895),o=n(7966),i=n(4889),a=n(2710),s=n(1097),l=n(3474),c=n(8288);function u(e){if(!(this instanceof u))throw new TypeError(s.A.getMessage("CLASS_CONSTRUCTOR","AutoComplete"));this.CLASSNAME="AutoComplete",this.logger=a.A.getLogger("Gp.Services.AutoComplete"),this.logger.trace("[Constructeur AutoComplete (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=o.A.AutoComplete.newUrl()),r.A.apply(this,arguments),!t.text)throw new Error(s.A.getMessage("PARAM_MISSING","text"));this.options.text=t.text,t.type||(t.type=["StreetAddress,PositionOfInterest"]),this.options.type=t.type,this.options.territory=t.terr||"",this.options.maximumResponses=t.maximumResponses||10,"XHR"===this.options.protocol&&"POST"===this.options.httpMethod&&(this.logger.warn("Le service ne gÃ©re pas le mode d'interrogation en POST, on bascule sur du GET !"),this.options.httpMethod="GET"),this.options.outputFormat=this.options.rawResponse?"":"json"}u.prototype=Object.create(r.A.prototype,{}),u.prototype.constructor=u,u.prototype.patchOptionConvertor=function(e){const t=e;return t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filterOptions.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.type||(t.type=t.filterOptions.type)),t.filterOptions.territory&&(this.logger.warn("The parameter 'filterOptions.territory' is deprecated"),t.terr||(t.terr=t.filterOptions.territory)),delete t.filterOptions),t},u.prototype.buildRequest=function(e,t){var n="";this.options.territory&&(n=this.options.territory);var r="";this.options.type&&(r=this.options.type.join(",")),this.request=l.A.normalyzeParameters({text:encodeURIComponent(this.options.text),type:r,terr:n,maximumResponses:this.options.maximumResponses}),this.request?t.call(this,this.request):e.call(this,new c.A(s.A.getMessage("SERVICE_REQUEST_BUILD")))},u.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,rawResponse:this.options.rawResponse,onSuccess:t,onError:e,scope:this};i.A.build(n)}else e.call(this,new c.A(s.A.getMessage("SERVICE_RESPONSE_EMPTY")))};const p=u},4889:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(2710),o=n(1097),i=n(8288),a=n(5941),s=n(9924);const l={build:function(e){var t=r.A.getLogger("AutoCompleteResponseFactory");t.trace(["AutoCompleteResponseFactory::build()"]);var n=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),n=e.response;else{var l=null;if(l="string"==typeof e.response?JSON.parse(e.response):e.response){if(l.error)return void e.onError.call(e.scope,new i.A({message:o.A.getMessage("SERVICE_RESPONSE_EXCEPTION",l.error.description),status:l.error.code,type:i.A.TYPE_SRVERR}));if(n=new a.A,!l.results||!Array.isArray(l.results))return void e.onError.call(e.scope,new i.A(o.A.getMessage("SERVICE_RESPONSE_FORMAT_3")));for(var c=null,u=0;u<l.results.length;u++){var p=l.results[u];c=new s.A,p&&("StreetAddress"===p.country?(c.street=p.street,c.type="StreetAddress"):"PositionOfInterest"===p.country&&(c.poi=p.street,c.type="PositionOfInterest",c.poiType=p.poiType),c.position&&(c.position.x=p.x,c.position.y=p.y),c.kind=p.kind,c.commune=p.city,c.fullText=p.fulltext,c.postalCode=p.zipcode,c.classification=p.classification),n.suggestedLocations.push(c)}if(!n.suggestedLocations.length)return void e.onError.call(e.scope,new i.A(o.A.getMessage("SERVICE_RESPONSE_FORMAT_3")))}if(!n)return void e.onError.call(e.scope,new i.A({message:o.A.getMessage("SERVICE_RESPONSE_ANALYSE_2"),type:i.A.TYPE_UNKERR,status:-1}));if(n.exceptionReport)return void e.onError.call(e.scope,new i.A({message:o.A.getMessage("SERVICE_RESPONSE_EXCEPTION",n.exceptionReport),type:i.A.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,n)}else e.onError.call(e.scope,new i.A(o.A.getMessage("SERVICE_RESPONSE_EMPTY")))}}},5941:(e,t,n)=>{"use strict";function r(){if(!(this instanceof r))throw new TypeError("AutoCompleteResponse constructor cannot be called as a function.");this.suggestedLocations=[]}n.d(t,{A:()=>o}),r.prototype={constructor:r};const o=r},9924:(e,t,n)=>{"use strict";function r(){if(!(this instanceof r))throw new TypeError("SuggestedLocation constructor cannot be called as a function.");this.type=null,this.position={x:null,y:null},this.commune=null,this.fullText=null,this.postalCode=null,this.classification=null,this.street=null,this.poi=null,this.kind=null}n.d(t,{A:()=>o}),r.prototype={constructor:r};const o=r},895:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(2710),o=n(3474),i=n(1097),a=n(6250),s=n(8288),l=n(9032);function c(e){if(!(this instanceof c))throw new TypeError(i.A.getMessage("CLASS_CONSTRUCTOR"));for(var t in this.logger=r.A.getLogger("CommonService"),this.logger.trace("[Constructeur CommonService (options)]"),this.options={protocol:"XHR",ssl:!0,proxyURL:"",callbackSuffix:null,httpMethod:"GET",timeOut:0,rawResponse:!1,scope:this,onSuccess:function(e){console.log("onSuccess - la reponse est la suivante : ",e)},onFailure:function(e){200!==e.status&&e.status?console.log("onFailure - Erreur (",e.status,") : ",e.message):console.log("onFailure : ",e.message)}},e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);if(this.options.rawResponse&&!this.options.onSuccess&&(this.options.onSuccess=function(e){console.log("onSuccess - la rÃ©ponse brute du service est la suivante : ",e)}),!!(null===this.options.onSuccess||"function"!=typeof this.options.onSuccess))throw new Error(i.A.getMessage("PARAM_MISSING","onSuccess()"));switch(this.options.httpMethod="string"==typeof e.httpMethod?e.httpMethod.toUpperCase():"GET",this.options.httpMethod){case"POST":case"GET":break;case"PUT":case"DELETE":case"HEAD":case"OPTIONS":throw new Error(i.A.getMessage("PARAM_NOT_SUPPORT","httpMethod"));default:throw new Error(i.A.getMessage("PARAM_UNKNOWN","httpMethod"))}switch(this.options.protocol="string"==typeof e.protocol?e.protocol.toUpperCase():"XHR",this.options.protocol){case"JSONP":case"XHR":break;default:throw new Error(i.A.getMessage("PARAM_UNKNOWN","protocol"))}if("undefined"==typeof window&&"JSONP"===this.options.protocol)throw new Error(i.A.getMessage("PARAM_NOT_SUPPORT_NODEJS","protocol=JSONP (instead use XHR)"));"JSONP"===this.options.protocol&&(this.options.httpMethod="GET"),this.options.nocache=e.nocache||!1,this.options.outputFormat=null,this.request=null,this.response=null}c.prototype={constructor:c,call:function(){this.logger.trace("CommonService::call ()");var e=this;function t(t){this.logger.trace("CommonService::onBuildRequest : ",t),this.callService.call(e,o,n)}function n(t){this.logger.trace("CommonService::onCallService : ",t),this.analyzeResponse.call(e,o,r)}function r(e){if(this.logger.trace("CommonService::onAnalyzeResponse : ",e),!e)return o.call(this,new s.A("Analyse de la reponse en Ã©chec !?"));this.options.onSuccess.call(this,e)}function o(e){this.logger.trace("CommonService::onError()");var t=e;t instanceof s.A||(t=new s.A(e.message)),this.options.onFailure.call(this,t)}(function(){this.logger.trace("CommonService::run ()"),this.buildRequest.call(e,o,t)}).call(e)},buildRequest:function(e,t){this.logger.error("overwritten method !"),e&&e.call(this,"This method must be overwritten !"),t.call(this,"This method must be overwritten !")},callService:function(e,t){var n=null,r=this.request,i=!(!this.options.proxyURL||"XHR"!==this.options.protocol),c={"gp-access-lib":l.rE};this.options.apiKey&&(c.apiKey=this.options.apiKey),this.options.serverUrl=o.A.normalyzeUrl(this.options.serverUrl,c,!1),i&&("GET"===this.options.httpMethod&&(n=this.options.proxyURL+o.A.normalyzeUrl(this.options.serverUrl,this.request,!0),r=null),"POST"===this.options.httpMethod&&(n=this.options.proxyURL+o.A.normalyzeUrl(this.options.serverUrl,null,!0),r=this.request));var u=this,p={url:n||this.options.serverUrl,method:this.options.httpMethod,protocol:this.options.protocol,timeOut:this.options.timeOut||0,format:this.options.outputFormat,nocache:this.options.nocache||!1,wrap:"XHR"!==this.options.protocol,callbackSuffix:this.options.callbackSuffix,data:r,headers:null,content:this.options.contentType||"application/xml",scope:this.options.scope||this,onResponse:function(n){u.logger.trace("callService::onResponse()");var r=null;if("XHR"===u.options.protocol&&(u.logger.trace("Response XHR",n),r=n),"JSONP"===u.options.protocol){if(u.logger.trace("Response JSON",n),!n)return void e.call(u,new s.A("Le contenu de la reponse est vide !?"));if(n.http){if(200!==n.http.status)return void e.call(u,new s.A({status:n.http.status,message:n.http.error,type:s.A.TYPE_SRVERR}));r=n.xml,u.options.rawResponse&&(r=n)}else r=n}if("function"==typeof u.options.onBeforeParse){var o=u.options.onBeforeParse(r);"string"==typeof o&&(r=o)}u.response=r,t.call(u,r)},onFailure:function(t){u.logger.trace("callService::onFailure()"),t.type=s.A.TYPE_SRVERR,e.call(u,new s.A(t))},onTimeOut:function(){u.logger.trace("callService::onTimeOut()"),e.call(u,new s.A("TimeOut!"))}};a.A.send(p)},analyzeResponse:function(e,t){this.logger.error("overwritten method !"),e&&e.call(this,"This method must be overwritten !"),t.call(this,"This method must be overwritten !")}};const u=c},4154:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(2710),o=n(1097),i=n(895),a=n(7966),s=n(9939);function l(e){if(!(this instanceof l))throw new TypeError(o.A.getMessage("CLASS_CONSTRUCTOR","Config"));if(this.CLASSNAME="Config",this.logger=r.A.getLogger("Gp.Config"),this.logger.trace("[Constructeur Config (options)]"),!!(null===e.onSuccess||"function"!=typeof e.onSuccess))throw new Error(o.A.getMessage("PARAM_MISSING","onSuccess()"));e.apiKey||e.customConfigFile||(e.apiKey="full"),this.options={},this.options.onSuccess=e.onSuccess,this.options.onFailure=e.onFailure,this.options.sync=e.sync||!1,this.options.listConfigUrls=e.customConfigFile?[e.customConfigFile]:Array.isArray(e.apiKey)?a.A.Config.url(e.apiKey):a.A.Config.url(e.apiKey.split(","))}l.prototype=Object.create(i.A.prototype,{}),l.prototype.constructor=l,l.prototype.buildRequest=function(e,t){this.listConfigUrls=this.options.listConfigUrls,this.listConfigUrls?t.call(this,this.listConfigUrls):e.call(this,new Error("url by default not found !"))},l.prototype.callService=function(e,t){this.options.sync?u.call(this,e,t):c.call(this,e,t)};var c=function(e,t){this.listConfigResults=[];let r=null;if("undefined"==typeof window){var o=n(3092);r=o}else r=window.fetch;var i=e=>r(e,{credentials:"same-origin"}).then((e=>{if(e.ok)return e.json().then((e=>e)).catch((e=>{throw new Error("Exception Json : "+e)}));throw new Error("Exception HTTP : "+e.status+" (status code) !")})).catch((e=>new Promise(((t,n)=>{n(e)})))),a=[];for(let e=0;e<this.listConfigUrls.length;e++){const t=this.listConfigUrls[e];a.push(i(t))}Promise.all(a).then((e=>{if(!e)throw new Error("results config empty !?");e.forEach((e=>{this.listConfigResults.push(e)}))})).then((()=>{t.call(this,this.listConfigResults)})).catch((t=>{e.call(this,t)}))},u=function(e,t){this.listConfigResults=[];for(var n=0;n<this.listConfigUrls.length;n++){const e=this.listConfigUrls[n],t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(null),200===t.status){var r=JSON.parse(t.responseText);this.listConfigResults.push(r)}}0!==this.listConfigResults.length?t.call(this,this.listConfigResults):e.call(this,new Error("..."))};l.prototype.analyzeResponse=function(e,t){var n=function(e){for(var t={},n={},r={},o=0;o<e.length;o++){if(!e[o].generalOptions||!e[o].layers)return;n={...n,...e[o].generalOptions.apiKeys},t={...t,...e[o].layers},r={...r,...e[o].tileMatrixSets}}return{generalOptions:{apiKeys:n},layers:t,tileMatrixSets:r}}(this.listConfigResults);if(n){var r=new s.A;Object.assign(r,n);var o="undefined"!=typeof window?window:{};if(o.Gp||(o.Gp={}),o.Gp.Config)for(var i in Object.assign(o.Gp.Config,r),r)o.Gp.Config[i]=r[i];else o.Gp.Config=r;t.call(this,o.Gp.Config)}else e.call(this,new Error("configuration structure not conforme !"))};const p=l},9939:(e,t,n)=>{"use strict";function r(){if(!(this instanceof r))throw new TypeError("ConfigInterface constructor cannot be called as a function.");this.generalOptions={apiKeys:{},title:null,defaultGMLGFIStyle:null,theme:null,wgs84Resolutions:[]},this.layers={},this.tileMatrixSets={}}n.d(t,{A:()=>o}),r.prototype={constructor:r,isKeyConfLoaded:function(e){if(e)return!!this.generalOptions.apiKeys[e]},getLayersId:function(e){return this.generalOptions.apiKeys[e]},getLayerId:function(e,t){if(e&&t){var n=null;if(this.layers){var r=this.layers;for(var o in r)if(r.hasOwnProperty(o)){var i=o.split("$");if(e===i[0]&&i[1]){var a=i[1].split(":");if(i[1].split(";")[1]===t.toUpperCase()){n=o;break}if(a[2]===t.toUpperCase()){n=o;break}}}}if(n)return n}},getLayersConf:function(e){var t={},n=this.getLayersId(e);if(n)for(var r=0;r<n.length;r++){var o=n[r];t[o]=this.layers[o]}return t},getLayerConf:function(e){if(this.layers)return this.layers[e]},getLayerParams:function(e,t){var n={};if(("WMS"===t||0!==Object.keys(this.tileMatrixSets).length)&&0!==Object.keys(this.layers).length){var r=this.getLayerId(e,t);if(r){var o=this.getLayerConf(r),i=this.getLayerKey(r);if(0===i.length)return;for(var a=0;a<i.length;a++)o.serviceParams.serverUrl[i[a]]&&(n.url=o.serviceParams.serverUrl[i[a]]);if(/\/v\//.test(n.url)?n.styles=" ":n.styles=o.styles[0].name,n.version=o.serviceParams.version,n.format=o.formats[0].name,n.projection=o.defaultProjection,n.minScale=o.globalConstraint.minScaleDenominator,n.maxScale=o.globalConstraint.maxScaleDenominator,n.extent=o.globalConstraint.bbox,n.legends=o.legends,n.title=o.title,n.description=o.description,"WMS"===t&&(n.metadata=o.metadata),o.wmtsOptions){n.tileMatrixSetLimits=o.wmtsOptions.tileMatrixSetLimits;var s=o.wmtsOptions.tileMatrixSetLink;if(s){n.TMSLink=s;var l=this.getTMSConf(s);n.matrixIds=Object.keys(l.tileMatrices),n.tileMatrices=l.tileMatrices,n.nativeResolutions=l.nativeResolutions||this.getTMSConf("PM").nativeResolutions}}}}return n},getLayerKey:function(e){var t=[];if(this.generalOptions&&this.generalOptions.apiKeys&&0!==Object.keys(this.generalOptions.apiKeys).length){var n=this.generalOptions.apiKeys;for(var r in n){n[r].forEach((function(n){n===e&&t.push(r)}))}}return t},getTileMatrixSets:function(){return this.tileMatrixSets},getTMSConf:function(e){if(this.tileMatrixSets)return this.tileMatrixSets[e]},getGlobalConstraints:function(e){var t={};if(e){var n=this.getLayerConf(e);t.projection=n.defaultProjection,t.minScale=n.globalConstraint.minScaleDenominator,t.maxScale=n.globalConstraint.maxScaleDenominator,t.extent=n.globalConstraint.bbox}return t}};const o=r},7966:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r={ssl:!0,newUrl:function(e){return(!1===r.ssl?"http://":"https://")+"data.geopf.fr"+e},Alti:{new_key:{"elevation-json":"/altimetrie/1.0/calcul/alti/rest/elevation.json","elevation-xml":"/altimetrie/1.0/calcul/alti/rest/elevation.xml","profil-json":"/altimetrie/1.0/calcul/alti/rest/elevationLine.json","profil-xml":"/altimetrie/1.0/calcul/alti/rest/elevationLine.xml"},newUrl:function(){return{"elevation-json":r.newUrl(this.new_key["elevation-json"]),"elevation-xml":r.newUrl(this.new_key["elevation-xml"]),"profil-json":r.newUrl(this.new_key["profil-json"]),"profil-xml":r.newUrl(this.new_key["profil-xml"])}}},ProcessIsoCurve:{new_key:"/navigation/isochrone",newUrl:function(){return r.newUrl(this.new_key)}},Config:{_key:"https://raw.githubusercontent.com/IGNF/geoportal-configuration/new-url/dist/",url:function(e){Array.isArray(e)||(e=e.split(","));for(var t=[],n=0;n<e.length;n++)t[n]=this._key+e[n]+"Config.json";return t}},AutoComplete:{new_key:"/geocodage/completion",newUrl:function(){return r.newUrl(this.new_key)}},ReverseGeocode:{new_key:"/geocodage/reverse",newUrl:function(){return r.newUrl(this.new_key)}},Geocode:{new_key:"/geocodage/search",newUrl:function(){return r.newUrl(this.new_key)}},Route:{new_key:"/navigation/itineraire",newUrl:function(){return r.newUrl(this.new_key)}}};const o=r},9723:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(1097),o=n(8288),i=n(1135),a=n(6025);function s(){if(!(this instanceof s))throw new TypeError("GeocodeResponseParser constructor cannot be called as a function.")}function l(e,t){var n=new a.A;if(e.geometry&&"Point"===e.geometry.type&&(n.position={lon:e.geometry.coordinates[0],lat:e.geometry.coordinates[1]}),e.properties){for(var r in e.properties)"score"===r?n.accuracy=e.properties[r]:"_type"===r?"address"===e.properties[r]?n.type="StreetAddress":"poi"===e.properties[r]?n.type="PositionOfInterest":"parcel"!==e.properties[r]&&"cadastral"!==e.properties[r]||(n.type="CadastralParcel"):n.placeAttributes[r]=e.properties[r];"address"===e.properties._type&&(n.matchType=void 0!==e.properties.number&&null!==e.properties.number?"street number":"street")}t.locations.push(n)}s.prototype={constructor:s,parse:function(e){var t=new i.A;const n=JSON.parse(e);if("FeatureCollection"===n.type)for(var a=0;a<n.features.length;++a)l(n.features[a],t);else{if("Feature"!==n.type){if("SERVICE_ERROR"===n.type)return{exceptionReport:n};var s=r.A.getMessage("SERVICE_RESPONSE_ANALYSE",n.type);throw new o.A({message:s,type:o.A.TYPE_UNKERR,status:200})}l(n,t)}return t}};const c=s},1520:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(2710),o=n(1097),i=n(8288),a=n(895),s=n(7966),l=n(6767),c=n(9375);function u(e){if(!(this instanceof u))throw new TypeError(o.A.getMessage("CLASS_CONSTRUCTOR","Geocode"));this.CLASSNAME="Geocode",this.logger=r.A.getLogger("Gp.Services.Geocode"),this.logger.trace("[Constructeur Geocode (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=s.A.Geocode.newUrl()),a.A.apply(this,[t]),!t.hasOwnProperty("query"))throw new Error(o.A.getMessage("PARAM_MISSING","query"));if(this.options.query=t.query,t.index||(this.options.index=t.index="StreetAddress"),t.filters)for(var n=Object.keys(t.filters),i=0;i<n.length;i++){var l=n[i];(void 0===t.filters[l]||"object"==typeof t.filters[l]&&0===Object.keys(t.filters[l]).length||"string"==typeof t.filters[l]&&0===t.filters[l].length||Array.isArray(t.filters[l])&&0===t.filters[l].length)&&delete this.options.filters[l]}this.options.index=t.index||"StreetAddress",this.options.maximumResponses=t.maximumResponses||20}u.prototype=Object.create(a.A.prototype,{}),u.prototype.constructor=u,u.prototype.patchOptionConvertor=function(e){const t=e;return t.hasOwnProperty("location")&&(this.logger.warn("The parameter 'location' is deprecated"),t.query||(t.query=t.location),delete t.location),t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filters||(t.filters=t.filterOptions,t.filters.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.index||(Array.isArray(t.filters.type)&&t.filters.type.length>0?t.index=t.filters.type[0]:t.index=t.filters.type),delete t.filters.type),t.filters.bbox&&(this.logger.warn("The parameter 'filterOptions.bbox' is deprecated"),delete t.filters.bbox)),delete t.filterOptions),t.position&&(t.position.x&&(this.logger.warn("The parameter 'position.x' is deprecated"),t.position.lon||(t.position.lon=t.position.x),delete t.position.x),t.position.y&&(this.logger.warn("The parameter 'position.y' is deprecated"),t.position.lat||(t.position.lat=t.position.y),delete t.position.y)),t.returnFreeForm&&(this.logger.warn("The parameter 'returnFreeForm' is deprecated"),delete t.returnFreeForm),t.srs&&(this.logger.warn("The parameter 'srs' is deprecated"),delete t.srs),t},u.prototype.buildRequest=function(e,t){var n={httpMethod:this.options.httpMethod,geocodeMethod:"search",query:this.options.query,index:this.options.index,returnTrueGeometry:this.options.returnTrueGeometry,position:this.options.position,maxResp:this.options.maximumResponses,filters:this.options.filters};this.request=l.A.build(n),this.request?t.call(this,this.request):e.call(this,new i.A(o.A.getMessage("SERVICE_REQUEST_BUILD")))},u.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};c.A.build(n)}else e.call(this,new i.A(o.A.getMessage("SERVICE_RESPONSE_EMPTY")))};const p=u},6767:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2710),o=n(3955);const i={build:function(e){var t=r.A.getLogger("GeocodeRequestFactory");t.trace(["GeocodeRequestFactory::build()"]);var n=e||{},i=new o.A(n);if(!i.processRequestString())throw new Error("Error process request (rest) !");var a=i.requestString;return t.trace(a),a}}},3955:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2710),o=n(1097),i=n(3757);function a(e){if(this.logger=r.A.getLogger("GeocodeRequestREST"),this.logger.trace("[Constructeur GeocodeRequestREST ()]"),!(this instanceof a))throw new TypeError("GeocodeRequestREST constructor cannot be called as a function.");if(!e)throw new Error(o.A.getMessage("PARAM_EMPTY","options"));this.settings=e}a.prototype={requestString:null,constructor:a,processRequestString:function(){var e="";const t=new i.A(this.settings).getParams();for(var n=0;n<t.length;n++){var r=t[n];e&&(e+="&"),e+=r.k+"="+r.v}if(!this.settings.geocodeMethod||"search"!==this.settings.geocodeMethod&&"reverse"!==this.settings.geocodeMethod)throw new Error("Error geocodeMethod not valid");return this.requestString="?"+e,this.logger.trace(this.requestString),this.requestString}};const s=a},3757:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2710);function o(e){if(!(this instanceof o))throw new TypeError("GeocodeParamREST constructor cannot be called as a function.");if(this.logger=r.A.getLogger(),this.logger.trace("[Constructeur GeocodeParamREST ()]"),this.options=e||{},!this.options.geocodeMethod||"search"!==this.options.geocodeMethod&&"reverse"!==this.options.geocodeMethod)throw new Error("Error geocodeMethod not valid");this.geocodeMethod=this.options.geocodeMethod,this.query=void 0!==this.options?this.options.query:null,this.searchGeometry=this.options.searchGeometry||null,this.index=this.options.index||null,this.lon=this.options.position&&this.options.position.lon?this.options.position.lon:null,this.lat=this.options.position&&this.options.position.lat?this.options.position.lat:null,this.maxResp=this.options.maxResp||null,this.returnTrueGeometry=this.options.returnTrueGeometry||null,this.filters=this.options.filters||{}}o.CLASSNAME="GeocodeParamREST",o.prototype={constructor:o,getFilters:function(){var e={};for(var t in this.filters)this.filters.hasOwnProperty(t)&&(e[t]=this.filters[t]);return e},getIndex:function(){return void 0===this.index?null:"StreetAddress"===this.index?"address":"CadastralParcel"===this.index?"parcel":"PositionOfInterest"===this.index?"poi":"location"===this.index?"location":this.index},getSearchGeometry:function(){return JSON.stringify(this.searchGeometry)}},o.prototype.getParams=function(){var e=[];"search"===this.geocodeMethod&&e.push({k:"q",v:this.query}),this.index&&e.push({k:"index",v:this.getIndex()}),"reverse"===this.geocodeMethod&&this.searchGeometry&&e.push({k:"searchgeom",v:this.getSearchGeometry()}),this.lon&&this.lat&&(e.push({k:"lon",v:this.lon}),e.push({k:"lat",v:this.lat})),this.maxResp&&e.push({k:"limit",v:this.maxResp}),this.returnTrueGeometry&&e.push({k:"returntruegeometry",v:this.returnTrueGeometry});const t=this.getFilters();for(var n in t)e.push({k:n,v:t[n]});return e};const i=o},9375:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8288),o=n(1097),i=n(9723);const a={build:function(e){var t=null;if(e.response){if(e.rawResponse)t=e.response;else{try{if(!(t=(new i.A).parse(e.response)))throw new Error("L'analyse de la rÃ©ponse du service !?")}catch(t){var n=t.message;return"string"==typeof e.response?n+="('"+e.response+"')":n+="('"+e.response.documentElement.innerHTML+"')",void e.onError.call(e.scope,new r.A({message:o.A.getMessage("SERVICE_RESPONSE_ANALYSE",n),type:r.A.TYPE_UNKERR,status:-1}))}if(t.exceptionReport)return void e.onError.call(e.scope,new r.A({message:o.A.getMessage("SERVICE_RESPONSE_EXCEPTION",t.exceptionReport),type:r.A.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,t)}else e.onError.call(e.scope,new r.A({message:o.A.getMessage("SERVICE_RESPONSE_EMPTY"),type:r.A.TYPE_SRVERR,status:-1}))}}},1135:(e,t,n)=>{"use strict";function r(){if(!(this instanceof r))throw new TypeError("GeocodeResponse constructor cannot be called as a function.");this.locations=[]}n.d(t,{A:()=>o}),r.prototype={constructor:r};const o=r},6025:(e,t,n)=>{"use strict";function r(){if(!(this instanceof r))throw new TypeError("GeocodedLocation constructor cannot be called as a function.");this.position=null,this.matchType=null,this.placeAttributes={},this.type=null,this.accuracy=null,this.CLASSNAME="GeocodedLocation"}n.d(t,{A:()=>o}),r.prototype={constructor:r};const o=r},6064:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(2710),o=n(1097),i=n(8288),a=n(895),s=n(7966),l=n(6767),c=n(9375);function u(e){if(!(this instanceof u))throw new TypeError(o.A.getMessage("CLASS_CONSTRUCTOR","ReverseGeocode"));this.CLASSNAME="ReverseGeocode",this.logger=r.A.getLogger("Gp.Services.ReverseGeocode"),this.logger.trace("[Constructeur ReverseGeocode (options)]");var t=this.patchOptionConvertor(e);if(t.serverUrl||(t.serverUrl=s.A.ReverseGeocode.newUrl()),a.A.apply(this,[t]),t.searchGeometry)this.options.searchGeometry=t.searchGeometry;else if(!t.position)throw new Error(o.A.getMessage("PARAM_MISSING","searchGeometry"));if(t.index||(this.options.index=t.index="StreetAddress"),t.filters)for(var n=Object.keys(t.filters),i=0;i<n.length;i++){var l=n[i];(void 0===t.filters[l]||"object"==typeof t.filters[l]&&0===Object.keys(t.filters[l]).length||"string"==typeof t.filters[l]&&0===t.filters[l].length||Array.isArray(t.filters[l])&&0===t.filters[l].length)&&delete this.options.filters[l]}this.options.position=t.position,this.options.index=t.index||"StreetAddress",this.options.maximumResponses=t.maximumResponses||20}u.prototype=Object.create(a.A.prototype,{}),u.prototype.constructor=u,u.prototype.patchOptionConvertor=function(e){var t=e;return t.filterOptions&&(this.logger.warn("The parameter 'filterOptions' is deprecated"),t.filterOptions.type&&(this.logger.warn("The parameter 'filterOptions.type' is deprecated"),t.index||(Array.isArray(t.filterOptions.type)&&t.filterOptions.type.length>0?t.index=t.filterOptions.type[0]:t.index=t.filterOptions.type),delete t.filterOptions.type),t.filterOptions.bbox&&(this.logger.warn("The parameter 'filterOptions.bbox' is deprecated"),t.searchGeometry||(t.searchGeometry=this.bbox2Json(t.filterOptions.bbox)),delete t.filterOptions.bbox),t.filterOptions.circle&&(this.logger.warn("The parameter 'filterOptions.circle' is deprecated"),t.searchGeometry||(t.searchGeometry=this.circle2Json(t.filterOptions.circle)),delete t.filterOptions.circle),t.filterOptions.polygon&&(this.logger.warn("The parameter 'filterOptions.polygon' is deprecated"),t.searchGeometry||(t.searchGeometry=this.polygon2Json(t.filterOptions.polygon)),delete t.filterOptions.polygon),!t.filters&&Object.keys(t.filterOptions).length>0&&(t.filters=t.filterOptions),delete t.filterOptions),t.position&&(t.position.x&&(this.logger.warn("The parameter 'position.x' is deprecated"),t.position.lon||(t.position.lon=t.position.x),delete t.position.x),t.position.y&&(this.logger.warn("The parameter 'position.y' is deprecated"),t.position.lat||(t.position.lat=t.position.y),delete t.position.y)),t.srs&&(this.logger.warn("The parameter 'srs' is deprecated"),delete t.srs),t},u.prototype.buildRequest=function(e,t){var n={httpMethod:this.options.httpMethod,geocodeMethod:"reverse",searchGeometry:this.options.searchGeometry,index:this.options.index,position:this.options.position,returnTrueGeometry:this.options.returnTrueGeometry,maxResp:this.options.maximumResponses,filters:this.options.filters};this.request=l.A.build(n),this.request?t.call(this,this.request):e.call(this,new i.A(o.A.getMessage("SERVICE_REQUEST_BUILD")))},u.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this};c.A.build(n)}else e.call(this,new i.A(o.A.getMessage("SERVICE_RESPONSE_EMPTY")))},u.prototype.bbox2Json=function(e){return{type:"Polygon",coordinates:[[[e.left,e.top],[e.right,e.top],[e.right,e.bottom],[e.left,e.bottom],[e.left,e.top]]]}},u.prototype.circle2Json=function(e){return{type:"Circle",radius:e.radius,coordinates:[e.x,e.y]}},u.prototype.polygon2Json=function(e){for(var t={type:"Polygon",coordinates:[[]]},n=0;n<e.length;++n)t.coordinates[0].push([e[n].x,e[n].y]);return t},u.geoEPSG=["EPSG:4326"];const p=u},7180:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(2710),o=n(1097),i=n(8288),a=n(895),s=n(7966),l=n(9721),c=n(8297);function u(e){if(!(this instanceof u))throw new TypeError(o.A.getMessage("CLASS_CONSTRUCTOR","ProcessIsoCurve"));if(this.CLASSNAME="ProcessIsoCurve",a.A.apply(this,arguments),this.logger=r.A.getLogger("Gp.Services.ProcessIsoCurve"),this.logger.trace("[Constructeur ProcessIsoCurve (options)]"),!e.position)throw new Error(o.A.getMessage("PARAM_MISSING","position"));if(null===e.position.x)throw new Error(o.A.getMessage("PARAM_MISSING","position.x"));if(null===e.position.y)throw new Error(o.A.getMessage("PARAM_MISSING","position.y"));if(!e.time&&!e.distance)throw new Error("Parameter (s) 'distance' missing. Parameter time to calculate an isochrone, parameter distance for an isodistance");if(!e.time&&e.distance&&(this.options.method="distance",this.options.time&&delete this.options.time),e.time&&!e.distance&&(this.options.method="time",this.options.distance&&delete this.options.distance),this.options.method=this.options.method||"time",this.options.resource=e.resource||"bdtopo-valhalla",this.options.exclusions=e.exclusions||[],this.options.reverse=e.reverse||!1,this.options.srs=e.srs||"EPSG:4326",this.options.distanceUnit=e.distanceUnit||"m",this.options.timeUnit=e.timeUnit||"second",e.smoothing&&this.logger.warn("options.smoothing is DEPRECATED"),this.options.smoothing=!1,e.holes&&this.logger.warn("options.holes is DEPRECATED"),this.options.holes=!1,e.graph?("Voiture"===e.graph&&(this.options.graph="car"),"Pieton"===e.graph&&(this.options.graph="pedestrian")):this.options.graph="car",this.options.constraints=[],e.constraints){if(!Array.isArray(e.constraints))throw new Error(o.A.getMessage("PARAM_TYPE","constraints"));for(var t=0;t<e.constraints.length;t++)this.options.constraints.push(e.constraints[t])}var n={},i={},l={};if(e.exclusions&&0!==e.exclusions.length){this.logger.warn("options.exclusions is DEPRECATED !!");for(var c=0;c<e.exclusions.length;c++)"string"==typeof e.exclusions[c]&&(e.exclusions[c]=e.exclusions[c].toLowerCase(),"toll"===e.exclusions[c]&&(l.constraintType="banned",l.key="wayType",l.operator="=",l.value="autoroute",this.options.constraints.push(l)),"tunnel"===e.exclusions[c]&&(n.constraintType="banned",n.key="wayType",n.operator="=",n.value="tunnel",this.options.constraints.push(n)),"bridge"===e.exclusions[c]&&(i.constraintType="banned",i.key="wayType",i.operator="=",i.value="pont",this.options.constraints.push(i)))}if(this.options.outputFormat="string"==typeof e.outputFormat?e.outputFormat.toLowerCase():"json",e.outputFormat&&"json"!==e.outputFormat)throw new Error(o.A.getMessage("PARAM_NOT_SUPPORT","outputFormat"));if(this.options.outputFormat="json",!this.options.serverUrl){var p=s.A.ProcessIsoCurve.newUrl();if(!p)throw new Error("Url by default not found !");this.options.serverUrl=p,this.logger.trace("Serveur URL par defaut : "+this.options.serverUrl)}}u.prototype=Object.create(a.A.prototype,{}),u.prototype.constructor=u,u.prototype.buildRequest=function(e,t){try{var n=new l.A(this.options);if(!n.processRequestString())throw new Error(o.A.getMessage("SERVICE_REQUEST_BUILD"));this.request=n.requestString}catch(t){return void e.call(this,new i.A(t.message))}t.call(this,this.request)},u.prototype.analyzeResponse=function(e,t){if(this.response){var n={response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onSuccess:t,onError:e,scope:this};c.A.build(n)}else e.call(this,new i.A(o.A.getMessage("SERVICE_RESPONSE_EMPTY")))};const p=u},9721:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2710),o=n(1097),i=n(527);function a(e){if(this.logger=r.A.getLogger("ProcessIsoCurveRequest"),this.logger.trace("[Constructeur ProcessIsoCurveRequest ()]"),!(this instanceof a))throw new TypeError("ProcessIsoCurveRequest constructor cannot be called as a function.");if(!e)throw new Error(o.A.getMessage("PARAM_EMPTY","options"));this.settings=e,this.mode=this.settings.httpMethod||"GET"}a.prototype={requestString:null,constructor:a,processRequestString:function(){var e="",t=0;switch(this.mode){case"GET":this.logger.trace("Process GET Request");var n=new i.A(this.settings).getParams();for(t=0;t<n.length;t++){var r=n[t];e&&(e+="&"),e+=r.k+"="+r.v}break;case"POST":this.logger.trace("Process POST Request");var o={};o.resource=this.settings.resource,o.point=this.settings.position.x+","+this.settings.position.y,"distance"===this.settings.method?(o.costType="distance",o.costValue=this.settings.distance):(o.costType="time",o.costValue=this.settings.time),o.profile=this.settings.graph,this.settings.reverse?o.direction="arrival":o.direction="departure",o.constraints=this.settings.constraints,o.distanceUnit=this.settings.distanceUnit,o.timeUnit=this.settings.timeUnit,o.crs=this.settings.srs,e=JSON.stringify(o);break;default:this.logger.error("No other HTTP method supported by the service !")}return this.logger.trace(e),this.requestString=e,this.requestString}};const s=a},527:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2710);function o(e){if(!(this instanceof o))throw new TypeError("ProcessIsoCurveParam constructor cannot be called as a function.");this.logger=r.A.getLogger(),this.logger.trace("[Constructeur ProcessIsoCurveParam ()]"),this.options=e||{},this.id=this.options.id,this.resource=this.options.resource,this.point=this.options.position,this.crs=this.options.srs,this.profile=this.options.graph,this.constraints=this.options.constraints,this.reverse=this.options.reverse,this.timeUnit=this.options.timeUnit,this.distanceUnit=this.options.distanceUnit,"distance"===this.options.method?(this.costType="distance",this.costValue=this.options.distance,"m"===this.distanceUnit&&this.costValue>=5e4&&(this.distanceUnit="km",this.costValue/=1e3)):(this.costType="time",this.costValue=this.options.time)}o.CLASSNAME="ProcessIsoCurveParam",o.prototype={constructor:o,getLocation:function(){return this.point.x+","+this.point.y},getDistanceUnit:function(){return"m"===this.distanceUnit?"meter":"km"===this.distanceUnit?"kilometer":""},getConstraints:function(){var e=[];if(0!==this.constraints.length)for(var t=0;t<this.constraints.length;t++)e.push(JSON.stringify(this.constraints[t]));return e.join("|")},getDirection:function(){return this.reverse?"arrival":"departure"}},o.prototype.getParams=function(){var e=[];return e.push({k:"resource",v:this.resource}),e.push({k:"point",v:this.getLocation()}),e.push({k:"direction",v:this.getDirection()}),e.push({k:"costType",v:this.costType}),e.push({k:"costValue",v:this.costValue}),e.push({k:"profile",v:this.profile}),e.push({k:"timeUnit",v:this.timeUnit}),e.push({k:"distanceUnit",v:this.getDistanceUnit()}),this.crs&&e.push({k:"crs",v:this.crs}),this.constraints&&e.push({k:"constraints",v:this.getConstraints()}),e};const i=o},8297:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2710),o=n(1097),i=n(8288),a=n(1489);const s={build:function(e){var t=r.A.getLogger("ProcessIsoCurveResponseFactory");t.trace(["ProcessIsoCurveResponseFactory::build()"]);var n=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),n=e.response;else{var s;if(t.trace("analyze response : json"),s="string"==typeof e.response?JSON.parse(e.response):e.response,n=new a.A,!s)return void e.onError.call(e.scope,new i.A(o.A.getMessage("SERVICE_RESPONSE_ANALYSE",e.response)));"distance"===s.costType?(n.time="",n.distance=s.costValue):(n.time=s.costValue,n.distance=""),n.message="",n.id="",n.srs=s.crs,n.geometry=s.geometry;var l=s.point.split(",");if(n.location&&(n.location.x=l[0],n.location.y=l[1]),n.exceptionReport)return void e.onError.call(e.scope,new i.A({message:o.A.getMessage("SERVICE_RESPONSE_EXCEPTION",n.exceptionReport),type:i.A.TYPE_SRVERR,status:200}))}e.onSuccess.call(e.scope,n)}else e.onError.call(e.scope,new i.A(o.A.getMessage("SERVICE_RESPONSE_EMPTY")))}}},1489:(e,t,n)=>{"use strict";function r(){if(!(this instanceof r))throw new TypeError("ProcessIsoCurveResponse constructor cannot be called as a function.");this.message=null,this.id=null,this.location={},this.location.x=null,this.location.y=null,this.srs=null,this.geometry=null,this.time=null,this.distance=null}n.d(t,{A:()=>o}),r.prototype={constructor:r};const o=r},6759:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2710),o=n(8288),i=n(5851);const a={build:function(e){r.A.getLogger("RouteRequestFactory").trace(["RouteRequestFactory::build()"]);var t=e||{},n=!(null===e.onError||"function"!=typeof e.onError),a=null,s=new i.A(t);if(!s.processRequestString()){if(a="Error process request (rest) !",n)return void e.onError.call(e.scope,new o.A(a));throw new Error(a)}return s.requestString}}},5851:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2710),o=n(1097),i=n(2785);function a(e){if(this.logger=r.A.getLogger("RouteRequestREST"),this.logger.trace("[Constructeur RouteRequestREST ()]"),!(this instanceof a))throw new TypeError("RouteRequestREST constructor cannot be called as a function.");if(!e)throw new Error(o.A.getMessage("PARAM_EMPTY","options"));this.settings=e}a.prototype={requestString:null,constructor:a,processRequestString:function(){this.logger.warn(" PROTOTYPE !");for(var e=new i.A(this.settings).getParams(),t="",n=0;n<e.length;n++){var r=e[n];t&&(t+="&"),t+=r.k+"="+r.v}return this.logger.trace(t),this.requestString=t,this.requestString}};const s=a},2785:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2710);function o(e){if(!(this instanceof o))throw new TypeError("RouteParamREST constructor cannot be called as a function.");this.logger=r.A.getLogger(),this.logger.trace("[Constructeur RouteParamREST ()]"),this.options=e||{},this.resource=this.options.resource,this.start=this.options.startPoint.x+","+this.options.startPoint.y,this.end=this.options.endPoint.x+","+this.options.endPoint.y,this.intermediates=this.options.viaPoints,this.profile=this.options.graph,this.crs=this.options.srs,this.constraints=this.options.constraints,this.optimization=this.options.routePreference,this.getSteps=this.options.geometryInInstructions?"true":"false",this.distanceUnit=this.options.distanceUnit,this.timeUnit=this.options.timeUnit,this.waysAttributes=this.options.waysAttributes}o.CLASSNAME="RouteParamREST",o.prototype={constructor:o,getIntermediates:function(){var e=[];if(0!==this.intermediates.length)for(var t=0;t<this.intermediates.length;t++){var n=this.intermediates[t];e.push(n.x+","+n.y)}return e.join("|")},getWaysAttributes:function(){return this.waysAttributes.join("|")},getProfile:function(){return this.profile},getDistanceUnit:function(){return"m"===this.distanceUnit?"meter":"km"===this.distanceUnit?"kilometer":""},getOptimization:function(){return this.optimization?this.optimization:""},getConstraints:function(){var e=[];if(0!==this.constraints.length)for(var t=0;t<this.constraints.length;t++)e.push(JSON.stringify(this.constraints[t]));return e.join("|")}},o.prototype.getParams=function(){var e=[];return e.push({k:"resource",v:this.resource}),e.push({k:"start",v:this.start}),e.push({k:"end",v:this.end}),e.push({k:"geometryFormat",v:"geojson"}),this.optimization&&e.push({k:"optimization",v:this.getOptimization()}),this.intermediates&&e.push({k:"intermediates",v:this.getIntermediates()}),this.profile&&e.push({k:"profile",v:this.getProfile()}),this.constraints&&e.push({k:"constraints",v:this.getConstraints()}),this.crs&&e.push({k:"crs",v:this.crs}),this.distanceUnit&&e.push({k:"distanceUnit",v:this.getDistanceUnit()}),this.timeUnit&&e.push({k:"timeUnit",v:this.timeUnit}),this.waysAttributes&&e.push({k:"waysAttributes",v:this.getWaysAttributes()}),e};const i=o},3753:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(2710),o=n(1097),i=n(8288),a=n(2993),s=n(7868);const l={build:function(e){var t=r.A.getLogger("RouteResponseFactory");t.trace("RouteResponseFactory::build()");var n=null;if(e.response){if(e.rawResponse)t.trace("analyze response : raw"),n=e.response;else{var l;if(t.trace("analyze response : json"),l="string"==typeof e.response?JSON.parse(e.response):e.response){if(l.message)return void e.onError.call(e.scope,new i.A(o.A.getMessage("SERVICE_RESPONSE_EXCEPTION",l.message)));var c=[],u=[],p=[];if((n=new a.A).hasOwnProperty("totalTime")&&(n.totalTime=parseFloat(l.duration)),n.hasOwnProperty("totalDistance")&&(n.totalDistance=parseFloat(l.distance)),n.hasOwnProperty("bbox")&&(n.bbox.left=parseFloat(l.bbox[0]),n.bbox.bottom=parseFloat(l.bbox[1]),n.bbox.right=parseFloat(l.bbox[2]),n.bbox.top=parseFloat(l.bbox[3])),n.hasOwnProperty("routeGeometry")&&!e.geometryInInstructions&&(n.routeGeometry=l.geometry),n.hasOwnProperty("routeInstructions")&&e.geometryInInstructions){var d,h=l.portions;if(Array.isArray(h)&&h.length)for(d=0;d<h.length;d++)c.push(h[d]);if(c.length)for(d=0;d<c.length;d++)u.push(c[d].steps);if(u.length)for(d=0;d<u.length;d++)p=p.concat(u[d]);p.forEach((function(e){switch(n.routeInstructions.push(new s.A),n.routeInstructions[n.routeInstructions.length-1].duration=e.duration,n.routeInstructions[n.routeInstructions.length-1].distance=e.distance,n.routeInstructions[n.routeInstructions.length-1].code="",n.routeInstructions[n.routeInstructions.length-1].instruction="",n.routeInstructions[n.routeInstructions.length-1].geometry=e.geometry,"Valeur non renseignÃ©e"===e.name&&(e.name=""),e.instruction.type){case"turn":n.routeInstructions[n.routeInstructions.length-1].instruction+="Tourner";break;case"new name":n.routeInstructions[n.routeInstructions.length-1].instruction+="Continuer tout droit";break;case"depart":n.routeInstructions[n.routeInstructions.length-1].instruction+="DÃ©part";break;case"arrive":n.routeInstructions[n.routeInstructions.length-1].instruction+="ArrivÃ©e";break;case"merge":n.routeInstructions[n.routeInstructions.length-1].instruction+="Rejoindre";break;case"ramp":case"on ramp":n.routeInstructions[n.routeInstructions.length-1].instruction+="Prendre la bretelle";break;case"off ramp":n.routeInstructions[n.routeInstructions.length-1].instruction+="Prendre la sortie";break;case"fork":n.routeInstructions[n.routeInstructions.length-1].instruction+="Sur la bifurcation, prendre";break;case"end of road":n.routeInstructions[n.routeInstructions.length-1].instruction+="Ã€ la fin de la route, prendre";break;case"use lane":n.routeInstructions[n.routeInstructions.length-1].instruction+="Utiliser la file";break;case"continue":n.routeInstructions[n.routeInstructions.length-1].instruction+="Continuer";break;case"roundabout":case"rotary":n.routeInstructions[n.routeInstructions.length-1].instruction+="Au rond-point";break;case"roundabout turn":n.routeInstructions[n.routeInstructions.length-1].instruction+="Au rond point, tourner";break;case"notification":n.routeInstructions[n.routeInstructions.length-1].instruction+="";break;default:n.routeInstructions[n.routeInstructions.length-1].instruction+="?"+e.instruction.type+"?"}if(e.instruction.modifier)switch(e.instruction.modifier){case"uturn":n.routeInstructions[n.routeInstructions.length-1].instruction="Faire demi-tour";break;case"sharp right":n.routeInstructions[n.routeInstructions.length-1].instruction+=" complÃ¨tement Ã  droite";break;case"right":n.routeInstructions[n.routeInstructions.length-1].instruction+=" Ã  droite";break;case"slight right":n.routeInstructions[n.routeInstructions.length-1].instruction+=" lÃ©gÃ¨rement Ã  droite";break;case"straight":n.routeInstructions[n.routeInstructions.length-1].instruction="Continuer tout droit";break;case"slight left":n.routeInstructions[n.routeInstructions.length-1].instruction+=" lÃ¨gÃ¨rement Ã  gauche";break;case"left":n.routeInstructions[n.routeInstructions.length-1].instruction+=" Ã  gauche";break;case"sharp left":n.routeInstructions[n.routeInstructions.length-1].instruction+=" complÃ¨tement Ã  gauche";break;default:n.routeInstructions[n.routeInstructions.length-1].instruction+=" ?"+e.instruction.modifier+"?"}e.instruction.exit&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=`${e.instruction.exit}e sortie`),e.attributes.name&&((e.attributes.name.nom_1_droite||e.attributes.name.toponyme)&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=" sur"),e.attributes.name.nom_1_droite&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=` ${e.attributes.name.nom_1_droite}`),e.attributes.name.toponyme&&(n.routeInstructions[n.routeInstructions.length-1].instruction+=` ${e.attributes.name.toponyme}`))}))}}if(!n)return void e.onError.call(e.scope,new i.A(o.A.getMessage("SERVICE_RESPONSE_ANALYSE","json")));if(n.exceptionReport)return void e.onError.call(e.scope,new i.A(o.A.getMessage("SERVICE_RESPONSE_EXCEPTION_2")))}e.onSuccess.call(e.scope,n)}else e.onError.call(e.scope,new i.A(o.A.getMessage("SERVICE_RESPONSE_EMPTY")))}}},7868:(e,t,n)=>{"use strict";function r(){if(!(this instanceof r))throw new TypeError("RouteInstruction constructor cannot be called as a function.");this.duration=null,this.distance=null,this.code=null,this.instruction=null,this.geometry=null}n.d(t,{A:()=>o}),r.prototype={constructor:r};const o=r},2993:(e,t,n)=>{"use strict";function r(){if(!(this instanceof r))throw new TypeError("RouteResponse constructor cannot be called as a function.");this.totalTime=null,this.totalDistance=null,this.bbox={left:null,right:null,top:null,bottom:null},this.routeGeometry=null,this.routeInstructions=[]}n.d(t,{A:()=>o}),r.prototype={constructor:r};const o=r},7372:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(2710),o=n(1097),i=n(8288),a=n(895),s=n(7966),l=n(6759),c=n(3753);function u(e){if(!(this instanceof u))throw new TypeError(o.A.getMessage("CLASS_CONSTRUCTOR","Route"));if(this.CLASSNAME="Route",a.A.apply(this,arguments),this.logger=r.A.getLogger("Gp.Services.Route"),this.logger.trace("[Constructeur Route (options)]"),!e.startPoint)throw new Error(o.A.getMessage("PARAM_MISSING","startPoint"));if(null===e.startPoint.x)throw new Error(o.A.getMessage("PARAM_MISSING","startPoint.x"));if(null===e.startPoint.y)throw new Error(o.A.getMessage("PARAM_MISSING","startPoint.y"));if(!e.endPoint)throw new Error(o.A.getMessage("PARAM_MISSING","endPoint"));if(null===e.endPoint.x)throw new Error(o.A.getMessage("PARAM_MISSING","endPoint.x"));if(null===e.endPoint.y)throw new Error(o.A.getMessage("PARAM_MISSING","endPoint.y"));if(e.outputFormat&&"json"!==e.outputFormat&&this.logger.warn("options.outputFormat could only be json"),this.options.outputFormat="json",this.options.resource=e.resource||"bdtopo-osrm",this.options.startPoint=e.startPoint,this.options.endPoint=e.endPoint,this.options.viaPoints=e.viaPoints||[],this.options.routePreference=e.routePreference||"fastest",e.graph?("Voiture"===e.graph&&(this.options.graph="car"),"Pieton"===e.graph&&(this.options.graph="pedestrian")):this.options.graph="car",this.options.constraints=[],e.constraints){if(!Array.isArray(e.constraints))throw new Error(o.A.getMessage("PARAM_TYPE","constraints"));for(var t=0;t<e.constraints.length;t++)this.options.constraints.push(e.constraints[t])}var n={},i={},l={};if(e.exclusions&&0!==e.exclusions.length){this.logger.warn("options.exclusions is DEPRECATED !!");for(var c=0;c<e.exclusions.length;c++)"string"==typeof e.exclusions[c]&&(e.exclusions[c]=e.exclusions[c].toLowerCase(),"toll"===e.exclusions[c]&&(l.constraintType="banned",l.key="wayType",l.operator="=",l.value="autoroute",this.options.constraints.push(l)),"tunnel"===e.exclusions[c]&&(n.constraintType="banned",n.key="wayType",n.operator="=",n.value="tunnel",this.options.constraints.push(n)),"bridge"===e.exclusions[c]&&(i.constraintType="banned",i.key="wayType",i.operator="=",i.value="pont",this.options.constraints.push(i)))}if(this.options.geometryInInstructions=e.geometryInInstructions||!1,this.options.provideBbox=e.provideBbox||!0,this.options.distanceUnit=e.distanceUnit||"m",this.options.timeUnit=e.timeUnit||"second",this.options.expectedStartTime=null,this.options.srs=e.srs||"EPSG:4326",this.options.waysAttributes=e.waysAttributes||[],!this.options.serverUrl){var p=s.A.Route.newUrl();if(!p)throw new Error("Url by default not found !");this.options.serverUrl=p,this.logger.trace("Serveur URL par defaut : "+this.options.serverUrl)}}u.prototype=Object.create(a.A.prototype,{}),u.prototype.constructor=u,u.prototype.buildRequest=function(e,t){var n={resource:this.options.resource,startPoint:this.options.startPoint,endPoint:this.options.endPoint,viaPoints:this.options.viaPoints,provideBbox:this.options.provideBbox,constraints:this.options.constraints,distanceUnit:this.options.distanceUnit,timeUnit:this.options.timeUnit,graph:this.options.graph,geometryInInstructions:this.options.geometryInInstructions,routePreference:this.options.routePreference,srs:this.options.srs,waysAttributes:this.options.waysAttributes};this.request=l.A.build(n),this.request?t.call(this,this.request):e.call(this,new i.A(o.A.getMessage("SERVICE_REQUEST_BUILD")))},u.prototype.analyzeResponse=function(e,t){if(this.response){var n={distanceUnit:this.options.distanceUnit,timeUnit:this.options.timeUnit,response:this.response,outputFormat:this.options.outputFormat,rawResponse:this.options.rawResponse,onError:e,onSuccess:t,scope:this,geometryInInstructions:this.options.geometryInInstructions};c.A.build(n)}else e.call(this,new i.A(o.A.getMessage("SERVICE_RESPONSE_EMPTY")))};const p=u},3255:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(4154),o=n(2366),i=n(1520),a=n(6064),s=n(9338),l=n(7372),c=n(7180);const u={getConfig:function(e){new r.A(e).call()},getAltitude:function(e){new o.A(e).call()},geocode:function(e){new i.A(e).call()},reverseGeocode:function(e){new a.A(e).call()},autoComplete:function(e){new s.A(e).call()},route:function(e){new l.A(e).call()},isoCurve:function(e){new c.A(e).call()}}},3474:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={normalyzeParameters:function(e){var t=null;if(e){var n=[];for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];o||(o=""),n.push(r+"="+o)}t=n.join("&")}return t},normalyzeUrl:function(e,t,n){var r=e;if(e){if(e.split("?").length-1>=2){var o=e.search(/\?/)+1;r=e.substring(0,o)+e.slice(o).replace(/\?/g,"&")}var i=e.indexOf("?");-1===i&&(r+="?"),-1!==i&&i!==e.length-1&&(r+="&")}return t&&(r+="string"==typeof t?t=t.replace("?",""):this.normalyzeParameters(t)),n&&(r=encodeURIComponent(r)),r},indent:function(e,t){return new Array((e||0)+1).join("\t")+t}}},2710:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(3065);const o={getLogger:function(e){if(void 0===t)var t={env:{VERBOSE:!1}};t.env.VERBOSE?r.enableAll():r.disableAll();var n=e||"default";return r.getLogger(n)}}},1097:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={PARAM_MISSING:"Parameter(s) '%var%' missing",PARAM_EMPTY:"Parameter(s) '%var%' empty",PARAM_TYPE:"Wrong type(s) for parameter(s) '%var%'",PARAM_FORMAT:"Parameter(s) '%var%' not correctly formatted",PARAM_NOT_SUPPORT:"Value(s) for parameter(s) '%var%' not supported",PARAM_NOT_SUPPORT_NODEJS:"Value(s) for parameter(s) '%var%' not supported to NodeJS",PARAM_UNKNOWN:"Value(s) for parameter(s) '%var%' unknown",SERVICE_REQUEST_BUILD:"An error occurred during the request building of the service",SERVICE_REQUEST_EMPTY:"The request sent to the service is empty",SERVICE_RESPONSE_EXCEPTION:"The service returned an exception : '%var%'",SERVICE_RESPONSE_EXCEPTION_2:"The service returned an exception",SERVICE_RESPONSE_ANALYSE:"An error occurred while parsing the response '%var%' of the service",SERVICE_RESPONSE_ANALYSE_2:"An unknown error occurred while parsing the response",SERVICE_RESPONSE_EMPTY:"The response of the service is empty",SERVICE_RESPONSE_EMPTY_2:"The response from the service could not be analyzed or is empty",SERVICE_RESPONSE_FORMAT:"The format of the service response is not supported (handled format(s) : '%var%')",SERVICE_RESPONSE_FORMAT_2:"The format of the service response is not supported",SERVICE_RESPONSE_FORMAT_3:"No suggestion matching the search",CLASS_CONSTRUCTOR:"'%var%' constructor cannot be called as a function.",getMessage:function(e,t){if(0===Object.keys(arguments).length)return"Message indefined !";var n=Array.prototype.slice.call(arguments),r=n.shift(),o=n,i=this[r];try{i=Array.isArray(o)&&o.length>0?i.replace("%var%",o.join(" - ")):i.replace("%var%","%var% (not specified)")}catch(e){}return i}}},3065:function(e,t,n){var r,o;!function(){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],o={},i=null;function a(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?s:void 0!==console[r]?a(console,r):void 0!==console.log?a(console,"log"):e)}function c(){for(var n=this.getLevel(),o=0;o<r.length;o++){var i=r[o];this[i]=o<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function u(e){return function(){typeof console!==t&&(c.call(this),this[e].apply(this,arguments))}}function p(e,t,n){return l(e)||u.apply(this,arguments)}function d(e,n){var a,s,l,u=this,d="loglevel";function h(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&d){try{return void(window.localStorage[d]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+n+";"}catch(e){}}}function g(){var e;if(typeof window!==t&&d){try{e=window.localStorage[d]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=encodeURIComponent(d),o=n.indexOf(r+"=");-1!==o&&(e=/^([^;]+)/.exec(n.slice(o+r.length+1))[1])}catch(e){}return void 0===u.levels[e]&&(e=void 0),e}}function f(){if(typeof window!==t&&d){try{window.localStorage.removeItem(d)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}function m(e){var t=e;if("string"==typeof t&&void 0!==u.levels[t.toUpperCase()]&&(t=u.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=u.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),u.name=e,u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=n||p,u.getLevel=function(){return null!=l?l:null!=s?s:a},u.setLevel=function(e,t){return l=m(e),!1!==t&&h(l),c.call(u)},u.setDefaultLevel=function(e){s=m(e),g()||u.setLevel(e,!1)},u.resetLevel=function(){l=null,f(),c.call(u)},u.enableAll=function(e){u.setLevel(u.levels.TRACE,e)},u.disableAll=function(e){u.setLevel(u.levels.SILENT,e)},u.rebuild=function(){if(i!==u&&(a=m(i.getLevel())),c.call(u),i===u)for(var e in o)o[e].rebuild()},a=m(i?i.getLevel():"WARN");var y=g();null!=y&&(l=m(y)),c.call(u)}(i=new d).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new d(e,i.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=h),i},i.getLoggers=function(){return o},i.default=i,i},void 0===(o="function"==typeof r?r.call(t,n,t,e):r)||(e.exports=o)}()},3092:(e,t,n)=>{"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},9972:e=>{"use strict";e.exports=ol.Feature},1363:e=>{"use strict";e.exports=ol.Observable},5370:e=>{"use strict";e.exports=ol.Overlay},7392:e=>{"use strict";e.exports=ol.control.Control},2938:e=>{"use strict";e.exports=ol.extent},7304:e=>{"use strict";e.exports=ol.format.GeoJSON},5074:e=>{"use strict";e.exports=ol.interaction},996:e=>{"use strict";e.exports=ol.layer.Vector},9201:e=>{"use strict";e.exports=ol.proj},3668:e=>{"use strict";e.exports=ol.source.Vector},2999:e=>{"use strict";e.exports=ol.style},2423:e=>{"use strict";e.exports=ol.style.Circle},7158:e=>{"use strict";e.exports=ol.style.Fill},86:e=>{"use strict";e.exports=ol.style.Icon},7195:e=>{"use strict";e.exports=ol.style.Stroke},5576:e=>{"use strict";e.exports=ol.style.Style},9464:e=>{"use strict";e.exports=ol.style.Text},9032:e=>{"use strict";e.exports=JSON.parse('{"rE":"3.4.3","p6":"21/08/2024"}')}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{"use strict";n.d(r,{default:()=>Qi});var e=n(562),t=n(1363);const o=ol.Collection;var i=n.n(o),a=n(9972),s=n.n(a);const l=ol.tilegrid.WMTS;var c=n.n(l),u=n(9201);const p=ol.format.MVT;var d=n.n(p);const h=ol.format.WMSCapabilities;var g=n.n(h);const f=ol.format.WMTSCapabilities;var m=n.n(f);const y=ol.layer.VectorTile;var v=n.n(y),C=n(996),I=n.n(C);const A=ol.layer.Tile;var b=n.n(A);const E=ol.source.VectorTile;var w=n.n(E),_=n(3668),P=n.n(_);const S=ol.source.TileWMS;var x=n.n(S);const T=ol.source.WMTS;var k=n.n(T);const R=ol.source.TileJSON;var N=n.n(R),L=n(2999),O=n(2423),D=n(7158),M=n(86);new Array(6);function G(e,t,n,r,o,i,a,s){const l=Math.sin(i),c=Math.cos(i);return e[0]=r*c,e[1]=o*l,e[2]=-r*l,e[3]=o*c,e[4]=a*r*c-s*r*l+t,e[5]=a*o*l+s*o*c+n,e}function U(e,t,n,r,o){return o?(o[0]=e,o[1]=t,o[2]=n,o[3]=r,o):[e,t,n,r]}function B(e){return U(1/0,1/0,-1/0,-1/0,e)}function F(e,t,n,r,o){return function(e,t,n,r,o){for(;n<r;n+=o)j(e,t[n],t[n+1]);return e}(B(o),e,t,n,r)}function j(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function q(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function z(e){return e[3]-e[1]}function H(e,t,n,r,o,i){const a=o-n,s=i-r;if(0!==a||0!==s){const l=((e-n)*a+(t-r)*s)/(a*a+s*s);l>1?(n=o,r=i):l>0&&(n+=a*l,r+=s*l)}return function(e,t,n,r){const o=n-e,i=r-t;return o*o+i*i}(e,t,n,r)}function V(e,t,n,r,o,i,a){const s=(n-t)/r;if(s<3){for(;t<n;t+=r)i[a++]=e[t],i[a++]=e[t+1];return a}const l=new Array(s);l[0]=1,l[s-1]=1;const c=[t,n-r];let u=0;for(;c.length>0;){const n=c.pop(),i=c.pop();let a=0;const s=e[i],p=e[i+1],d=e[n],h=e[n+1];for(let t=i+r;t<n;t+=r){const n=H(e[t],e[t+1],s,p,d,h);n>a&&(u=t,a=n)}a>o&&(l[(u-t)/r]=1,i+r<u&&c.push(i,u),u+r<n&&c.push(u,n))}for(let n=0;n<s;++n)l[n]&&(i[a++]=e[t+n*r],i[a++]=e[t+n*r+1]);return a}function Y(e,t,n,r,o,i,a,s){for(let l=0,c=n.length;l<c;++l){const c=n[l];a=V(e,t,c,r,o,i,a),s.push(a),t=c}return a}function W(e,t){return t*Math.round(e/t)}function X(e,t,n,r,o,i,a){if(t==n)return a;let s,l,c=W(e[t],o),u=W(e[t+1],o);t+=r,i[a++]=c,i[a++]=u;do{if(s=W(e[t],o),l=W(e[t+1],o),(t+=r)==n)return i[a++]=s,i[a++]=l,a}while(s==c&&l==u);for(;t<n;){const n=W(e[t],o),p=W(e[t+1],o);if(t+=r,n==s&&p==l)continue;const d=s-c,h=l-u,g=n-c,f=p-u;d*f==h*g&&(d<0&&g<d||d==g||d>0&&g>d)&&(h<0&&f<h||h==f||h>0&&f>h)?(s=n,l=p):(i[a++]=s,i[a++]=l,c=s,u=l,s=n,l=p)}return i[a++]=s,i[a++]=l,a}function Z(e,t,n,r,o,i,a,s){for(let l=0,c=n.length;l<c;++l){const c=n[l];a=X(e,t,c,r,o,i,a),s.push(a),t=c}return a}function J(e,t){return e>t?1:e<t?-1:0}function K(e,t){const n=Array.isArray(t)?t:[t],r=n.length;for(let t=0;t<r;t++)e[e.length]=n[t]}function Q(e,t,n,r,o,i){let a=0,s=e[n-r],l=e[n-r+1];for(;t<n;t+=r){const n=e[t],r=e[t+1];l<=i?r>i&&(n-s)*(i-l)-(o-s)*(r-l)>0&&a++:r<=i&&(n-s)*(i-l)-(o-s)*(r-l)<0&&a--,s=n,l=r}return 0!==a}function $(e,t,n,r,o,i){if(0===n.length)return!1;if(!Q(e,t,n[0],r,o,i))return!1;for(let t=1,a=n.length;t<a;++t)if(Q(e,n[t-1],n[t],r,o,i))return!1;return!0}function ee(e,t,n,r,o,i,a){let s,l,c,u,p,d,h;const g=o[i+1],f=[];for(let o=0,i=n.length;o<i;++o){const i=n[o];for(u=e[i-r],d=e[i-r+1],s=t;s<i;s+=r)p=e[s],h=e[s+1],(g<=d&&h<=g||d<=g&&g<=h)&&(c=(g-d)/(h-d)*(p-u)+u,f.push(c)),u=p,d=h}let m=NaN,y=-1/0;for(f.sort(J),u=f[0],s=1,l=f.length;s<l;++s){p=f[s];const o=Math.abs(p-u);o>y&&(c=(u+p)/2,$(e,t,n,r,c,g)&&(m=c,y=o)),u=p}return isNaN(m)&&(m=o[i]),a?(a.push(m,g,y),a):[m,g,y]}const te={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};const ne=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||te[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},re=6378137,oe=Math.PI*re,ie=[-oe,-oe,oe,oe],ae=[-180,-85,180,85],se=re*Math.log(Math.tan(Math.PI/2));class le extends ne{constructor(e){super({code:e,units:"m",extent:ie,global:!0,worldExtent:ae,getPointResolution:function(e,t){return e/Math.cosh(t[1]/re)}})}}const ce=[new le("EPSG:3857"),new le("EPSG:102100"),new le("EPSG:102113"),new le("EPSG:900913"),new le("http://www.opengis.net/def/crs/EPSG/0/3857"),new le("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ue(e,t,n){const r=e.length;n=n>1?n:2,void 0===t&&(t=n>2?e.slice():new Array(r));for(let o=0;o<r;o+=n){t[o]=oe*e[o]/180;let n=re*Math.log(Math.tan(Math.PI*(+e[o+1]+90)/360));n>se?n=se:n<-se&&(n=-se),t[o+1]=n}return t}function pe(e,t,n){const r=e.length;n=n>1?n:2,void 0===t&&(t=n>2?e.slice():new Array(r));for(let o=0;o<r;o+=n)t[o]=180*e[o]/oe,t[o+1]=360*Math.atan(Math.exp(e[o+1]/re))/Math.PI-90;return t}const de=[-180,-90,180,90],he=6378137*Math.PI/180;class ge extends ne{constructor(e,t){super({code:e,units:"degrees",extent:de,axisOrientation:t,global:!0,metersPerUnit:he,worldExtent:de})}}const fe=[new ge("CRS:84"),new ge("EPSG:4326","neu"),new ge("urn:ogc:def:crs:OGC:1.3:CRS84"),new ge("urn:ogc:def:crs:OGC:2:84"),new ge("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new ge("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ge("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let me={};let ye={};function ve(e,t,n){const r=e.getCode(),o=t.getCode();r in ye||(ye[r]={}),ye[r][o]=n}function Ce(e,t){if(void 0!==t)for(let n=0,r=e.length;n<r;++n)t[n]=e[n];else t=e.slice();return t}function Ie(e){!function(e,t){me[e]=t}(e.getCode(),e),ve(e,e,Ce)}function Ae(e){return"string"==typeof e?me[t=e]||me[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:e||null;var t}function be(e){!function(e){e.forEach(Ie)}(e),e.forEach((function(t){e.forEach((function(e){t!==e&&ve(t,e,Ce)}))}))}var Ee,we,_e;function Pe(e,t,n,r){let o=0,i=e[n-r],a=e[n-r+1];for(;t<n;t+=r){const n=e[t],r=e[t+1];o+=(n-i)*(r+a),i=n,a=r}return 0===o?void 0:o>0}function Se(e,t,n,r,o,i,a){let s,l;const c=(n-t)/r;if(1===c)s=t;else if(2===c)s=t,l=o;else if(0!==c){let i=e[t],a=e[t+1],c=0;const u=[0];for(let o=t+r;o<n;o+=r){const t=e[o],n=e[o+1];c+=Math.sqrt((t-i)*(t-i)+(n-a)*(n-a)),u.push(c),i=t,a=n}const p=o*c,d=function(e,t,n){let r,o;n=n||J;let i=0,a=e.length,s=!1;for(;i<a;)r=i+(a-i>>1),o=+n(e[r],t),o<0?i=r+1:(a=r,s=!o);return s?i:~i}(u,p);d<0?(l=(p-u[-d-2])/(u[-d-1]-u[-d-2]),s=t+(-d-2)*r):s=t+d*r}a=a>1?a:2,i=i||new Array(a);for(let t=0;t<a;++t)i[t]=void 0===s?NaN:void 0===l?e[s+t]:(u=e[s+t],p=e[s+r+t],u+l*(p-u));var u,p;return i}be(ce),be(fe),Ee=ce,we=ue,_e=pe,fe.forEach((function(e){Ee.forEach((function(t){ve(e,t,we),ve(t,e,_e)}))}));const xe=[1,0,0,1,0,0];class Te{constructor(e,t,n,r,o,i){this.styleFunction,this.extent_,this.id_=i,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?function(e,t){const n=e[0],r=e[1];return U(n,r,n,r,t)}(this.flatCoordinates_):F(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=q(this.getExtent());this.flatInteriorPoints_=ee(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=function(e,t){const n=[];let r,o=0,i=0;for(let a=0,s=t.length;a<s;++a){const s=t[a],l=Pe(e,o,s,2);if(void 0===r&&(r=l),l===r)n.push(t.slice(i,a+1));else{if(0===n.length)continue;n[n.length-1].push(t[i])}i=a+1,o=s}return n}(this.flatCoordinates_,this.ends_),t=function(e,t,n,r){const o=[];let i=[1/0,1/0,-1/0,-1/0];for(let a=0,s=n.length;a<s;++a){const s=n[a];i=F(e,t,s[0],r),o.push((i[0]+i[2])/2,(i[1]+i[3])/2),t=s[s.length-1]}return o}(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=function(e,t,n,r,o){let i=[];for(let a=0,s=n.length;a<s;++a){const s=n[a];i=ee(e,t,s,r,o,2*a,i),t=s[s.length-1]}return i}(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Se(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const n=this.ends_;for(let r=0,o=n.length;r<o;++r){const o=n[r],i=Se(e,t,o,2,.5);K(this.flatMidpoints_,i),t=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){const t=(e=Ae(e)).getExtent(),n=e.getWorldExtent();if(t&&n){const e=z(n)/z(t);G(xe,n[0],n[3],e,-e,0,0,0),function(e,t,n,r,o,i){i=i||[];let a=0;for(let s=t;s<n;s+=r){const t=e[s],n=e[s+1];i[a++]=o[0]*t+o[2]*n+o[4],i[a++]=o[1]*t+o[3]*n+o[5]}i&&i.length!=a&&(i.length=a)}(this.flatCoordinates_,0,this.flatCoordinates_.length,2,xe,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new Te(this.type_,this.flatCoordinates_.slice(),this.ends_.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=function(e){let t,n,r,o=!1;return function(){const i=Array.prototype.slice.call(arguments);return o&&this===r&&function(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}(i,n)||(o=!0,r=this,n=i,t=e.apply(this,arguments)),t}}(((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const n=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":n.length=V(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,n,0),r=[n.length];break;case"MultiLineString":r=[],n.length=Y(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,n,0,r);break;case"Polygon":r=[],n.length=Z(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),n,0,r)}return r&&(this.simplifiedGeometry_=new Te(this.type_,n,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_})),this}}Te.prototype.getFlatCoordinates=Te.prototype.getOrientedFlatCoordinates;const ke=Te;var Re=n(7195),Ne=n(5576),Le=n(9464);const Oe=ol.functions,De=ol.render.canvas,Me=ol.TileState,Ge=ol.tileurlfunction,Ue=ol.util;var Be=n(7304);ol.layer.Image,ol.layer.Layer,ol.layer.Group,ol.Map,ol.source.Raster,ol.source.Source;const Fe=ol.tilegrid.TileGrid,je=(ol.View,ol.proj.Units),qe=ol.loadingstrategy,ze=ol.tilegrid;var He=n(2938);ol.events.Event;function Ve(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ye,We={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Xe(e){return(e=Math.round(e))<0?0:e>255?255:e}function Ze(e){return e<0?0:e>1?1:e}function Je(e){return"%"===e[e.length-1]?Xe(parseFloat(e)/100*255):Xe(parseInt(e))}function Ke(e){return"%"===e[e.length-1]?Ze(parseFloat(e)/100):Ze(parseFloat(e))}function Qe(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{Ye={}.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in We)return We[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var r=n.indexOf("("),o=n.indexOf(")");if(-1!==r&&o+1===n.length){var i=n.substr(0,r),a=n.substr(r+1,o-(r+1)).split(","),s=1;switch(i){case"rgba":if(4!==a.length)return null;s=Ke(a.pop());case"rgb":return 3!==a.length?null:[Je(a[0]),Je(a[1]),Je(a[2]),s];case"hsla":if(4!==a.length)return null;s=Ke(a.pop());case"hsl":if(3!==a.length)return null;var l=(parseFloat(a[0])%360+360)%360/360,c=Ke(a[1]),u=Ke(a[2]),p=u<=.5?u*(c+1):u+c-u*c,d=2*u-p;return[Xe(255*Qe(d,p,l+1/3)),Xe(255*Qe(d,p,l)),Xe(255*Qe(d,p,l-1/3)),s];default:return null}}return null}}catch(Wi){}class $e{constructor(e,t,n,r=1){this.r=e,this.g=t,this.b=n,this.a=r}static parse(e){if(!e)return;if(e instanceof $e)return e;if("string"!=typeof e)return;const t=Ye(e);return t?new $e(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,n,r]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(n)},${r})`}toArray(){const{r:e,g:t,b:n,a:r}=this;return 0===r?[0,0,0,0]:[255*e/r,255*t/r,255*n/r,r]}toArray01(){const{r:e,g:t,b:n,a:r}=this;return 0===r?[0,0,0,0]:[e/r,t/r,n/r,r]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:n,a:r}=this;return[e,t,n,r]}}$e.black=new $e(0,0,0,1),$e.white=new $e(1,1,1,1),$e.transparent=new $e(0,0,0,0),$e.red=new $e(1,0,0,1),$e.blue=new $e(0,0,1,1);var et=$e;function tt(e){return"object"==typeof e?["literal",e]:e}function nt(e,t){let n=e.stops;if(!n)return function(e,t){const n=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",n]:n;if("enum"===t.type)return["match",n,Object.keys(t.values),n,e.default];{const r=["color"===t.type?"to-color":t.type,n,tt(e.default)];return"array"===t.type&&r.splice(1,0,t.value,t.length||null),r}}(e,t);const r=n&&"object"==typeof n[0][0],o=r||void 0!==e.property,i=r||!o;return n=n.map((e=>!o&&t.tokens&&"string"==typeof e[1]?[e[0],ct(e[1])]:[e[0],tt(e[1])])),r?function(e,t,n){const r={},o={},i=[];for(let t=0;t<n.length;t++){const a=n[t],s=a[0].zoom;void 0===r[s]&&(r[s]={zoom:s,type:e.type,property:e.property,default:e.default},o[s]=[],i.push(s)),o[s].push([a[0].value,a[1]])}const a=lt({},t);if("exponential"===a){const n=[rt(e),["linear"],["zoom"]];for(const e of i){st(n,e,it(r[e],t,o[e]),!1)}return n}{const e=["step",["zoom"]];for(const n of i){st(e,n,it(r[n],t,o[n]),!0)}return at(e),e}}(e,t,n):i?function(e,t,n,r=["zoom"]){const o=lt(e,t);let i,a=!1;if("interval"===o)i=["step",r],a=!0;else{if("exponential"!==o)throw new Error(`Unknown zoom function type "${o}"`);{const t=void 0!==e.base?e.base:1;i=[rt(e),1===t?["linear"]:["exponential",t],r]}}for(const e of n)st(i,e[0],e[1],a);return at(i),i}(e,t,n):it(e,t,n)}function rt(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function ot(e,t){const n=tt((r=e.default,o=t.default,void 0!==r?r:void 0!==o?o:void 0));var r,o;return void 0===n&&"resolvedImage"===t.type?"":n}function it(e,t,n){const r=lt(e,t),o=["get",e.property];if("categorical"===r&&"boolean"==typeof n[0][0]){const r=["case"];for(const e of n)r.push(["==",o,e[0]],e[1]);return r.push(ot(e,t)),r}if("categorical"===r){const r=["match",o];for(const e of n)st(r,e[0],e[1],!1);return r.push(ot(e,t)),r}if("interval"===r){const t=["step",["number",o]];for(const e of n)st(t,e[0],e[1],!0);return at(t),void 0===e.default?t:["case",["==",["typeof",o],"number"],t,tt(e.default)]}if("exponential"===r){const t=void 0!==e.base?e.base:1,r=[rt(e),1===t?["linear"]:["exponential",t],["number",o]];for(const e of n)st(r,e[0],e[1],!1);return void 0===e.default?r:["case",["==",["typeof",o],"number"],r,tt(e.default)]}throw new Error(`Unknown property function type ${r}`)}function at(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function st(e,t,n,r){e.length>3&&t===e[e.length-2]||(r&&2===e.length||e.push(t),e.push(n))}function lt(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function ct(e){const t=["concat"],n=/{([^{}]+)}/g;let r=0;for(let o=n.exec(e);null!==o;o=n.exec(e)){const i=e.slice(r,n.lastIndex-o[0].length);r=n.lastIndex,i.length>0&&t.push(i),t.push(["get",o[1]])}if(1===t.length)return e;if(r<e.length)t.push(e.slice(r));else if(2===t.length)return["to-string",t[1]];return t}class ut extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var pt=ut;class dt{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,n]of t)this.bindings[e]=n}concat(e){return new dt(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var ht=dt;const gt={kind:"null"},ft={kind:"number"},mt={kind:"string"},yt={kind:"boolean"},vt={kind:"color"},Ct={kind:"object"},It={kind:"value"},At={kind:"collator"},bt={kind:"formatted"},Et={kind:"resolvedImage"};function wt(e,t){return{kind:"array",itemType:e,N:t}}function _t(e){if("array"===e.kind){const t=_t(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const Pt=[gt,ft,mt,yt,vt,bt,Ct,wt(It),Et];function St(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!St(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of Pt)if(!St(e,t))return null}return`Expected ${_t(e)} but found ${_t(t)} instead.`}function xt(e,t){return t.some((t=>t.kind===e.kind))}function Tt(e,t){return t.some((t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e))}class kt{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Rt{constructor(e,t,n,r,o){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=o}}class Nt{constructor(e){this.sections=e}static fromString(e){return new Nt([new Rt(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.name.length))}static factory(e){return e instanceof Nt?e:Nt.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map((e=>e.text)).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const n={};t.fontStack&&(n["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(n["font-scale"]=t.scale),t.textColor&&(n["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(n)}return e}}class Lt{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Lt({name:e,available:!1}):null}serialize(){return["image",this.name]}}function Ot(e,t,n,r){if(!("number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255)){return`Invalid rgba value [${("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}return void 0===r||"number"==typeof r&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,n,r].join(", ")}]: 'a' must be between 0 and 1.`}function Dt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof et)return!0;if(e instanceof kt)return!0;if(e instanceof Nt)return!0;if(e instanceof Lt)return!0;if(Array.isArray(e)){for(const t of e)if(!Dt(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!Dt(e[t]))return!1;return!0}return!1}function Mt(e){if(null===e)return gt;if("string"==typeof e)return mt;if("boolean"==typeof e)return yt;if("number"==typeof e)return ft;if(e instanceof et)return vt;if(e instanceof kt)return At;if(e instanceof Nt)return bt;if(e instanceof Lt)return Et;if(Array.isArray(e)){const t=e.length;let n;for(const t of e){const e=Mt(t);if(n){if(n===e)continue;n=It;break}n=e}return wt(n||It,t)}return Ct}function Gt(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof et||e instanceof Nt||e instanceof Lt?e.toString():JSON.stringify(e)}class Ut{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Dt(e[1]))return t.error("invalid value");const n=e[1];let r=Mt(n);const o=t.expectedType;return"array"!==r.kind||0!==r.N||!o||"array"!==o.kind||"number"==typeof o.N&&0!==o.N||(r=o),new Ut(r,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof et?["rgba"].concat(this.value.toArray()):this.value instanceof Nt?this.value.serialize():this.value}}var Bt=Ut;var Ft=class{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}};const jt={string:mt,number:ft,boolean:yt,object:Ct};class qt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,r=1;const o=e[0];if("array"===o){let o,i;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in jt)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=jt[n],r++}else o=It;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);i=e[2],r++}n=wt(o,i)}else n=jt[o];const i=[];for(;r<e.length;r++){const n=t.parse(e[r],r,It);if(!n)return null;i.push(n)}return new qt(n,i)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!St(this.type,Mt(n)))return n;if(t===this.args.length-1)throw new Ft(`Expected value to be of type ${_t(this.type)}, but found ${_t(Mt(n))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);const r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((e=>e.serialize())))}}var zt=qt;class Ht{constructor(e){this.type=bt,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const r=[];let o=!1;for(let n=1;n<=e.length-1;++n){const i=e[n];if(o&&"object"==typeof i&&!Array.isArray(i)){o=!1;let e=null;if(i["font-scale"]&&(e=t.parse(i["font-scale"],1,ft),!e))return null;let n=null;if(i["text-font"]&&(n=t.parse(i["text-font"],1,wt(mt)),!n))return null;let a=null;if(i["text-color"]&&(a=t.parse(i["text-color"],1,vt),!a))return null;const s=r[r.length-1];s.scale=e,s.font=n,s.textColor=a}else{const i=t.parse(e[n],1,It);if(!i)return null;const a=i.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,r.push({content:i,scale:null,font:null,textColor:null})}}return new Ht(r)}evaluate(e){return new Nt(this.sections.map((t=>{const n=t.content.evaluate(e);return Mt(n)===Et?new Rt("",n,null,null,null):new Rt(Gt(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const n={};t.scale&&(n["font-scale"]=t.scale.serialize()),t.font&&(n["text-font"]=t.font.serialize()),t.textColor&&(n["text-color"]=t.textColor.serialize()),e.push(n)}return e}}class Vt{constructor(e){this.type=Et,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,mt);return n?new Vt(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=Lt.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Yt={"to-boolean":yt,"to-color":vt,"to-number":ft,"to-string":mt};class Wt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const r=Yt[n],o=[];for(let n=1;n<e.length;n++){const r=t.parse(e[n],n,It);if(!r)return null;o.push(r)}return new Wt(r,o)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,n;for(const r of this.args){if(t=r.evaluate(e),n=null,t instanceof et)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:Ot(t[0],t[1],t[2],t[3]),!n))return new et(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ft(n||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const r=Number(t);if(!isNaN(r))return r}throw new Ft(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?Nt.fromString(Gt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Lt.fromString(Gt(this.args[0].evaluate(e))):Gt(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){if("formatted"===this.type.kind)return new Ht([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Vt(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild((t=>{e.push(t.serialize())})),e}}var Xt=Wt;const Zt=["Unknown","Point","LineString","Polygon"];var Jt=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Zt[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:n,y:r}=this.featureTileCoord,o=n*t-e[0],i=r*t-e[1];return this.featureDistanceData.bearing[0]*o+this.featureDistanceData.bearing[1]*i}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=et.parse(e)),t}};class Kt{constructor(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map((e=>e.serialize())))}static parse(e,t){const n=e[0],r=Kt.definitions[n];if(!r)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(r)?r[0]:r.type,i=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=i.filter((([t])=>!Array.isArray(t)||t.length===e.length-1));let s=null;for(const[r,i]of a){s=new Pn(t.registry,t.path,null,t.scope);const a=[];let l=!1;for(let t=1;t<e.length;t++){const n=e[t],o=Array.isArray(r)?r[t-1]:r.type,i=s.parse(n,1+a.length,o);if(!i){l=!0;break}a.push(i)}if(!l)if(Array.isArray(r)&&r.length!==a.length)s.error(`Expected ${r.length} arguments, but found ${a.length} instead.`);else{for(let e=0;e<a.length;e++){const t=Array.isArray(r)?r[e]:r.type,n=a[e];s.concat(e+1).checkSubtype(t,n.type)}if(0===s.errors.length)return new Kt(n,o,i,a)}}if(1===a.length)t.errors.push(...s.errors);else{const n=(a.length?a:i).map((([e])=>{return t=e,Array.isArray(t)?`(${t.map(_t).join(", ")})`:`(${_t(t.type)}...)`;var t})).join(" | "),r=[];for(let n=1;n<e.length;n++){const o=t.parse(e[n],1+r.length);if(!o)return null;r.push(_t(o.type))}t.error(`Expected arguments of type ${n}, but found (${r.join(", ")}) instead.`)}return null}static register(e,t){Kt.definitions=t;for(const n in t)e[n]=Kt}}var Qt=Kt;class $t{constructor(e,t,n){this.type=At,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,yt);if(!r)return null;const o=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,yt);if(!o)return null;let i=null;return n.locale&&(i=t.parse(n.locale,1,mt),!i)?null:new $t(r,o,i)}evaluate(e){return new kt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const en=8192;function tn(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function nn(e,t){return!(e[0]<=t[0])&&(!(e[2]>=t[2])&&(!(e[1]<=t[1])&&!(e[3]>=t[3])))}function rn(e,t){const n=(180+e[0])/360;const r=(o=e[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360);var o;const i=Math.pow(2,t.z);return[Math.round(n*i*en),Math.round(r*i*en)]}function on(e,t,n){const r=e[0]-t[0],o=e[1]-t[1],i=e[0]-n[0],a=e[1]-n[1];return r*a-i*o==0&&r*i<=0&&o*a<=0}function an(e,t){let n=!1;for(let a=0,s=t.length;a<s;a++){const s=t[a];for(let t=0,a=s.length;t<a-1;t++){if(on(e,s[t],s[t+1]))return!1;r=e,o=s[t],i=s[t+1],o[1]>r[1]!=i[1]>r[1]&&r[0]<(i[0]-o[0])*(r[1]-o[1])/(i[1]-o[1])+o[0]&&(n=!n)}}var r,o,i;return n}function sn(e,t){for(let n=0;n<t.length;n++)if(an(e,t[n]))return!0;return!1}function ln(e,t,n,r){const o=e[0]-n[0],i=e[1]-n[1],a=t[0]-n[0],s=t[1]-n[1],l=r[0]-n[0],c=r[1]-n[1],u=o*c-l*i,p=a*c-l*s;return u>0&&p<0||u<0&&p>0}function cn(e,t,n,r){const o=[t[0]-e[0],t[1]-e[1]],i=[r[0]-n[0],r[1]-n[1]];return 0!=(a=i)[0]*(s=o)[1]-a[1]*s[0]&&!(!ln(e,t,n,r)||!ln(n,r,e,t));var a,s}function un(e,t,n){for(const r of n)for(let n=0;n<r.length-1;++n)if(cn(e,t,r[n],r[n+1]))return!0;return!1}function pn(e,t){for(let n=0;n<e.length;++n)if(!an(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(un(e[n],e[n+1],t))return!1;return!0}function dn(e,t){for(let n=0;n<t.length;n++)if(pn(e,t[n]))return!0;return!1}function hn(e,t,n){const r=[];for(let o=0;o<e.length;o++){const i=[];for(let r=0;r<e[o].length;r++){const a=rn(e[o][r],n);tn(t,a),i.push(a)}r.push(i)}return r}function gn(e,t,n){const r=[];for(let o=0;o<e.length;o++){const i=hn(e[o],t,n);r.push(i)}return r}function fn(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){const t=.5*r;let o=e[0]-n[0]>t?-r:n[0]-e[0]>t?r:0;0===o&&(o=e[0]-n[2]>t?-r:n[2]-e[0]>t?r:0),e[0]+=o}tn(t,e)}function mn(e,t,n,r){const o=Math.pow(2,r.z)*en,i=[r.x*en,r.y*en],a=[];if(!e)return a;for(const r of e)for(const e of r){const r=[e.x+i[0],e.y+i[1]];fn(r,t,n,o),a.push(r)}return a}function yn(e,t,n,r){const o=Math.pow(2,r.z)*en,i=[r.x*en,r.y*en],a=[];if(!e)return a;for(const n of e){const e=[];for(const r of n){const n=[r.x+i[0],r.y+i[1]];tn(t,n),e.push(n)}a.push(e)}if(t[2]-t[0]<=o/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of a)for(const r of e)fn(r,t,n,o)}var s;return a}class vn{constructor(e,t){this.type=yt,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Dt(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const n=t.features[e].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new vn(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new vn(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new vn(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],o=e.canonicalID();if(!o)return!1;if("Polygon"===t.type){const i=hn(t.coordinates,r,o),a=mn(e.geometry(),n,r,o);if(!nn(n,r))return!1;for(const e of a)if(!an(e,i))return!1}if("MultiPolygon"===t.type){const i=gn(t.coordinates,r,o),a=mn(e.geometry(),n,r,o);if(!nn(n,r))return!1;for(const e of a)if(!sn(e,i))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],o=e.canonicalID();if(!o)return!1;if("Polygon"===t.type){const i=hn(t.coordinates,r,o),a=yn(e.geometry(),n,r,o);if(!nn(n,r))return!1;for(const e of a)if(!pn(e,i))return!1}if("MultiPolygon"===t.type){const i=gn(t.coordinates,r,o),a=yn(e.geometry(),n,r,o);if(!nn(n,r))return!1;for(const e of a)if(!dn(e,i))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Cn=vn;function In(e){if(e instanceof Qt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Cn)return!1;let t=!0;return e.eachChild((e=>{t&&!In(e)&&(t=!1)})),t}function An(e){if(e instanceof Qt&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild((e=>{t&&!An(e)&&(t=!1)})),t}function bn(e,t){if(e instanceof Qt&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild((e=>{n&&!bn(e,t)&&(n=!1)})),n}class En{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new En(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var wn=En;class _n{constructor(e,t=[],n,r=new ht,o=[]){this.registry=e,this.path=t,this.key=t.map((e=>`[${e}]`)).join(""),this.scope=r,this.errors=o,this.expectedType=n}parse(e,t,n,r,o={}){return t?this.concat(t,n,r)._parse(e,o):this._parse(e,o)}_parse(e,t){function n(e,t,n){return"assert"===n?new zt(t,[e]):"coerce"===n?new Xt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=e[0];if("string"!=typeof r)return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[r];if(o){let r=o.parse(e,this);if(!r)return null;if(this.expectedType){const e=this.expectedType,o=r.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==o.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==o.kind&&"string"!==o.kind){if(this.checkSubtype(e,o))return null}else r=n(r,e,t.typeAnnotation||"coerce");else r=n(r,e,t.typeAnnotation||"assert")}if(!(r instanceof Bt)&&"resolvedImage"!==r.type.kind&&Sn(r)){const e=new Jt;try{r=new Bt(r.type,r.evaluate(e))}catch(e){return this.error(e.message),null}}return r}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const r="number"==typeof e?this.path.concat(e):this.path,o=n?this.scope.concat(n):this.scope;return new _n(this.registry,r,t||null,o,this.errors)}error(e,...t){const n=`${this.key}${t.map((e=>`[${e}]`)).join("")}`;this.errors.push(new pt(n,e))}checkSubtype(e,t){const n=St(e,t);return n&&this.error(n),n}}var Pn=_n;function Sn(e){if(e instanceof wn)return Sn(e.boundExpression);if(e instanceof Qt&&"error"===e.name)return!1;if(e instanceof $t)return!1;if(e instanceof Cn)return!1;const t=e instanceof Xt||e instanceof zt;let n=!0;return e.eachChild((e=>{n=t?n&&Sn(e):n&&e instanceof Bt})),!!n&&(In(e)&&bn(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]))}function xn(e,t){const n=e.length-1;let r,o,i=0,a=n,s=0;for(;i<=a;)if(s=Math.floor((i+a)/2),r=e[s],o=e[s+1],r<=t){if(s===n||t<o)return s;i=s+1}else{if(!(r>t))throw new Ft("Input is not a number.");a=s-1}return 0}class Tn{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of n)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,ft);if(!n)return null;const r=[];let o=null;t.expectedType&&"value"!==t.expectedType.kind&&(o=t.expectedType);for(let n=1;n<e.length;n+=2){const i=1===n?-1/0:e[n],a=e[n+1],s=n,l=n+1;if("number"!=typeof i)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(r.length&&r[r.length-1][0]>=i)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const c=t.parse(a,l,o);if(!c)return null;o=o||c.type,r.push([i,c])}return new Tn(o,n,r)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const o=t.length;if(r>=t[o-1])return n[o-1].evaluate(e);return n[xn(t,r)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var kn=Tn,Rn=Nn;function Nn(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}Nn.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},Nn.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},Nn.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},Nn.prototype.solveCurveX=function(e,t){var n,r,o,i,a;for(void 0===t&&(t=1e-6),o=e,a=0;a<8;a++){if(i=this.sampleCurveX(o)-e,Math.abs(i)<t)return o;var s=this.sampleCurveDerivativeX(o);if(Math.abs(s)<1e-6)break;o-=i/s}if((o=e)<(n=0))return n;if(o>(r=1))return r;for(;n<r;){if(i=this.sampleCurveX(o),Math.abs(i-e)<t)return o;e>i?n=o:r=o,o=.5*(r-n)+n}return o},Nn.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var Ln=Ve(Rn);function On(e,t,n){return e*(1-n)+t*n}var Dn=Object.freeze({__proto__:null,number:On,color:function(e,t,n){return new et(On(e.r,t.r,n),On(e.g,t.g,n),On(e.b,t.b,n),On(e.a,t.a,n))},array:function(e,t,n){return e.map(((e,r)=>On(e,t[r],n)))}});const Mn=.95047,Gn=1.08883,Un=4/29,Bn=6/29,Fn=3*Bn*Bn,jn=Bn*Bn*Bn,qn=Math.PI/180,zn=180/Math.PI;function Hn(e){return e>jn?Math.pow(e,1/3):e/Fn+Un}function Vn(e){return e>Bn?e*e*e:Fn*(e-Un)}function Yn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Wn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Xn(e){const t=Wn(e.r),n=Wn(e.g),r=Wn(e.b),o=Hn((.4124564*t+.3575761*n+.1804375*r)/Mn),i=Hn((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*i-16,a:500*(o-i),b:200*(i-Hn((.0193339*t+.119192*n+.9503041*r)/Gn)),alpha:e.a}}function Zn(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*Vn(t),n=Mn*Vn(n),r=Gn*Vn(r),new et(Yn(3.2404542*n-1.5371385*t-.4985314*r),Yn(-.969266*n+1.8760108*t+.041556*r),Yn(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function Jn(e,t,n){const r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}const Kn={forward:Xn,reverse:Zn,interpolate:function(e,t,n){return{l:On(e.l,t.l,n),a:On(e.a,t.a,n),b:On(e.b,t.b,n),alpha:On(e.alpha,t.alpha,n)}}},Qn={forward:function(e){const{l:t,a:n,b:r}=Xn(e),o=Math.atan2(r,n)*zn;return{h:o<0?o+360:o,c:Math.sqrt(n*n+r*r),l:t,alpha:e.a}},reverse:function(e){const t=e.h*qn,n=e.c;return Zn({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:Jn(e.h,t.h,n),c:On(e.c,t.c,n),l:On(e.l,t.l,n),alpha:On(e.alpha,t.alpha,n)}}};class $n{constructor(e,t,n,r,o){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(const[e,t]of o)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,t,n,r){let o=0;if("exponential"===e.name)o=er(t,e.base,n,r);else if("linear"===e.name)o=er(t,1,n,r);else if("cubic-bezier"===e.name){const i=e.controlPoints;o=new Ln(i[0],i[1],i[2],i[3]).solve(er(t,1,n,r))}return o}static parse(e,t){let[n,r,o,...i]=e;if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){const e=r[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:e}}else{if("cubic-bezier"!==r[0])return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);{const e=r.slice(1);if(4!==e.length||e.some((e=>"number"!=typeof e||e<0||e>1)))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,ft),!o)return null;const a=[];let s=null;"interpolate-hcl"===n||"interpolate-lab"===n?s=vt:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<i.length;e+=2){const n=i[e],r=i[e+1],o=e+3,l=e+4;if("number"!=typeof n)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',o);if(a.length&&a[a.length-1][0]>=n)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',o);const c=t.parse(r,l,s);if(!c)return null;s=s||c.type,a.push([n,c])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new $n(s,n,r,o,a):t.error(`Type ${_t(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const o=t.length;if(r>=t[o-1])return n[o-1].evaluate(e);const i=xn(t,r),a=t[i],s=t[i+1],l=$n.interpolationFactor(this.interpolation,r,a,s),c=n[i].evaluate(e),u=n[i+1].evaluate(e);return"interpolate"===this.operator?Dn[this.type.kind.toLowerCase()](c,u,l):"interpolate-hcl"===this.operator?Qn.reverse(Qn.interpolate(Qn.forward(c),Qn.forward(u),l)):Kn.reverse(Kn.interpolate(Kn.forward(c),Kn.forward(u),l))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function er(e,t,n,r){const o=r-n,i=e-n;return 0===o?0:1===t?i/o:(Math.pow(t,i)-1)/(Math.pow(t,o)-1)}var tr=$n;class nr{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const r=t.expectedType;r&&"value"!==r.kind&&(n=r);const o=[];for(const r of e.slice(1)){const e=t.parse(r,1+o.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,o.push(e)}const i=r&&o.some((e=>St(r,e.type)));return new nr(i?It:n,o)}evaluate(e){let t,n=null,r=0;for(const o of this.args){if(r++,n=o.evaluate(e),n&&n instanceof Lt&&!n.available&&(t||(t=n),n=null,r===this.args.length))return t;if(null!==n)break}return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=["coalesce"];return this.eachChild((t=>{e.push(t.serialize())})),e}}var rr=nr;class or{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let r=1;r<e.length-1;r+=2){const o=e[r];if("string"!=typeof o)return t.error(`Expected string, but found ${typeof o} instead.`,r);if(/[^a-zA-Z0-9_]/.test(o))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);const i=t.parse(e[r+1],r+1);if(!i)return null;n.push([o,i])}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return r?new or(n,r):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,n]of this.bindings)e.push(t,n.serialize());return e.push(this.result.serialize()),e}}var ir=or;class ar{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ft),r=t.parse(e[2],2,wt(t.expectedType||It));if(!n||!r)return null;const o=r.type;return new ar(o.itemType,n,r)}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Ft(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new Ft(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new Ft(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var sr=ar;class lr{constructor(e,t){this.type=yt,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,It),r=t.parse(e[2],2,It);return n&&r?xt(n.type,[yt,mt,ft,gt,It])?new lr(n,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${_t(n.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(null==n)return!1;if(!Tt(t,["boolean","string","number","null"]))throw new Ft(`Expected first argument to be of type boolean, string, number or null, but found ${_t(Mt(t))} instead.`);if(!Tt(n,["string","array"]))throw new Ft(`Expected second argument to be of type array or string, but found ${_t(Mt(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var cr=lr;class ur{constructor(e,t,n){this.type=ft,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,It),r=t.parse(e[2],2,It);if(!n||!r)return null;if(!xt(n.type,[yt,mt,ft,gt,It]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${_t(n.type)} instead`);if(4===e.length){const o=t.parse(e[3],3,ft);return o?new ur(n,r,o):null}return new ur(n,r)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Tt(t,["boolean","string","number","null"]))throw new Ft(`Expected first argument to be of type boolean, string, number or null, but found ${_t(Mt(t))} instead.`);if(!Tt(n,["string","array"]))throw new Ft(`Expected second argument to be of type array or string, but found ${_t(Mt(n))} instead.`);if(this.fromIndex){const r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var pr=ur;class dr{constructor(e,t,n,r,o,i){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=o,this.otherwise=i}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);const o={},i=[];for(let a=2;a<e.length-1;a+=2){let s=e[a];const l=e[a+1];Array.isArray(s)||(s=[s]);const c=t.concat(a);if(0===s.length)return c.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,Mt(e)))return null}else n=Mt(e);if(void 0!==o[String(e)])return c.error("Branch labels must be unique.");o[String(e)]=i.length}const u=t.parse(l,a,r);if(!u)return null;r=r||u.type,i.push(u)}const a=t.parse(e[1],1,It);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,r);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(n,a.type)?null:new dr(n,r,a,o,i,s):null}evaluate(e){const t=this.input.evaluate(e);return(Mt(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),n=[],r={};for(const e of t){const t=r[this.cases[e]];void 0===t?(r[this.cases[e]]=n.length,n.push([this.cases[e],[e]])):n[t][1].push(e)}const o=e=>"number"===this.inputType.kind?Number(e):e;for(const[t,r]of n)1===r.length?e.push(o(r[0])):e.push(r.map(o)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}var hr=dr;class gr{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const r=[];for(let o=1;o<e.length-1;o+=2){const i=t.parse(e[o],o,yt);if(!i)return null;const a=t.parse(e[o+1],o+1,n);if(!a)return null;r.push([i,a]),n=n||a.type}const o=t.parse(e[e.length-1],e.length-1,n);return o?new gr(n,r,o):null}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every((([e,t])=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild((t=>{e.push(t.serialize())})),e}}var fr=gr;class mr{constructor(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,It),r=t.parse(e[2],2,ft);if(!n||!r)return null;if(!xt(n.type,[wt(It),mt,It]))return t.error(`Expected first argument to be of type array or string, but found ${_t(n.type)} instead`);if(4===e.length){const o=t.parse(e[3],3,ft);return o?new mr(n.type,n,r,o):null}return new mr(n.type,n,r)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Tt(t,["string","array"]))throw new Ft(`Expected first argument to be of type array or string, but found ${_t(Mt(t))} instead.`);if(this.endIndex){const r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var yr=mr;function vr(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Cr(e,t,n,r){return 0===r.compare(t,n)}function Ir(e,t,n){const r="=="!==e&&"!="!==e;return class o{constructor(e,t,n){this.type=yt,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let i=t.parse(e[1],1,It);if(!i)return null;if(!vr(n,i.type))return t.concat(1).error(`"${n}" comparisons are not supported for type '${_t(i.type)}'.`);let a=t.parse(e[2],2,It);if(!a)return null;if(!vr(n,a.type))return t.concat(2).error(`"${n}" comparisons are not supported for type '${_t(a.type)}'.`);if(i.type.kind!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${_t(i.type)}' and '${_t(a.type)}'.`);r&&("value"===i.type.kind&&"value"!==a.type.kind?i=new zt(a.type,[i]):"value"!==i.type.kind&&"value"===a.type.kind&&(a=new zt(i.type,[a])));let s=null;if(4===e.length){if("string"!==i.type.kind&&"string"!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,At),!s)return null}return new o(i,a,s)}evaluate(o){const i=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const t=Mt(i),n=Mt(a);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new Ft(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${n.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const e=Mt(i),n=Mt(a);if("string"!==e.kind||"string"!==n.kind)return t(o,i,a)}return this.collator?n(o,i,a,this.collator.evaluate(o)):t(o,i,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild((e=>{t.push(e.serialize())})),t}}}const Ar=Ir("==",(function(e,t,n){return t===n}),Cr),br=Ir("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!Cr(0,t,n,r)})),Er=Ir("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),wr=Ir(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),_r=Ir("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),Pr=Ir(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0}));class Sr{constructor(e,t,n,r,o,i){this.type=mt,this.number=e,this.locale=t,this.currency=n,this.unit=r,this.minFractionDigits=o,this.maxFractionDigits=i}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,ft);if(!n)return null;const r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");let o=null;if(r.locale&&(o=t.parse(r.locale,1,mt),!o))return null;let i=null;if(r.currency&&(i=t.parse(r.currency,1,mt),!i))return null;let a=null;if(r.unit&&(a=t.parse(r.unit,1,mt),!a))return null;let s=null;if(r["min-fraction-digits"]&&(s=t.parse(r["min-fraction-digits"],1,ft),!s))return null;let l=null;return r["max-fraction-digits"]&&(l=t.parse(r["max-fraction-digits"],1,ft),!l)?null:new Sr(n,o,i,a,s,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class xr{constructor(e){this.type=ft,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error(`Expected argument of type string or array, but found ${_t(n.type)} instead.`):new xr(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Ft(`Expected value to be of type string or array, but found ${_t(Mt(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild((t=>{e.push(t.serialize())})),e}}const Tr={"==":Ar,"!=":br,">":wr,"<":Er,">=":Pr,"<=":_r,array:zt,at:sr,boolean:zt,case:fr,coalesce:rr,collator:$t,format:Ht,image:Vt,in:cr,"index-of":pr,interpolate:tr,"interpolate-hcl":tr,"interpolate-lab":tr,length:xr,let:ir,literal:Bt,match:hr,number:zt,"number-format":Sr,object:zt,slice:yr,step:kn,string:zt,"to-boolean":Xt,"to-color":Xt,"to-number":Xt,"to-string":Xt,var:wn,within:Cn};function kr(e,[t,n,r,o]){t=t.evaluate(e),n=n.evaluate(e),r=r.evaluate(e);const i=o?o.evaluate(e):1,a=Ot(t,n,r,i);if(a)throw new Ft(a);return new et(t/255*i,n/255*i,r/255*i,i)}function Rr(e,t){return e in t}function Nr(e,t){const n=t[e];return void 0===n?null:n}function Lr(e){return{type:e}}Qt.register(Tr,{error:[{kind:"error"},[mt],(e,[t])=>{throw new Ft(t.evaluate(e))}],typeof:[mt,[It],(e,[t])=>_t(Mt(t.evaluate(e)))],"to-rgba":[wt(ft,4),[vt],(e,[t])=>t.evaluate(e).toArray()],rgb:[vt,[ft,ft,ft],kr],rgba:[vt,[ft,ft,ft,ft],kr],has:{type:yt,overloads:[[[mt],(e,[t])=>Rr(t.evaluate(e),e.properties())],[[mt,Ct],(e,[t,n])=>Rr(t.evaluate(e),n.evaluate(e))]]},get:{type:It,overloads:[[[mt],(e,[t])=>Nr(t.evaluate(e),e.properties())],[[mt,Ct],(e,[t,n])=>Nr(t.evaluate(e),n.evaluate(e))]]},"feature-state":[It,[mt],(e,[t])=>Nr(t.evaluate(e),e.featureState||{})],properties:[Ct,[],e=>e.properties()],"geometry-type":[mt,[],e=>e.geometryType()],id:[It,[],e=>e.id()],zoom:[ft,[],e=>e.globals.zoom],pitch:[ft,[],e=>e.globals.pitch||0],"distance-from-center":[ft,[],e=>e.distanceFromCenter()],"heatmap-density":[ft,[],e=>e.globals.heatmapDensity||0],"line-progress":[ft,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[ft,[],e=>e.globals.skyRadialProgress||0],accumulated:[It,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[ft,Lr(ft),(e,t)=>{let n=0;for(const r of t)n+=r.evaluate(e);return n}],"*":[ft,Lr(ft),(e,t)=>{let n=1;for(const r of t)n*=r.evaluate(e);return n}],"-":{type:ft,overloads:[[[ft,ft],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[ft],(e,[t])=>-t.evaluate(e)]]},"/":[ft,[ft,ft],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[ft,[ft,ft],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[ft,[],()=>Math.LN2],pi:[ft,[],()=>Math.PI],e:[ft,[],()=>Math.E],"^":[ft,[ft,ft],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[ft,[ft],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[ft,[ft],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[ft,[ft],(e,[t])=>Math.log(t.evaluate(e))],log2:[ft,[ft],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[ft,[ft],(e,[t])=>Math.sin(t.evaluate(e))],cos:[ft,[ft],(e,[t])=>Math.cos(t.evaluate(e))],tan:[ft,[ft],(e,[t])=>Math.tan(t.evaluate(e))],asin:[ft,[ft],(e,[t])=>Math.asin(t.evaluate(e))],acos:[ft,[ft],(e,[t])=>Math.acos(t.evaluate(e))],atan:[ft,[ft],(e,[t])=>Math.atan(t.evaluate(e))],min:[ft,Lr(ft),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[ft,Lr(ft),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[ft,[ft],(e,[t])=>Math.abs(t.evaluate(e))],round:[ft,[ft],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[ft,[ft],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[ft,[ft],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[yt,[mt,It],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[yt,[It],(e,[t])=>e.id()===t.value],"filter-type-==":[yt,[mt],(e,[t])=>e.geometryType()===t.value],"filter-<":[yt,[mt,It],(e,[t,n])=>{const r=e.properties()[t.value],o=n.value;return typeof r==typeof o&&r<o}],"filter-id-<":[yt,[It],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<r}],"filter->":[yt,[mt,It],(e,[t,n])=>{const r=e.properties()[t.value],o=n.value;return typeof r==typeof o&&r>o}],"filter-id->":[yt,[It],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>r}],"filter-<=":[yt,[mt,It],(e,[t,n])=>{const r=e.properties()[t.value],o=n.value;return typeof r==typeof o&&r<=o}],"filter-id-<=":[yt,[It],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<=r}],"filter->=":[yt,[mt,It],(e,[t,n])=>{const r=e.properties()[t.value],o=n.value;return typeof r==typeof o&&r>=o}],"filter-id->=":[yt,[It],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>=r}],"filter-has":[yt,[It],(e,[t])=>t.value in e.properties()],"filter-has-id":[yt,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[yt,[wt(mt)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[yt,[wt(It)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[yt,[mt,wt(It)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[yt,[mt,wt(It)],(e,[t,n])=>function(e,t,n,r){for(;n<=r;){const o=n+r>>1;if(t[o]===e)return!0;t[o]>e?r=o-1:n=o+1}return!1}(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:yt,overloads:[[[yt,yt],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[Lr(yt),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:yt,overloads:[[[yt,yt],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[Lr(yt),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[yt,[yt],(e,[t])=>!t.evaluate(e)],"is-supported-script":[yt,[mt],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return!n||n(t.evaluate(e))}],upcase:[mt,[mt],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[mt,[mt],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[mt,Lr(It),(e,t)=>t.map((t=>Gt(t.evaluate(e)))).join("")],"resolved-locale":[mt,[At],(e,[t])=>t.evaluate(e).resolvedLocale()]});var Or=Tr;function Dr(e){return{result:"success",value:e}}function Mr(e){return{result:"error",value:e}}function Gr(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}class Ur{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Jt,this._defaultValue=t?function(e){return"color"===e.type&&(Gr(e.default)||Array.isArray(e.default))?new et(0,0,0,0):"color"===e.type?et.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,r,o,i,a,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=i,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,r,o,i,a,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=i||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Ft(`Expected value to be one of ${Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function Br(e,t){const n=new Pn(Or,[],t?function(e){const t={color:vt,string:mt,number:ft,enum:mt,boolean:yt,formatted:bt,resolvedImage:Et};if("array"===e.type)return wt(t[e.value]||It,e.length);return t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?Dr(new Ur(r,t)):Mr(n.errors)}class Fr{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!An(t.expression)}evaluateWithoutErrorHandling(e,t,n,r,o,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,o,i)}evaluate(e,t,n,r,o,i){return this._styleExpression.evaluate(e,t,n,r,o,i)}}class jr{constructor(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!An(t.expression),this.interpolationType=r}evaluateWithoutErrorHandling(e,t,n,r,o,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,o,i)}evaluate(e,t,n,r,o,i){return this._styleExpression.evaluate(e,t,n,r,o,i)}interpolationFactor(e,t,n){return this.interpolationType?tr.interpolationFactor(this.interpolationType,e,t,n):0}}function qr(e,t){if("error"===(e=Br(e,t)).result)return e;const n=e.value.expression,r=In(n);if(!r&&!function(e){return"data-driven"===e["property-type"]}(t))return Mr([new pt("","data expressions not supported")]);const o=bn(n,["zoom","pitch","distance-from-center"]);if(!o&&!function(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}(t))return Mr([new pt("","zoom expressions not supported")]);const i=zr(n);if(!i&&!o)return Mr([new pt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(i instanceof pt)return Mr([i]);if(i instanceof tr&&!function(e){return!!e.expression&&e.expression.interpolated}(t))return Mr([new pt("",'"interpolate" expressions cannot be used with this property')]);if(!i)return Dr(new Fr(r?"constant":"source",e.value));const a=i instanceof tr?i.interpolation:void 0;return Dr(new jr(r?"camera":"composite",e.value,i.labels,a))}function zr(e){let t=null;if(e instanceof ir)t=zr(e.result);else if(e instanceof rr){for(const n of e.args)if(t=zr(n),t)break}else(e instanceof kn||e instanceof tr)&&e.input instanceof Qt&&"zoom"===e.input.name&&(t=e);return t instanceof pt||e.eachChild((e=>{const n=zr(e);n instanceof pt?t=n:!t&&n?t=new pt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new pt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function Hr(e){if(Array.isArray(e))return e.map(Hr);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=Hr(e[n]);return t}return function(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}(e)}var Vr={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["fill-extrusion-edge-radius"]}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};function Yr(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!Yr(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}function Wr(e,t="fill"){if(null==e)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Yr(e)||(e=eo(e));const n=e;let r=!0;try{r=function(e){if(!Jr(e))return e;let t=Hr(e);return Zr(t),t=Xr(t),t}(n)}catch(e){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(n,null,2)}\n        `)}const o=Vr[`filter_${t}`],i=Br(r,o);let a=null;if("error"===i.result)throw new Error(i.value.map((e=>`${e.key}: ${e.message}`)).join(", "));a=(e,t,n)=>i.value.evaluate(e,t,{},n);let s=null,l=null;if(r!==n){const e=Br(n,o);if("error"===e.result)throw new Error(e.value.map((e=>`${e.key}: ${e.message}`)).join(", "));s=(t,n,r,o,i)=>e.value.evaluate(t,n,{},r,void 0,void 0,o,i),l=!In(e.value.expression)}return{filter:a,dynamicFilter:s||void 0,needGeometry:$r(r),needFeature:!!l}}function Xr(e){if(!Array.isArray(e))return e;const t=function(e){if(Kr.has(e[0]))for(let t=1;t<e.length;t++){if(Jr(e[t]))return!0}return e}(e);return!0===t?t:t.map((e=>Xr(e)))}function Zr(e){let t=!1;const n=[];if("case"===e[0]){for(let r=1;r<e.length-1;r+=2)t=t||Jr(e[r]),n.push(e[r+1]);n.push(e[e.length-1])}else if("match"===e[0]){t=t||Jr(e[1]);for(let t=2;t<e.length-1;t+=2)n.push(e[t+1]);n.push(e[e.length-1])}else if("step"===e[0]){t=t||Jr(e[1]);for(let t=1;t<e.length-1;t+=2)n.push(e[t+1])}t&&(e.length=0,e.push("any",...n));for(let t=1;t<e.length;t++)Zr(e[t])}function Jr(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;var t;for(let t=1;t<e.length;t++){if(Jr(e[t]))return!0}return!1}const Kr=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Qr(e,t){return e<t?-1:e>t?1:0}function $r(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if($r(e[t]))return!0;return!1}function eo(e){if(!e)return!0;const t=e[0];if(e.length<=1)return"any"!==t;var n;return"=="===t?to(e[1],e[2],"=="):"!="===t?oo(to(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?to(e[1],e[2],t):"any"===t?(n=e.slice(1),["any"].concat(n.map(eo))):"all"===t?["all"].concat(e.slice(1).map(eo)):"none"===t?["all"].concat(e.slice(1).map(eo).map(oo)):"in"===t?no(e[1],e.slice(2)):"!in"===t?oo(no(e[1],e.slice(2))):"has"===t?ro(e[1]):"!has"===t?oo(ro(e[1])):"within"!==t||e}function to(e,t,n){switch(e){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,e,t]}}function no(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((e=>typeof e!=typeof t[0]))?["filter-in-large",e,["literal",t.sort(Qr)]]:["filter-in-small",e,["literal",t]]}}function ro(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function oo(e){return["!",e]}var io=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function ao(e,t){const n={};for(const t in e)"ref"!==t&&(n[t]=e[t]);return io.forEach((e=>{e in t&&(n[e]=t[e])})),n}function so(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=ao(e[n],t[e[n].ref]));return e}var lo={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},co=" ",uo=/(italic|oblique)$/i,po={},ho=Ve((function(e,t,n){var r=po[e];if(!r){Array.isArray(e)||(e=[e]);for(var o,i,a=400,s="normal",l=[],c=0,u=e.length;c<u;++c){var p=e[c].split(" "),d=p[p.length-1].toLowerCase();for(var h in"normal"==d||"italic"==d||"oblique"==d?(s=i?s:d,i=!0,p.pop(),d=p[p.length-1].toLowerCase()):uo.test(d)&&(d=d.replace(uo,""),s=i?s:p[p.length-1].replace(d,""),i=!0),lo){var g=p.length>1?p[p.length-2].toLowerCase():"";if(d==h||d==h.replace("-","")||g+"-"+d==h){a=o?a:lo[h],p.pop(),g&&h.startsWith(g)&&p.pop();break}}o||"number"!=typeof d||(a=d,o=!0);var f=p.join(co).replace("Klokantech Noto Sans","Noto Sans");-1!==f.indexOf(co)&&(f='"'+f+'"'),l.push(f)}r=po[e]=[s,a,l]}return r[0]+co+r[1]+co+t+"px"+(n?"/"+n:"")+co+r[2]}));const go="https://api.mapbox.com";function fo(e){const t="mapbox://";return 0!==e.indexOf(t)?"":e.slice(9)}function mo(e,t){const n=fo(e);if(!n)return decodeURI(new URL(e,location.href).href);const r="styles/";if(0!==n.indexOf(r))throw new Error(`unexpected style url: ${e}`);const o=n.slice(7);return`${go}/styles/v1/${o}?&access_token=${t}`}function yo(e,t,n,r){const o=new URL(e,r),i=fo(e);if(!i)return t?(o.searchParams.has(n)||o.searchParams.set(n,t),decodeURI(o.href)):decodeURI(o.href);if("mapbox.satellite"===i){return`https://api.mapbox.com/v4/${i}/{z}/{x}/{y}${window.devicePixelRatio>=1.5?"@2x":""}.webp?access_token=${t}`}return`https://{a-d}.tiles.mapbox.com/v4/${i}/{z}/{x}/{y}.vector.pbf?access_token=${t}`}const vo={},Co={};let Io=0;function Ao(e){return e.id||(e.id=Io++),e.id}function bo(e,t){return Ao(e)+"."+(0,Ue.getUid)(t)}function Eo(e){let t=vo[e.id];return t||(t={},vo[Ao(e)]=t),t}function wo(e){let t=Co[e.id];return t||(t={},Co[Ao(e)]=t),t}function _o(e){return e*Math.PI/180}const Po=function(){const e=[];for(let t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function So(e,t){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);const n=document.createElement("canvas");return n.width=e,n.height=t,n}function xo(e,t){let n=0;const r=t.length;for(;n<r;++n){if(t[n]<e&&n+1<r){const r=t[n]/t[n+1];return n+Math.log(t[n]/e)/Math.log(r)}}return r-1}function To(e,t){const n=Math.floor(e),r=Math.pow(2,e-n);return t[n]/r}const ko={};function Ro(e,t,n={},r){if(t in ko)return r&&(r.request=ko[t][0]),ko[t][1];const o=n.transformRequest&&n.transformRequest(t,e)||t,i=(0,Oe.toPromise)((()=>o)).then((e=>(e instanceof Request||(e=new Request(e)),e.headers.get("Accept")||e.headers.set("Accept","application/json"),r&&(r.request=e),fetch(e).then((function(e){return delete ko[t],e.ok?e.json():Promise.reject(new Error("Error fetching source "+t))})).catch((function(e){return delete ko[t],Promise.reject(new Error("Error fetching source "+t))})))));return ko[t]=[o,i],i}function No(e,t){if("string"!=typeof e)return Promise.resolve(e);if(!e.trim().startsWith("{"))return Ro("Style",e=mo(e,t.accessToken),t);try{const t=JSON.parse(e);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}const Lo={};function Oo(e,t,n={}){const r=[t,JSON.stringify(e)].toString();let o=Lo[r];if(!o||n.transformRequest){let i;n.transformRequest&&(i=(e,t)=>{const r=n.transformRequest&&n.transformRequest(t,"Tiles")||t;if(e instanceof undefined.VectorTile)e.setLoader(((t,n,o)=>{(0,Oe.toPromise)((()=>r)).then((n=>{fetch(n).then((e=>e.arrayBuffer())).then((n=>{const r=e.getFormat().readFeatures(n,{extent:t,featureProjection:o});e.setFeatures(r)})).catch((t=>e.setState(Me.ERROR)))}))}));else{const t=e.getImage();(0,Oe.toPromise)((()=>r)).then((n=>{n instanceof Request?fetch(n).then((e=>e.blob())).then((e=>{const n=URL.createObjectURL(e);t.addEventListener("load",(()=>URL.revokeObjectURL(n))),t.addEventListener("error",(()=>URL.revokeObjectURL(n))),t.src=n})).catch((t=>e.setState(Me.ERROR))):t.src=n}))}});const a=e.url;if(a&&!e.tiles){const r=yo(a,n.accessToken,n.accessTokenParam||"access_token",t||location.href);if(a.startsWith("mapbox://"))o=Promise.resolve({tileJson:Object.assign({},e,{url:void 0,tiles:(0,Ge.expandUrl)(r)}),tileLoadFunction:i});else{const e={};o=Ro("Source",r,n,e).then((function(t){return t.tiles=t.tiles.map((function(r){return"tms"===t.scheme&&(r=r.replace("{y}","{-y}")),yo(r,n.accessToken,n.accessTokenParam||"access_token",e.request.url)})),Promise.resolve({tileJson:t,tileLoadFunction:i})}))}}else e=Object.assign({},e,{tiles:e.tiles.map((function(r){return"tms"===e.scheme&&(r=r.replace("{y}","{-y}")),yo(r,n.accessToken,n.accessTokenParam||"access_token",t||location.href)}))}),o=Promise.resolve({tileJson:Object.assign({},e),tileLoadFunction:i});Lo[r]=o}return o}function Do(e,t,n,r){const o=[2*n*t.pixelRatio+t.width,2*n*t.pixelRatio+t.height],i=So(o[0],o[1]),a=i.getContext("2d");a.drawImage(e,t.x,t.y,t.width,t.height,n*t.pixelRatio,n*t.pixelRatio,t.width,t.height);const s=a.getImageData(0,0,o[0],o[1]);a.globalCompositeOperation="destination-over",a.fillStyle=`rgba(${255*r.r},${255*r.g},${255*r.b},${r.a})`;const l=s.data;for(let e=0,r=s.width;e<r;++e)for(let o=0,i=s.height;o<i;++o){l[4*(o*r+e)+3]>0&&a.arc(e,o,n*t.pixelRatio,0,2*Math.PI)}return a.fill(),i}function Mo(e,t,n){const r=Math.max(0,Math.min(1,(n-e)/(t-e)));return r*r*(3-2*r)}function Go(e,t,n){const r=So(t.width,t.height),o=r.getContext("2d");o.drawImage(e,t.x,t.y,t.width,t.height,0,0,t.width,t.height);const i=o.getImageData(0,0,t.width,t.height),a=i.data;for(let e=0,t=i.width;e<t;++e)for(let r=0,o=i.height;r<o;++r){const o=4*(r*t+e),i=.75,s=.1,l=Mo(i-s,i+s,a[o+3]/255);l>0?(a[o+0]=Math.round(255*n.r*l),a[o+1]=Math.round(255*n.g*l),a[o+2]=Math.round(255*n.b*l),a[o+3]=Math.round(255*l)):a[o+3]=0}return o.putImageData(i,0,0),r}const Uo=Array(256).join("â€Š");function Bo(e,t){if(t>=.05){let n="";const r=e.split("\n"),o=Uo.slice(0,Math.round(t/.1));for(let e=0,t=r.length;e<t;++e)e>0&&(n+="\n"),n+=r[e].split("").join(o);return n}return e}let Fo;function jo(){return Fo||(Fo=So(1,1).getContext("2d")),Fo}function qo(e,t){return jo().measureText(e).width+(e.length-1)*t}const zo={};function Ho(e,t,n,r){if(-1!==e.indexOf("\n")){const o=e.split("\n"),i=[];for(let e=0,a=o.length;e<a;++e)i.push(Ho(o[e],t,n,r));return i.join("\n")}const o=n+","+t+","+e+","+r;let i=zo[o];if(!i){const a=e.split(" ");if(a.length>1){const e=jo();e.font=t;const o=e.measureText("M").width*n;let s="";const l=[];for(let e=0,t=a.length;e<t;++e){const t=a[e],n=s+(s?" ":"")+t;qo(n,r)<=o?s=n:(s&&l.push(s),s=t)}s&&l.push(s);for(let e=0,t=l.length;e<t&&t>1;++e){const n=l[e];if(qo(n,r)<.35*o){const o=e>0?qo(l[e-1],r):1/0,i=e<t-1?qo(l[e+1],r):1/0;l.splice(e,1),t-=1,o<i?(l[e-1]+=" "+n,e-=1):l[e]=n+" "+l[e]}}for(let e=0,t=l.length-1;e<t;++e){const n=l[e],i=l[e+1];if(qo(n,r)>.7*o&&qo(i,r)<.6*o){const a=n.split(" "),s=a.pop();qo(s,r)<.2*o&&(l[e]=a.join(" "),l[e+1]=s+" "+i),t-=1}}i=l.join("\n")}else i=e;i=Bo(i,r),zo[o]=i}return i}const Vo=/font-family: ?([^;]*);/,Yo=/("|')/g;let Wo;function Xo(e){if(!Wo){Wo={};const e=document.styleSheets;for(let t=0,n=e.length;t<n;++t){const n=e[t];try{const e=n.rules||n.cssRules;if(e)for(let t=0,n=e.length;t<n;++t){const n=e[t];if(5==n.type){const e=n.cssText.match(Vo);Wo[e[1].replace(Yo,"")]=!0}}}catch(e){}}}return e in Wo}const Zo={};const Jo={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},Ko={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},Qo={},$o={zoom:0};let ei,ti;function ni(e,t,n,r,o,i,a){const s=e.id;i||(i={},console.warn("No functionCache provided to getValue()")),i[s]||(i[s]={});const l=i[s];if(!l[n]){let r=(e[t]||Qo)[n];const o=Vr[`${t}_${e.type}`][n];void 0===r&&(r=o.default);let i=(c=r,Array.isArray(c)&&c.length>0&&"string"==typeof c[0]&&c[0]in Or);if(!i&&Gr(r)&&(r=nt(r,o),i=!0),i){const e=function(e,t){const n=qr(e,t);if("error"===n.result)throw new Error(n.value.map((e=>`${e.key}: ${e.message}`)).join(", "));return n.value}(r,o);l[n]=e.evaluate.bind(e)}else"color"==o.type&&(r=et.parse(r)),l[n]=function(){return r}}var c;return $o.zoom=r,l[n]($o,o,a)}function ri(e,t,n,r,o){if(!ni(e,"layout",`${r}-allow-overlap`,t,n,o))return"declutter";return ni(e,"layout",`${r}-ignore-placement`,t,n,o)?"none":"obstacle"}function oi(e,t,n,r,o){return o||console.warn("No filterCache provided to evaluateFilter()"),e in o||(o[e]=Wr(t).filter),$o.zoom=r,o[e]($o,n)}let ii=!1;function ai(e,t){if(e){if(!ii&&(0===e.a||0===t))return;const n=e.a;return t=void 0===t?1:t,0===n?"transparent":"rgba("+Math.round(255*e.r/n)+","+Math.round(255*e.g/n)+","+Math.round(255*e.b/n)+","+n*t+")"}return e}const si=/\{[^{}}]*\}/g;function li(e,t){return e.replace(si,(function(e){return t[e.slice(1,-1)]||""}))}let ci=!1;const ui={};function pi(e,t,n,r=Po,o=void 0,i=void 0,a=void 0,s=void 0){if("string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw new Error("glStyle version 8 required.");let l,c,u;if(ui[bo(t,e)]=Array.from(arguments),i)if("undefined"!=typeof Image){const t=new Image;let n;(0,Oe.toPromise)((()=>i)).then((e=>{e instanceof Request?fetch(e).then((e=>e.blob())).then((e=>{n=URL.createObjectURL(e),t.src=n})).catch((()=>{})):(t.crossOrigin="anonymous",t.src=e,n&&URL.revokeObjectURL(n))})),t.onload=function(){l=t,c=[t.width,t.height],e.changed(),t.onload=null}}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){const e=self;e.postMessage({action:"loadImage",src:i}),e.addEventListener("message",(function(e){"imageLoaded"===e.data.action&&e.data.src===i&&(l=e.data.image,c=[l.width,l.height])}))}const p=so(t.layers),d={},h=[],g={},f={},m=Eo(t),y=wo(t);let v;for(let e=0,r=p.length;e<r;++e){const r=p[e],o=r.id;if("string"==typeof n&&r.source==n||Array.isArray(n)&&-1!==n.indexOf(o)){const n=r["source-layer"];if(v){if(r.source!==v)throw new Error(`Layer "${o}" does not use source "${v}`)}else{v=r.source;const e=t.sources[v];if(!e)throw new Error(`Source "${v}" is not defined`);const n=e.type;if("vector"!==n&&"geojson"!==n)throw new Error(`Source "${v}" is not of type "vector" or "geojson", but "${n}"`)}let i=d[n];i||(i=[],d[n]=i),i.push({layer:r,index:e}),h.push(o)}}const C=new Re,I=new D,A=[],b=function(n,i,p){const h=n.getProperties(),v=d[h.layer];if(!v)return;let b=r.indexOf(i);-1==b&&(b=xo(i,r));const E=Jo[n.getGeometry().getType()],w={id:n.getId(),properties:h,type:E},_=e.get("mapbox-featurestate")[n.getId()];let P,S=-1;for(let r=0,d=v.length;r<d;++r){const d=v[r],x=d.layer,T=x.id;if(void 0!==p&&p!==T)continue;const k=x.layout||Qo,R=x.paint||Qo;if("none"===k.visibility||"minzoom"in x&&b<x.minzoom||"maxzoom"in x&&b>=x.maxzoom)continue;const N=x.filter;if(!N||oi(T,N,w,b,y)){let r,p,y,v,T,N;P=x;const L=d.index;if(3==E&&("fill"==x.type||"fill-extrusion"==x.type))if(p=ni(x,"paint",x.type+"-opacity",b,w,m,_),x.type+"-pattern"in R){const e=ni(x,"paint",x.type+"-pattern",b,w,m,_);if(e){const t="string"==typeof e?li(e,h):e.toString();if(l&&o&&o[t]){++S,N=A[S],N&&N.getFill()&&!N.getStroke()&&!N.getText()||(N=new Ne({fill:new D}),A[S]=N),y=N.getFill(),N.setZIndex(L);const e=t+"."+p;let n=f[e];if(!n){const r=o[t],i=So(r.width,r.height),a=i.getContext("2d");a.globalAlpha=p,a.drawImage(l,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n=a.createPattern(i,"repeat"),f[e]=n}y.setColor(n)}}}else r=ai(ni(x,"paint",x.type+"-color",b,w,m,_),p),x.type+"-outline-color"in R&&(T=ai(ni(x,"paint",x.type+"-outline-color",b,w,m,_),p)),T||(T=r),(r||T)&&(++S,N=A[S],(!N||r&&!N.getFill()||!r&&N.getFill()||T&&!N.getStroke()||!T&&N.getStroke()||N.getText())&&(N=new Ne({fill:r?new D:void 0,stroke:T?new Re:void 0}),A[S]=N),r&&(y=N.getFill(),y.setColor(r)),T&&(v=N.getStroke(),v.setColor(T),v.setWidth(.5)),N.setZIndex(L));if(1!=E&&"line"==x.type){r="line-pattern"in R?void 0:ai(ni(x,"paint","line-color",b,w,m,_),ni(x,"paint","line-opacity",b,w,m,_));const e=ni(x,"paint","line-width",b,w,m,_);r&&e>0&&(++S,N=A[S],N&&N.getStroke()&&!N.getFill()&&!N.getText()||(N=new Ne({stroke:new Re}),A[S]=N),v=N.getStroke(),v.setLineCap(ni(x,"layout","line-cap",b,w,m,_)),v.setLineJoin(ni(x,"layout","line-join",b,w,m,_)),v.setMiterLimit(ni(x,"layout","line-miter-limit",b,w,m,_)),v.setColor(r),v.setWidth(e),v.setLineDash(R["line-dasharray"]?ni(x,"paint","line-dasharray",b,w,m,_).map((function(t){return t*e})):null),N.setZIndex(L))}let G,U,B,F,j,q,z,H,V,Y=!1,W=null,X=0;if((1==E||2==E)&&"icon-image"in k){const t=ni(x,"layout","icon-image",b,w,m,_);if(t){let r;G="string"==typeof t?li(t,h):t.toString();const a=s?s(e,G):void 0;if(l&&o&&o[G]||a){const e=ni(x,"layout","icon-rotation-alignment",b,w,m,_);if(2==E){const t=n.getGeometry();if(t.getFlatMidpoint||t.getFlatMidpoints){const n=t.getExtent();if(Math.sqrt(Math.max(Math.pow((n[2]-n[0])/i,2),Math.pow((n[3]-n[1])/i,2)))>150){const n="MultiLineString"===t.getType()?t.getFlatMidpoints():t.getFlatMidpoint();ti||(ei=[NaN,NaN],ti=new ke("Point",ei,[],2,{},void 0)),r=ti,ei[0]=n[0],ei[1]=n[1];if("line"===ni(x,"layout","symbol-placement",b,w,m,_)&&"map"===e){const e=t.getStride(),r=t.getFlatCoordinates();for(let t=0,o=r.length-e;t<o;t+=e){const o=r[t],i=r[t+1],a=r[t+e],s=r[t+e+1],l=Math.min(o,a),c=Math.min(i,s),u=Math.max(o,a),p=Math.max(i,s);if(n[0]>=l&&n[0]<=u&&n[1]>=c&&n[1]<=p){X=Math.atan2(i-s,a-o);break}}}}}}if(2!==E||r){const t=ni(x,"layout","icon-size",b,w,m,_),n=void 0!==R["icon-color"]?ni(x,"paint","icon-color",b,w,m,_):null;if(!n||0!==n.a){const r=ni(x,"paint","icon-halo-color",b,w,m,_),i=ni(x,"paint","icon-halo-width",b,w,m,_);let s=`${G}.${t}.${i}.${r}`;if(null!==n&&(s+=`.${n}`),U=g[s],!U){const p=ri(x,b,w,"icon",m);let d;"icon-offset"in k&&(d=ni(x,"layout","icon-offset",b,w,m,_).slice(0),d[0]*=t,d[1]*=-t);let h=n?[255*n.r,255*n.g,255*n.b,n.a]:void 0;if(a){const n={color:h,rotateWithView:"map"===e,displacement:d,declutterMode:p,scale:t};"string"==typeof a?n.src=a:(n.img=a,n.imgSize=[a.width,a.height]),U=new M(n)}else{const a=o[G];let s,g,f;i?a.sdf?(s=Do(Go(l,a,n||[0,0,0,1]),{x:0,y:0,width:a.width,height:a.height,pixelRatio:a.pixelRatio},i,r),h=void 0):s=Do(l,a,i,r):(a.sdf?(u||(u=Go(l,{x:0,y:0,width:c[0],height:c[1]},{r:1,g:1,b:1,a:1})),s=u):s=l,g=[a.width,a.height],f=[a.x,a.y]),U=new M({color:h,img:s,imgSize:c,size:g,offset:f,rotateWithView:"map"===e,scale:t/a.pixelRatio,displacement:d,declutterMode:p})}g[s]=U}}U&&(++S,N=A[S],N&&N.getImage()&&!N.getFill()&&!N.getStroke()||(N=new Ne,A[S]=N),N.setGeometry(r),U.setRotation(X+_o(ni(x,"layout","icon-rotate",b,w,m,_))),U.setOpacity(ni(x,"paint","icon-opacity",b,w,m,_)),U.setAnchor(Ko[ni(x,"layout","icon-anchor",b,w,m,_)]),N.setImage(U),W=N.getText(),N.setText(void 0),N.setZIndex(L),Y=!0,B=!1)}else B=!0}}}if(1==E&&"circle"===x.type){++S,N=A[S],N&&N.getImage()&&!N.getFill()&&!N.getStroke()||(N=new Ne,A[S]=N);const e="circle-radius"in R?ni(x,"paint","circle-radius",b,w,m,_):5,t=ai(ni(x,"paint","circle-stroke-color",b,w,m,_),ni(x,"paint","circle-stroke-opacity",b,w,m,_)),n=ni(x,"paint","circle-translate",b,w,m,_),r=ai(ni(x,"paint","circle-color",b,w,m,_),ni(x,"paint","circle-opacity",b,w,m,_)),o=ni(x,"paint","circle-stroke-width",b,w,m,_),i=e+"."+t+"."+r+"."+o+"."+n[0]+"."+n[1];U=g[i],U||(U=new O({radius:e,displacement:[n[0],-n[1]],stroke:t&&o>0?new Re({width:o,color:t}):void 0,fill:r?new D({color:r}):void 0,declutterMode:"none"}),g[i]=U),N.setImage(U),W=N.getText(),N.setText(void 0),N.setGeometry(void 0),N.setZIndex(L),Y=!0}if("text-field"in k){z=Math.round(ni(x,"layout","text-size",b,w,m,_));const e=ni(x,"layout","text-font",b,w,m,_);q=ni(x,"layout","text-line-height",b,w,m,_),j=ho(a?a(e,t.metadata?t.metadata["ol:webfonts"]:void 0):e,z,q),j.includes("sans-serif")||(j+=",sans-serif"),H=ni(x,"layout","text-letter-spacing",b,w,m,_),V=ni(x,"layout","text-max-width",b,w,m,_);const n=ni(x,"layout","text-field",b,w,m,_);F="object"==typeof n&&n.sections?1===n.sections.length?n.toString():n.sections.reduce(((t,n,r)=>{const o=n.fontStack?n.fontStack.split(","):e,i=ho(a?a(o):o,z*(n.scale||1),q);let s=n.text;if("\n"===s)return t.push("\n",""),t;if(2!=E){s=Ho(s,i,V,H).split("\n");for(let e=0,n=s.length;e<n;++e)e>0&&t.push("\n",""),t.push(s[e],i);return t}t.push(Bo(s,H),i)}),[]):li(n,h).trim(),p=ni(x,"paint","text-opacity",b,w,m,_)}if(F&&p&&!B){Y||(++S,N=A[S],N&&N.getText()&&!N.getFill()&&!N.getStroke()||(N=new Ne,A[S]=N),N.setImage(void 0),N.setGeometry(void 0));const e=ri(x,b,w,"text",m);N.getText()||N.setText(W),W=N.getText(),(!W||"getDeclutterMode"in W&&W.getDeclutterMode()!==e)&&(W=new Le({padding:[2,2,2,2],declutterMode:e}),N.setText(W));const t=ni(x,"layout","text-transform",b,w,m,_);"uppercase"==t?F=Array.isArray(F)?F.map(((e,t)=>t%2?e:e.toUpperCase())):F.toUpperCase():"lowercase"==t&&(F=Array.isArray(F)?F.map(((e,t)=>t%2?e:e.toLowerCase())):F.toLowerCase());const n=Array.isArray(F)?F:2==E?Bo(F,H):Ho(F,j,V,H);W.setText(n),W.setFont(j),W.setRotation(_o(ni(x,"layout","text-rotate",b,w,m,_)));const r=ni(x,"layout","text-anchor",b,w,m,_),o=Y||1==E?"point":ni(x,"layout","symbol-placement",b,w,m,_);let i;if("line-center"===o?(W.setPlacement("line"),i="center"):W.setPlacement(o),"line"===o&&"function"==typeof W.setRepeat){const e=ni(x,"layout","symbol-spacing",b,w,m,_);W.setRepeat(2*e)}W.setOverflow("point"===o);let a=ni(x,"paint","text-halo-width",b,w,m,_);const s=ni(x,"layout","text-offset",b,w,m,_),l=ni(x,"paint","text-translate",b,w,m,_);let c=0,u=0;if("point"==o){i="center",-1!==r.indexOf("left")?(i="left",u=a):-1!==r.indexOf("right")&&(i="right",u=-a);const e=ni(x,"layout","text-rotation-alignment",b,w,m,_);W.setRotateWithView("map"==e)}else W.setMaxAngle(_o(ni(x,"layout","text-max-angle",b,w,m,_))*F.length/n.length),W.setRotateWithView(!1);W.setTextAlign(i);let d="middle";0==r.indexOf("bottom")?(d="bottom",c=-a-.5*(q-1)*z):0==r.indexOf("top")&&(d="top",c=a+.5*(q-1)*z),W.setTextBaseline(d);const h=ni(x,"layout","text-justify",b,w,m,_);W.setJustify("auto"===h?void 0:h),W.setOffsetX(s[0]*z+u+l[0]),W.setOffsetY(s[1]*z+c+l[1]),I.setColor(ai(ni(x,"paint","text-color",b,w,m,_),p)),W.setFill(I);const g=ai(ni(x,"paint","text-halo-color",b,w,m,_),p);if(g&&a>0){C.setColor(g),a*=2;const e=.5*z;C.setWidth(a<=e?a:e),W.setStroke(C)}else W.setStroke(void 0);const f=ni(x,"layout","text-padding",b,w,m,_),y=W.getPadding();f!==y[0]&&(y[0]=f,y[1]=f,y[2]=f,y[3]=f),N.setZIndex(L)}}}return S>-1?(A.length=S+1,ci&&("set"in n?n.set("mapbox-layer",P):n.getProperties()["mapbox-layer"]=P),A):void 0};return e.setStyle(b),e.set("mapbox-source",v),e.set("mapbox-layers",h),e.set("mapbox-featurestate",e.get("mapbox-featurestate")||{}),b}function di(e,t=512){return e.getExtent()?(0,ze.createXYZ)({extent:e.getExtent(),tileSize:t,maxZoom:22}).getResolutions():Po}function hi(e,t){if(!t.accessToken){t=Object.assign({},t);new URL(e).searchParams.forEach(((e,n)=>{t.accessToken=e,t.accessTokenParam=n}))}return t}function gi(e,t,n="",r={},o=void 0){let i,a,s,l,c=!0;return"string"==typeof n||Array.isArray(n)?l=n:(s=n,l=s.source||s.layers,r=s),"string"==typeof r?(i=r,s={}):(i=r.styleUrl,s=r),!1===s.updateSource&&(c=!1),o||(o=s.resolutions),i||"string"!=typeof t||t.trim().startsWith("{")||(i=t),i&&(i=i.startsWith("data:")?location.href:mo(i,s.accessToken),s=hi(i,s)),new Promise((function(n,r){No(t,s).then((function(t){if(8!=t.version)return r(new Error("glStyle version 8 required."));if(!(e instanceof C||e instanceof y))return r(new Error("Can only apply to VectorLayer or VectorTileLayer"));const p=e instanceof y?"vector":"geojson";if(l?a=Array.isArray(l)?t.layers.find((function(e){return e.id===l[0]})).source:l:(a=Object.keys(t.sources).find((function(e){return t.sources[e].type===p})),l=a),!a)return r(new Error(`No ${p} source found in the glStyle.`));function d(){if(!c)return Promise.resolve();if(e instanceof y)return mi(t.sources[a],i,s).then((function(t){const n=e.getSource();n?t!==n&&(n.setTileUrlFunction(t.getTileUrlFunction()),"function"==typeof n.setUrls&&"function"==typeof t.getUrls&&n.setUrls(t.getUrls()),n.format_||(n.format_=t.format_),n.getAttributions()||n.setAttributions(t.getAttributions()),n.getTileLoadFunction()===E.defaultLoadFunction&&n.setTileLoadFunction(t.getTileLoadFunction()),(0,u.equivalent)(n.getProjection(),t.getProjection())&&(n.tileGrid=t.getTileGrid())):e.setSource(t);const r=e.getSource().getTileGrid();!isFinite(e.getMaxResolution())&&!isFinite(e.getMinZoom())&&r.getMinZoom()>0&&e.setMaxResolution(To(Math.max(0,r.getMinZoom()-1e-12),r.getResolutions()))}));const n=t.sources[a];let r=e.getSource();r&&r.get("mapbox-source")===n||(r=vi(n,i,s));const o=e.getSource();return o?r!==o&&(o.getAttributions()||o.setAttributions(r.getAttributions()),o.format_||(o.format_=r.getFormat()),o.url_=r.getUrl()):e.setSource(r),Promise.resolve()}let h,g,f,m;function v(){if(m||t.sprite&&!g)m?(e.setStyle(m),d().then(n).catch(r)):r(new Error("Something went wrong trying to apply style."));else{if(s.projection&&!o){const e=(0,u.get)(s.projection).getUnits();"m"!==e&&(o=Po.map((t=>t/je.METERS_PER_UNIT[e])))}m=pi(e,t,l,o,g,f,((e,t=s.webfonts)=>function(e,t="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){const n=e.toString();if(n in Zo)return Zo[n];const r=[];for(let t=0,n=e.length;t<n;++t){e[t]=e[t].replace("Arial Unicode MS","Arial");const n=e[t],o=ho(n,1);(0,De.registerFont)(o);const i=o.split(" ");r.push([i.slice(3).join(" ").replace(/"/g,""),i[1],i[0]])}for(let e=0,n=r.length;e<n;++e){const n=r[e],o=n[0];if(!Xo(o)&&100!==De.checkedFonts.get(`${n[2]}\n${n[1]} \n${o}`)){const e=t.replace("{font-family}",o.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",o.replace(/ /g,"+")).replace("{fontweight}",n[1]).replace("{-fontstyle}",n[2].replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",n[2]);if(!document.querySelector('link[href="'+e+'"]')){const t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)}}}return Zo[n]=e,e}(e,t)),s.getImage),e.getStyle()?d().then(n).catch(r):r(new Error(`Nothing to show for source [${a}]`))}}if(t.sprite){const e=new URL(function(e,t,n){const r=fo(e);if(!r)return decodeURI(new URL(e,n).href);const o="sprites/";if(0!==r.indexOf(o))throw new Error(`unexpected sprites url: ${e}`);const i=r.slice(8);return`${go}/styles/v1/${i}/sprite?access_token=${t}`}(t.sprite,s.accessToken,i||location.href));h=window.devicePixelRatio>=1.5?.5:1;const n=.5==h?"@2x":"";let o=e.origin+e.pathname+n+".json"+e.search;new Promise((function(t,n){Ro("Sprite",o,s).then(t).catch((function(r){o=e.origin+e.pathname+".json"+e.search,Ro("Sprite",o,s).then(t).catch(n)}))})).then((function(t){if(void 0===t&&r(new Error("No sprites found.")),g=t,f=e.origin+e.pathname+n+".png"+e.search,s.transformRequest){const e=s.transformRequest(f,"SpriteImage")||f;(e instanceof Request||e instanceof Promise)&&(f=e)}v()})).catch((function(e){r(new Error(`Sprites cannot be loaded: ${o}: ${e.message}`))}))}else v()})).catch(r)}))}function fi(e,t,n){const r=new R({tileJSON:t,tileSize:e.tileSize||t.tileSize||512}),o=r.getTileJSON(),i=r.getTileGrid(),a=(0,u.get)(n.projection||"EPSG:3857"),s=function(e,t){const n=e.bounds;if(n){const e=(0,u.fromLonLat)([n[0],n[1]],t),r=(0,u.fromLonLat)([n[2],n[3]],t);return[e[0],e[1],r[0],r[1]]}return(0,u.get)(t).getExtent()}(o,a),l=a.getExtent(),c=o.minzoom||0,p=o.maxzoom||22,d={attributions:r.getAttributions(),projection:a,tileGrid:new Fe({origin:l?(0,He.getTopLeft)(l):i.getOrigin(0),extent:s||i.getExtent(),minZoom:c,resolutions:di(a,t.tileSize).slice(0,p+1),tileSize:i.getTileSize(0)})};return Array.isArray(o.tiles)?d.urls=o.tiles:d.url=o.tiles,d}function mi(e,t,n){return new Promise((function(r,o){Oo(e,t,n).then((function({tileJson:t,tileLoadFunction:o}){const i=fi(e,t,n);i.tileLoadFunction=o,i.format=new p,r(new E(i))})).catch(o)}))}function yi(e){return`{bbox-${(e?e.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function vi(e,t,n){const r=n.projection?new Be({dataProjection:n.projection}):new Be,o=e.data,i={};if("string"==typeof o){const i=yo(o,n.accessToken,n.accessTokenParam||"access_token",t||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(i)){const t=(e,t,n)=>{const r=yi(n);return i.replace(r,`${e.join(",")}`)},o=new _({attributions:e.attribution,format:r,loader:(e,r,i,a,s)=>{Ro("GeoJSON","function"==typeof t?t(e,r,i):t,n).then((e=>{const t=o.getFormat().readFeatures(e,{featureProjection:i});o.addFeatures(t),a(t)})).catch((t=>{o.removeLoadedExtent(e),s()}))},strategy:qe.bbox});return o.set("mapbox-source",e),o}const a=new _({attributions:e.attribution,format:r,url:i,loader:(e,t,r,o,s)=>{Ro("GeoJSON",i,n).then((e=>{const t=a.getFormat().readFeatures(e,{featureProjection:r});a.addFeatures(t),o(t)})).catch((t=>{a.removeLoadedExtent(e),s()}))}});return a}i.features=r.readFeatures(o,{featureProjection:(0,u.getUserProjection)()||"EPSG:3857"});const a=new _(Object.assign({attributions:e.attribution,format:r},i));return a.set("mapbox-source",e),a}var Ci=n(2987),Ii=n(1518),Ai=n(9994),bi=n(6117),Ei=n(3600),wi=n(2536),_i=n(5844),Pi=n(6736),Si={proxifyUrl:function(e,t){var n=_i.A.getLogger("proxifyUrl");if(!t||!t.hasOwnProperty("proxyUrl")||null===t.proxyUrl||0===t.proxyUrl.trim().length)return e;if(t.noProxyDomains&&Array.isArray(t.noProxyDomains)&&t.noProxyDomains.length>0)for(var r in t.noProxyDomains)if(n.trace("[ProxyUtils] proxifyUrl : analyzing "+t.noProxyDomains[r]),-1!==e.indexOf(t.noProxyDomains[r]))return n.info("[ProxyUtils] proxifyUrl : "+e+" found in noProxyDomains list ("+t.noProxyDomains[r]+")."),e;return t.proxyUrl+encodeURIComponent(e)}};const xi=Si;var Ti={_addUID:function(e){return this._uid?e+"-"+this._uid:e},_createLoadingElement:function(){var e=document.createElement("div");return e.id="GPmapLoading",e.className="",e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimport"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowImportPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowImportPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowImportPicto gpf-btn gpf-btn-icon gpf-btn-icon-import fr-btn",t.title="Ouvrir l'import de couches",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.setAttribute("type","button"),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e._onShowImportClick()})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e._onShowImportClick()})),t},_createImportPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPimportPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createImportPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__body fr-modal__body",e},_createImportPanelHeaderElement:function(){var e=document.createElement("div");return e.className="GPpanelHeader gpf-panel__header fr-modal__header",e},_createImportPanelTitleElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportHeaderTitle"),e.className="GPpanelTitle gpf-panel__title fr-modal__title fr-pt-4w",e.innerHTML="Import de donnÃ©es",e},_createImportPanelCloseElement:function(){var e=this,t=document.createElement("button");t.id=this._addUID("GPimportPanelClose"),t.className="GPpanelClose GPimportPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",t.title="Fermer le panneau",t.addEventListener?t.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click()}),!1):t.attachEvent&&t.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click()}));var n=document.createElement("span");return n.className="GPelementHidden gpf-visible",n.innerText="Fermer",t.appendChild(n),t},_createImportPanelFormElement:function(){var e=this,t=document.createElement("form");return t.id=this._addUID("GPimportForm"),t.className="GPform gpf-panel__content fr-modal__content",t.addEventListener?t.addEventListener("submit",(function(t){t.preventDefault(),e._onImportSubmit()})):t.attachEvent&&t.attachEvent("onsubmit",(function(t){t.preventDefault(),e._onImportSubmit()})),t},_createImportTypeLineElement:function(e){var t=this,n=document.createElement("div");n.id=this._addUID("GPimportTypeLine"),n.className="GPimportInputLine";var r=document.createElement("label");r.id=this._addUID("GPimportTypeLabel"),r.className="GPlabel gpf-label fr-label",r.innerHTML="Type de donnÃ©e",r.title="Type de donnÃ©e",n.appendChild(r);var o,i=document.createElement("select");i.setAttribute("aria-labelledby",this._addUID("GPimportTypeLabel")),i.className="GPselect gpf-select fr-select",i.addEventListener?i.addEventListener("change",(function(e){"KML"===this.value||"GPX"===this.value||"GeoJSON"===this.value||"MAPBOX"===this.value?(document.getElementById(t._addUID("GPimportStaticParams")).className="GPelementVisible gpf-visible fr-my-4w",document.getElementById(t._addUID("GPimportServiceParams")).className="GPelementHidden gpf-hidden"):"WMS"!==this.value&&"WMTS"!==this.value&&"WFS"!==this.value||(document.getElementById(t._addUID("GPimportServiceParams")).className="GPelementVisible gpf-visible fr-my-4w",document.getElementById(t._addUID("GPimportStaticParams")).className="GPelementHidden gpf-hidden"),t._onImportTypeChange(e)})):i.attachEvent&&i.attachEvent("onchange",(function(){"KML"===this.value||"GPX"===this.value||"GeoJSON"===this.value||"MAPBOX"===this.value?(document.getElementById(t._addUID("GPimportStaticParams")).className="GPelementVisible gpf-visible fr-my-4w",document.getElementById(t._addUID("GPimportServiceParams")).className="GPelementHidden gpf-hidden"):"WMS"!==this.value&&"WMTS"!==this.value&&"WFS"!==this.value||(document.getElementById(t._addUID("GPimportServiceParams")).className="GPelementVisible gpf-visible fr-my-4w",document.getElementById(t._addUID("GPimportStaticParams")).className="GPelementHidden gpf-hidden"),t._onImportTypeChange()})),i.id=this._addUID("GPimportTypeSelect"),e&&Array.isArray(e)||(e=["KML","GPX","GeoJSON","MAPBOX","WMS","WMTS","WFS"]);for(var a=0;a<e.length;a++)(o=document.createElement("option")).value=e[a],o.text="MAPBOX"===e[a]?"Tuiles vectorielles":e[a],i.appendChild(o);return n.appendChild(i),n},_createImportWaitingElement:function(){var e=document.createElement("div");e.id=this._addUID("GPimportWaitingContainer"),e.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden";var t=document.createElement("p");return t.className="GPwaitingContainerInfo gpf-waiting_info",t.innerHTML="Recherche en cours...",e.appendChild(t),e},_createImportStaticParamsContainer:function(e){var t=document.createElement("div");return t.id=this._addUID("GPimportStaticParams"),t.className="KML"===e||"GPX"===e||"GeoJSON"===e||"MAPBOX"===e?"GPelementVisible gpf-visible fr-my-4w":"GPelementHidden gpf-hidden",t},_createStaticNameLabel:function(){var e=document.createElement("div");e.className="GPimportInputLine fr-mb-1w";var t=document.createElement("label");t.className="GPlabel gpf-label fr-label",t.htmlFor=this._addUID("GPimportName"),t.innerHTML="Nom",t.title="Nom",e.appendChild(t);var n=document.createElement("input");return n.type="text",n.id=this._addUID("GPimportName"),n.className="GPinput gpf-input fr-input",e.appendChild(n),e},_createStaticModeChoiceDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportChoice"),e.className="fr-my-1w",e},_createStaticLocalChoiceDiv:function(){var e=this,t=document.createElement("div");t.className="GPimportChoiceAlt gpf-radio-group fr-radio-group";var n=document.createElement("input");n.type="radio",n.addEventListener?n.addEventListener("change",(function(t){document.getElementById(e._addUID("GPimportValueLocal")).className="GPimportInputLine fr-mb-1w",document.getElementById(e._addUID("GPimportValueUrl")).className="GPelementHidden gpf-hidden",e._onStaticImportTypeChange(t)})):n.appendChild&&n.appendChild("onchange",(function(){document.getElementById(e._addUID("GPimportValueLocal")).className="GPimportInputLine fr-mb-1w",document.getElementById(e._addUID("GPimportValueUrl")).className="GPelementHidden gpf-hidden",e._onStaticImportTypeChange()})),n.name="GPimportChoiceMode",n.value="local",n.checked=!0,n.id=this._addUID("GPimportChoiceAltLocal"),t.appendChild(n);var r=document.createElement("label");return r.className="GPimportChoiceAltTxt gpf-label fr-label",r.htmlFor=this._addUID("GPimportChoiceAltLocal"),r.innerHTML="par fichier local",r.title="par fichier local",t.appendChild(r),t},_createStaticUrlChoiceDiv:function(){var e=this,t=document.createElement("div");t.className="GPimportChoiceAlt gpf-radio-group fr-radio-group";var n=document.createElement("input");n.type="radio",n.addEventListener?n.addEventListener("change",(function(t){document.getElementById(e._addUID("GPimportValueUrl")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueLocal")).className="GPelementHidden gpf-hidden",e._onStaticImportTypeChange(t)})):n.appendChild&&n.appendChild("onchange",(function(){document.getElementById(e._addUID("GPimportValueUrl")).className="GPimportInputLine",document.getElementById(e._addUID("GPimportValueLocal")).className="GPelementHidden gpf-hidden",e._onStaticImportTypeChange()})),n.id=this._addUID("GPimportChoiceAltUrl"),n.name="GPimportChoiceMode",n.value="url",n.checked=!1,t.appendChild(n);var r=document.createElement("label");return r.className="GPimportChoiceAltTxt gpf-label fr-label",r.htmlFor=this._addUID("GPimportChoiceAltUrl"),r.innerHTML="par URL",r.title="par URL",t.appendChild(r),t},_createStaticLocalInputDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportValueLocal"),e.className="GPimportInputLine",e},_createStaticLocalInputLabel:function(){var e=document.createElement("label");return e.className="GPlabel gpf-label fr-label fr-mb-1w",e.htmlFor=this._addUID("GPimportFile"),e.innerHTML="Fichier local",e.title="Fichier local",e},_createStaticLocalInput:function(){var e=document.createElement("input");return e.type="file",e.id=this._addUID("GPimportFile"),e.className="GPimportInputFile gpf-upload fr-upload",e},_createStaticUrlInputDiv:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportValueUrl"),e.className="GPelementHidden gpf-hidden",e},_createStaticUrlInputLabel:function(){var e=document.createElement("label");return e.className="GPlabel gpf-label fr-label",e.htmlFor=this._addUID("GPimportUrl"),e.innerHTML="URL",e.title="URL",e},_createStaticUrlInput:function(){var e=document.createElement("input");return e.type="text",e.id=this._addUID("GPimportUrl"),e.className="GPinput gpf-input fr-input",e},_createServiceParamsContainer:function(e){var t=document.createElement("div");return t.id=this._addUID("GPimportServiceParams"),t.className="WMS"===e||"WMTS"===e||"WFS"===e?"GPelementVisible gpf-visible":"GPelementHidden gpf-hidden",t},_createServiceUrlDiv:function(){var e=document.createElement("div");return e.className="GPimportInputLine",e},_createServiceUrlInputLabel:function(){var e=document.createElement("label");return e.className="GPlabel gpf-label fr-label",e.htmlFor=this._addUID("GPimportServiceUrl"),e.innerHTML="URL du service",e.title="URL du service",e},_createServiceUrlInput:function(){var e=document.createElement("input");return e.type="text",e.id=this._addUID("GPimportServiceUrl"),e.className="GPinput gpf-input fr-input",e},_createImportSubmitFormElement:function(){var e=document.createElement("input");return e.id=this._addUID("GPimportSubmit"),e.className="GPsubmit gpf-btn fr-btn fr-btn--secondary gpf-btn--secondary",e.type="submit",e.value="Importer",e},_createImportGetCapPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportGetCapPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createImportGetCapPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("div");n.className="GPpanelTitle gpf-panel__title fr-modal__title",n.innerHTML="Couches accessibles",n.title="Couches accessibles",t.appendChild(n);var r=document.createElement("button");return r.className="GPpanelClose GPimportGetCapPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",r.title="Fermer le panneau",r.id=this._addUID("GPimportGetCapPanelClose"),r.addEventListener?r.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click(),document.getElementById(e._addUID("GPimportGetCapPanel")).style.display="none",e._onGetCapPanelClose()})):r.attachEvent&&r.attachEvent("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click(),document.getElementById(e._addUID("GPimportGetCapPanel")).style.display="none",e._onGetCapPanelClose()})),t.appendChild(r),t},_createImportGetCapResultsContainer:function(){var e=document.createElement("div");return e.className="GPimportGetCapRoot gpf-panel__list",e.id=this._addUID("GPimportGetCapResults"),e},_addImportGetCapResultListRubrique:function(e,t){var n=document.createElement("ul");return n.className="GPimportGetCapListRubrique",n.title=e,t.appendChild(n),t},_addImportGetCapResultRubrique:function(e,t){var n=document.createElement("li");n.className="GPimportGetCapRubrique gpf-panel__items";var r=document.createElement("input");r.id="GPimportGetCapRubrique-"+Pi.A.generate(),r.className="GPimportGetCapRubrique",r.type="checkbox",n.appendChild(r);var o=document.createElement("label");return o.className="GPimportGetCapRubriqueTitle gpf-label fr-btn fr-btn--secondary",o.htmlFor=r.id,o.innerHTML=e,o.title=e,n.appendChild(o),t.appendChild(n),t},_addImportGetCapResultListLayer:function(e){var t=document.createElement("ul");return t.className="GPimportGetCapListLayer",e.appendChild(t),e},_addImportGetCapResultLayer:function(e,t,n){var r=document.createElement("li");r.className="GPimportGetCapProposal gpf-panel__items",r.innerHTML=e.content,r.title=e.title,r.id="GPimportGetCapProposal_"+t;var o=this;return r.addEventListener?r.addEventListener("click",(function(e){o._onGetCapResponseLayerClick(e)})):r.attachEvent&&r.attachEvent("onclick",(function(){o._onGetCapResponseLayerClick()})),n.appendChild(r),n},_createImportMapBoxPanelElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPimportMapBoxPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createImportMapBoxPanelHeaderElement:function(){var e=this,t=document.createElement("div");t.className="GPpanelHeader gpf-panel__header fr-modal__header";var n=document.createElement("button");n.id=this._addUID("GPimportMapBoxPanelReturnPicto"),n.title="Masquer le panneau",n.className="GPreturnPicto GPimportMapBoxPanelReturnPicto gpf-btn gpf-btn-icon-return fr-btn fr-btn--secondary gpf-btn--secondary",n.addEventListener?n.addEventListener("click",(function(t){document.getElementById(e._addUID("GPshowImportPicto")).click(),e._onMapBoxReturnPictoClick(t)})):n.attachEvent&&n.attachEvent("onclick",(function(t){document.getElementById(e._addUID("GPshowImportPicto")).click(),e._onMapBoxReturnPictoClick(t)})),t.appendChild(n);var r=document.createElement("div");r.className="GPpanelTitle gpf-panel__title fr-modal__title",r.innerHTML="Edition des styles",r.title="Edition des styles",t.appendChild(r);var o=document.createElement("button");return o.className="GPpanelClose GPimportMapBoxPanelClose gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",o.title="Fermer le panneau",o.id=this._addUID("GPimportMapBoxPanelClose"),o.addEventListener?o.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click(),document.getElementById(e._addUID("GPimportMapBoxPanel")).style.display="none",e._onMapBoxPanelClose()})):o.attachEvent&&o.attachEvent("click",(function(){document.getElementById(e._addUID("GPshowImportPicto")).click(),document.getElementById(e._addUID("GPimportMapBoxPanel")).style.display="none",e._onMapBoxPanelClose()})),t.appendChild(o),t},_createImportMapBoxResultsContainer:function(){var e=document.createElement("div");return e.className="GPimportMapBoxpRoot",e.id=this._addUID("GPimportMapBoxResults"),e}};const ki=Ti;var Ri,Ni=n(5771),Li=n(9632),Oi=n(7255),Di=n(9209),Mi=n(6606),Gi=n(9322),Ui=n(4934);function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(e)}function Fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yi(r.key),r)}}function ji(e,t){if(t&&("object"==Bi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qi=function(){return!!e})()}function zi(){return zi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Hi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},zi.apply(null,arguments)}function Hi(e){return Hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hi(e)}function Vi(e,t){return Vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vi(e,t)}function Yi(e){var t=function(e,t){if("object"!=Bi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bi(t)?t:t+""}var Wi,Xi,Zi,Ji=_i.A.getLogger("layerimport"),Ki=(Ri=function(e){function n(e){var t,r,o,i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,o=n,i=[{element:(e=e||{}).element,target:e.target,render:e.render}],o=Hi(o),!((t=ji(r,qi()?Reflect.construct(o,i||[],Hi(r).constructor):o.apply(r,i)))instanceof n))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return t._initialize(e),t._container=t._initContainer(e),t.element?t.element.appendChild(t._container):t.element=t._container,ji(t,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vi(e,t)}(n,e),r=n,o=[{key:"setMap",value:function(e){if(e){var t=this;e.getLayers().on("remove",(function(e){"layerimport:MAPBOX"===e.element.gpResultLayerId&&e.element.gpEditorId&&t._mapBoxPanel&&t._importPanel&&(t.cleanMapBoxResults(e.element.gpEditorId),t._mapBoxPanel.style.display="none",t._importPanel.style.display="")}),t),this.draggable&&(bi.A.dragElement(this._importPanel,this._importPanelHeader,this.options.position?null:e.getTargetElement()),bi.A.dragElement(this._getCapPanel,this._getCapPanelHeader,e.getTargetElement()),bi.A.dragElement(this._mapBoxPanel,this._mapBoxPanelHeader,e.getTargetElement())),this.collapsed||this._showImportButton.setAttribute("aria-pressed",!0)}var r,o,i,a,s;(r=n,o="setMap",i=this,s=zi(Hi(1&(a=3)?r.prototype:r),o,i),2&a&&"function"==typeof s?function(e){return s.apply(i,e)}:s)([e]),this.options.position&&this.setPosition(this.options.position)}},{key:"getCollapsed",value:function(){return this.collapsed}},{key:"setCollapsed",value:function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?this._panelCloseButton.click():this._showImportButton.click(),this.collapsed=e):Ji.error("[ERROR] LayerImport:setCollapsed - missing collapsed parameter")}},{key:"getStaticImportContent",value:function(){return this.contentStatic}},{key:"getServiceImportContent",value:function(){return this.contentService}},{key:"getName",value:function(){return this._name}},{key:"getContainer",value:function(){return this._container}},{key:"_initialize",value:function(e){if(this._checkInputOptions(e),this.options={collapsed:!0,draggable:!1,layerTypes:["KML","GPX","GeoJSON","WMS","WMTS","MAPBOX"],webServicesOptions:{},vectorStyleOptions:{KML:{extractStyles:!0,showPointNames:!0,defaultStyle:{}},GPX:{defaultStyle:{}},GeoJSON:{defaultStyle:{}},MapBox:{defaultStyle:{},editor:{}}}},e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.extractStyles&&(this.options.vectorStyleOptions.KML.extractStyles=e.vectorStyleOptions.KML.extractStyles),e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.showPointNames&&(this.options.vectorStyleOptions.KML.showPointNames=e.vectorStyleOptions.KML.showPointNames),e.vectorStyleOptions&&e.vectorStyleOptions.KML&&e.vectorStyleOptions.KML.defaultStyle?this.options.vectorStyleOptions.KML.defaultStyle=e.vectorStyleOptions.KML.defaultStyle:this.options.vectorStyleOptions.KML.defaultStyle=new L.Style({image:n.DefaultStyles.image,stroke:n.DefaultStyles.stroke,fill:n.DefaultStyles.fill,text:n.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.GPX&&e.vectorStyleOptions.GPX.defaultStyle?this.options.vectorStyleOptions.GPX.defaultStyle=e.vectorStyleOptions.GPX.defaultStyle:this.options.vectorStyleOptions.GPX.defaultStyle=new L.Style({image:n.DefaultStyles.image,stroke:n.DefaultStyles.stroke,fill:n.DefaultStyles.fill,text:n.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.GeoJSON&&e.vectorStyleOptions.GeoJSON.defaultStyle?this.options.vectorStyleOptions.GeoJSON.defaultStyle=e.vectorStyleOptions.GeoJSON.defaultStyle:this.options.vectorStyleOptions.GeoJSON.defaultStyle=new L.Style({image:n.DefaultStyles.image,stroke:n.DefaultStyles.stroke,fill:n.DefaultStyles.fill,text:n.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.defaultStyle?this.options.vectorStyleOptions.MapBox.defaultStyle=e.vectorStyleOptions.MapBox.defaultStyle:this.options.vectorStyleOptions.MapBox.defaultStyle=new L.Style({image:n.DefaultStyles.image,stroke:n.DefaultStyles.stroke,fill:n.DefaultStyles.fill,text:n.DefaultStyles.text}),e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.editor?this.options.vectorStyleOptions.MapBox.editor=e.vectorStyleOptions.MapBox.editor:this.options.vectorStyleOptions.MapBox.editor={title:!0,collapse:!1,themes:!1,layers:!0,style:!0,filter:!1,legend:!0,group:!1},e.vectorStyleOptions&&e.vectorStyleOptions.MapBox&&e.vectorStyleOptions.MapBox.hasOwnProperty("display")?this.options.vectorStyleOptions.MapBox.display=e.vectorStyleOptions.MapBox.display:this.options.vectorStyleOptions.MapBox.display=!0,Array.isArray(e.layerTypes)){for(var t=[],r=0;r<e.layerTypes.length;r++)t.push(e.layerTypes[r]);this.options.layerTypes=t}wi.A.mergeParams(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this._uid=Pi.A.generate(),this._waiting=!1,this._timer=null,this._initImportTypes(),this._initDefaultStyles(),this._showImportButton=null,this._importPanel=null,this._panelCloseButton=null,this._importPanelHeader=null,this._formContainer=null,this._staticLocalImportInput=null,this._staticUrlImportInput=null,this._serviceUrlImportInput=null,this._getCapPanel=null,this._getCapPanelHeader=null,this._getCapResultsListContainer=null,this._mapBoxPanel=null,this._mapBoxPanelHeader=null,this._mapBoxResultsListContainer=null,this._waitingContainer=null,this._loadingContainer=null,this._getCapRequestUrl=null,this._getCapResponseWMS=null,this._getCapResponseWMSLayers=[],this._getCapResponseWMTS=null,this._getCapResponseWMTSLayers=[],this._hasMapBoxResults=!1,this.contentStatic=null,this._url=null,this._file=null,this._name=null}},{key:"_checkInputOptions",value:function(e){if(e.layerTypes){var t=e.layerTypes;if(Array.isArray(t)){for(var n=["KML","GPX","GEOJSON","WMS","WMTS","WFS","MAPBOX"],r=[],o=0;o<t.length;o++)"string"!=typeof t[o]?(r.push(o),Ji.warn("[ol.control.LayerImport] 'options.layerTypes' elements should be of type string ("+t[o]+")")):(t[o]=t[o].toUpperCase(),-1===n.indexOf(t[o])&&(r.push(o),Ji.log("[ol.control.LayerImport] options.layerTypes : "+t[o]+" is not a supported type")),"GEOJSON"===t[o]&&(t[o]="GeoJSON"),"MAPBOX"===t[o]&&(t[o]="MAPBOX"));if(0!==r.length)for(var i=r.length-1;i>=0;i--)t.splice(r[i],1)}else Ji.warn('[ol.control.LayerImport] \'options.layerTypes\' parameter should be an array. Set default values ["KML", "GPX", "GeoJSON", "WMS", "WMTS"]'),e.layerTypes=["KML","GPX","GeoJSON","WMS","WMTS","MAPBOX"]}}},{key:"_initDefaultStyles",value:function(){var e=this.options.vectorStyleOptions.KML.defaultStyle;this._defaultKMLStyle=new L.Style({image:e.image,stroke:e.stroke,fill:e.fill,text:e.text});var t=this.options.vectorStyleOptions.GPX.defaultStyle;this._defaultGPXStyle=new L.Style({image:t.image,stroke:t.stroke,fill:t.fill,text:t.text});var n=this.options.vectorStyleOptions.GeoJSON.defaultStyle;this._defaultGeoJSONStyle=new L.Style({image:n.image,stroke:n.stroke,fill:n.fill,text:n.text});var r=this.options.vectorStyleOptions.MapBox.defaultStyle;this._defaultMapBoxStyle=new L.Style({image:r.image,stroke:r.stroke,fill:r.fill,text:r.text})}},{key:"_initImportTypes",value:function(){this._currentImportType=this.options.layerTypes[0]||"KML","KML"===this._currentImportType||"GPX"===this._currentImportType||"GeoJSON"===this._currentImportType||"MAPBOX"===this._currentImportType?this._isCurrentImportTypeStatic=!0:"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||(this._isCurrentImportTypeStatic=!1),this._currentStaticImportType="local"}},{key:"_initContainer",value:function(){var e=this._createMainContainerElement(),t=this._showImportButton=this._createShowImportPictoElement();e.appendChild(t);var n=this._importPanel=this._createImportPanelElement(),r=this._createImportPanelDivElement();n.appendChild(r);var o=this._importPanelHeader=this._createImportPanelHeaderElement(),i=this._createImportPanelTitleElement();o.appendChild(i);var a=this._panelCloseButton=this._createImportPanelCloseElement();o.appendChild(a),r.appendChild(o);var s=this._formContainer=this._initInputFormElement();r.appendChild(s);var l=this._getCapPanel=this._createImportGetCapPanelElement(),c=this._getCapPanelHeader=this._createImportGetCapPanelHeaderElement();l.appendChild(c);var u=this._getCapResultsListContainer=this._createImportGetCapResultsContainer();l.appendChild(u),r.appendChild(l);var p=this._mapBoxPanel=this._createImportMapBoxPanelElement(),d=this._mapBoxPanelHeader=this._createImportMapBoxPanelHeaderElement();p.appendChild(d);var h=this._mapBoxResultsListContainer=this._createImportMapBoxResultsContainer();p.appendChild(h);var g=this._loadingContainer=this._createLoadingElement();p.appendChild(g),r.appendChild(p);var f=this._waitingContainer=this._createImportWaitingElement();return r.appendChild(f),e.appendChild(n),e}},{key:"_initInputFormElement",value:function(){var e=this._createImportPanelFormElement(),t=this._createImportTypeLineElement(this.options.layerTypes);e.appendChild(t);var n=this._createImportStaticParamsContainer(this.options.layerTypes[0]),r=this._createStaticNameLabel();n.appendChild(r);var o=this._createStaticModeChoiceDiv(),i=this._createStaticLocalChoiceDiv();o.appendChild(i);var a=this._createStaticUrlChoiceDiv();o.appendChild(a),n.appendChild(o);var s=this._createStaticLocalInputDiv();s.appendChild(this._createStaticLocalInputLabel()),this._staticLocalImportInput=this._createStaticLocalInput(),s.appendChild(this._staticLocalImportInput),n.appendChild(s);var l=this._createStaticUrlInputDiv();l.appendChild(this._createStaticUrlInputLabel()),this._staticUrlImportInput=this._createStaticUrlInput(),l.appendChild(this._staticUrlImportInput),n.appendChild(l),e.appendChild(n);var c=this._createServiceParamsContainer(this.options.layerTypes[0]),u=this._createServiceUrlDiv();u.appendChild(this._createServiceUrlInputLabel()),this._serviceUrlImportInput=this._createServiceUrlInput(),u.appendChild(this._serviceUrlImportInput),c.appendChild(u),e.appendChild(c);var p=this._createImportSubmitFormElement();return e.appendChild(p),e}},{key:"_onShowImportClick",value:function(){var e=this.getMap();Ei.A.unset(e);var t=this._showImportButton.ariaPressed;this.collapsed=!("true"===t),this.dispatchEvent("change:collapsed"),this.options.position&&!this.collapsed&&this.updatePosition(this.options.position),this._hasMapBoxResults?this._mapBoxPanel.style.display="block":(this._formContainer.style.display="block",this._importPanelHeader.style.display="")}},{key:"_onImportTypeChange",value:function(e){this._currentImportType=e.target.value,"KML"===this._currentImportType||"GPX"===this._currentImportType||"GeoJSON"===this._currentImportType||"MAPBOX"===this._currentImportType?this._isCurrentImportTypeStatic=!0:"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||(this._isCurrentImportTypeStatic=!1)}},{key:"_onStaticImportTypeChange",value:function(e){this._currentStaticImportType=e.target.value}},{key:"_onGetCapPanelClose",value:function(){"WMS"!==this._currentImportType&&"WMTS"!==this._currentImportType&&"WFS"!==this._currentImportType||this.cleanGetCapResultsList()}},{key:"_onMapBoxPanelClose",value:function(){this.cleanMapBoxResultsList(),this._loadingContainer.className=""}},{key:"_onMapBoxReturnPictoClick",value:function(e){this._mapBoxPanel.style.display="none",this._loadingContainer.className=""}},{key:"_onImportSubmit",value:function(){Ji.log("import d'une couche de type : "+this._currentImportType),this.contentStatic=null,this.contentService=null,this._isCurrentImportTypeStatic?this._importStaticLayer():this._importServiceLayers()}},{key:"_importStaticLayer",value:function(){var e,t=document.getElementById(this._addUID("GPimportName"));t&&(e=t.value||"",Ji.log("import layer name : "+e)),"local"===this._currentStaticImportType?(Ji.log("import static layer from local file"),this._importStaticLayerFromLocalFile(e)):"url"===this._currentStaticImportType&&(Ji.log("import static layer from url"),this._importStaticLayerFromUrl(e))}},{key:"_importStaticLayerFromUrl",value:function(e){var t=this._staticUrlImportInput.value;if(Ji.log("url : ",t),0!==t.length){t.trim&&(t=t.trim()),this._url=t,e||(e=this._url.substring(this._url.lastIndexOf("/")+1,this._url.lastIndexOf("."))),this._name=e,this.options.webServicesOptions&&this.options.webServicesOptions.proxyUrl&&(t=xi.proxifyUrl(t,this.options.webServicesOptions));var n=this;Ci.Ay.Protocols.XHR.call({url:t,method:"GET",timeOut:15e3,onResponse:function(t){n._hideWaitingContainer(),n._addFeaturesFromImportStaticLayer(t,e)},onFailure:function(e){n._hideWaitingContainer(),Ji.error("[ol.control.LayerImport] KML/GPX/GeoJSON/MapBox request failed : ",e)}})}else Ji.error("[ol.control.LayerImport] url parameter is mandatory")}},{key:"_importStaticLayerFromLocalFile",value:function(e){var t=this._staticLocalImportInput.files[0];if(t){this._file=t,e||(e=this._file.name.substring(this._file.name.lastIndexOf("/")+1,this._file.name.lastIndexOf("."))),this._name=e;var n=new FileReader,r=this;n.onerror=function(e){r._hideWaitingContainer(),Ji.error("error fileReader : ",e)},n.onprogress=function(){Ji.log("onprogress")},n.onloadstart=function(){r._displayWaitingContainer(),Ji.log("onloadstart")},n.onabort=function(){r._hideWaitingContainer(),Ji.log("onabort")},n.onloadend=function(e){Ji.log("onloadend : ",e)},n.onload=function(t){Ji.log("fileReader onload - file content : ",t.target.result),r._hideWaitingContainer(),r._addFeaturesFromImportStaticLayer(t.target.result,e)},n.readAsText(t)}else Ji.warn("[ol.control.LayerImport] missing file")}},{key:"_addFeaturesFromImportStaticLayer",value:function(e,n){var r=this.getMap();if(r&&e){var o=null,a=null,l=null,c=null;if(this.contentStatic=e,"MAPBOX"===this._currentImportType){this._hasMapBoxResults=!0;var p=this,h=JSON.parse(e),g=h.sources,f=Object.keys(g).length>1?1:0;for(var m in g)if(g.hasOwnProperty(m)){var y="",C="",A=null,b=null,E=null,_=null;if(h.metadata)for(var S in h.metadata)if(h.metadata.hasOwnProperty(S)){var x=S.split(":");if("geoportail"===x[0]){var T=x[1];if("title"===T){y=h.metadata[S];continue}if("description"===T){C=h.metadata[S];continue}if("quicklookUrl"===T){A=h.metadata[S];continue}if("legends"===T){b=h.metadata[S];continue}if("metadata"===T){E=h.metadata[S];continue}if("originators"===T){_=h.metadata[S];continue}}}y||(y="Couche MapBox"),C||(C="Couche MapBox"),y=f?y+"("+m+")":y;var k=g[m],R=k.type;if("vector"===R){var L=k.url,O=k.tiles,D=h.sprite;if(L&&0===L.indexOf("mapbox://")){var M=this._url;if(M){if(O=["a","b","c","d"].map((function(e){return"https://"+e+".tiles.mapbox.com/v4/"+L.replace("mapbox://","")+"/{z}/{x}/{y}.vector.pbf?"+M.split("?")[1]})),0===D.indexOf("mapbox://")){var G=M.split("?");h.sprite=G[0]+"/sprite?"+G[1]}}else Ji.warn("Not yet implemented, can't use the local import scheme with a 'mapbox://' in the file.!")}if(O)l=new(d())({featureClass:s()}),(a=new(w())({attributions:k.attribution,format:l,urls:O}))._title=y,a._description=C,a._quicklookUrl=A,a._metadata=E,a._legends=b,a._originators=_,a.on("tileloadstart",(function(e){p._loadingContainer.className="GPmapLoadingVisible"})),a.on("tileloadend",(function(e){p._loadingContainer.className=""})),a.on("tileloaderror",(function(e){p._loadingContainer.className=""})),(o=new(v())({source:a,visible:!1,declutter:!0})).id=m,o.gpResultLayerId="layerimport:"+this._currentImportType;else if(L){l=new(d())({featureClass:s()}),(o=new(v())({visible:!1,declutter:!0})).id=m,o.gpResultLayerId="layerimport:"+this._currentImportType;var U=new(N())({url:L}),B=U.on("change",(function(){if("ready"===U.getState()){for(var e=U.getTileJSON(),n=Array.isArray(e.tiles)?e.tiles:[e.tiles],r=0;r<n.length;r++){var i=n[r];0!==i.indexOf("http")&&(n[r]=L+i)}(a=new(w())({attributions:U.getAttributions()||e.attribution,format:l,urls:n}))._title=y,a._description=C,a._quicklookUrl=A,a._metadata=E,a._legends=b,a._originators=_,a.on("tileloadstart",(function(e){p._loadingContainer.className="GPmapLoadingVisible"})),a.on("tileloadend",(function(e){p._loadingContainer.className=""})),o.setSource(a),o.set("mapbox-extension",e.vector_layers),(0,t.unByKey)(B)}}))}}else{if("geojson"!==R)return void Ji.warn("Type MapBox format unknown !");var F=k.data;l=new Li.A,(a=new(w())({attributions:k.attribution,format:l,url:F}))._title=y,a._description=C,a._quicklookUrl=A,a._metadata=E,a._legends=b,a._originators=_,(o=new(v())({source:a,visible:!1,declutter:!0})).id=m,o.gpResultLayerId="layerimport:"+this._currentImportType}var j=JSON.parse(JSON.stringify(h));if(f){for(var q=j.layers,z=0;z<q.length;z++)q[z].source===m||q.splice(z,1);for(var H in j.sources)j.sources.hasOwnProperty(H)&&H!==m&&delete j.sources[H]}!function(e){var t=function(){gi(e.layer,e.styles,e.id).then((function(){e.layer.setVisible(!0),e.layer.setOpacity(1)})).then((function(){var t=r.getView().getProjection().getCode();r.getView()&&e.styles.center&&e.styles.center.length&&r.getView().setCenter((0,u.transform)(e.styles.center,"EPSG:4326",t)),r.getView()&&(e.styles.zoom||0===e.styles.zoom)&&r.getView().setZoom(e.styles.zoom);var n=e.layer.getSource();if(r.getView()&&r.getSize()&&n.getExtent){var o=n.getExtent();o&&o[0]!==1/0&&r.getView().fit(n.getExtent(),r.getSize())}})).then((function(){p._formContainer.style.display="none",p._importPanelHeader.style.display="none";var t=new Ii.default({target:p._mapBoxResultsListContainer,style:JSON.parse(JSON.stringify(e.styles)),scope:this,events:{"editor:onloaded":p._onLoadedMapBox,"editor:layer:onclickvisibility":p._onChangeVisibilitySourceMapBox,"editor:style:scale:onchangemin":p._onChangeScaleMinSourceMapBox,"editor:style:scale:onchangemax":p._onChangeScaleMaxSourceMapBox,"editor:legend:onchangevalue":p._onChangeLegendValueSourceMapBox,"editor:legend:onclickedition":p._onDisplayLayerSourceMapBox},tools:p.options.vectorStyleOptions.MapBox.editor});return t.setContext("map",r),t.setContext("layer",e.layer),t.createElement().then((function(){if(0===t.getLayers().length)throw new Error("Il n'existe pas de styles pour la source demandÃ©e !?")})).then((function(){p.options.vectorStyleOptions.MapBox.display&&(p._mapBoxPanel.style.display="block")})).then((function(){for(var e=p._mapBoxResultsListContainer.getElementsByClassName("GPEditorMapBoxLayerTitleLabel"),t=0;t<e.length;t++){var n=e[t];"bckgrd"===n.textContent&&(n.textContent="Couleur de remplissage")}})).then((function(){e.layer.set("mapbox-editor",t.getID()),setTimeout((function(){r.dispatchEvent({id:t.getID(),type:"editor:loaded",style:e.styles,layer:e.layer})}),100)})).catch((function(e){throw e}))})).then((function(){r.dispatchEvent({id:e.id,type:"render:success",style:e.styles})})).catch((function(t){Ji.error(t),r.dispatchEvent({id:e.id,type:"render:failure",error:t})}))};Ji.warn(e.layer);var n=r.get("mapbox-styles")||{};n[e.id]=e.styles,r.set("mapbox-styles",n),e.layer.set("mapbox-styles",e.styles),r.addLayer(e.layer),e.layer.getSource()?t():e.layer.once("change:source",t),r.getControls().forEach((function(t){t instanceof Di.default&&t.addLayer(e.layer,e.options)}))}({id:m,styles:j,layer:o,options:{title:n||y,description:C,quicklookUrl:A,metadata:E,legends:b,originators:_}})}}else{"KML"===this._currentImportType?(c=this.options.vectorStyleOptions.KML.defaultStyle,l=new Ni.A({showPointNames:this.options.vectorStyleOptions.KML.showPointNames,extractStyles:this.options.vectorStyleOptions.KML.extractStyles,defaultStyle:[c]})):"GPX"===this._currentImportType?(c=this.options.vectorStyleOptions.GPX.defaultStyle,l=new Oi.default({defaultStyle:c})):"GeoJSON"===this._currentImportType&&(c=this.options.vectorStyleOptions.GeoJSON.defaultStyle,l=new Li.A({defaultStyle:c}));var V,Y=l.readProjection(e),W=this._getMapProjectionCode();V=l.readFeatures(e,{dataProjection:Y,featureProjection:W}),Ji.log("loaded features : ",V),(a=new(P())({features:new(i())})).addFeatures(V),Ji.trace(a),a._title=a._description=n,(o=new(I())({source:a,style:c})).gpResultLayerId="layerimport:"+this._currentImportType;var X=l.readRootExtensions("geoportail:compute");if(X&&0!==Object.keys(X).length){var Z={route:{class:Mi.default,name:"itineraire"},isocurve:{class:Gi.default,name:"isocurve"},elevationpath:{class:Ui.default,name:"profil altimetrique"}},J=X.type,K=X.transport;if(J){var Q=Z[J].name,$=K?Q+" ("+K+")":Q,ee=Z[J].class;if(ee){o.gpResultLayerId="layerimport:COMPUTE",o.set("control",J),o.set("name",Q),o.set("graph",K),o.set("data",X),o.set("title",$);var te=new Li.A({defaultStyle:c}).writeFeatures(V,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});o.set("geojson",te),this.getMap().getControls().forEach((function(e){e instanceof ee&&(e.setData(X),e.setLayer(o),e.init())}))}}}if(r.addLayer(o),r.getView()&&r.getSize()&&a.getExtent){var ne=a.getExtent();ne&&ne[0]!==1/0&&r.getView().fit(a.getExtent(),r.getSize())}}}}},{key:"_addFeaturesFromImportStaticLayerUrl",value:function(e,t){var n,r,o,i=this.getMap();if(i&&e&&("MAPBOX"===this._currentImportType?Ji.trace("Not yet implemented !"):("KML"===this._currentImportType?o=new Ni.A({showPointNames:!0,extractStyles:this.options.vectorStyleOptions.KML.extractStyles,defaultStyle:[this.options.vectorStyleOptions.KML.defaultStyle]}):"GPX"===this._currentImportType?o=new Oi.default({defaultStyle:this.options.vectorStyleOptions.GPX.defaultStyle}):"GeoJSON"===this._currentImportType&&(o=new Li.A({defaultStyle:this.options.vectorStyleOptions.GeoJSON.defaultStyle})),n=new(P())({url:e,format:o}),"GPX"===this._currentImportType&&n.forEachFeature((function(e){null==e.getStyle()&&(Ji.log("[ol.control.LayerImport] set default style for GPX feature"),e.setStyle(this.options.vectorStyleOptions.GPX.defaultStyle))})),"GeoJSON"===this._currentImportType&&n.forEachFeature((function(e){null==e.getStyle()&&(Ji.log("[ol.control.LayerImport] set default style for GeoJSON feature"),e.setStyle(this.options.vectorStyleOptions.GeoJSON.defaultStyle))})),n._title=n._description=t,r=new(I())({source:n})),r.gpResultLayerId="layerimport:"+this._currentImportType,i.addLayer(r),i.getView()&&i.getSize()&&n.getExtent)){var a=n.getExtent();a&&a[0]!==1/0&&i.getView().fit(n.getExtent(),i.getSize())}}},{key:"_onLoadedMapBox",value:function(e){var t=e.target.data.obj,n=this.getContext("layer");n.get("mapbox-source")===t.source&&(n.get("mapbox-editor"),e.target.editorID)}},{key:"_onChangeVisibilitySourceMapBox",value:function(e){var t=e.target.data.obj,n=e.target.srcElement,r=this.getContext("layer");if(r.get("mapbox-source")===t.source&&r.get("mapbox-editor")===e.target.editorID){for(var o=r.get("mapbox-styles"),i=o.layers,a=0;a<i.length;a++)if(i[a].id===t.id){var s=i[a].layout;s?s.visibility=n.checked?"visible":"none":i[a].layout={visibility:n.checked?"visible":"none"};break}gi(r,o,t.source).then((function(){})).catch((function(e){Ji.error(e)}))}}},{key:"_onChangeScaleMinSourceMapBox",value:function(e){var t=e.target.data.obj,n=e.target.srcElement,r=this.getContext("layer");if(r.get("mapbox-source")===t.source&&r.get("mapbox-editor")===e.target.editorID){for(var o=r.get("mapbox-styles"),i=o.layers,a=0;a<i.length;a++)if(i[a].id===t.id){i[a].minzoom=n.value,n.title=n.value;break}gi(r,o,t.source).then((function(){})).catch((function(e){Ji.error(e)}))}}},{key:"_onChangeScaleMaxSourceMapBox",value:function(e){var t=e.target.data.obj,n=e.target.srcElement,r=this.getContext("layer");if(r.get("mapbox-source")===t.source&&r.get("mapbox-editor")===e.target.editorID){for(var o=r.get("mapbox-styles"),i=o.layers,a=0;a<i.length;a++)if(i[a].id===t.id){i[a].maxzoom=n.value,n.title=n.value;break}gi(r,o,t.source).then((function(){})).catch((function(e){Ji.error(e)}))}}},{key:"_onChangeLegendValueSourceMapBox",value:function(e){var t=e.target.data.obj,n=e.target.srcElement,r=this.getContext("layer");if(r.get("mapbox-source")===t.source&&r.get("mapbox-editor")===e.target.editorID){for(var o=r.get("mapbox-styles"),i=o.layers,a=0;a<i.length;a++)if(i[a].id===t.id){var s=i[a].paint;s&&(s[n.dataset.id]=n.value);break}gi(r,o,t.source).then((function(){})).catch((function(e){Ji.error(e)}))}}},{key:"_onDisplayLayerSourceMapBox",value:function(e){var t=e.target.data.obj,n=this.getContext("layer");if(n.get("mapbox-source")===t.source&&n.get("mapbox-editor")===e.target.editorID){var r=e.target.currentTarget.parentNode.id,o=r.substring(r.indexOf("-")+1,r.indexOf("_"));this.getLayer(o).collapse()}}},{key:"_importServiceLayers",value:function(){if("WFS"!==this._currentImportType){this.cleanGetCapResultsList();var e=this._getCapRequestUrl=this._serviceUrlImportInput.value;if(e){Ji.log("url : ",e),e.trim&&(e=e.trim());var t=e.indexOf("?");t<0?e+="?SERVICE="+this._currentImportType+"&REQUEST=GetCapabilities":t===e.length-1&&(e+="SERVICE="+this._currentImportType+"&REQUEST=GetCapabilities"),this.options.webServicesOptions&&this.options.webServicesOptions.proxyUrl&&(e=xi.proxifyUrl(e,this.options.webServicesOptions)),this._displayWaitingContainer();var n=this;Ci.Ay.Protocols.XHR.call({url:e,method:"GET",timeOut:15e3,onResponse:function(e){n._hideWaitingContainer(),n._displayGetCapResponseLayers(e)},onFailure:function(e){n._hideWaitingContainer(),Ji.error("[ol.control.LayerImport] getCapabilities request failed : ",e)}})}else Ji.error("[ol.control.LayerImport] url parameter is mandatory")}else Ji.warn("[ol.control.LayerImport] WFS layer import is not implemented yet")}},{key:"_displayGetCapResponseLayers",value:function(e){var t,n,r,o={content:null,title:null};if(this._getCapResponseWMSLayers=[],this.contentService=e,this._importPanel.style.display="none",this._getCapPanel.style.display="block","WMS"===this._currentImportType){t=new(g());var i=this._getCapResponseWMS=t.read(e);if(Ji.log("getCapabilities response : ",i),i&&i.Capability&&i.Capability.Layer){var a=i.Capability.Layer;if(Array.isArray(a))for(var s=0;s<a.length;s++)this._displayGetCapResponseWMSLayer(a[s]);else this._displayGetCapResponseWMSLayer(a)}}else if("WMTS"===this._currentImportType){t=new(m());var l=this._getCapResponseWMTS=t.read(e);if(Ji.log("getCapabilities response : ",l),l&&l.Contents&&l.Contents.Layer&&(n=l.Contents.Layer,Array.isArray(n))){this._getCapResponseWMTSLayers=n;for(var c=0;c<n.length;c++)if((r=this._getWMTSLayerProjection(n[c],l))&&"string"==typeof r){if(!(0,u.get)(r)&&!(0,u.get)(r.toUpperCase())){Ji.warn("[ol.control.LayerImport] wmts layer cannot be added to map : unknown projection",n[c]);continue}o={content:n[c].Title,title:n[c].Abstract||n[c].Title},this._getCapResultsListContainer&&this._addImportGetCapResultLayer(o,c,this._getCapResultsListContainer)}}}}},{key:"_displayGetCapResponseWMSLayer",value:function(e,t){if(e){Ji.log("[ol.control.LayerImport] _displayGetCapResponseWMSLayer - layerObj : ",e);var n,r=this._getMapProjectionCode(),o={content:null,title:null};if(t){var i,a,s=["CRS","Style"];for(a=0;a<s.length;a++)if(i=s[a],Array.isArray(t[i])&&0!==t[i].length)if(Array.isArray(e[i])&&0!==e[i].length)for(var l=0;l<t[i].length;l++)-1===e[i].indexOf(t[i][l])&&e[i].push(t[i][l]);else e[i]=t[i];var c=["BoundingBox","EX_GeographicBoundingBox","MaxScaleDenominator","MinScaleDenominator","Attribution","Dimension","queryable","cascaded","opaque","noSubsets","fixedWidth","fixedHeight"];for(a=0;a<c.length;a++)t[i=c[a]]&&!e[i]&&(e[i]=t[i])}else e._isRootLayer=!0,e._container=this._getCapResultsListContainer,e.Title||(e.Title="Liste des couches");if(e.Layer){if(Array.isArray(e.Layer)){var u=e?e._container:t._container,p=e?e.Title:t.Title;e._container=this._addImportGetCapResultListRubrique(p,u).lastChild;for(var d=0;d<e.Layer.length;d++){for(var h=!1,g=e._container.getElementsByClassName("GPimportGetCapRubriqueTitle"),f=0;f<g.length;f++)g[f].title===e.Title&&(h=!0,e.Layer[d]._container=g[f].parentElement);h||(e.Layer[d]._container=this._addImportGetCapResultRubrique(e.Title,e._container).lastChild),this._displayGetCapResponseWMSLayer(e.Layer[d],e)}}}else{var m=this._getCapResponseWMSLayers.length;if(n=this._getWMSLayerProjection(e,r)){e._projection=n,o={content:e.Title,title:e.Abstract||e.Title};var y=e._container;"ul"===y.localName&&(y=y.lastChild),this._addImportGetCapResultLayer(o,m,y),this._getCapResponseWMSLayers[m]=e}else Ji.warn("[ol.control.LayerImport] wms layer cannot be added to map : unknown projection",e)}}else Ji.warn("[ol.control.LayerImport] _displayGetCapResponseWMSLayer : getCapabilities layer object not found")}},{key:"_onGetCapResponseLayerClick",value:function(e){if(e.target&&e.target.id){var t,n=parseInt(e.target.id.substr(23),10);if(isNaN(n))return;"WMS"===this._currentImportType?(t=this._getCapResponseWMSLayers[n],this._addGetCapWMSLayer(t)):"WMTS"===this._currentImportType&&(t=this._getCapResponseWMTSLayers[n],this._addGetCapWMTSLayer(t))}}},{key:"_addGetCapWMSLayer",value:function(e){var t=this.getMap();if(t)if(e){var n=this._getMapProjectionCode(),r={},o=this._getWMSLayerGetMapUrl();if(o)r.url=o;else{var i=this._getCapRequestUrl.indexOf("?");r.url=-1!==i?this._getCapRequestUrl.substring(0,i):this._getCapRequestUrl}if(r.params={},e.Name){r.params.LAYERS=e.Name,r.params.SERVICE="WMS",this._getCapResponseWMS.version&&(r.params.VERSION=this._getCapResponseWMS.version);var a=e._projection;if(a){var s;if(a!==n&&(r.projection=a),e.Style&&Array.isArray(e.Style)){var l=e.Style[0];r.params.STYLES=l.Name,l.LegendURL&&Array.isArray(l.LegendURL)&&0!==l.LegendURL.length&&(s=l.LegendURL[0].OnlineResource)}var c=new(x())(r);this._getWMSLayerInfoForLayerSwitcher(e,s,c);var u={};u.source=c,this._getWMSLayerMinMaxResolution(e,n,u),this._getWMSLayerExtent(e,n,u);var p=new(b())(u);p.gpResultLayerId="layerimport:WMS",e.queryable&&(p.gpGFIparams={queryable:!0},this._getCapResponseWMS&&this._getCapResponseWMS.Capability&&this._getCapResponseWMS.Capability.Request&&this._getCapResponseWMS.Capability.Request.GetFeatureInfo&&this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format&&Array.isArray(this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format)&&(p.gpGFIparams.formats=this._getCapResponseWMS.Capability.Request.GetFeatureInfo.Format)),t.addLayer(p)}else Ji.warn("[ol.control.LayerImport] wms layer cannot be added to map : unknown projection")}else Ji.warn("[ol.control.LayerImport] unable to add wms layer : mandatory layer 'name' parameter cannot be found",e)}else Ji.warn("[ol.control.LayerImport] _addGetCapWMSLayer error : layerInfo is not defined");else Ji.warn("[ol.control.LayerImport] _addGetCapWMSLayer error : map is not defined")}},{key:"_getWMSLayerGetMapUrl",value:function(){var e;if(this._getCapResponseWMS&&this._getCapResponseWMS.Capability&&this._getCapResponseWMS.Capability.Request&&this._getCapResponseWMS.Capability.Request.GetMap){var t=this._getCapResponseWMS.Capability.Request.GetMap;if(t.DCPType&&Array.isArray(t.DCPType)&&0!==t.DCPType.length){var n=t.DCPType[0];n&&n.HTTP&&n.HTTP.Get&&(e=n.HTTP.Get.OnlineResource)}}return e}},{key:"_getWMSLayerProjection",value:function(e,t){var n;if(e&&"object"===Bi(e)){var r=e.CRS;if(Array.isArray(r)){if(r.includes(t))return n=t;var o,i;for(i=0;i<r.length;i++)if((o=r[i])&&"string"==typeof o&&((0,u.get)(o)||(0,u.get)(o.toUpperCase())))return n=o}return n}Ji.warn("missing layer information (from getCapabilities)")}},{key:"_getWMSLayerMinMaxResolution",value:function(e,t,n){var r=(0,u.get)(t).getUnits();if("m"===r)e.MinScaleDenominator&&(n.minResolution=28e-5*e.MinScaleDenominator),e.MaxScaleDenominator&&(n.maxResolution=28e-5*e.MaxScaleDenominator);else if("degrees"===r){var o=28e-5*180/(6378137*Math.PI);e.MinScaleDenominator&&(n.minResolution=e.MinScaleDenominator*o),e.MaxScaleDenominator&&(n.maxResolution=e.MaxScaleDenominator*o)}}},{key:"_getWMSLayerExtent",value:function(e,t,n){if(e){var r=e.EX_GeographicBoundingBox,o=e.BoundingBox;if(r&&Array.isArray(r))n.extent="EPSG:4326"===t?r:(0,u.transformExtent)(r,"EPSG:4326",t);else if(o&&Array.isArray(o))for(var i,a,s=0;s<o.length;s++)if(i=o[s].crs,a=o[s].extent,i){if(i===t){n.extent=a;break}if("string"==typeof i){var l=(0,u.get)(i)?(0,u.get)(i):(0,u.get)(i.toUpperCase());if(l){if("degrees"===l.getUnits()&&0===i.toUpperCase().indexOf("EPSG")){var c=[a[1],a[0],a[3],a[2]];n.extent=(0,u.transformExtent)(c,l,t)}else n.extent=(0,u.transformExtent)(a,l,t);break}}}}else Ji.warn("[ol.control.LayerImport] _getWMSLayerExtent error : layerInfo is not defined")}},{key:"_getWMSLayerInfoForLayerSwitcher",value:function(e,t,n){if(e.Title?(n._title=e.Title,n._description=e.Abstract?e.Abstract:e.Title):(n._title=e.Name,n._description=e.Abstract?e.Abstract:e.Name),t&&(n._legends=[{url:t}]),e.MetadataURL&&Array.isArray(e.MetadataURL)){n._metadata=[];for(var r=0;r<e.MetadataURL.length;r++){var o=e.MetadataURL[r].OnlineResource;o&&n._metadata.push({url:o})}}if(e.Attribution){var i=e.Attribution;n._originators={},i.OnlineResource&&(n._originators.url=i.OnlineResource),i.Title&&(n._originators.name=n._originators.attribution=i.Title),i.LogoURL&&i.LogoURL.OnlineResource&&(n._originators.logo=i.LogoURL.OnlineResource)}}},{key:"_addGetCapWMTSLayer",value:function(e){if(e&&e.Identifier){var t=this.getMap();if(t){var n={};n.layer=e.Identifier,this._getCapResponseWMTS.version&&(n.version=this._getCapResponseWMTS.version);var r=this._getWMTSLayerGetTileUrl();if(r)n.url=r;else{var o=this._getCapRequestUrl.indexOf("?");n.url=-1!==o?this._getCapRequestUrl.substring(0,o):this._getCapRequestUrl}var i,a,s,l=this._getTMSParams(e);if(n.matrixSet=l.tms,n.projection=l.projCode,n.tileGrid=new(c())({resolutions:l.resolutions,matrixIds:l.matrixIds,origin:l.origin}),e.Style&&Array.isArray(e.Style))for(var u,p=0;p<e.Style.length&&(i=(u=e.Style[p]).Identifier,!u.isDefault);p++)u.LegendURL&&Array.isArray(u.LegendURL)&&0!==u.LegendURL.length&&(a=u.LegendURL[0].href);null==i&&Ji.warn("[ol.control.LayerImport] style information not found in getCapabilities response for layer "+e.Identifier),n.style=i,e.Format&&Array.isArray(e.Format)&&(s=e.Format[0]),null==s&&Ji.warn("[ol.control.LayerImport] format information not found in getCapabilities response for layer "+e.Identifier),n.format=s;var d=new(k())(n);e.Title?(d._title=e.Title,d._description=e.Abstract?e.Abstract:e.Title):(d._title=e.Identifier,d._description=e.Abstract?e.Abstract:e.Identifier),a&&(d._legends=[{url:a}]);var h,g={};g.source=d,g.extent=this._getWMTSLayerExtent(e);try{h=new(b())(g)}catch(e){return void Ji.warn("[ol.control.LayerImport] an error occured while trying to create ol.layer.Tile from getCapabilities information. error : ",e)}h.gpResultLayerId="layerimport:WMTS",t.addLayer(h)}}else Ji.warn("[ol.control.LayerImport] layer information not found in getCapabilities response for layer ")}},{key:"_getWMTSLayerGetTileUrl",value:function(){var e;if(this._getCapResponseWMTS&&this._getCapResponseWMTS.OperationsMetadata&&this._getCapResponseWMTS.OperationsMetadata.GetTile){var t=this._getCapResponseWMTS.OperationsMetadata.GetTile;t.DCP&&t.DCP.HTTP&&t.DCP.HTTP.Get&&Array.isArray(t.DCP.HTTP.Get)&&0!==t.DCP.HTTP.Get.length&&(e=t.DCP.HTTP.Get[0].href)}return e}},{key:"_getWMTSLayerProjection",value:function(e,t){var n;if(e&&"object"===Bi(e)){if(t&&"object"===Bi(t)){if(e.TileMatrixSetLink&&Array.isArray(e.TileMatrixSetLink)){var r,o=e.TileMatrixSetLink[0].TileMatrixSet;if(t.Contents&&Array.isArray(t.Contents.TileMatrixSet))for(var i=t.Contents.TileMatrixSet,a=0;a<i.length;a++)if(i[a].Identifier===o&&i[a].TileMatrix){(r=i[a].SupportedCRS)&&"string"==typeof r&&((0,u.get)(r)||(0,u.get)(r.toUpperCase()))&&(n=r);break}}return n}Ji.warn("missing getCapabilities response")}else Ji.warn("missing layer information (from getCapabilities)")}},{key:"_getTMSParams",value:function(e){var t,n,r,o={},i=[],a=[],s=[];if(this.getMap()&&e.TileMatrixSetLink&&Array.isArray(e.TileMatrixSetLink)){if(t=e.TileMatrixSetLink[0].TileMatrixSet,this._getCapResponseWMTS.Contents&&Array.isArray(this._getCapResponseWMTS.Contents.TileMatrixSet)){for(var l=this._getCapResponseWMTS.Contents.TileMatrixSet,c=0;c<l.length;c++)if(l[c].Identifier===t&&l[c].TileMatrix){var p,d,h,g,f,m=l[c];if(m.SupportedCRS&&(n=m.SupportedCRS,r=(0,u.get)(n)),r&&r.getUnits&&(f=r.getUnits()),Array.isArray(m.TileMatrix))for(var y=0;y<m.TileMatrix.length;y++)null!=(p=m.TileMatrix[y]).Identifier&&(d=parseInt(p.Identifier,10),i.push(d)),h=p.ScaleDenominator,g="degrees"===f?28e-5*h*180/(6378137*Math.PI):28e-5*h,a.push(g),s=p.TopLeftCorner;void 0!==a.sort&&a.sort((function(e,t){return t-e})),void 0!==i.sort&&i.sort((function(e,t){return e-t}))}}else Ji.warn("[ol.control.LayerImport] TileMatrixSet data not found in getCapabilities response for layer "+e.Identifier);return o.tms=t,o.projCode=n,o.matrixIds=i,o.resolutions=a,o.origin=s,o}}},{key:"_getWMTSLayerExtent",value:function(e){var t,n=this._getMapProjectionCode();return e.WGS84BoundingBox&&Array.isArray(e.WGS84BoundingBox)&&(t=(0,u.transformExtent)(e.WGS84BoundingBox,"EPSG:4326",n)),t}},{key:"_getMapProjectionCode",value:function(){var e=this.getMap();if(e&&e.getView&&e.getView().getProjection)return e.getView().getProjection().getCode();Ji.warn("unable to get layerimport's map")}},{key:"_displayWaitingContainer",value:function(){this._waitingContainer.className="GPwaitingContainer GPwaitingContainerVisible gpf-waiting gpf-waiting--visible",this._waiting=!0,this._timer&&(clearTimeout(this._timer),this._timer=null);var e=this;this._timer=setTimeout((function(){!0===e._waiting?e._hideWaitingContainer():e._timer&&clearTimeout(e._timer)}),16e3)}},{key:"_hideWaitingContainer",value:function(){this._waiting&&(this._waitingContainer.className="GPwaitingContainer GPwaitingContainerHidden gpf-waiting gpf-waiting--hidden",this._waiting=!1,clearTimeout(this._timer),this._timer=null)}},{key:"cleanGetCapResultsList",value:function(){if(this._getCapRequestUrl=null,this._getCapResponseWMS=null,this._getCapResponseWMTS=null,this._getCapResponseWMSLayers=null,this._getCapResponseWMTSLayers=null,this._getCapResultsListContainer)for(;this._getCapResultsListContainer.firstChild;)this._getCapResultsListContainer.removeChild(this._getCapResultsListContainer.firstChild)}},{key:"cleanMapBoxResultsList",value:function(){if(this._hasMapBoxResults=!1,this._mapBoxResultsListContainer)for(;this._mapBoxResultsListContainer.firstChild;)this._mapBoxResultsListContainer.removeChild(this._mapBoxResultsListContainer.firstChild)}},{key:"cleanMapBoxResults",value:function(e){if(this._hasMapBoxResults=!1,this._mapBoxResultsListContainer)for(var t=this._mapBoxResultsListContainer.childNodes,n=0;n<t.length;n++){var r=t[n];r.id==="GPEditorMapBoxContainer_ID_"+e&&r.remove()}}}],o&&Fi(r.prototype,o),a&&Fi(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,a}(e.A),Wi=Ri,Xi="DefaultStyles",Zi={image:new L.Icon({src:Ai.A.lightOrange,anchor:[25.5,38],anchorOrigin:"top-left",anchorXUnits:"pixels",anchorYUnits:"pixels"}),stroke:new L.Stroke({color:"rgba(0,42,80,0.8)",width:4}),fill:new L.Fill({color:"rgba(0, 183, 152, 0.5)"}),text:new L.Text({font:"16px Sans",textAlign:"left",fill:new L.Fill({color:"rgba(255, 255, 255, 1)"}),stroke:new L.Stroke({color:"rgba(0, 0, 0, 1)",width:2})})},(Xi=Yi(Xi))in Wi?Object.defineProperty(Wi,Xi,{value:Zi,enumerable:!0,configurable:!0,writable:!0}):Wi[Xi]=Zi,Ri);Object.assign(Ki.prototype,ki);const Qi=Ki;window.ol&&window.ol.control&&(window.ol.control.LayerImport=Ki)})(),GpfExtOlLayerImport=r.default})();
//# sourceMappingURL=GpfExtOlLayerImport.js.map