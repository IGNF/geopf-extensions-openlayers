(()=>{var e={3065:function(e,t,n){var o,r;!function(){"use strict";o=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"],r={},i=null;function a(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(o){return"debug"===o&&(o="log"),typeof console!==t&&("trace"===o&&n?l:void 0!==console[o]?a(console,o):void 0!==console.log?a(console,"log"):e)}function c(){for(var n=this.getLevel(),r=0;r<o.length;r++){var i=o[r];this[i]=r<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function u(e){return function(){typeof console!==t&&(c.call(this),this[e].apply(this,arguments))}}function d(e,t,n){return s(e)||u.apply(this,arguments)}function f(e,n){var a,l,s,u=this,f="loglevel";function p(e){var n=(o[e]||"silent").toUpperCase();if(typeof window!==t&&f){try{return void(window.localStorage[f]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+n+";"}catch(e){}}}function g(){var e;if(typeof window!==t&&f){try{e=window.localStorage[f]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,o=encodeURIComponent(f),r=n.indexOf(o+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r+o.length+1))[1])}catch(e){}return void 0===u.levels[e]&&(e=void 0),e}}function h(){if(typeof window!==t&&f){try{window.localStorage.removeItem(f)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}function m(e){var t=e;if("string"==typeof t&&void 0!==u.levels[t.toUpperCase()]&&(t=u.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=u.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?f+=":"+e:"symbol"==typeof e&&(f=void 0),u.name=e,u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=n||d,u.getLevel=function(){return null!=s?s:null!=l?l:a},u.setLevel=function(e,t){return s=m(e),!1!==t&&p(s),c.call(u)},u.setDefaultLevel=function(e){l=m(e),g()||u.setLevel(e,!1)},u.resetLevel=function(){s=null,h(),c.call(u)},u.enableAll=function(e){u.setLevel(u.levels.TRACE,e)},u.disableAll=function(e){u.setLevel(u.levels.SILENT,e)},u.rebuild=function(){if(i!==u&&(a=m(i.getLevel())),c.call(u),i===u)for(var e in r)r[e].rebuild()},a=m(i?i.getLevel():"WARN");var v=g();null!=v&&(s=m(v)),c.call(u)}(i=new f).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=r[e];return t||(t=r[e]=new f(e,i.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=p),i},i.getLoggers=function(){return r},i.default=i,i},void 0===(r="function"==typeof o?o.call(t,n,t,e):o)||(e.exports=r)}()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};(()=>{"use strict";n.d(o,{default:()=>F});const e=ol.control.Control;function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function i(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,c(o.key),o)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,n||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}function u(e,n,o){return n=f(n),function(e,n){if(n&&("object"==t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(n,o||[],f(e).constructor):n.apply(e,o))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}const g=function(e){function t(e){return a(this,t),u(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),s(t,[{key:"setPosition",value:function(e){this.getMap()&&new v(this).set(e)}},{key:"updatePosition",value:function(e){this.getMap()&&new v(this).update(e)}}])}(n.n(e)());var h=["top-left","top-right","bottom-left","bottom-right"],m=new WeakSet,v=function(){return s((function e(t){return a(this,e),r(this,m),this.caller=t,this.container=null,this.container=null,i(m,this,b).call(this,"top-left"),i(m,this,b).call(this,"top-right"),i(m,this,b).call(this,"bottom-left"),i(m,this,b).call(this,"bottom-right"),this}),[{key:"set",value:function(e){h.includes(e.toLowerCase())&&(i(m,this,w).call(this,e,!1),e.includes("bottom")?this.container.children["position-container-"+e].prepend(this.caller.element):this.container.children["position-container-"+e].appendChild(this.caller.element))}},{key:"update",value:function(e){h.includes(e.toLowerCase())&&i(m,this,w).call(this,e,!0)}}])}();function y(e){return!!this.container.children["position-container-"+e]}function b(e){if(this.container=this.caller.getMap().getOverlayContainerStopEvent(),!i(m,this,y).call(this,e)){var t=document.createElement("div");t.id="position-container-"+e,t.className="position position-container-"+e,this.container.appendChild(t)}}function w(e,t){var n=this,o=function(e){return n.container.children["position-container-"+e].children.length},r=function(e){return n.container.children["position-container-"+e].offsetWidth},i=function(e){var o=n.container.children["position-container-"+e],r=o.offsetHeight;if(t){e.includes("top")&&(r=0);for(var i=0;i<o.children.length;i++){if(o.children[i].id===n.caller.element.id){r=e.includes("bottom")?r-n.caller.element.offsetHeight:-1*r;break}r-=o.children[i].offsetHeight}}return r},a=function(e){e.style.top="unset",e.style.bottom="unset",e.style.left="unset",e.style.right="unset"};a(this.caller.element),this.caller.element.style.position="unset";var l=Array.from(this.caller.element.getElementsByClassName("GPpanel"));if(0!==l.length){var s=0;l.forEach((function(t){if("dialog"===t.nodeName.toLowerCase()){switch(a(t),e.toLowerCase()){case"top-left":t.style.top=o(e)?i(e)+"px":"0px",t.style.left=r(e)+s+"px";break;case"bottom-left":t.style.bottom=o(e)?i(e)+"px":"0px",t.style.left=r(e)+s+"px";break;case"top-right":t.style.top=o(e)?i(e)+"px":"0px",t.style.right=r(e)+s+"px";break;case"bottom-right":t.style.bottom=o(e)?i(e)+"px":"0px",t.style.right=r(e)+s+"px"}s+=t.offsetWidth}}))}}function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}const E={detectSupport:function(){var e=!0,t=window.navigator.userAgent.toLowerCase();return-1===t.indexOf("iphone")&&-1===t.indexOf("ipod")&&-1===t.indexOf("ipad")&&-1===t.indexOf("android")&&-1===t.indexOf("mobile")&&-1===t.indexOf("blackberry")&&-1===t.indexOf("tablet")&&-1===t.indexOf("phone")&&-1===t.indexOf("touch")||(e=!1),-1===t.indexOf("msie")&&-1===t.indexOf("trident")||(e=!0),e},assign:function(e,t){for(var n in e=e||{},t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},mergeParams:function(e,t,n){if(void 0!==e&&void 0!==t)for(var o in void 0===n&&(n=!0),t)t.hasOwnProperty(o)&&("object"===L(t[o])?e.hasOwnProperty(o)?this.mergeParams(e[o],t[o],n):e[o]=t[o]:e.hasOwnProperty(o)?n&&(e[o]=t[o]):e[o]=t[o])}};var _;const P={generate:(_=Math.floor(Date.now()),function(){return _++}),name:function(e){var t=null,n=e.lastIndexOf("-");return t=-1===n?e:e.substring(0,n),t},index:function(e){var t=null,n=this.name(e),o=n.lastIndexOf("_");return-1!==o&&(t=n.substring(o+1)),t},uuid:function(e){var t=null,n=e.lastIndexOf("-");return-1!==n&&(t=parseInt(e.substring(n+1),10)),t}};var O=n(3065),S={getLogger:function(e){if(void 0===t)var t={env:{VERBOSE:!1}};t.env.VERBOSE?O.enableAll():O.disableAll();var n=e||"default";return O.getLogger(n)},disableAll:function(){var e=O.getLoggers();for(var t in e){if(Object.hasOwnProperty.call(e,t))e[t].disableAll()}},enableAll:function(){var e=O.getLoggers();for(var t in e){if(Object.hasOwnProperty.call(e,t))e[t].enableAll()}}};const C=S;window.Gp&&(window.Gp.Logger=S);var x=C.getLogger("draggable");const k={dragElement:function(e,t,n){var o,r,i=!1,a={x:0,y:0};function l(t){(t=t||window.event).preventDefault(),i=!0,t._pageX=t._pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),t._pageY=t._pageY||t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop),a.x=t._pageX-e.offsetLeft,a.y=t._pageY-e.offsetTop,document.addEventListener("mouseup",s,!0),document.addEventListener("mousemove",c,!0)}function s(){i=!1,document.removeEventListener("mouseup",s,!0),document.removeEventListener("mousemove",c,!0)}function c(t){if(t=t||window.event,i){t._pageX=t._pageX||t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),t._pageY=t._pageY||t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);var l=n?n.offsetLeft:e.parentElement.offsetLeft,s=n?n.offsetTop:e.parentElement.parentElement.offsetTop;x.trace("parent offset",l,s),o=t._pageX-a.x<0-l?0-l:t._pageX-a.x+e.clientWidth>document.body.clientWidth?document.body.clientWidth-e.clientWidth:t._pageX-a.x,x.trace("left/right constraint",o),r=t._pageY-a.y<0-s?0-s:t._pageY-a.y+e.clientHeight>document.body.clientHeight?document.body.clientHeight-e.clientHeight:t._pageY-a.y,x.trace("top/bottom constraint",r),e.style.top=r+"px",e.style.bottom="unset",e.style.left=o+"px",e.style.right="unset"}}t?t.addEventListener("mousedown",l,!0):e.addEventListener("mousedown",l,!0)}};const T={_addUID:function(e){return this.uid?e+"-"+this.uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPlegends"),e.className="GPwidget gpf-widget gpf-widget-button",e},_createShowLegendsPictoElement:function(){var e=this,t=document.createElement("button");return t.id=this._addUID("GPshowLegendsPicto"),t.className="GPshowOpen GPshowAdvancedToolPicto GPshowLegendsPicto gpf-btn gpf-btn-icon gpf-btn-icon-legends fr-btn",t.title="Afficher les légendes",t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.setAttribute("type","button"),t.addEventListener?t.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowLegendsClick()})):t.attachEvent&&t.attachEvent("onclick",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n),e.onShowLegendsClick()})),t},_createLegendsPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPlegendsPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createLegendsPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__legends",e},_createLegendsPanelHeaderElement:function(){var e=document.createElement("div");return e.className="gpf-panel__header_legends",e},_createLegendsPanelIconElement:function(){var e=document.createElement("label");return e.className="gpf-btn-header-legends gpf-btn-icon-header-legends",e.title="Légendes",e},_createLegendsPanelTitleElement:function(){var e=document.createElement("div");return e.className="gpf-panel__title_legends",e.innerHTML="Légendes",e},_createLegendsPanelCloseElement:function(){var e=this,t=document.createElement("button");return t.className="gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",t.title="Fermer le panneau",t.addEventListener?t.addEventListener("click",(function(){document.getElementById(e._addUID("GPshowLegendsPicto")).click()}),!1):t.attachEvent&&t.attachEvent("onclick",(function(){document.getElementById(e._addUID("GPshowLegendsPicto")).click()})),t},_createLegendElement:function(){var e=document.createElement("div");return e.className="legends-entries gpf-panel__body fr-modal__body",e},_createLegendEntry:function(e){if(e&&e.legends&&e.legends.length){var t=e.legends[0].url,n=function(e){if(function(){if(!window.DOMParser)return!1;var e=new DOMParser;try{e.parseFromString("x","text/html")}catch(e){return!1}return!0}())return(new DOMParser).parseFromString(e,"text/html").body;var t=document.createElement("div");return t.innerHTML=e,t}('\n                    <div \n                        id="'.concat(e.id,'" \n                        class="legend-entry-container gpf-panel__content fr-modal__content">\n                        <label class="legend-entry-title gpf-label-legends-name fr-label">').concat(e.title,'</label>\n                        <button\n                            id="GPcollapseLegend_ID_').concat(e.id,'"\n                            class="legend-entry-show gpf-btn gpf-btn-icon gpf-btn-icon-legends-collapse fr-btn fr-btn--tertiary gpf-btn--tertiary"\n                            type="button"\n                            title=""\n                            tabindex="0"\n                            aria-pressed="false"></button>\n                        <div id="GPlegend_ID_').concat(e.id,'" class="legend-entry-image gpf-hidden">\n                            <img src="').concat(t,'" alt="').concat(e.desc,'">\n                        </div>\n                    </div>\n                ')),o=n.firstChild.querySelector("button");return o&&o.addEventListener("click",(function(t){var n="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!n);var o=document.getElementById("GPlegend_ID_"+e.id);n?o.classList.replace("gpf-visible","gpf-hidden"):o.classList.replace("gpf-hidden","gpf-visible")})),n.firstChild}}};function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function I(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,D(o.key),o)}}function D(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=j(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}function R(e,t,n){return t=G(t),A(e,N()?Reflect.construct(t,n||[],G(e).constructor):t.apply(e,n))}function A(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(N=function(){return!!e})()}function M(){return M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},M.apply(null,arguments)}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}var H=C.getLogger("legends"),B=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!((n=R(this,t,[{element:(e=e||{}).element,target:e.target,render:e.render}]))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return n.initialize(e),n.container=n.initContainer(),n.element?n.element.appendChild(n.container):n.element=n.container,A(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(t,e),n=t,o=[{key:"setMap",value:function(e){if(e){if(this.draggable&&k.dragElement(this.panelLegendsContainer,this.panelLegendsHeaderContainer,this.options.position?null:e.getTargetElement()),this.collapsed||this.buttonLegendsShow.setAttribute("aria-pressed",!0),this.auto){var n=this;e.getLayers().forEach((function(e){n.add(e)}))}this.auto&&this.addEventsListeners(e)}else this.auto&&this.removeEventsListeners();var o,r,i,a,l;(o=t,r="setMap",i=this,l=M(G(1&(a=3)?o.prototype:o),r,i),2&a&&"function"==typeof l?function(e){return l.apply(i,e)}:l)([e]),this.options.position&&this.setPosition(this.options.position)}},{key:"getMetaInformations",value:function(e){if(e.hasOwnProperty("name"))return{id:e.name,title:e.getTitle(),legends:e.getLegends(),metadatas:e.getMetadata(),desc:e.getDescription(),url:e.getQuicklookUrl(),partners:e.getOriginators()}}},{key:"adds",value:function(e){if(e)for(var t=0;t<e.length;t++)this.add(layer)}},{key:"add",value:function(e){if(e){var t=this._createLegendEntry(this.getMetaInformations(e));if(t)return!this.exist(t)&&(this.panelLegendsEntriesContainer.prepend(t),this.legends.push({obj:e,dom:t}),!0)}return!1}},{key:"remove",value:function(e){var t=!1;if(e)for(var n=0;n<this.legends.length;n++){var o=this.legends[n];if(e.name===o.obj.name&&e.service===o.obj.service){o.dom&&this.legends[n].dom.remove(),this.legends.splice(n,1),t=!0;break}}return t}},{key:"exist",value:function(e){for(var t=!1,n=0;n<this.legends.length;n++)if(this.legends[n].dom.id===e.id){t=!0;break}return t}},{key:"initialize",value:function(e){this.uid=P.generate(),this.options={collapsed:!0,draggable:!1,auto:!0,panel:!1},E.assign(this.options,e),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this.auto=this.options.auto,this.buttonLegendsShow=null,this.panelLegendsContainer=null,this.panelLegendsEntriesContainer=null,this.panelLegendsHeaderContainer=null,this.buttonLegendsClose=null,this.eventsListeners=[],this.legends=[]}},{key:"initContainer",value:function(){var e=this._createMainContainerElement(),t=this.buttonLegendsShow=this._createShowLegendsPictoElement();e.appendChild(t);var n=this.panelLegendsContainer=this._createLegendsPanelElement(),o=this._createLegendsPanelDivElement();n.appendChild(o);var r=this.panelLegendsEntriesContainer=this._createLegendElement();if(n.appendChild(r),this.options.panel){var i=this.panelLegendsHeaderContainer=this._createLegendsPanelHeaderElement(),a=this._createLegendsPanelIconElement();i.appendChild(a);var l=this._createLegendsPanelTitleElement();i.appendChild(l);var s=this.buttonLegendsClose=this._createLegendsPanelCloseElement();i.appendChild(s),o.appendChild(i)}return e.appendChild(n),H.log(e),e}},{key:"addEventsListeners",value:function(e){var t=this;this.eventsListeners["layer:add"]=function(e){H.trace(e),t.add(e.element)||H.error("Layer already added...")},this.eventsListeners["layer:remove"]=function(e){H.trace(e),t.remove(e.element)||H.error("Layer already removed...")},this.eventsListeners["layer:change:position"]=function(e){H.trace(e)},this.eventsListeners["view:change:resolution"]=function(e){H.trace(e);for(var n=t.getMap(),o=0;o<t.legends.length;o++){var r=t.legends[o],i=t.getMetaInformations(r.obj);if(i){for(var a=3570*(n.getView().getResolution()||n.getView().getResolutionForZoom(n.getZoom())),l=i.legends.slice(),s=l[0],c=0;c<l.length;++c){var u=l[c];u.minScaleDenominator||(u.minScaleDenominator=0),(a>s.minScaleDenominator&&u.minScaleDenominator>s.minScaleDenominator&&u.minScaleDenominator<a||a<s.minScaleDenominator&&u.minScaleDenominator<s.minScaleDenominator)&&(s=u)}if(i.legends[0]!==s){i.legends=[],i.legends.push(s);var d=t._createLegendEntry(i);r.dom.replaceWith(d),r.dom=d}}}},e.getLayers().on("add",this.eventsListeners["layer:add"]),e.getLayers().on("remove",this.eventsListeners["layer:remove"]),e.getLayers().on("change:zIndex",this.eventsListeners["layer:change:position"]),e.getView().on("change:resolution",this.eventsListeners["view:change:resolution"])}},{key:"removeEventsListeners",value:function(){var e=this.getMap();e.getLayers().un("add",this.eventsListeners["layer:add"]),e.getLayers().un("remove",this.eventsListeners["layer:remove"]),e.getLayers().un("change:zIndex",this.eventsListeners["layer:change:position"]),e.getView().un("change:resolution",this.eventsListeners["view:change:resolution"]),delete this.eventsListeners["layer:add"],delete this.eventsListeners["layer:remove"],delete this.eventsListeners["layer:change:position"],delete this.eventsListeners["view:change:resolution"]}},{key:"onShowLegendsClick",value:function(e){H.trace(e);var t=this.buttonLegendsShow.ariaPressed;this.collapsed=!("true"===t),this.dispatchEvent("change:collapsed"),this.options.position&&!this.collapsed&&this.updatePosition(this.options.position)}}],o&&I(n.prototype,o),r&&I(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,r}(g);Object.assign(B.prototype,T);const F=B;window.ol&&window.ol.control&&(window.ol.control.Legends=B)})(),GpfExtOlLegends=o.default})();
//# sourceMappingURL=GpfExtOlLegends.js.map