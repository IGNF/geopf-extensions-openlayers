/*!
 * @brief geopf-extensions-openlayers
 *
 * This software is released under the licence AGPL-3.0
 * @see https://www.gnu.org/licenses/agpl-3.0.html#license-text
 * @see https://www.gnu.org/licenses/agpl-3.0.en.html#license-text
 *
 * @copyright copyright (c) IGN 
 * @license AGPL-3.0
 * @author IGN
 * @version 1.0.0-beta.6-464
 * @date 24/11/2025
 *
 */(()=>{var e={3065:function(e,t,r){var i,n;!function(){"use strict";i=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],n={},o=null;function s(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(i){return"debug"===i&&(i="log"),typeof console!==t&&("trace"===i&&r?a:void 0!==console[i]?s(console,i):void 0!==console.log?s(console,"log"):e)}function c(){for(var r=this.getLevel(),n=0;n<i.length;n++){var o=i[n];this[o]=n<r?e:this.methodFactory(o,r,this.name)}if(this.log=this.debug,typeof console===t&&r<this.levels.SILENT)return"No console available for logging"}function d(e){return function(){typeof console!==t&&(c.call(this),this[e].apply(this,arguments))}}function u(e,t,r){return l(e)||d.apply(this,arguments)}function f(e,r){var s,a,l,d=this,f="loglevel";function p(e){var r=(i[e]||"silent").toUpperCase();if(typeof window!==t&&f){try{return void(window.localStorage[f]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+r+";"}catch(e){}}}function g(){var e;if(typeof window!==t&&f){try{e=window.localStorage[f]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,i=encodeURIComponent(f),n=r.indexOf(i+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n+i.length+1))[1])}catch(e){}return void 0===d.levels[e]&&(e=void 0),e}}function v(){if(typeof window!==t&&f){try{window.localStorage.removeItem(f)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}function h(e){var t=e;if("string"==typeof t&&void 0!==d.levels[t.toUpperCase()]&&(t=d.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=d.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?f+=":"+e:"symbol"==typeof e&&(f=void 0),d.name=e,d.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},d.methodFactory=r||u,d.getLevel=function(){return null!=l?l:null!=a?a:s},d.setLevel=function(e,t){return l=h(e),!1!==t&&p(l),c.call(d)},d.setDefaultLevel=function(e){a=h(e),g()||d.setLevel(e,!1)},d.resetLevel=function(){l=null,v(),c.call(d)},d.enableAll=function(e){d.setLevel(d.levels.TRACE,e)},d.disableAll=function(e){d.setLevel(d.levels.SILENT,e)},d.rebuild=function(){if(o!==d&&(s=h(o.getLevel())),c.call(d),o===d)for(var e in n)n[e].rebuild()},s=h(o?o.getLevel():"WARN");var m=g();null!=m&&(l=h(m)),c.call(d)}(o=new f).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=n[e];return t||(t=n[e]=new f(e,o.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return o.noConflict=function(){return typeof window!==t&&window.log===o&&(window.log=p),o},o.getLoggers=function(){return n},o.default=o,o},void 0===(n="function"==typeof i?i.call(t,r,t,e):i)||(e.exports=n)}()}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};(()=>{"use strict";r.d(i,{default:()=>Z});const e=ol.control.Control;const t=function(){return""!==getComputedStyle(document.documentElement).getPropertyValue("--blue-france-sun-113-625")};function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function s(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,d(i.key),i)}}function c(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function u(e,t,r){return t=p(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,r||[],p(e).constructor):t.apply(e,r))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}const v=function(e){function t(e){var r;return a(this,t),r=u(this,t,[{element:(e=e||{}).element,target:e.target,render:e.render}]),e&&e.listable?r.listable=!0:r.listable=!1,e&&e.description?r.description=e.description:r.description="",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(t,e),c(t,[{key:"setPosition",value:function(e){this.getMap()&&new b(this).set(e)}},{key:"updatePosition",value:function(e){this.getMap()&&new b(this).update(e)}}])}(r.n(e)());var h=["top-left","top-right","bottom-left","bottom-right"],m=new WeakSet,b=function(){return c(function e(t){return a(this,e),o(this,m),this.caller=t,this.container=null,s(m,this,w).call(this,"top-left"),s(m,this,w).call(this,"top-right"),s(m,this,w).call(this,"bottom-left"),s(m,this,w).call(this,"bottom-right"),this},[{key:"set",value:function(e){h.includes(e.toLowerCase())&&(s(m,this,E).call(this,e,!1),e.includes("bottom")?this.container.children["position-container-"+e].prepend(this.caller.element):this.container.children["position-container-"+e].appendChild(this.caller.element))}},{key:"update",value:function(e){h.includes(e.toLowerCase())&&s(m,this,E).call(this,e,!0)}}])}();function y(e){return!!this.container.children["position-container-"+e]}function w(e){if(this.container=this.caller.getMap().getOverlayContainerStopEvent(),!s(m,this,y).call(this,e)){var t=document.createElement("div");t.id="position-container-"+e,t.className="position position-container-"+e,this.container.appendChild(t)}}function E(e,r){var i=this,n=function(e){return i.container.children["position-container-"+e].children.length},o=function(e){return i.container.children["position-container-"+e].offsetWidth},s=function(e){var t=i.container.children["position-container-"+e],n=t.offsetHeight;if(r){e.includes("top")&&(n=0);for(var o=0;o<t.children.length;o++){if(t.children[o].id===i.caller.element.id){n=e.includes("bottom")?n-i.caller.element.offsetHeight:-1*n;break}n-=t.children[o].offsetHeight}}return n},a=function(e){e.style.top="unset",e.style.bottom="unset",e.style.left="unset",e.style.right="unset"};a(this.caller.element),this.caller.element.style.position="unset";var l=Array.from(this.caller.element.getElementsByClassName("GPpanel"));if(0!==l.length){var c=0;l.forEach(function(r){if("dialog"===r.nodeName.toLowerCase()){switch(a(r),e.toLowerCase()){case"top-left":t()?r.style.top="0px":r.style.top=n(e)?s(e)+"px":"0px",r.style.left=o(e)+c+"px";break;case"bottom-left":t()?r.style.top="0px":r.style.bottom=n(e)?s(e)+"px":"0px",r.style.left=o(e)+c+"px";break;case"top-right":t()?r.style.top="0px":r.style.top=n(e)?s(e)+"px":"0px",r.style.right=o(e)+c+"px";break;case"bottom-right":t()?r.style.top="0px":r.style.bottom=n(e)?s(e)+"px":"0px",r.style.right=o(e)+c+"px"}c+=r.offsetWidth}})}}function T(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}var _=["GPoverviewMap","GPfullScreen"];const A=function(e,t){var r=function(e,t){var r=[].concat(_,[t]),i=[];if(e&&e.includes("left")){var n=document.getElementById("position-container-bottom-left"),o=document.getElementById("position-container-top-left");i=[].concat(T(n.children),T(o.children))}if(e&&e.includes("right")){var s=document.getElementById("position-container-bottom-right"),a=document.getElementById("position-container-top-right");i=[].concat(T(s.children),T(a.children))}return i.filter(function(e){var t=e.id.match(/(\w+)-[0-9]+/)[1],i=r.includes(t);if("true"===e.getElementsByTagName("button")[0].getAttribute("aria-pressed")&&!i)return e})}(e,t);r.length>0&&r[0].getElementsByTagName("button")[0].click()};const x={onPanelOpen:function(){A(this.options.position,this.element.id.match(/(\w+)-[0-9]+/)[1])}},L=(ol.Map,ol.proj);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}const k={detectSupport:function(){var e=!0,t=window.navigator.userAgent.toLowerCase();return-1===t.indexOf("iphone")&&-1===t.indexOf("ipod")&&-1===t.indexOf("ipad")&&-1===t.indexOf("android")&&-1===t.indexOf("mobile")&&-1===t.indexOf("blackberry")&&-1===t.indexOf("tablet")&&-1===t.indexOf("phone")&&-1===t.indexOf("touch")||(e=!1),-1===t.indexOf("msie")&&-1===t.indexOf("trident")||(e=!0),e},assign:function(e,t){for(var r in e=e||{},t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},mergeParams:function(e,t,r){if(void 0!==e&&void 0!==t)for(var i in void 0===r&&(r=!0),t)t.hasOwnProperty(i)&&("object"===P(t[i])?e.hasOwnProperty(i)?this.mergeParams(e[i],t[i],r):e[i]=t[i]:e.hasOwnProperty(i)?r&&(e[i]=t[i]):e[i]=t[i])}};var S;const O={generate:(S=Math.floor(Date.now()),function(){return S++}),name:function(e){var t=null,r=e.lastIndexOf("-");return t=-1===r?e:e.substring(0,r),t},index:function(e){var t=null,r=this.name(e),i=r.lastIndexOf("_");return-1!==i&&(t=r.substring(i+1)),t},uuid:function(e){var t=null,r=e.lastIndexOf("-");return-1!==r&&(t=parseInt(e.substring(r+1),10)),t}};var I=r(3065),R={getLogger:function(e){if(void 0===t)var t={env:{VERBOSE:!1}};t.env.VERBOSE?I.enableAll():I.disableAll();var r=e||"default";return I.getLogger(r)},disableAll:function(){var e=I.getLoggers();for(var t in e){if(Object.hasOwnProperty.call(e,t))e[t].disableAll()}},enableAll:function(){var e=I.getLoggers();for(var t in e){if(Object.hasOwnProperty.call(e,t))e[t].enableAll()}}};const j=R;window.Gp&&(window.Gp.Logger=R);j.getLogger("draggable");const M={dragElement:function(e,t,r){var i,n=0,o=0,s=0,a=0,l=0,c=0;t?t.addEventListener("mousedown",u,!0):e.addEventListener("mousedown",u,!0);var d={bottom:0,left:0,right:0,top:0};function u(t){(t=t||window.event).preventDefault(),n=t.clientX,o=t.clientY,i=e.getBoundingClientRect();var s=r.getBoundingClientRect();d={bottom:s.bottom,left:s.left,right:s.right,top:s.top},document.addEventListener("mouseup",f,!0),document.addEventListener("mousemove",p,!0)}function f(){l-=s,c-=a,document.removeEventListener("mouseup",f,!0),document.removeEventListener("mousemove",p,!0)}function p(t){var r=(t=t||window.event).clientX,u=t.clientY,f=s,p=a;s=n-r,a=o-u;var g=i.left-s,v=i.top-a;if(g<d.left||v<d.top||g+i.width>d.right||v+i.height>d.bottom)s=f,a=p;else{var h=l-s,m=c-a;e.style.transform="translate("+h+"px,"+m+"px)"}}}},V=JSON.parse('[{"id":"FXX","title":"France métropolitaine","description":"","zoom":null,"bbox":[-9.86,41.15,10.38,51.56],"thumbnail":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/thumbnails/fxx.png","icon":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/fxx.svg"},{"id":"GLP","title":"Guadeloupe","description":"","zoom":null,"bbox":[-61.97,15.72,-60.93,16.66],"thumbnail":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/thumbnails/glp.png","icon":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/glp.svg"},{"id":"GUF","title":"Guyane","description":"","zoom":null,"bbox":[-55.65,1.49,-51.2,6.21],"thumbnail":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/thumbnails/guf.png","icon":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/guf.svg"},{"id":"MTQ","title":"Martinique","description":"","zoom":null,"bbox":[-61.4,14.25,-60.67,15.04],"thumbnail":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/thumbnails/mtq.png","icon":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/mtq.svg"},{"id":"REU","title":"Réunion","description":"","zoom":null,"bbox":[55.07,-21.46,55.86,-20.79],"thumbnail":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/thumbnails/reu.png","icon":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/reu.svg"},{"id":"SPM","title":"Saint-Pierre-et-Miquelon","description":"","zoom":null,"bbox":[-56.48,46.69,-56.07,47.19],"thumbnail":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/thumbnails/spm.png","icon":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/spm.svg"},{"id":"IDF","title":"Paris petite couronne","description":"","zoom":null,"bbox":[2.18,48.77,2.52,48.95],"thumbnail":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/thumbnails/idf.png","icon":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/idf.svg"},{"id":"MYT","title":"Mayotte","description":"","zoom":null,"bbox":[44.95,-13.049,45.32,-12.57],"thumbnail":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/thumbnails/myt.png","icon":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/myt.svg"},{"id":"NCL","title":"Nouvelle Calédonie","description":"","zoom":null,"bbox":[163.02,-23.08,167.86,-19.5],"thumbnail":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/thumbnails/ncl.png","icon":"https://data.geopf.fr/annexes/cartes.gouv.fr-config/public/resources/territories/ncl.svg"}]');var B=function(e){if(function(){if(!window.DOMParser)return!1;var e=new DOMParser;try{e.parseFromString("x","text/html")}catch(e){return!1}return!0}())return(new DOMParser).parseFromString(e,"text/html").body;var t=document.createElement("div");return t.innerHTML=e,t};const N={_addUID:function(e){return this.uid?e+"-"+this.uid:e},_createMainContainerElement:function(){var e=document.createElement("div");return e.id=this._addUID("GPterritories"),e.className="GPwidget gpf-widget gpf-widget-button gpf-mobile-fullscreen",e},_createShowTerritoriesPictoElement:function(){var e=this,t=document.createElement("button"),r=document.createElement("span");return t.appendChild(r),t.id=this._addUID("GPshowTerritoriesPicto"),t.classList.add("GPshowOpen","GPshowAdvancedToolPicto","GPshowTerritoriesPicto"),t.classList.add("gpf-btn","gpf-btn--tertiary","gpf-btn-icon","gpf-btn-icon-territories"),t.classList.add("fr-icon-france-line"),t.classList.add("fr-btn","fr-btn--tertiary"),t.setAttribute("aria-label","Sélecteur de territoire"),t.setAttribute("tabindex","0"),t.setAttribute("aria-pressed",!1),t.setAttribute("type","button"),t.addEventListener?t.addEventListener("click",function(t){var r="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!r),e.onShowTerritoriesClick(t)}):t.attachEvent&&t.attachEvent("onclick",function(t){var r="true"===t.target.ariaPressed;t.target.setAttribute("aria-pressed",!r),e.onShowTerritoriesClick(t)}),t},_createTerritoriesPanelElement:function(){var e=document.createElement("dialog");return e.id=this._addUID("GPterritoriesPanel"),e.className="GPpanel gpf-panel fr-modal",e},_createTerritoriesPanelDivElement:function(){var e=document.createElement("div");return e.className="gpf-panel__territories",e},_createTerritoriesPanelHeaderElement:function(){var e=document.createElement("div");return e.className="gpf-panel__header_territories",e},_createTerritoriesPanelIconElement:function(){var e=document.createElement("label");return e.className="gpf-btn-header-territories gpf-btn-icon-header-territories",e.title="Selecteur de territoires",e},_createTerritoriesPanelTitleElement:function(e){var t=document.createElement("div");return t.className="gpf-panel__title_territories",t.innerHTML=e,t},_createTerritoriesPanelCloseElement:function(){var e=this,t=document.createElement("button");t.id="GPterritoriesPanelClose",t.className="gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w",t.title="Fermer le panneau";var r=document.createElement("span");return r.className="GPelementHidden gpf-visible",r.innerText="Fermer",t.appendChild(r),t.addEventListener?t.addEventListener("click",function(){document.getElementById(e._addUID("GPshowTerritoriesPicto")).click(),e.onCloseTerritoriesClick()},!1):t.attachEvent&&t.attachEvent("onclick",function(){document.getElementById(e._addUID("GPshowTerritoriesPicto")).click(),e.onCloseTerritoriesClick()}),t},_createTerritoriesPanelOptionsElement:function(e,t){var r=this,i="gpf-territories-button-option-id",n="gpf-territories-upload-id",o="gpf-territories-upload-close-id",s="gpf-territories-toggle-messages",a="gpf-territories-apply-id",l='\n        <div>\n            <button type="button" \n                id="'.concat(i,'"\n                class="fr-btn fr-btn--tertiary-no-outline" \n                role="territories-button-options" \n                aria-expanded="false" \n                aria-controls="gpf-territories-upload-container-id">\n                ').concat("&#x2630",'\n            </button>\n            <dialog id="gpf-territories-upload-container-id" class="fr-modal__body fr-upload-group gpf-hidden">\n                <div class="gpf-territories-header-upload">\n                    <button \n                        id="').concat(o,'"\n                        type="button" \n                        class="gpf-btn gpf-btn-icon-close fr-btn--close fr-btn fr-btn--tertiary-no-outline fr-m-1w"\n                        aria-expanded="false"\n                        title="Fermer le panneau">\n                        <span>Fermer</span>\n                    </button>\n                </div>\n                <label class="fr-label">\n                    ').concat(e,'\n                    <span class="fr-hint-text">').concat(t,'</span>\n                </label>\n                <fieldset class="fr-fieldset">\n                    <div class="fr-fieldset__element">\n                        <div class="fr-toggle fr-m-2v">\n                            <input \n                                id="').concat(s,'" \n                                class="fr-toggle__input" \n                                type="checkbox" \n                                aria-describedby="gpf-territories-toggle-messages">\n                            <label class="fr-toggle__label" for="').concat(s,'">Compléter la liste</label>\n                            <div class="fr-messages-group" id="gpf-territories-toggle-messages" aria-live="polite"></div>\n                        </div>\n                    </div>\n                    <div class="fr-fieldset__element">\n                        <input \n                            id="').concat(n,'" \n                            class="fr-upload" \n                            aria-describedby="gpf-territories-upload-id-messages" \n                            type="file" \n                            name="upload">\n                        <div class="fr-messages-group" id="gpf-territories-upload-id-messages" aria-live="polite"></div>\n                    </div>\n                </fieldset>\n                <fieldset class="fr-fieldset">\n                    <button \n                        id="').concat(a,'" \n                        class="gpf-button gpf-button fr-btn fr-btn--tertiary" \n                        aria-describedby="gpf-territories-apply-id-messages">Appliquer</button>\n                    <div class="fr-messages-group" id="gpf-territories-apply-id-messages" aria-live="polite"></div>\n                </fieldset>\n            </dialog>\n        </div>\n        '),c=B(l).attachShadow({mode:"open"});c.innerHTML=l.trim();var d=c.getElementById(i);d&&d.addEventListener("click",function(e){e.target.ariaExpanded=!("true"===e.target.ariaExpanded);var t=document.getElementById(e.target.getAttribute("aria-controls"));t&&("true"===e.target.ariaExpanded?(t.classList.add("gpf-visible"),t.classList.remove("gpf-hidden")):(t.classList.remove("gpf-visible"),t.classList.add("gpf-hidden")))},!1);var u=c.getElementById(o);u&&u.addEventListener("click",function(e){e.target.ariaExpanded=!("true"===e.target.ariaExpanded),document.getElementById(i).click()});var f=c.getElementById(n);f&&f.addEventListener("change",function(e){r.onUploadFileClick(e)},!1);var p=c.getElementById(s);s&&p.addEventListener("click",function(e){console.log(e.target.checked),r.onUploadToggleClick(e)});var g=c.getElementById(a);return g&&g.addEventListener("click",function(e){r.onApplyTerritoriesClick(e)},!1),c.firstChild},_createTerritoriesPanelMenuViewsDivElement:function(e,t){var r=document.createElement("div");return r.className="territories-views gpf-panel__menuviews_territories",r.appendChild(this._createTerritoriesButtonOpenMenuViewsElement(e,t)),r.appendChild(this._createTerritoriesPanelMenuViewsElement(e)),r},_createTerritoriesButtonOpenMenuViewsElement:function(e,t){var r=this,i=document.createElement("button"),n=document.createElement("span");return i.appendChild(n),i.id="gpf-territories-button-open-views-id",i.classList.add("gpf-btn","gpf-btn--tertiary","gpf-btn-icon"),i.classList.add("fr-btn","fr-btn--tertiary"),i.setAttribute("aria-label",e),i.setAttribute("title",t),i.setAttribute("tabindex","0"),i.setAttribute("aria-pressed",!1),i.setAttribute("aria-controls","gpf-territories-views-container-id"),i.setAttribute("type","button"),i.innerHTML=e,i.addEventListener?i.addEventListener("click",function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t);var i=document.getElementById(e.target.getAttribute("aria-controls"));i&&(t?(i.classList.remove("gpf-visible"),i.classList.add("gpf-hidden")):(i.classList.add("gpf-visible"),i.classList.remove("gpf-hidden")),r.onShowTerritoriesViewsClick(e))}):i.attachEvent&&i.attachEvent("onclick",function(e){var t="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!t);var i=document.getElementById(e.target.getAttribute("aria-controls"));i&&(t?(i.classList.remove("gpf-visible"),i.classList.add("gpf-hidden")):(i.classList.add("gpf-visible"),i.classList.remove("gpf-hidden")),r.onShowTerritoriesViewsClick(e))}),i},_createTerritoriesPanelMenuViewsElement:function(e){var t=document.createElement("dialog");return t.id="gpf-territories-views-container-id",t.className="fr-modal__body gpf-panel__views_territories-menu gpf-hidden",t.appendChild(this._createTerritoriesMenuAddViewElement(e)),t.appendChild(this._createTerritoriesMenuListViewElement()),t},_createTerritoriesMenuAddViewElement:function(e){var t=this,r="gpf-territories-views-back-button-id",i="gpf-territories-views-input-id",n="gpf-territories-views-form-id",o="gpf-territories-views-submit-id",s='\n        <div>\n            <button \n                id="'.concat(r,'" \n                class="fr-btn fr-icon-arrow-left-line fr-btn--icon-left fr-btn--tertiary-no-outline"\n                aria-pressed="false" \n                aria-controls="gpf-territories-views-container-id gpf-territories-button-open-views-id"\n                title="Retour au sélecteur de territoires" \n                type="button">\n                ').concat(e,'\n            </button>\n            <form id="').concat(n,'">\n                <fieldset \n                    class="fr-fieldset" \n                    id="add-view-form-fieldset" \n                    aria-labelledby="add-view-form-fieldset-legend add-view-form-fieldset-messages">\n                    <legend \n                        class="fr-fieldset__legend" \n                        id="add-view-form-fieldset-legend"> \n                        Ajouter la vue actuelle \n                    </legend>\n                    <div class="fr-fieldset__element">\n                        <div class="fr-input-group" id="').concat(i,'-input-group-view">\n                            <label class="fr-label" for="').concat(i,'"> Nom </label>\n                            <input class="fr-input" aria-describedby="').concat(i,'-messages" id="').concat(i,'" type="text">\n                            <div class="fr-messages-group" id="').concat(i,'-messages" aria-live="polite"></div>\n                        </div>\n                    </div>\n                    <div class="fr-messages-group" id="add-view-form-fieldset-messages" aria-live="polite">\n                        <p class="fr-message fr-message--error gpf-hidden" id="').concat(i,'-message-error-id">Ce nom est déjà utilisé</p>\n                    </div>\n                </fieldset>\n            </form>\n            <input type="submit" id="').concat(o,'" value="Ajouter" class="fr-btn">\n            <hr class="fr-m-1v"/>\n        </div>\n        '),a=B(s).attachShadow({mode:"open"});a.innerHTML=s.trim();var l=a.getElementById(r);l&&l.addEventListener("click",function(e){var r="true"===e.target.ariaPressed;e.target.setAttribute("aria-pressed",!r);var i=e.target.getAttribute("aria-controls").split(" "),n=document.getElementById(i[0]);if(n){n.classList.remove("gpf-visible"),n.classList.add("gpf-hidden");var o=document.getElementById(i[1]);o&&(o.setAttribute("aria-pressed","false"),t.onCloseTerritoriesViewsClick(e))}},!1);var c=a.getElementById(n);c&&c.addEventListener("submit",function(e){e.preventDefault();var r=document.getElementById(i);r&&t.onAddTerritoriesViewClick(e,r.value)},!1);var d=a.getElementById(o);return d&&d.addEventListener("click",function(e){e.preventDefault();var r=document.getElementById(i);if(r){var n=document.getElementById(i+"-message-error-id"),o=t.territories.find(function(e){return e.data.title===r.value});if(n&&""===r.value)return;if(n&&o)return void n.classList.remove("gpf-hidden");n.classList.add("gpf-hidden"),t.onAddTerritoriesViewClick(e,r.value)}},!1),a.firstChild},_createTerritoriesMenuListViewElement:function(){var e=this,t="gpf-territories-views-reset-button-id",r='\n        <div class="gpf-panel__views_territories-listview">\n            \x3c!-- Menu de la liste des vues --\x3e\n            <div class="gpf-panel__views_territories-listview-header">\n                <div class="gpf-panel__views_territories-listview-count">\n                    <span class="fr-label" style="padding-right: 10px;"> Territoires </span>\n                    <span \n                        class="fr-message" \n                        id="'.concat("gpf-territories-views-count-id",'"> 0 </span>\n                </div>\n                <button \n                    id="').concat(t,'" \n                    class="fr-btn fr-btn--sm fr-btn--tertiary-no-outline"\n                    title="Réinitialiser la liste des territoires" \n                    type="button">\n                    Réinitialiser\n                </button>\n            </div>\n            \x3c!-- Liste des vues --\x3e\n            <div \n                id="gpf-territories-views-listview-entries-id"\n                class="gpf-panel__views_territories-listview-entries">\n            </div>\n        </div>\n        '),i=B(r).attachShadow({mode:"open"});i.innerHTML=r.trim();var n=i.getElementById(t);return n&&n.addEventListener("click",function(t){e.onResetTerritoriesViewClick(t)},!1),i.firstChild},_createTerritoriesElement:function(){var e=document.createElement("div");return e.className="territories-entries gpf-panel__body_territories fr-modal__body",e},_createTerritoryEntry:function(e){var t=this;if(e){var r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFvSURBVHgB7ZfBisIwEIb/aIWKHsXH8OCT+lBevHgRjwp6EBEREdRqTbKZLN3FXT20yRyK80FIqJR8mf4drDqfjUWNaKBmiDA3IsyNCHMjwtyIMDcizI0Ic/O5wsYA7bZCkjxfb7UQlWjCnY7CaJRhNtM/0nSAyUQjTRViEU3Yug+t8Tj3ws2mcpVVWCw0Gm4Hmv9Wvioq1jcdRaLbVX6+XCyUK+p0ql2VgevVYjhM/LVQolSYqni7AVlm/aB4UKXT9LvyFI35PE40goVJ9nSiYb0cPfrVyvh1Aa21BjYb4+KCIIKFiwhQNzgcSFphvTb/ugMdZLnULhbq6TBlCcowSex2v7dTRvd74+PxLq90kMEg8dGpQuUKF1GgR01VpvF4AP1+A3lu/frVOB4ttltT+QWsXGHakN7+V5mkQ9zv7++l33s95efS+4ZEIqRNVc1xUDu3UTp4OeTfGjcizI0IcyPC3IgwNyLMjQhzUzvhL49qosB5TImnAAAAAElFTkSuQmCC",i=e.thumbnail||r,n="",o=e.icon||r;n=o.startsWith("fr-icon-")?'\n                <button \n                    type="button" \n                    class="fr-btn fr-btn--lg '.concat(o,' fr-btn--tertiary-no-outline">\n                </button>'):'\n                <svg>       \n                    <image id="icon-'.concat(e.id,'" xlink:href="').concat(o,'" style="width:100%;"/>    \n                </svg>');var s=e.id.toLowerCase(),a=B('\n            <div class="gpf-tile fr-tile fr-tile--sm">\n                <div class="fr-tile__body">\n                    <div class="fr-tile__content">\n                        <p class="fr-tile__title">\n                            <label class="gpf-label fr-label" title="'.concat(e.description,'">').concat(e.title,'</label>\n                        </p>\n                    </div>\n                </div>\n                <div class="gpf-tile__header fr-tile__header">\n                    <div class="fr-tile__pictogram fr-tile__thumbnail">\n                        <img id="thumbnail-').concat(e.id,'" src="').concat(i,'" width="100%" height="100%" title="').concat(e.description,'"/>\n                    </div>\n                    <div class="fr-tile__pictogram fr-tile__icon fr-tile__icon--').concat(s,'">\n                        ').concat(n,"\n                    </div>\n                </div>\n            </div>\n            ")),l=a.firstChild;return l&&l.addEventListener("click",function(r){t.onImageTerritoriesClick(r,e.id)}),a.firstChild}},_createTerritoryView:function(e){var t=this,r="gpf-territories-view-entry-button-id-"+e.id;if(e){var i=B('\n            <div class="gpf-panel__views_territories-listview-entry">\n                \x3c!-- '.concat(e.title,' --\x3e\n                <div style="display: flex;flex-direction: row;align-items: center;">    \n                    <span class="gpf-btn gpf-btn-icon-territories-draggable gpf-btn--tertiary"></span>\n                    <label class="gpf-label fr-label" title="').concat(e.description,'">').concat(e.title,'</label>\n                </div>\n                <button \n                    id="').concat(r,'" \n                    type="button" \n                    class="fr-btn fr-btn--sm fr-btn--icon-left fr-btn--tertiary-no-outline gpf-btn gpf-btn-icon-territories-remove gpf-btn--tertiary"></button>\n            </div>\n            ')),n=i.firstChild;if(n){n.addEventListener("click",function(r){t.onViewTerritoryClick(r,e.id)});var o=i.querySelector("#"+r);o&&o.addEventListener("click",function(r){r.stopPropagation(),t.onViewTerritoryRemoveClick(r,e.id)})}return i.firstChild}}};function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function G(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function D(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,z(i.key),i)}}function z(e){var t=function(e,t){if("object"!=U(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=U(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U(t)?t:t+""}function H(e,t){if(t&&("object"==U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(q=function(){return!!e})()}function Y(){return Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Q(e)););return e}(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},Y.apply(null,arguments)}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}var X=j.getLogger("territories"),K=function(e){function t(e){var r,i,n,o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,o=[e=e||{}],n=Q(n=t),!((r=H(i,q()?Reflect.construct(n,o||[],Q(i).constructor):n.apply(i,o)))instanceof t))throw new TypeError("ERROR CLASS_CONSTRUCTOR");return r.CLASSNAME="Territories",r.initialize(e),r.container=r.initContainer(),r.element?r.element.appendChild(r.container):r.element=r.container,H(r,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(t,e),r=t,i=[{key:"setMap",value:function(e){if(e){this.draggable&&M.dragElement(this.panelTerritoriesContainer,this.panelTerritoriesHeaderContainer,e.getTargetElement()),this.collapsed||this.buttonTerritoriesShow.setAttribute("aria-pressed",!0);for(var r=this.auto?V:this.options.territories,i=0;i<r.length;i++){var n=r[i];this.setTerritory(n)}}var o,s,a,l,c;(o=t,s="setMap",a=this,c=Y(Q(1&(l=3)?o.prototype:o),s,a),2&l&&"function"==typeof c?function(e){return c.apply(a,e)}:c)([e]),this.options.position&&this.setPosition(this.options.position),!1===this.options.gutter&&this.getContainer().classList.add("gpf-button-no-gutter"),this.dispatchEvent({type:"territories:loaded"})}},{key:"setTerritory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.territories.some(function(t){return t.data.id===e.id});if(e&&!r){var i=this._createTerritoryEntry(e),n=this._createTerritoryView(e);if(i&&n){this.panelTerritoriesEntriesContainer.appendChild(i);var o=this.element.querySelector("#gpf-territories-views-listview-entries-id");o&&o.appendChild(n);var s=this.element.querySelector("#gpf-territories-views-count-id");if(s){var a=this.territories.filter(function(e){return!e.isRemoved}).length+1;s.innerText=a}return this.territories.push({isRemoved:!1,isAdded:t,data:e,domEntry:i,domView:n}),!0}}return!1}},{key:"setTerritories",value:function(e){for(var t=0;t<e.length;t++){var r=e[t];this.setTerritory(r)}}},{key:"removeTerritory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!1;if(e)for(var i=0;i<this.territories.length;i++)if(this.territories[i].data.id===e.data.id){this.territories[i].domEntry.remove(),this.territories[i].domView.remove(),t?this.territories.splice(i,1):this.territories[i].isRemoved=!0,r=!0;var n=this.element.querySelector("#gpf-territories-views-count-id");if(n){var o=this.territories.filter(function(e){return!e.isRemoved}).length;n.innerText=o}break}return r}},{key:"removeTerritories",value:function(){for(var e=0;e<this.territories.length;e++){var t=this.territories[e];t.domEntry.remove(),t.domView.remove()}this.territories=[]}},{key:"setCollapse",value:function(e){void 0!==e?e&&this.collapsed||!e&&!this.collapsed||(e?document.getElementById("GPterritoriesPanelClose").click():this.buttonTerritoriesShow.click(),this.collapsed=e):X.log("[ERROR] Territory:setCollapsed - missing collapsed parameter")}},{key:"setReduce",value:function(e){e?this.panelTerritoriesEntriesContainer.classList.add("tiles-reduce"):this.panelTerritoriesEntriesContainer.classList.remove("tiles-reduce")}},{key:"getContainer",value:function(){return this.container}},{key:"initialize",value:function(e){this.uid=e.id||O.generate(),this.options={collapsed:!0,draggable:!1,panel:!0,upload:{active:!1,title:"Ajouter un fichier de configuration",description:""},view:{active:!1,title:"Modifier les territoires",description:""},title:"Sélectionner un territoire",auto:!1,thumbnail:!1,reduce:!1,tiles:3,territories:[]};var t=k.assign(this.options.upload,e.upload);k.assign(this.options,e),k.assign(this.options.upload,t),this.collapsed=this.options.collapsed,this.draggable=this.options.draggable,this.auto=this.options.auto,this.territories=[],this.uploadConfig=null,this.append=!1,this.buttonTerritoriesShow=null,this.panelTerritoriesContainer=null,this.panelTerritoriesHeaderContainer=null,this.buttonTerritoriesClose=null,this.containerTerritoriesOptions=null,this.panelTerritoriesEntriesContainer=null}},{key:"initContainer",value:function(){var e=this._createMainContainerElement(),t=this.buttonTerritoriesShow=this._createShowTerritoriesPictoElement();e.appendChild(t);var r=this.panelTerritoriesContainer=this._createTerritoriesPanelElement();r.classList.add("tiles-direction"),r.classList.add("tiles-"+this.options.tiles);var i=this._createTerritoriesPanelDivElement();if(r.appendChild(i),this.options.view&&this.options.view.active){var n=this._createTerritoriesPanelMenuViewsDivElement(this.options.view.title,this.options.view.description);r.appendChild(n)}var o=this.panelTerritoriesEntriesContainer=this._createTerritoriesElement();if(o.classList.add("tiles-direction"),o.classList.add("tiles-"+this.options.tiles),this.options.reduce&&o.classList.add("tiles-reduce"),this.options.thumbnail?o.classList.add("tiles-thumbnail"):o.classList.add("tiles-icon"),r.appendChild(o),this.options.panel){var s=this.panelTerritoriesHeaderContainer=this._createTerritoriesPanelHeaderElement(),a=this._createTerritoriesPanelIconElement();s.appendChild(a);var l=this._createTerritoriesPanelTitleElement(this.options.title);if(s.appendChild(l),this.options.upload&&this.options.upload.active){var c=this.containerTerritoriesOptions=this._createTerritoriesPanelOptionsElement(this.options.upload.title,this.options.upload.description);s.appendChild(c)}var d=this.buttonTerritoriesClose=this._createTerritoriesPanelCloseElement();s.appendChild(d),i.appendChild(s)}return e.appendChild(r),X.log(e),e}},{key:"closePanelUpLoad",value:function(){var e=this.containerTerritoriesOptions.children[0];e&&e.setAttribute("aria-expanded","false");var t=this.containerTerritoriesOptions.children[1];t&&(t.classList.add("gpf-hidden"),t.classList.remove("gpf-visible"))}},{key:"onShowTerritoriesClick",value:function(e){"true"===e.target.ariaPressed&&this.onPanelOpen(),X.trace(e),this.collapsed=!this.collapsed}},{key:"onCloseTerritoriesClick",value:function(e){X.trace(e)}},{key:"onImageTerritoriesClick",value:function(e,t){X.trace(e,t);var r=this.territories.find(function(e){return e.data.id===t});if(r){var i=r.data.zoom,n=r.data.bbox,o=r.data.point;if(n&&!n.length)return;if(!o&&!n)return;var s=this.getMap(),a=s.getView().getProjection().getCode();if(n){var l=(0,L.transformExtent)(n,"EPSG:4326",a);s.getView().fit(l,{size:s.getSize()})}if(o){var c=(0,L.transform)(o,"EPSG:4326",a);s.getView().setCenter(c)}i&&s.getView().setZoom(i),this.setCollapse(!0),this.dispatchEvent({type:"territories:change",territory:r.data})}}},{key:"onUploadFileClick",value:function(e){var t=e.target.files[0];if(e.target,t){var r=new FileReader,i=this;r.onerror=function(e){X.log("onerror")},r.onprogress=function(e){X.log("onprogress")},r.onloadstart=function(e){X.log("onloadstart")},r.onabort=function(e){X.log("onabort")},r.onloadend=function(e){X.log("onloadend : ",e)},r.onload=function(e){X.log("file content : ",e.target.result);try{if(i.uploadConfig=JSON.parse(e.target.result),!i.uploadConfig)return void console.error("Invalid configuration file !")}catch(e){return void console.error("Error parsing configuration file : ",e)}},r.readAsText(t)}else X.warn("Missing file to upload !")}},{key:"onUploadToggleClick",value:function(e){this.append=e.target.checked}},{key:"onApplyTerritoriesClick",value:function(e){X.trace(e),this.closePanelUpLoad(),this.uploadConfig?(this.append||this.removeTerritories(),this.setTerritories(this.uploadConfig)):X.error("No configuration to apply !")}},{key:"onShowTerritoriesViewsClick",value:function(e){X.trace(e)}},{key:"onCloseTerritoriesViewsClick",value:function(e){X.trace(e),this.closePanelUpLoad()}},{key:"onAddTerritoriesViewClick",value:function(e,t){X.trace(e,t);var r=Math.abs(Array.from(t).reduce(function(e,t){return Math.imul(31,e)+t.charCodeAt(0)|0},0)),i=this.getMap().getView(),n=i.getProjection().getCode(),o=(0,L.transform)(i.getCenter(),n,"EPSG:4326"),s=i.getZoom(),a={id:r.toString(),title:t,description:"Vue personnalisée",point:o,zoom:s,thumbnail:"",icon:"fr-icon-map-pin-2-line"};this.setTerritory(a,!0),this.dispatchEvent({type:"territories:add",territory:a})}},{key:"onResetTerritoriesViewClick",value:function(e){X.trace(e);for(var t=G(this.territories),r=0;r<t.length;r++){var i=t[r];if(i.isAdded)this.removeTerritory(i,!0);else if(i.isRemoved){this.panelTerritoriesEntriesContainer.appendChild(i.domEntry);var n=this.element.querySelector("#gpf-territories-views-listview-entries-id");n&&n.appendChild(i.domView),i.isRemoved=!1}}var o=this.element.querySelector("#gpf-territories-views-count-id");if(o){var s=this.territories.filter(function(e){return!e.isRemoved}).length;o.innerText=s}}},{key:"onViewTerritoryClick",value:function(e,t){X.trace(e,t)}},{key:"onViewTerritoryRemoveClick",value:function(e,t){X.trace(e,t);var r=this.territories.find(function(e){return e.data.id===t});r&&(this.removeTerritory(r,r.isAdded),this.dispatchEvent({type:"territories:remove",territory:r.data}))}}],i&&D(r.prototype,i),n&&D(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,n}(v);Object.assign(K.prototype,N),Object.assign(K.prototype,x);const Z=K;window.ol&&window.ol.control&&(window.ol.control.Territories=K)})(),GpfExtOlTerritories=i.default})();
//# sourceMappingURL=GpfExtOlTerritories.js.map